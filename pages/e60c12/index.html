<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL函数 | 北冥无鱼</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/tiger.png">
    <meta name="description" content="一个基于VuePress的 知识管理&amp;博客 主题">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.95c3837a.css" as="style"><link rel="preload" href="/assets/js/app.346e1551.js" as="script"><link rel="preload" href="/assets/js/2.2bb1a3f0.js" as="script"><link rel="preload" href="/assets/js/29.40208485.js" as="script"><link rel="prefetch" href="/assets/js/10.941f9595.js"><link rel="prefetch" href="/assets/js/11.b7d791b9.js"><link rel="prefetch" href="/assets/js/12.ebbfbefa.js"><link rel="prefetch" href="/assets/js/13.55bee0ae.js"><link rel="prefetch" href="/assets/js/14.1e95b815.js"><link rel="prefetch" href="/assets/js/15.2d2eef87.js"><link rel="prefetch" href="/assets/js/16.39294289.js"><link rel="prefetch" href="/assets/js/17.743ca12b.js"><link rel="prefetch" href="/assets/js/18.50024288.js"><link rel="prefetch" href="/assets/js/19.cfa6e429.js"><link rel="prefetch" href="/assets/js/20.da3fce67.js"><link rel="prefetch" href="/assets/js/21.419116e7.js"><link rel="prefetch" href="/assets/js/22.6d444788.js"><link rel="prefetch" href="/assets/js/23.c331d239.js"><link rel="prefetch" href="/assets/js/24.f09ffbc2.js"><link rel="prefetch" href="/assets/js/25.954abaad.js"><link rel="prefetch" href="/assets/js/26.4a4aff6b.js"><link rel="prefetch" href="/assets/js/27.1aaac913.js"><link rel="prefetch" href="/assets/js/28.4cd79971.js"><link rel="prefetch" href="/assets/js/3.9cf196df.js"><link rel="prefetch" href="/assets/js/30.f3086bc0.js"><link rel="prefetch" href="/assets/js/31.8acc6cef.js"><link rel="prefetch" href="/assets/js/32.e9cde725.js"><link rel="prefetch" href="/assets/js/33.1ee5100f.js"><link rel="prefetch" href="/assets/js/34.e22db86e.js"><link rel="prefetch" href="/assets/js/35.4eafac50.js"><link rel="prefetch" href="/assets/js/36.1c1ee1f4.js"><link rel="prefetch" href="/assets/js/37.677fb893.js"><link rel="prefetch" href="/assets/js/38.9cd6536e.js"><link rel="prefetch" href="/assets/js/39.733cb66f.js"><link rel="prefetch" href="/assets/js/4.5d4b1e3e.js"><link rel="prefetch" href="/assets/js/40.c37b65b2.js"><link rel="prefetch" href="/assets/js/41.1f7a5823.js"><link rel="prefetch" href="/assets/js/42.d5d8d61c.js"><link rel="prefetch" href="/assets/js/43.0440be56.js"><link rel="prefetch" href="/assets/js/44.46973971.js"><link rel="prefetch" href="/assets/js/45.30b89f29.js"><link rel="prefetch" href="/assets/js/46.84eaf89e.js"><link rel="prefetch" href="/assets/js/47.0a145016.js"><link rel="prefetch" href="/assets/js/48.8c43259c.js"><link rel="prefetch" href="/assets/js/49.fa78dd64.js"><link rel="prefetch" href="/assets/js/5.7b963edb.js"><link rel="prefetch" href="/assets/js/50.84e3f3a9.js"><link rel="prefetch" href="/assets/js/51.477ee945.js"><link rel="prefetch" href="/assets/js/52.f118ef1f.js"><link rel="prefetch" href="/assets/js/53.a43cea39.js"><link rel="prefetch" href="/assets/js/54.24040505.js"><link rel="prefetch" href="/assets/js/55.48b7784e.js"><link rel="prefetch" href="/assets/js/56.d6fc5474.js"><link rel="prefetch" href="/assets/js/57.2be4b3b9.js"><link rel="prefetch" href="/assets/js/58.12e8eb95.js"><link rel="prefetch" href="/assets/js/59.11d2261d.js"><link rel="prefetch" href="/assets/js/6.cd22f69f.js"><link rel="prefetch" href="/assets/js/60.3ff6cfa9.js"><link rel="prefetch" href="/assets/js/61.21178592.js"><link rel="prefetch" href="/assets/js/62.1352608c.js"><link rel="prefetch" href="/assets/js/63.050641e9.js"><link rel="prefetch" href="/assets/js/64.d6d2d9e3.js"><link rel="prefetch" href="/assets/js/65.434963df.js"><link rel="prefetch" href="/assets/js/66.d0d97246.js"><link rel="prefetch" href="/assets/js/67.e329127c.js"><link rel="prefetch" href="/assets/js/68.7188bc65.js"><link rel="prefetch" href="/assets/js/69.868797a3.js"><link rel="prefetch" href="/assets/js/7.56bd88c1.js"><link rel="prefetch" href="/assets/js/70.fe5b1b21.js"><link rel="prefetch" href="/assets/js/71.f427eba0.js"><link rel="prefetch" href="/assets/js/72.8f3d4a59.js"><link rel="prefetch" href="/assets/js/73.a3c0ad82.js"><link rel="prefetch" href="/assets/js/74.4411d6f8.js"><link rel="prefetch" href="/assets/js/75.22170cc4.js"><link rel="prefetch" href="/assets/js/76.beca6f44.js"><link rel="prefetch" href="/assets/js/77.04a63c9c.js"><link rel="prefetch" href="/assets/js/78.a6f5f2b5.js"><link rel="prefetch" href="/assets/js/79.419b9cef.js"><link rel="prefetch" href="/assets/js/8.682d07e5.js"><link rel="prefetch" href="/assets/js/80.fea58868.js"><link rel="prefetch" href="/assets/js/81.5621bd89.js"><link rel="prefetch" href="/assets/js/82.64069ab7.js"><link rel="prefetch" href="/assets/js/83.37c14276.js"><link rel="prefetch" href="/assets/js/84.ae6c6209.js"><link rel="prefetch" href="/assets/js/85.b89b8c71.js"><link rel="prefetch" href="/assets/js/86.edc5934a.js"><link rel="prefetch" href="/assets/js/87.f9e215fa.js"><link rel="prefetch" href="/assets/js/88.40c5928c.js"><link rel="prefetch" href="/assets/js/89.be2ef4b1.js"><link rel="prefetch" href="/assets/js/9.f02c9057.js"><link rel="prefetch" href="/assets/js/90.8c27d903.js"><link rel="prefetch" href="/assets/js/91.1ede16f3.js"><link rel="prefetch" href="/assets/js/92.118ff1df.js"><link rel="prefetch" href="/assets/js/93.9773dab5.js"><link rel="prefetch" href="/assets/js/94.400d48d0.js"><link rel="prefetch" href="/assets/js/95.a2f813ab.js"><link rel="prefetch" href="/assets/js/96.ac3ab234.js">
    <link rel="stylesheet" href="/assets/css/0.styles.95c3837a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/tiger.png" alt="北冥无鱼" class="logo"> <span class="site-name can-hide">北冥无鱼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/e0425d/" class="nav-link">Java</a></div><div class="nav-item"><a href="/pages/7387ee/" class="nav-link">科研</a></div><div class="nav-item"><a href="/pages/db78e2/" class="nav-link">生活</a></div><div class="nav-item"><a href="/pages/4df89e/" class="nav-link">C++</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/e0425d/" class="nav-link">Java</a></div><div class="nav-item"><a href="/pages/7387ee/" class="nav-link">科研</a></div><div class="nav-item"><a href="/pages/db78e2/" class="nav-link">生活</a></div><div class="nav-item"><a href="/pages/4df89e/" class="nav-link">C++</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微服务</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c7801c/" class="sidebar-link">MySQL基础</a></li><li><a href="/pages/e0425d/" class="sidebar-link">《MySQL是怎么运行的》</a></li><li><a href="/pages/e60c12/" aria-current="page" class="active sidebar-link">MySQL函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/c38f55/" class="sidebar-link">MySQL易忘点</a></li><li><a href="/pages/8d8ba3/" class="sidebar-link">锁</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>秋招</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>Java</span></li><li data-v-06225672><span data-v-06225672>数据库</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/lzxiaohuihui" target="_blank" title="作者" class="beLink" data-v-06225672>Wenli</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-03-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">MySQL函数<!----></h1>  <div class="theme-vdoing-content content__default"><h3 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>ABS<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         <span class="token comment">--返回x的绝对值 </span>
BIN<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         <span class="token comment">--返回x的二进制（OCT返回八进制，HEX返回十六进制） </span>
CEILING<span class="token punctuation">(</span>x<span class="token punctuation">)</span>     <span class="token comment">--返回大于x的最小整数值 </span>
EXP<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         <span class="token comment">--返回值e（自然对数的底）的x次方 </span>
FLOOR<span class="token punctuation">(</span>x<span class="token punctuation">)</span>       <span class="token comment">--返回小于x的最大整数值 </span>
GREATEST<span class="token punctuation">(</span>x1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>xn<span class="token punctuation">)</span> 
                <span class="token comment">--返回集合中最大的值 </span>
LEAST<span class="token punctuation">(</span>x1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>xn<span class="token punctuation">)</span>    
                <span class="token comment">--返回集合中最小的值 </span>
LN<span class="token punctuation">(</span>x<span class="token punctuation">)</span>           <span class="token comment">--返回x的自然对数 </span>
LOG<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>        <span class="token comment">--返回x的以y为底的对数 </span>
<span class="token function">MOD</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>        <span class="token comment">--返回x/y的模（余数） </span>
PI<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment">--返回pi的值（圆周率） </span>
RAND<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">--返回０到１内的随机值,可以通过提供一个参数(种子)使RAND()随机数生成器生成一个指定的值。 </span>
<span class="token function">ROUND</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>      <span class="token comment">--返回参数x的四舍五入的有y位小数的值 </span>
SIGN<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         <span class="token comment">--返回代表数字x的符号的值 </span>
SQRT<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         <span class="token comment">--返回一个数的平方根 </span>
<span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>   <span class="token comment">--返回数字x截短为y位小数的结果 </span>
</code></pre></div><h3 id="聚合函数"><a href="#聚合函数" class="header-anchor">#</a> 聚合函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">AVG</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span>            <span class="token comment">--返回指定列的平均值 </span>
<span class="token function">COUNT</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span>          <span class="token comment">--返回指定列中非NULL值的个数 </span>
<span class="token function">MIN</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span>            <span class="token comment">--返回指定列的最小值 </span>
<span class="token function">MAX</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span>            <span class="token comment">--返回指定列的最大值 </span>
<span class="token function">SUM</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span>            <span class="token comment">--返回指定列的所有值之和 </span>
GROUP_CONCAT<span class="token punctuation">(</span>X<span class="token punctuation">)</span>   <span class="token comment">--将group by产生的同一个分组中的值连接起来，返回一个字符串结果。非常有用 </span>
</code></pre></div><h3 id="字符串函数"><a href="#字符串函数" class="header-anchor">#</a> 字符串函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>ASCII<span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>        <span class="token comment">--返回字符的ASCII码值 </span>
BIT_LENGTH<span class="token punctuation">(</span>str<span class="token punctuation">)</span>    <span class="token comment">--返回字符串的比特长度 </span>
CONCAT<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>sn<span class="token punctuation">)</span>  
                   <span class="token comment">--将s1,s2...,sn连接成字符串 </span>
CONCAT_WS<span class="token punctuation">(</span>sep<span class="token punctuation">,</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>sn<span class="token punctuation">)</span> 
                   <span class="token comment">--将s1,s2...,sn连接成字符串，并用sep字符间隔 </span>
<span class="token keyword">INSERT</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>instr<span class="token punctuation">)</span>  
                   <span class="token comment">--将字符串str从第x位置开始，y个字符长的子串替换为字符串instr，返回结果 </span>
FIND_IN_SET<span class="token punctuation">(</span>str<span class="token punctuation">,</span>list<span class="token punctuation">)</span> 
                   <span class="token comment">--分析逗号分隔的list列表，如果发现str，返回str在list中的位置 </span>
<span class="token function">LCASE</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>或LOWER<span class="token punctuation">(</span>str<span class="token punctuation">)</span>  
                   <span class="token comment">--返回将字符串str中所有字符改变为小写后的结果 </span>
<span class="token keyword">LEFT</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>x<span class="token punctuation">)</span>        <span class="token comment">--返回字符串str中最左边的x个字符 </span>
LENGTH<span class="token punctuation">(</span>s<span class="token punctuation">)</span>          <span class="token comment">--返回字符串str中的字符数 </span>
LTRIM<span class="token punctuation">(</span>str<span class="token punctuation">)</span>         <span class="token comment">--从字符串str中切掉开头的空格 </span>
POSITION<span class="token punctuation">(</span>substr<span class="token punctuation">,</span>str<span class="token punctuation">)</span>  
                   <span class="token comment">--返回子串substr在字符串str中第一次出现的位置 </span>
QUOTE<span class="token punctuation">(</span>str<span class="token punctuation">)</span>         <span class="token comment">--用反斜杠转义str中的单引号 </span>
<span class="token keyword">REPEAT</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>srchstr<span class="token punctuation">,</span>rplcstr<span class="token punctuation">)</span> 
                   <span class="token comment">--返回字符串str重复x次的结果 </span>
REVERSE<span class="token punctuation">(</span>str<span class="token punctuation">)</span>       <span class="token comment">--返回颠倒字符串str的结果 </span>
<span class="token keyword">RIGHT</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>x<span class="token punctuation">)</span>       <span class="token comment">--返回字符串str中最右边的x个字符 </span>
RTRIM<span class="token punctuation">(</span>str<span class="token punctuation">)</span>         <span class="token comment">--返回字符串str尾部的空格 </span>
STRCMP<span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span>      <span class="token comment">--比较字符串s1和s2 </span>
TRIM<span class="token punctuation">(</span>str<span class="token punctuation">)</span>          <span class="token comment">--去除字符串首部和尾部的所有空格 </span>
<span class="token function">UCASE</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>或UPPER<span class="token punctuation">(</span>str<span class="token punctuation">)</span>  
                   <span class="token comment">--返回将字符串str中所有字符转变为大写后的结果 </span>
</code></pre></div><h3 id="日期控制函数"><a href="#日期控制函数" class="header-anchor">#</a> 日期控制函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span>或<span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
                   <span class="token comment">--返回当前的日期 </span>
CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span>或<span class="token keyword">CURRENT_TIME</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
                   <span class="token comment">--返回当前的时间 </span>
DATE_ADD<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token keyword">int</span> keyword<span class="token punctuation">)</span> 
                   <span class="token comment">--返回日期date加上间隔时间int的结果(int必须按照关键字进行格式化) </span>
例如 
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">6</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
DATE_FORMAT<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span>fmt<span class="token punctuation">)</span>   
                   <span class="token comment">--依照指定的fmt格式格式化日期date值 </span>
DATE_SUB<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token keyword">int</span> keyword<span class="token punctuation">)</span> 
                   <span class="token comment">--返回日期date加上间隔时间int的结果(int必须按照关键字进行格式化) </span>
例如 
<span class="token keyword">SELECT</span> DATE_SUB<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">6</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
DAYOFWEEK<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>    <span class="token comment">--返回date所代表的一星期中的第几天(1~7) </span>
DAYOFMONTH<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>   <span class="token comment">--返回date是一个月的第几天(1~31) </span>
DAYOFYEAR<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>    <span class="token comment">--返回date是一年的第几天(1~366) </span>
DAYNAME<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>      <span class="token comment">--返回date的星期名，如：SELECT DAYNAME(CURRENT_DATE); </span>
FROM_UNIXTIME<span class="token punctuation">(</span>ts<span class="token punctuation">,</span>fmt<span class="token punctuation">)</span>   
                   <span class="token comment">--根据指定的fmt格式，格式化UNIX时间戳ts </span>
<span class="token keyword">HOUR</span><span class="token punctuation">(</span><span class="token keyword">time</span><span class="token punctuation">)</span>         <span class="token comment">--返回time的小时值(0~23) </span>
<span class="token keyword">MINUTE</span><span class="token punctuation">(</span><span class="token keyword">time</span><span class="token punctuation">)</span>       <span class="token comment">--返回time的分钟值(0~59) </span>
<span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>        <span class="token comment">--返回date的月份值(1~12) </span>
MONTHNAME<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>    <span class="token comment">--返回date的月份名，如：SELECT MONTHNAME(CURRENT_DATE); </span>
<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment">--返回当前的日期和时间 </span>
QUARTER<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>      <span class="token comment">--返回date在一年中的季度(1~4) </span>
例如 
<span class="token keyword">SELECT</span> QUARTER<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
WEEK<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>         <span class="token comment">--返回日期date为一年中第几周(0~53) </span>
<span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>         <span class="token comment">--返回日期date的年份(1000~9999) </span>
例如，获取当前系统时间 
<span class="token keyword">SELECT</span> FROM_UNIXTIME<span class="token punctuation">(</span>UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> EXTRACT<span class="token punctuation">(</span>YEAR_MONTH <span class="token keyword">FROM</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> EXTRACT<span class="token punctuation">(</span>DAY_SECOND <span class="token keyword">FROM</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> EXTRACT<span class="token punctuation">(</span>HOUR_MINUTE <span class="token keyword">FROM</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
返回两个日期值之间的差值<span class="token punctuation">(</span>月数<span class="token punctuation">)</span> 
<span class="token keyword">SELECT</span> PERIOD_DIFF<span class="token punctuation">(</span><span class="token number">200302</span><span class="token punctuation">,</span><span class="token number">199802</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
在Mysql中计算年龄： 
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span>FROM_DAYS<span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span>TO_DAYS<span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%Y'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span> <span class="token keyword">AS</span> age <span class="token keyword">FROM</span> employee<span class="token punctuation">;</span> 
这样，如果Brithday是未来的年月日的话，计算结果为<span class="token number">0</span>。 
下面的<span class="token keyword">SQL</span>语句计算员工的绝对年龄，即当Birthday是未来的日期时，将得到负值。 
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'%Y'</span><span class="token punctuation">)</span>  
<span class="token operator">-</span> DATE_FORMAT<span class="token punctuation">(</span>birthday<span class="token punctuation">,</span> <span class="token string">'%Y'</span><span class="token punctuation">)</span>  
<span class="token operator">-</span><span class="token punctuation">(</span>DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'00-%m-%d'</span><span class="token punctuation">)</span>  
<span class="token operator">&lt;</span> DATE_FORMAT<span class="token punctuation">(</span>birthday<span class="token punctuation">,</span> <span class="token string">'00-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> age <span class="token keyword">from</span> employee 
</code></pre></div><h3 id="控制流函数"><a href="#控制流函数" class="header-anchor">#</a> 控制流函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">[</span>test1<span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">ELSE</span> <span class="token punctuation">[</span><span class="token keyword">default</span><span class="token punctuation">]</span> <span class="token keyword">END</span>  
                    <span class="token comment">--如果test1是真，则返回result1，否则返回default </span>
<span class="token keyword">CASE</span> <span class="token punctuation">[</span>test<span class="token punctuation">]</span> <span class="token keyword">WHEN</span> <span class="token punctuation">[</span>val1<span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">ELSE</span> <span class="token punctuation">[</span><span class="token keyword">default</span><span class="token punctuation">]</span> <span class="token keyword">END</span>   
                    <span class="token comment">--如果test和valN相等，则返回result，否则返回default </span>
<span class="token keyword">IF</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span>t<span class="token punctuation">,</span>f<span class="token punctuation">)</span>        <span class="token comment">--如果test是真，返回t；否则返回f </span>
IFNULL<span class="token punctuation">(</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">)</span>   <span class="token comment">--如果arg1不是空，返回arg1，否则返回arg2 </span>
<span class="token keyword">NULLIF</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">)</span>   <span class="token comment">--如果arg1=arg2返回NULL；否则返回arg1 </span>
 
这些函数的第一个是IFNULL<span class="token punctuation">(</span><span class="token punctuation">)</span>，它有两个参数，并且对第一个参数进行判断。 
如果第一个参数不是<span class="token boolean">NULL</span>，函数就会向调用者返回第一个参数； 
如果是<span class="token boolean">NULL</span><span class="token punctuation">,</span>将返回第二个参数。 
例如 
<span class="token keyword">SELECT</span> IFNULL<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
IFNULL<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
IFNULL<span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
<span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token punctuation">)</span>函数将会检验提供的两个参数是否相等，如果相等，则返回<span class="token boolean">NULL</span>， 
如果不相等，就返回第一个参数。 
例如 
<span class="token keyword">SELECT</span>  <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
 <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
 <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
MySQL的<span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token punctuation">)</span>函数也可以建立一个简单的条件测试， 
这个函数有三个参数，第一个是要被判断的表达式， 
如果表达式为真，<span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token punctuation">)</span>将会返回第二个参数， 
如果为假，<span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token punctuation">)</span>将会返回第三个参数。 
例如 
<span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token operator">&gt;</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token punctuation">)</span>函数在只有两种可能结果时才适合使用。 
然而，在现实世界中，我们可能发现在条件测试中会需要多个分支。 
在这种情况下，它和PHP及Perl语言的switch<span class="token operator">-</span><span class="token keyword">case</span>条件例程一样。 
 
<span class="token keyword">CASE</span>函数的格式有些复杂，通常如下所示： 
<span class="token keyword">CASE</span> <span class="token punctuation">[</span>expression <span class="token keyword">to</span> be evaluated<span class="token punctuation">]</span> 
<span class="token keyword">WHEN</span> <span class="token punctuation">[</span>val <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result <span class="token number">1</span><span class="token punctuation">]</span> 
<span class="token keyword">WHEN</span> <span class="token punctuation">[</span>val <span class="token number">2</span><span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result <span class="token number">2</span><span class="token punctuation">]</span> 
<span class="token keyword">WHEN</span> <span class="token punctuation">[</span>val <span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result <span class="token number">3</span><span class="token punctuation">]</span> 
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token keyword">WHEN</span> <span class="token punctuation">[</span>val n<span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result n<span class="token punctuation">]</span> 
<span class="token keyword">ELSE</span> <span class="token punctuation">[</span><span class="token keyword">default</span> result<span class="token punctuation">]</span> 
<span class="token keyword">END</span> 
这里，第一个参数是要被判断的值或表达式，接下来的是一系列的<span class="token keyword">WHEN</span><span class="token operator">-</span><span class="token keyword">THEN</span>块， 
每一块的第一个参数指定要比较的值，如果为真，就返回结果。 
所有的<span class="token keyword">WHEN</span><span class="token operator">-</span><span class="token keyword">THEN</span>块将以<span class="token keyword">ELSE</span>块结束，当<span class="token keyword">END</span>结束了所有外部的<span class="token keyword">CASE</span>块时， 
如果前面的每一个块都不匹配就会返回<span class="token keyword">ELSE</span>块指定的默认结果。 
如果没有指定<span class="token keyword">ELSE</span>块，而且所有的<span class="token keyword">WHEN</span><span class="token operator">-</span><span class="token keyword">THEN</span>比较都不是真，MySQL将会返回<span class="token boolean">NULL</span>。 
<span class="token keyword">CASE</span>函数还有另外一种句法，有时使用起来非常方便，如下： 
<span class="token keyword">CASE</span> 
<span class="token keyword">WHEN</span> <span class="token punctuation">[</span>conditional test <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result <span class="token number">1</span><span class="token punctuation">]</span> 
<span class="token keyword">WHEN</span> <span class="token punctuation">[</span>conditional test <span class="token number">2</span><span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>result <span class="token number">2</span><span class="token punctuation">]</span> 
<span class="token keyword">ELSE</span> <span class="token punctuation">[</span><span class="token keyword">default</span> result<span class="token punctuation">]</span> 
<span class="token keyword">END</span> 
这种条件下，返回的结果取决于相应的条件测试是否为真。 
例如： 
<span class="token keyword">SELECT</span>  <span class="token keyword">CASE</span> <span class="token string">'green'</span> 
      <span class="token keyword">WHEN</span> <span class="token string">'red'</span> <span class="token keyword">THEN</span> <span class="token string">'stop'</span> 
      <span class="token keyword">WHEN</span> <span class="token string">'green'</span> <span class="token keyword">THEN</span> <span class="token string">'go'</span> <span class="token keyword">END</span><span class="token punctuation">;</span> 
 
<span class="token keyword">SELECT</span> <span class="token keyword">CASE</span>  <span class="token number">9</span>  
<span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">'a'</span> 
<span class="token keyword">WHEN</span> <span class="token number">2</span> <span class="token keyword">THEN</span> <span class="token string">'b'</span> <span class="token keyword">ELSE</span> <span class="token string">'N/A'</span> <span class="token keyword">END</span><span class="token punctuation">;</span> 
 
<span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">4</span> <span class="token keyword">THEN</span> <span class="token string">'OK'</span>  
<span class="token keyword">WHEN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">&lt;&gt;</span><span class="token number">4</span> <span class="token keyword">THEN</span> <span class="token string">'not OK'</span> <span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token keyword">STATUS</span><span class="token punctuation">;</span> 
 
<span class="token keyword">SELECT</span> Name<span class="token punctuation">,</span><span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token punctuation">(</span>IsActive <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'已激活'</span><span class="token punctuation">,</span><span class="token string">'未激活'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> RESULT  
<span class="token keyword">FROM</span> UserLoginInfo<span class="token punctuation">;</span> 
 
<span class="token keyword">SELECT</span> fname<span class="token punctuation">,</span>lname<span class="token punctuation">,</span><span class="token punctuation">(</span>math<span class="token operator">+</span>sci<span class="token operator">+</span>lit<span class="token punctuation">)</span> <span class="token keyword">AS</span> total<span class="token punctuation">,</span> 
<span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">(</span>math<span class="token operator">+</span>sci<span class="token operator">+</span>lit<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">50</span> <span class="token keyword">THEN</span> <span class="token string">'D'</span> 
     <span class="token keyword">WHEN</span> <span class="token punctuation">(</span>math<span class="token operator">+</span>sci<span class="token operator">+</span>lit<span class="token punctuation">)</span> <span class="token operator">BETWEEN</span> <span class="token number">50</span> <span class="token operator">AND</span> <span class="token number">150</span> <span class="token keyword">THEN</span> <span class="token string">'C'</span> 
     <span class="token keyword">WHEN</span> <span class="token punctuation">(</span>math<span class="token operator">+</span>sci<span class="token operator">+</span>lit<span class="token punctuation">)</span> <span class="token operator">BETWEEN</span> <span class="token number">151</span> <span class="token operator">AND</span> <span class="token number">250</span> <span class="token keyword">THEN</span> <span class="token string">'B'</span> 
<span class="token keyword">ELSE</span> <span class="token string">'A'</span> <span class="token keyword">END</span> <span class="token keyword">AS</span> grade <span class="token keyword">FROM</span> marks <span class="token punctuation">;</span> 
 
<span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>ENCRYPT<span class="token punctuation">(</span><span class="token string">'sue'</span><span class="token punctuation">,</span><span class="token string">'ts'</span><span class="token punctuation">)</span><span class="token operator">=</span>upass<span class="token punctuation">,</span><span class="token string">'allow'</span><span class="token punctuation">,</span><span class="token string">'deny'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> LoginResult 
<span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> uname <span class="token operator">=</span> <span class="token string">'sue'</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="格式化函数"><a href="#格式化函数" class="header-anchor">#</a> 格式化函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>DATE_FORMAT<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span>fmt<span class="token punctuation">)</span>   
                  <span class="token comment">-- 依照字符串fmt格式化日期date值 </span>
<span class="token function">FORMAT</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>       <span class="token comment">-- 把x格式化为以逗号隔开的数字序列，y是结果的小数位数 </span>
INET_ATON<span class="token punctuation">(</span>ip<span class="token punctuation">)</span>     <span class="token comment">-- 返回IP地址的数字表示 </span>
INET_NTOA<span class="token punctuation">(</span>num<span class="token punctuation">)</span>    <span class="token comment">-- 返回数字所代表的IP地址 </span>
TIME_FORMAT<span class="token punctuation">(</span><span class="token keyword">time</span><span class="token punctuation">,</span>fmt<span class="token punctuation">)</span>    
                  <span class="token comment">--依照字符串fmt格式化时间time值 </span>
<span class="token comment">-- 其中最简单的是FORMAT()函数， </span>
<span class="token comment">-- 它可以把大的数值格式化为以逗号间隔的易读的序列。 </span>
<span class="token comment">-- 例如</span>
<span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">34234.34323432</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%W,%D %M %Y %r'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token number">19990330</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%h:%i %p'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> INET_ATON<span class="token punctuation">(</span><span class="token string">'10.122.89.47'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> INET_NTOA<span class="token punctuation">(</span><span class="token number">175790383</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> 
</code></pre></div><h3 id="类型转化函数"><a href="#类型转化函数" class="header-anchor">#</a> 类型转化函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 为了进行数据类型转化，MySQL提供了CAST()函数， </span>
<span class="token comment">-- 它可以把一个值转化为指定的数据类型。 </span>
<span class="token comment">-- 类型有：BINARY,CHAR,DATE,TIME,DATETIME,SIGNED,UNSIGNED </span>
<span class="token comment">-- 例如 </span>
<span class="token keyword">SELECT</span> CAST<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> SIGNED <span class="token keyword">INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> <span class="token string">'f'</span><span class="token operator">=</span><span class="token keyword">BINARY</span> <span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token operator">=</span>CAST<span class="token punctuation">(</span><span class="token string">'F'</span> <span class="token keyword">AS</span> <span class="token keyword">BINARY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="系统信息函数"><a href="#系统信息函数" class="header-anchor">#</a> 系统信息函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">--返回当前数据库名 </span>
BENCHMARK<span class="token punctuation">(</span>count<span class="token punctuation">,</span>expr<span class="token punctuation">)</span>    
                   <span class="token comment">--将表达式expr重复运行count次 </span>
CONNECTION_ID<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">--返回当前客户的连接ID </span>
FOUND_ROWS<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">--返回最后一个SELECT查询进行检索的总行数 </span>
<span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>或<span class="token keyword">SYSTEM_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
                   <span class="token comment">--返回当前登陆用户名 </span>
VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">--返回MySQL服务器的版本 </span>
例如 
<span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
SELECTBENCHMARK<span class="token punctuation">(</span><span class="token number">9999999</span><span class="token punctuation">,</span>LOG<span class="token punctuation">(</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>PI<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">--该例中,MySQL计算LOG(RAND()*PI())表达式9999999次。 </span>
</code></pre></div><h3 id="开窗函数"><a href="#开窗函数" class="header-anchor">#</a> 开窗函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>ROW_NUMBER<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">--排序：1,2,3,4 </span>
RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--排序：1,1,3,3,5 </span>
DENSE_RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">--排序：1,1,2,2,3,4 </span>
NTILE<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--将有序数据分为N组，记录等级数 </span>
LAG<span class="token punctuation">(</span>expr<span class="token punctuation">,</span>n<span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">--返回当前行的前N行的expr的值 </span>
LEAD<span class="token punctuation">(</span>expr<span class="token punctuation">,</span>n<span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">--返回当前行 后N行的expr的值 </span>
</code></pre></div></div></div>  <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/e0425d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">《MySQL是怎么运行的》</div></a> <a href="/pages/c38f55/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MySQL易忘点</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/e0425d/" class="prev">《MySQL是怎么运行的》</a></span> <span class="next"><a href="/pages/c38f55/">MySQL易忘点</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/4ce008/"><div>
            Controller接收请求方式
            <!----></div></a> <span class="date">08-10</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/7d963b/"><div>
            面试记录
            <!----></div></a> <span class="date">07-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/20b125/"><div>
            分布式共识Raft算法
            <!----></div></a> <span class="date">07-12</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:895827938@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/lzxiaohuihui" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=782007907" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>Evan Xu | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.346e1551.js" defer></script><script src="/assets/js/2.2bb1a3f0.js" defer></script><script src="/assets/js/29.40208485.js" defer></script>
  </body>
</html>
