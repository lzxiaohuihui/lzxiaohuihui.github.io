(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(d&&d(e);p.length;)p.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),n=o(o.s=t[0]))}return n}var r={},a={1:0},i=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=a[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=a[n]=[e,r]}));e.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"2bb1a3f0",3:"9cf196df",4:"5d4b1e3e",5:"7b963edb",6:"cd22f69f",7:"56bd88c1",8:"682d07e5",9:"f02c9057",10:"941f9595",11:"b7d791b9",12:"ebbfbefa",13:"55bee0ae",14:"1e95b815",15:"2d2eef87",16:"39294289",17:"743ca12b",18:"50024288",19:"cfa6e429",20:"da3fce67",21:"419116e7",22:"6d444788",23:"c331d239",24:"f09ffbc2",25:"954abaad",26:"4a4aff6b",27:"1aaac913",28:"4cd79971",29:"40208485",30:"f3086bc0",31:"8acc6cef",32:"e9cde725",33:"1ee5100f",34:"e22db86e",35:"4eafac50",36:"1c1ee1f4",37:"677fb893",38:"9cd6536e",39:"733cb66f",40:"c37b65b2",41:"1f7a5823",42:"d5d8d61c",43:"0440be56",44:"46973971",45:"30b89f29",46:"84eaf89e",47:"0a145016",48:"8c43259c",49:"fa78dd64",50:"84e3f3a9",51:"477ee945",52:"f118ef1f",53:"a43cea39",54:"24040505",55:"48b7784e",56:"d6fc5474",57:"2be4b3b9",58:"12e8eb95",59:"11d2261d",60:"3ff6cfa9",61:"21178592",62:"1352608c",63:"050641e9",64:"d6d2d9e3",65:"434963df",66:"d0d97246",67:"e329127c",68:"7188bc65",69:"868797a3",70:"fe5b1b21",71:"f427eba0",72:"8f3d4a59",73:"a3c0ad82",74:"4411d6f8",75:"22170cc4",76:"beca6f44",77:"04a63c9c",78:"a6f5f2b5",79:"419b9cef",80:"fea58868",81:"5621bd89",82:"64069ab7",83:"37c14276",84:"ae6c6209",85:"b89b8c71",86:"edc5934a",87:"f9e215fa",88:"40c5928c",89:"be2ef4b1",90:"8c27d903",91:"1ede16f3",92:"118ff1df",93:"9773dab5",94:"400d48d0",95:"a2f813ab",96:"ac3ab234"}[n]+".js"}(n);var l=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=a[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,t[1](l)}a[n]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},o.m=n,o.c=r,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/",o.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;i.push([104,0]),t()}([function(n,e,t){var r=t(55),a=r.all;n.exports=r.IS_HTMLDDA?function(n){return"function"==typeof n||n===a}:function(n){return"function"==typeof n}},function(n,e,t){var r=t(27),a=Function.prototype,i=a.call,o=r&&a.bind.bind(i,i);n.exports=r?o:function(n){return function(){return i.apply(n,arguments)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";function r(n,e,t,r,a,i,o,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(n,e){return l.call(e),d(n,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var r=t(2);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(69),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();n.exports=i},function(n,e,t){var r=t(1),a=t(32),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(a(n),e)}},function(n,e,t){var r,a;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(a="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=a(n,r.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(r.barSelector),d=r.speed,u=r.easing;return l.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var a;return(a="translate3d"===r.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,a}(n,d,u)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*a(Math.random()*e,.1,.95)),e=a(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var a,o=e.querySelector(r.barSelector),l=n?"-100":i(t.status||0),d=document.querySelector(r.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(a=e.querySelector(r.spinnerSelector))&&p(a),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,a=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);a--;)if((r=n[a]+i)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,a,i=arguments;if(2==i.length)for(t in e)void 0!==(a=e[t])&&e.hasOwnProperty(t)&&r(n,t,a);else r(n,i[1],i[2])}}();function l(n,e){return("string"==typeof n?n:u(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=u(n),r=t+e;l(t,e)||(n.className=r.substring(1))}function d(n,e){var t,r=u(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function u(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=a)},function(n,e,t){var r=t(0),a=t(55),i=a.all;n.exports=a.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:r(n)||n===i}:function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(165),a=t(168);n.exports=function(n,e){var t=a(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return f})),t.d(e,"d",(function(){return g})),t.d(e,"k",(function(){return v})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return k}));t(14);const r=/#.*$/,a=/\.(md|html)$/,i=/\/$/,o=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(a,"")}function l(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function u(n){if(l(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",a=s(n);return i.test(a)?n:a+".html"+t}function p(n,e){const t=n.hash,a=function(n){const e=n&&n.match(r);if(e)return e[0]}(e);if(a&&t!==a)return!1;return s(n.path)===s(e)}function m(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const a=e.split("/");t&&a[a.length-1]||a.pop();const i=n.replace(/^\//,"").split("/");for(let n=0;n<i.length;n++){const e=i[n];".."===e?a.pop():"."!==e&&a.push(e)}""!==a[0]&&a.unshift("");return a.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:u(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function f(n,e,t,r){const{pages:a,themeConfig:i}=t,o=r&&i.locales&&i.locales[r]||i;if("auto"===(n.frontmatter.sidebar||o.sidebar||i.sidebar))return h(n);const s=o.sidebar||i.sidebar;if(s){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return"auto"===r?h(n):r?r.map(n=>function n(e,t,r,a=1){if("string"==typeof e)return m(t,e,r);if(Array.isArray(e))return Object.assign(m(t,e[0],r),{title:e[1]});{a>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const i=e.children||[];return 0===i.length&&e.path?Object.assign(m(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map(e=>n(e,t,r,a+1)),collapsable:!1!==e.collapsable}}}(n,a,t)):[]}return[]}function h(n){const e=g(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function g(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function v(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function k(n,e){return y(e)-y(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";var r=t(26),a=t(32),i=t(33),o=t(129),s=t(131);r({target:"Array",proto:!0,arity:1,forced:t(2)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=a(this),t=i(e),r=arguments.length;s(t+r);for(var l=0;l<r;l++)e[t]=arguments[l],t++;return o(e,t),t}})},function(n,e,t){var r=t(17),a=t(150),i=t(151),o=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?a(n):i(n)}},function(n,e,t){var r=t(5),a=t(18),i=t(35);n.exports=r?function(n,e,t){return a.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(7).Symbol;n.exports=r},function(n,e,t){var r=t(5),a=t(64),i=t(100),o=t(25),s=t(54),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=r?i?function(n,e,t){if(o(n),e=s(e),o(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=d(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(o(n),e=s(e),o(t),a)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(1),a=r({}.toString),i=r("".slice);n.exports=function(n){return i(a(n),8,-1)}},function(n,e,t){var r=t(155),a=t(156),i=t(157),o=t(158),s=t(159);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(71);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(11)(Object,"create");n.exports=r},function(n,e,t){var r=t(177);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(45);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r=t(10),a=String,i=TypeError;n.exports=function(n){if(r(n))return n;throw i(a(n)+" is not an object")}},function(n,e,t){var r=t(4),a=t(51).f,i=t(16),o=t(112),s=t(37),l=t(65),c=t(125);n.exports=function(n,e){var t,d,u,p,m,f=n.target,h=n.global,g=n.stat;if(t=h?r:g?r[f]||s(f,{}):(r[f]||{}).prototype)for(d in e){if(p=e[d],u=n.dontCallGetSet?(m=a(t,d))&&m.value:t[d],!c(h?d:f+(g?".":"#")+d,n.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(n.sham||u&&u.sham)&&i(p,"sham",!0),o(t,d,p,n)}}},function(n,e,t){var r=t(2);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var r=t(47),a=t(52);n.exports=function(n){return r(a(n))}},function(n,e,t){var r=t(4),a=t(0),i=function(n){return a(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(r[n]):r[n]&&r[n][e]}},function(n,e,t){var r=t(0),a=t(110),i=TypeError;n.exports=function(n){if(r(n))return n;throw i(a(n)+" is not a function")}},function(n,e,t){var r=t(4),a=t(61),i=t(8),o=t(63),s=t(59),l=t(58),c=r.Symbol,d=a("wks"),u=l?c.for||c:c&&c.withoutSetter||o;n.exports=function(n){return i(d,n)||(d[n]=s&&i(c,n)?c[n]:u("Symbol."+n)),d[n]}},function(n,e,t){var r=t(52),a=Object;n.exports=function(n){return a(r(n))}},function(n,e,t){var r=t(123);n.exports=function(n){return r(n.length)}},function(n,e,t){var r=t(27),a=Function.prototype.call;n.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var r=t(4),a=t(37),i=r["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=i},function(n,e,t){var r=t(4),a=Object.defineProperty;n.exports=function(n,e){try{a(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(149),a=t(13),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return a(n)&&o.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var r=t(11)(t(7),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(169),a=t(176),i=t(178),o=t(179),s=t(180);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(6),a=t(45),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!a(n))||(o.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(15),a=t(13);n.exports=function(n){return"symbol"==typeof n||a(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){var r=t(1),a=t(2),i=t(19),o=Object,s=r("".split);n.exports=a((function(){return!o("z").propertyIsEnumerable(0)}))?function(n){return"String"==i(n)?s(n,""):o(n)}:o},function(n,e){n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,m=function(){return c.Date.now()};function f(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function h(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(f(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=f(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=a.test(n);return s||i.test(n)?o(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,a,i,o,s,l,c=0,d=!1,g=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,i=a;return r=a=void 0,c=e,o=n.apply(i,t)}function y(n){return c=n,s=setTimeout(x,e),d?b(n):o}function k(n){var t=n-l;return void 0===l||t>=e||t<0||g&&n-c>=i}function x(){var n=m();if(k(n))return _(n);s=setTimeout(x,function(n){var t=e-(n-l);return g?p(t,i-(n-c)):t}(n))}function _(n){return s=void 0,v&&r?b(n):(r=a=void 0,o)}function w(){var n=m(),t=k(n);if(r=arguments,a=this,l=n,t){if(void 0===s)return y(l);if(g)return s=setTimeout(x,e),b(l)}return void 0===s&&(s=setTimeout(x,e)),o}return e=h(e)||0,f(t)&&(d=!!t.leading,i=(g="maxWait"in t)?u(h(t.maxWait)||0,e):i,v="trailing"in t?!!t.trailing:v),w.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=a=s=void 0},w.flush=function(){return void 0===s?o:_(m())},w}},function(n,e,t){var r=t(5),a=t(34),i=t(106),o=t(35),s=t(28),l=t(54),c=t(8),d=t(64),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(n,e){if(n=s(n),e=l(e),d)try{return u(n,e)}catch(n){}if(c(n,e))return o(!a(i.f,n,e),n[e])}},function(n,e,t){var r=t(53),a=TypeError;n.exports=function(n){if(r(n))throw a("Can't call method on "+n);return n}},function(n,e){n.exports=function(n){return null==n}},function(n,e,t){var r=t(107),a=t(56);n.exports=function(n){var e=r(n,"string");return a(e)?e:e+""}},function(n,e){var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;n.exports={all:t,IS_HTMLDDA:r}},function(n,e,t){var r=t(29),a=t(0),i=t(57),o=t(58),s=Object;n.exports=o?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return a(e)&&i(e.prototype,s(n))}},function(n,e,t){var r=t(1);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r=t(59);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(60),a=t(2);n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r,a,i=t(4),o=t(108),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,d=c&&c.v8;d&&(a=(r=d.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=+r[1]),n.exports=a},function(n,e,t){var r=t(62),a=t(36);(n.exports=function(n,e){return a[n]||(a[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.28.0",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e){n.exports=!1},function(n,e,t){var r=t(1),a=0,i=Math.random(),o=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++a+i,36)}},function(n,e,t){var r=t(5),a=t(2),i=t(99);n.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(8),a=t(118),i=t(51),o=t(18);n.exports=function(n,e,t){for(var s=a(e),l=o.f,c=i.f,d=0;d<s.length;d++){var u=s[d];r(n,u)||t&&r(t,u)||l(n,u,c(e,u))}}},function(n,e,t){var r=t(122);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){var r=t(135),a=t(25),i=t(136);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return a(t),i(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(20),a=t(160),i=t(161),o=t(162),s=t(163),l=t(164);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(15),a=t(40);n.exports=function(n){if(!a(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(181),a=t(13);n.exports=function n(e,t,i,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:r(e,t,i,o,n,s))}},function(n,e,t){var r=t(76),a=t(184),i=t(77);n.exports=function(n,e,t,o,s,l){var c=1&t,d=n.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(n),m=l.get(e);if(p&&m)return p==e&&m==n;var f=-1,h=!0,g=2&t?new r:void 0;for(l.set(n,e),l.set(e,n);++f<d;){var v=n[f],b=e[f];if(o)var y=c?o(b,v,f,e,n,l):o(v,b,f,n,e,l);if(void 0!==y){if(y)continue;h=!1;break}if(g){if(!a(e,(function(n,e){if(!i(g,e)&&(v===n||s(v,n,t,o,l)))return g.push(e)}))){h=!1;break}}else if(v!==b&&!s(v,b,t,o,l)){h=!1;break}}return l.delete(n),l.delete(e),h}},function(n,e,t){var r=t(41),a=t(182),i=t(183);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(194),a=t(200),i=t(82);n.exports=function(n){return i(n)?r(n):a(n)}},function(n,e,t){(function(n){var r=t(7),a=t(196),i=e&&!e.nodeType&&e,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;n.exports=l}).call(this,t(49)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(197),a=t(198),i=t(199),o=i&&i.isTypedArray,s=o?a(o):r;n.exports=s},function(n,e,t){var r=t(72),a=t(43);n.exports=function(n){return null!=n&&a(n.length)&&!r(n)}},function(n,e,t){var r=t(11)(t(7),"Set");n.exports=r},function(n,e,t){var r=t(40);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(87),a=t(24);n.exports=function(n,e){for(var t=0,i=(e=r(e,n)).length;null!=n&&t<i;)n=n[a(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var r=t(6),a=t(44),i=t(211),o=t(214);n.exports=function(n,e){return r(n)?n:a(n,e)?[n]:i(o(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(147),a=t(152),i=t(223),o=t(231),s=t(240),l=t(103),c=i((function(n){var e=l(n);return s(e)&&(e=void 0),o(r(n,1,s,!0),a(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,a=r.exec(t);if(!a)return t;var i="",o=0,s=0;for(o=a.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==o&&(i+=t.substring(s,o)),s=o+1,i+=e}return s!==o?i+t.substring(s,o):i}},function(n,e,t){!function(){"use strict";n.exports={polyfill:function(){var n=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===n.__forceSmoothScrollPolyfill__){var t,r=n.HTMLElement||n.Element,a={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},i=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now,o=(t=n.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);n.scroll=n.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?f.call(n,e.body,void 0!==arguments[0].left?~~arguments[0].left:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:n.scrollY||n.pageYOffset):a.scroll.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:n.scrollY||n.pageYOffset))},n.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?a.scrollBy.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(n,e.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var n=arguments[0].left,e=arguments[0].top;f.call(this,this,void 0===n?this.scrollLeft:~~n,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var t=p(this),r=t.getBoundingClientRect(),i=this.getBoundingClientRect();t!==e.body?(f.call(this,t,t.scrollLeft+i.left-r.left,t.scrollTop+i.top-r.top),"fixed"!==n.getComputedStyle(t).position&&n.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):n.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(n,e){this.scrollLeft=n,this.scrollTop=e}function l(n){if(null===n||"object"!=typeof n||void 0===n.behavior||"auto"===n.behavior||"instant"===n.behavior)return!0;if("object"==typeof n&&"smooth"===n.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+n.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(n,e){return"Y"===e?n.clientHeight+o<n.scrollHeight:"X"===e?n.clientWidth+o<n.scrollWidth:void 0}function d(e,t){var r=n.getComputedStyle(e,null)["overflow"+t];return"auto"===r||"scroll"===r}function u(n){var e=c(n,"Y")&&d(n,"Y"),t=c(n,"X")&&d(n,"X");return e||t}function p(n){for(;n!==e.body&&!1===u(n);)n=n.parentNode||n.host;return n}function m(e){var t,r,a,o,s=(i()-e.startTime)/468;o=s=s>1?1:s,t=.5*(1-Math.cos(Math.PI*o)),r=e.startX+(e.x-e.startX)*t,a=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,r,a),r===e.x&&a===e.y||n.requestAnimationFrame(m.bind(n,e))}function f(t,r,o){var l,c,d,u,p=i();t===e.body?(l=n,c=n.scrollX||n.pageXOffset,d=n.scrollY||n.pageYOffset,u=a.scroll):(l=t,c=t.scrollLeft,d=t.scrollTop,u=s),m({scrollable:l,method:u,startTime:p,startX:c,startY:d,x:r,y:o})}}}}()},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},a=(t(245),t(3)),i=Object(a.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},a=(t(246),t(3)),i=Object(a.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){var r=t(4),a=t(10),i=r.document,o=a(i)&&a(i.createElement);n.exports=function(n){return o?i.createElement(n):{}}},function(n,e,t){var r=t(5),a=t(2);n.exports=r&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(61),a=t(63),i=r("keys");n.exports=function(n){return i[n]||(i[n]=a(n))}},function(n,e,t){var r=t(1),a=t(8),i=t(28),o=t(120).indexOf,s=t(48),l=r([].push);n.exports=function(n,e){var t,r=i(n),c=0,d=[];for(t in r)!a(s,t)&&a(r,t)&&l(d,t);for(;e.length>c;)a(r,t=e[c++])&&(~o(d,t)||l(d,t));return d}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(252)},function(n,e,t){"use strict";var r=t(26),a=t(126).left,i=t(127),o=t(60);r({target:"Array",proto:!0,forced:!t(128)&&o>79&&o<83||!i("reduce")},{reduce:function(n){var e=arguments.length;return a(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);e.f=i?function(n){var e=a(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(34),a=t(10),i=t(56),o=t(109),s=t(111),l=t(31),c=TypeError,d=l("toPrimitive");n.exports=function(n,e){if(!a(n)||i(n))return n;var t,l=o(n,d);if(l){if(void 0===e&&(e="default"),t=r(l,n,e),!a(t)||i(t))return t;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e){n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){var r=t(30),a=t(53);n.exports=function(n,e){var t=n[e];return a(t)?void 0:r(t)}},function(n,e){var t=String;n.exports=function(n){try{return t(n)}catch(n){return"Object"}}},function(n,e,t){var r=t(34),a=t(0),i=t(10),o=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&a(t=n.toString)&&!i(s=r(t,n)))return s;if(a(t=n.valueOf)&&!i(s=r(t,n)))return s;if("string"!==e&&a(t=n.toString)&&!i(s=r(t,n)))return s;throw o("Can't convert object to primitive value")}},function(n,e,t){var r=t(0),a=t(18),i=t(113),o=t(37);n.exports=function(n,e,t,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(r(t)&&i(t,c,s),s.global)l?n[e]=t:o(e,t);else{try{s.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:a.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){var r=t(1),a=t(2),i=t(0),o=t(8),s=t(5),l=t(114).CONFIGURABLE,c=t(115),d=t(116),u=d.enforce,p=d.get,m=String,f=Object.defineProperty,h=r("".slice),g=r("".replace),v=r([].join),b=s&&!a((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),k=n.exports=function(n,e,t){"Symbol("===h(m(e),0,7)&&(e="["+g(m(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!o(n,"name")||l&&n.name!==e)&&(s?f(n,"name",{value:e,configurable:!0}):n.name=e),b&&t&&o(t,"arity")&&n.length!==t.arity&&f(n,"length",{value:t.arity});try{t&&o(t,"constructor")&&t.constructor?s&&f(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=u(n);return o(r,"source")||(r.source=v(y,"string"==typeof e?e:"")),n};Function.prototype.toString=k((function(){return i(this)&&p(this).source||c(this)}),"toString")},function(n,e,t){var r=t(5),a=t(8),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=a(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&o(i,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var r=t(1),a=t(0),i=t(36),o=r(Function.toString);a(i.inspectSource)||(i.inspectSource=function(n){return o(n)}),n.exports=i.inspectSource},function(n,e,t){var r,a,i,o=t(117),s=t(4),l=t(10),c=t(16),d=t(8),u=t(36),p=t(101),m=t(48),f=s.TypeError,h=s.WeakMap;if(o||u.state){var g=u.state||(u.state=new h);g.get=g.get,g.has=g.has,g.set=g.set,r=function(n,e){if(g.has(n))throw f("Object already initialized");return e.facade=n,g.set(n,e),e},a=function(n){return g.get(n)||{}},i=function(n){return g.has(n)}}else{var v=p("state");m[v]=!0,r=function(n,e){if(d(n,v))throw f("Object already initialized");return e.facade=n,c(n,v,e),e},a=function(n){return d(n,v)?n[v]:{}},i=function(n){return d(n,v)}}n.exports={set:r,get:a,has:i,enforce:function(n){return i(n)?a(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=a(e)).type!==n)throw f("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var r=t(4),a=t(0),i=r.WeakMap;n.exports=a(i)&&/native code/.test(String(i))},function(n,e,t){var r=t(29),a=t(1),i=t(119),o=t(124),s=t(25),l=a([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=i.f(s(n)),t=o.f;return t?l(e,t(n)):e}},function(n,e,t){var r=t(102),a=t(98).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,a)}},function(n,e,t){var r=t(28),a=t(121),i=t(33),o=function(n){return function(e,t,o){var s,l=r(e),c=i(l),d=a(o,c);if(n&&t!=t){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((n||d in l)&&l[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){var r=t(66),a=Math.max,i=Math.min;n.exports=function(n,e){var t=r(n);return t<0?a(t+e,0):i(t,e)}},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?r:t)(e)}},function(n,e,t){var r=t(66),a=Math.min;n.exports=function(n){return n>0?a(r(n),9007199254740991):0}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(2),a=t(0),i=/#|\.prototype\./,o=function(n,e){var t=l[s(n)];return t==d||t!=c&&(a(e)?r(e):!!e)},s=o.normalize=function(n){return String(n).replace(i,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",d=o.POLYFILL="P";n.exports=o},function(n,e,t){var r=t(30),a=t(32),i=t(47),o=t(33),s=TypeError,l=function(n){return function(e,t,l,c){r(t);var d=a(e),u=i(d),p=o(d),m=n?p-1:0,f=n?-1:1;if(l<2)for(;;){if(m in u){c=u[m],m+=f;break}if(m+=f,n?m<0:p<=m)throw s("Reduce of empty array with no initial value")}for(;n?m>=0:p>m;m+=f)m in u&&(c=t(c,u[m],m,d));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r=t(2);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var r=t(19);n.exports="undefined"!=typeof process&&"process"==r(process)},function(n,e,t){"use strict";var r=t(5),a=t(130),i=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(a(n)&&!o(n,"length").writable)throw i("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){var r=t(19);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e){var t=TypeError;n.exports=function(n){if(n>9007199254740991)throw t("Maximum allowed index exceeded");return n}},function(n,e,t){var r=t(26),a=t(4),i=t(133),o=t(134),s=a.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,l),r({global:!0,constructor:!0,arity:1,forced:l},t)},d=function(n,e){if(s&&s[n]){var t={};t[n]=o("WebAssembly."+n,e,l),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return i(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),c("URIError",(function(n){return function(e){return i(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){var r=t(27),a=Function.prototype,i=a.apply,o=a.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(i):function(){return o.apply(i,arguments)})},function(n,e,t){"use strict";var r=t(29),a=t(8),i=t(16),o=t(57),s=t(67),l=t(65),c=t(137),d=t(138),u=t(139),p=t(143),m=t(144),f=t(5),h=t(62);n.exports=function(n,e,t,g){var v=g?2:1,b=n.split("."),y=b[b.length-1],k=r.apply(null,b);if(k){var x=k.prototype;if(!h&&a(x,"cause")&&delete x.cause,!t)return k;var _=r("Error"),w=e((function(n,e){var t=u(g?e:n,void 0),r=g?new k(n):new k;return void 0!==t&&i(r,"message",t),m(r,w,r.stack,2),this&&o(x,this)&&d(r,this,w),arguments.length>v&&p(r,arguments[v]),r}));if(w.prototype=x,"Error"!==y?s?s(w,_):l(w,_,{name:!0}):f&&"stackTraceLimit"in k&&(c(w,k,"stackTraceLimit"),c(w,k,"prepareStackTrace")),l(w,k),!h)try{x.name!==y&&i(x,"name",y),x.constructor=w}catch(n){}return w}}},function(n,e,t){var r=t(1),a=t(30);n.exports=function(n,e,t){try{return r(a(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){var r=t(0),a=String,i=TypeError;n.exports=function(n){if("object"==typeof n||r(n))return n;throw i("Can't set "+a(n)+" as a prototype")}},function(n,e,t){var r=t(18).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){var r=t(0),a=t(10),i=t(67);n.exports=function(n,e,t){var o,s;return i&&r(o=e.constructor)&&o!==t&&a(s=o.prototype)&&s!==t.prototype&&i(n,s),n}},function(n,e,t){var r=t(140);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){var r=t(141),a=String;n.exports=function(n){if("Symbol"===r(n))throw TypeError("Cannot convert a Symbol value to a string");return a(n)}},function(n,e,t){var r=t(142),a=t(0),i=t(19),o=t(31)("toStringTag"),s=Object,l="Arguments"==i(function(){return arguments}());n.exports=r?i:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),o))?t:l?i(e):"Object"==(r=i(e))&&a(e.callee)?"Arguments":r}},function(n,e,t){var r={};r[t(31)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){var r=t(10),a=t(16);n.exports=function(n,e){r(e)&&"cause"in e&&a(n,"cause",e.cause)}},function(n,e,t){var r=t(16),a=t(145),i=t(146),o=Error.captureStackTrace;n.exports=function(n,e,t,s){i&&(o?o(n,e):r(n,"stack",a(t,s)))}},function(n,e,t){var r=t(1),a=Error,i=r("".replace),o=String(a("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);n.exports=function(n,e){if(l&&"string"==typeof n&&!a.prepareStackTrace)for(;e--;)n=i(n,s,"");return n}},function(n,e,t){var r=t(2),a=t(35);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",a(1,7)),7!==n.stack)}))},function(n,e,t){var r=t(68),a=t(148);n.exports=function n(e,t,i,o,s){var l=-1,c=e.length;for(i||(i=a),s||(s=[]);++l<c;){var d=e[l];t>0&&i(d)?t>1?n(d,t-1,i,o,s):r(s,d):o||(s[s.length]=d)}return s}},function(n,e,t){var r=t(17),a=t(38),i=t(6),o=r?r.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||a(n)||!!(o&&n&&n[o])}},function(n,e,t){var r=t(15),a=t(13);n.exports=function(n){return a(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(17),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=i.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var a=o.call(n);return r&&(e?n[s]=t:delete n[s]),a}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(153),a=t(209),i=t(46),o=t(6),s=t(220);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?o(n)?a(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(154),a=t(208),i=t(85);n.exports=function(n){var e=a(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(70),a=t(74);n.exports=function(n,e,t,i){var o=t.length,s=o,l=!i;if(null==n)return!s;for(n=Object(n);o--;){var c=t[o];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<s;){var d=(c=t[o])[0],u=n[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in n))return!1}else{var m=new r;if(i)var f=i(u,p,d,n,e,m);if(!(void 0===f?a(p,u,3,i,m):f))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(21),a=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():a.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(21);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(21);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(21);n.exports=function(n,e){var t=this.__data__,a=r(t,n);return a<0?(++this.size,t.push([n,e])):t[a][1]=e,this}},function(n,e,t){var r=t(20);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(20),a=t(39),i=t(41);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!a||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(72),a=t(166),i=t(40),o=t(73),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||a(n))&&(r(n)?p:s).test(o(n))}},function(n,e,t){var r,a=t(167),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var r=t(7)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(170),a=t(20),i=t(39);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(n,e,t){var r=t(171),a=t(172),i=t(173),o=t(174),s=t(175);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(22);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(22),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return a.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(22),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:a.call(e,n)}},function(n,e,t){var r=t(22);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(23);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(23);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(23);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(23);n.exports=function(n,e){var t=r(this,n),a=t.size;return t.set(n,e),this.size+=t.size==a?0:1,this}},function(n,e,t){var r=t(70),a=t(75),i=t(185),o=t(188),s=t(204),l=t(6),c=t(79),d=t(81),u="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,f,h){var g=l(n),v=l(e),b=g?"[object Array]":s(n),y=v?"[object Array]":s(e),k=(b="[object Arguments]"==b?u:b)==u,x=(y="[object Arguments]"==y?u:y)==u,_=b==y;if(_&&c(n)){if(!c(e))return!1;g=!0,k=!1}if(_&&!k)return h||(h=new r),g||d(n)?a(n,e,t,m,f,h):i(n,e,b,t,m,f,h);if(!(1&t)){var w=k&&p.call(n,"__wrapped__"),E=x&&p.call(e,"__wrapped__");if(w||E){var S=w?n.value():n,T=E?e.value():e;return h||(h=new r),f(S,T,t,m,h)}}return!!_&&(h||(h=new r),o(n,e,t,m,f,h))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(17),a=t(186),i=t(71),o=t(75),s=t(187),l=t(42),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,u,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!u(new a(n),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=s;case"[object Set]":var f=1&r;if(m||(m=l),n.size!=e.size&&!f)return!1;var h=p.get(n);if(h)return h==e;r|=2,p.set(n,e);var g=o(m(n),m(e),r,c,u,p);return p.delete(n),g;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var r=t(7).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(189),a=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,o,s){var l=1&t,c=r(n),d=c.length;if(d!=r(e).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in e:a.call(e,p)))return!1}var m=s.get(n),f=s.get(e);if(m&&f)return m==e&&f==n;var h=!0;s.set(n,e),s.set(e,n);for(var g=l;++u<d;){var v=n[p=c[u]],b=e[p];if(i)var y=l?i(b,v,p,e,n,s):i(v,b,p,n,e,s);if(!(void 0===y?v===b||o(v,b,t,i,s):y)){h=!1;break}g||(g="constructor"==p)}if(h&&!g){var k=n.constructor,x=e.constructor;k==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x||(h=!1)}return s.delete(n),s.delete(e),h}},function(n,e,t){var r=t(190),a=t(191),i=t(78);n.exports=function(n){return r(n,i,a)}},function(n,e,t){var r=t(68),a=t(6);n.exports=function(n,e,t){var i=e(n);return a(n)?i:r(i,t(n))}},function(n,e,t){var r=t(192),a=t(193),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(n){return null==n?[]:(n=Object(n),r(o(n),(function(e){return i.call(n,e)})))}:a;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[a++]=o)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(195),a=t(38),i=t(6),o=t(79),s=t(80),l=t(81),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),d=!t&&a(n),u=!t&&!d&&o(n),p=!t&&!d&&!u&&l(n),m=t||d||u||p,f=m?r(n.length,String):[],h=f.length;for(var g in n)!e&&!c.call(n,g)||m&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||f.push(g);return f}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(15),a=t(43),i=t(13),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&a(n.length)&&!!o[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(69),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,o=i&&i.exports===a&&r.process,s=function(){try{var n=i&&i.require&&i.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=s}).call(this,t(49)(n))},function(n,e,t){var r=t(201),a=t(202),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return a(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(203)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(205),a=t(39),i=t(206),o=t(83),s=t(207),l=t(15),c=t(73),d=c(r),u=c(a),p=c(i),m=c(o),f=c(s),h=l;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=h(new a)||i&&"[object Promise]"!=h(i.resolve())||o&&"[object Set]"!=h(new o)||s&&"[object WeakMap]"!=h(new s))&&(h=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case d:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case m:return"[object Set]";case f:return"[object WeakMap]"}return e}),n.exports=h},function(n,e,t){var r=t(11)(t(7),"DataView");n.exports=r},function(n,e,t){var r=t(11)(t(7),"Promise");n.exports=r},function(n,e,t){var r=t(11)(t(7),"WeakMap");n.exports=r},function(n,e,t){var r=t(84),a=t(78);n.exports=function(n){for(var e=a(n),t=e.length;t--;){var i=e[t],o=n[i];e[t]=[i,o,r(o)]}return e}},function(n,e,t){var r=t(74),a=t(210),i=t(217),o=t(44),s=t(84),l=t(85),c=t(24);n.exports=function(n,e){return o(n)&&s(e)?l(c(n),e):function(t){var o=a(t,n);return void 0===o&&o===e?i(t,n):r(e,o,3)}}},function(n,e,t){var r=t(86);n.exports=function(n,e,t){var a=null==n?void 0:r(n,e);return void 0===a?t:a}},function(n,e,t){var r=t(212),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(a,(function(n,t,r,a){e.push(r?a.replace(i,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var r=t(213);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(41);function a(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=t.cache;if(i.has(a))return i.get(a);var o=n.apply(this,r);return t.cache=i.set(a,o)||i,o};return t.cache=new(a.Cache||r),t}a.Cache=r,n.exports=a},function(n,e,t){var r=t(215);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(17),a=t(216),i=t(6),o=t(45),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return a(e,n)+"";if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=Array(r);++t<r;)a[t]=e(n[t],t,n);return a}},function(n,e,t){var r=t(218),a=t(219);n.exports=function(n,e){return null!=n&&a(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(87),a=t(38),i=t(6),o=t(80),s=t(43),l=t(24);n.exports=function(n,e,t){for(var c=-1,d=(e=r(e,n)).length,u=!1;++c<d;){var p=l(e[c]);if(!(u=null!=n&&t(n,p)))break;n=n[p]}return u||++c!=d?u:!!(d=null==n?0:n.length)&&s(d)&&o(p,d)&&(i(n)||a(n))}},function(n,e,t){var r=t(221),a=t(222),i=t(44),o=t(24);n.exports=function(n){return i(n)?r(o(n)):a(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(86);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(46),a=t(224),i=t(226);n.exports=function(n,e){return i(a(n,e,r),n+"")}},function(n,e,t){var r=t(225),a=Math.max;n.exports=function(n,e,t){return e=a(void 0===e?n.length-1:e,0),function(){for(var i=arguments,o=-1,s=a(i.length-e,0),l=Array(s);++o<s;)l[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=t(l),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(227),a=t(230)(r);n.exports=a},function(n,e,t){var r=t(228),a=t(229),i=t(46),o=a?function(n,e){return a(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(11),a=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=a},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(76),a=t(232),i=t(237),o=t(77),s=t(238),l=t(42);n.exports=function(n,e,t){var c=-1,d=a,u=n.length,p=!0,m=[],f=m;if(t)p=!1,d=i;else if(u>=200){var h=e?null:s(n);if(h)return l(h);p=!1,d=o,f=new r}else f=e?[]:m;n:for(;++c<u;){var g=n[c],v=e?e(g):g;if(g=t||0!==g?g:0,p&&v==v){for(var b=f.length;b--;)if(f[b]===v)continue n;e&&f.push(v),m.push(g)}else d(f,v,t)||(f!==m&&f.push(v),m.push(g))}return m}},function(n,e,t){var r=t(233);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(234),a=t(235),i=t(236);n.exports=function(n,e,t){return e==e?i(n,e,t):r(n,a,t)}},function(n,e){n.exports=function(n,e,t,r){for(var a=n.length,i=t+(r?1:-1);r?i--:++i<a;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,a=n.length;++r<a;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,a=null==n?0:n.length;++r<a;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(83),a=t(239),i=t(42),o=r&&1/i(new r([,-0]))[1]==1/0?function(n){return new r(n)}:a;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(82),a=t(13);n.exports=function(n){return a(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(88)},function(n,e,t){"use strict";t(89)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t(92)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),a=Array.isArray;function i(n){return null==n}function o(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function d(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function p(n){return"[object Object]"===u.call(n)}function m(n){return"[object RegExp]"===u.call(n)}function f(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function h(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function g(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===u?JSON.stringify(n,null,2):String(n)}function v(n){var e=parseFloat(n);return isNaN(e)?n:e}function b(n,e){for(var t=Object.create(null),r=n.split(","),a=0;a<r.length;a++)t[r[a]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}b("slot,component",!0);var y=b("key,ref,slot,slot-scope,is");function k(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var x=Object.prototype.hasOwnProperty;function _(n,e){return x.call(n,e)}function w(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var E=/-(\w)/g,S=w((function(n){return n.replace(E,(function(n,e){return e?e.toUpperCase():""}))})),T=w((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),A=/\B([A-Z])/g,I=w((function(n){return n.replace(A,"-$1").toLowerCase()}));var C=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function z(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function B(n,e){for(var t in e)n[t]=e[t];return n}function R(n){for(var e={},t=0;t<n.length;t++)n[t]&&B(e,n[t]);return e}function M(n,e,t){}var L=function(n,e,t){return!1},P=function(n){return n};function O(n,e){if(n===e)return!0;var t=d(n),r=d(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var a=Array.isArray(n),i=Array.isArray(e);if(a&&i)return n.length===e.length&&n.every((function(n,t){return O(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(a||i)return!1;var o=Object.keys(n),s=Object.keys(e);return o.length===s.length&&o.every((function(t){return O(n[t],e[t])}))}catch(n){return!1}}function D(n,e){for(var t=0;t<n.length;t++)if(O(n[t],e))return t;return-1}function j(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function N(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var F=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],K={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:M,parsePlatformTagName:P,mustUseProp:L,async:!0,_lifecycleHooks:q},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function G(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var H=new RegExp("[^".concat(U.source,".$_\\d]"));var V="__proto__"in{},J="undefined"!=typeof window,Q=J&&window.navigator.userAgent.toLowerCase(),W=Q&&/msie|trident/.test(Q),X=Q&&Q.indexOf("msie 9.0")>0,Z=Q&&Q.indexOf("edge/")>0;Q&&Q.indexOf("android");var Y=Q&&/iphone|ipad|ipod|ios/.test(Q);Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q);var nn,en=Q&&Q.match(/firefox\/(\d+)/),tn={}.watch,rn=!1;if(J)try{var an={};Object.defineProperty(an,"passive",{get:function(){rn=!0}}),window.addEventListener("test-passive",null,an)}catch(n){}var on=function(){return void 0===nn&&(nn=!J&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},sn=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,dn="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);cn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var un=null;function pn(n){void 0===n&&(n=null),n||un&&un._scope.off(),un=n,n&&n._scope.on()}var mn=function(){function n(n,e,t,r,a,i,o,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=a,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),fn=function(n){void 0===n&&(n="");var e=new mn;return e.text=n,e.isComment=!0,e};function hn(n){return new mn(void 0,void 0,void 0,String(n))}function gn(n){var e=new mn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var vn=0,bn=[],yn=function(){function n(){this._pending=!1,this.id=vn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,bn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();yn.target=null;var kn=[];function xn(n){kn.push(n),yn.target=n}function _n(){kn.pop(),yn.target=kn[kn.length-1]}var wn=Array.prototype,En=Object.create(wn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=wn[n];G(En,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a,i=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":a=t;break;case"splice":a=t.slice(2)}return a&&o.observeArray(a),o.dep.notify(),i}))}));var Sn=Object.getOwnPropertyNames(En),Tn={},An=!0;function In(n){An=n}var Cn={notify:M,depend:M,addSub:M,removeSub:M},zn=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?Cn:new yn,this.vmCount=0,G(n,"__ob__",this),a(n)){if(!t)if(V)n.__proto__=En;else for(var r=0,i=Sn.length;r<i;r++){G(n,s=Sn[r],En[s])}e||this.observeArray(n)}else{var o=Object.keys(n);for(r=0;r<o.length;r++){var s;Rn(n,s=o[r],Tn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Bn(n[e],!1,this.mock)},n}();function Bn(n,e,t){return n&&_(n,"__ob__")&&n.__ob__ instanceof zn?n.__ob__:!An||!t&&on()||!a(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Nn(n)||n instanceof mn?void 0:new zn(n,e,t)}function Rn(n,e,t,r,i,o){var s=new yn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var c=l&&l.get,d=l&&l.set;c&&!d||t!==Tn&&2!==arguments.length||(t=n[e]);var u=!i&&Bn(t,!1,o);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(n):t;return yn.target&&(s.depend(),u&&(u.dep.depend(),a(e)&&Pn(e))),Nn(e)&&!i?e.value:e},set:function(e){var r=c?c.call(n):t;if(N(r,e)){if(d)d.call(n,e);else{if(c)return;if(!i&&Nn(r)&&!Nn(e))return void(r.value=e);t=e}u=!i&&Bn(e,!1,o),s.notify()}}}),s}}function Mn(n,e,t){if(!jn(n)){var r=n.__ob__;return a(n)&&f(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&Bn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(Rn(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function Ln(n,e){if(a(n)&&f(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||jn(n)||_(n,e)&&(delete n[e],t&&t.dep.notify())}}function Pn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),a(e)&&Pn(e)}function On(n){return Dn(n,!0),G(n,"__v_isShallow",!0),n}function Dn(n,e){if(!jn(n)){Bn(n,e,on());0}}function jn(n){return!(!n||!n.__v_isReadonly)}function Nn(n){return!(!n||!0!==n.__v_isRef)}function Fn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Nn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Nn(r)&&!Nn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var qn;var Kn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=qn,!n&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=qn;try{return qn=this,n()}finally{qn=e}}else 0},n.prototype.on=function(){qn=this},n.prototype.off=function(){qn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Un(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var $n=w((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Gn(n,e){function t(){var n=t.fns;if(!a(n))return Ae(n,null,arguments,e,"v-on handler");for(var r=n.slice(),i=0;i<r.length;i++)Ae(r[i],null,arguments,e,"v-on handler")}return t.fns=n,t}function Hn(n,e,t,r,a,o){var l,c,d,u;for(l in n)c=n[l],d=e[l],u=$n(l),i(c)||(i(d)?(i(c.fns)&&(c=n[l]=Gn(c,o)),s(u.once)&&(c=n[l]=a(u.name,c,u.capture)),t(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,n[l]=d));for(l in e)i(n[l])&&r((u=$n(l)).name,e[l],u.capture)}function Vn(n,e,t){var r;n instanceof mn&&(n=n.data.hook||(n.data.hook={}));var a=n[e];function l(){t.apply(this,arguments),k(r.fns,l)}i(a)?r=Gn([l]):o(a.fns)&&s(a.merged)?(r=a).fns.push(l):r=Gn([a,l]),r.merged=!0,n[e]=r}function Jn(n,e,t,r,a){if(o(e)){if(_(e,t))return n[t]=e[t],a||delete e[t],!0;if(_(e,r))return n[t]=e[r],a||delete e[r],!0}return!1}function Qn(n){return l(n)?[hn(n)]:a(n)?function n(e,t){var r,c,d,u,p=[];for(r=0;r<e.length;r++)i(c=e[r])||"boolean"==typeof c||(d=p.length-1,u=p[d],a(c)?c.length>0&&(Wn((c=n(c,"".concat(t||"","_").concat(r)))[0])&&Wn(u)&&(p[d]=hn(u.text+c[0].text),c.shift()),p.push.apply(p,c)):l(c)?Wn(u)?p[d]=hn(u.text+c):""!==c&&p.push(hn(c)):Wn(c)&&Wn(u)?p[d]=hn(u.text+c.text):(s(e._isVList)&&o(c.tag)&&i(c.key)&&o(t)&&(c.key="__vlist".concat(t,"_").concat(r,"__")),p.push(c)));return p}(n):void 0}function Wn(n){return o(n)&&o(n.text)&&!1===n.isComment}function Xn(n,e){var t,r,i,s,l=null;if(a(n)||"string"==typeof n)for(l=new Array(n.length),t=0,r=n.length;t<r;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(d(n))if(dn&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),u=c.next();!u.done;)l.push(e(u.value,l.length)),u=c.next()}else for(i=Object.keys(n),l=new Array(i.length),t=0,r=i.length;t<r;t++)s=i[t],l[t]=e(n[s],s,t);return o(l)||(l=[]),l._isVList=!0,l}function Zn(n,e,t,r){var a,i=this.$scopedSlots[n];i?(t=t||{},r&&(t=B(B({},r),t)),a=i(t)||(c(e)?e():e)):a=this.$slots[n]||(c(e)?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},a):a}function Yn(n){return zt(this.$options,"filters",n,!0)||P}function ne(n,e){return a(n)?-1===n.indexOf(e):n!==e}function ee(n,e,t,r,a){var i=K.keyCodes[e]||t;return a&&r&&!K.keyCodes[e]?ne(a,r):i?ne(i,n):r?I(r)!==e:void 0===n}function te(n,e,t,r,i){if(t)if(d(t)){a(t)&&(t=R(t));var o=void 0,s=function(a){if("class"===a||"style"===a||y(a))o=n;else{var s=n.attrs&&n.attrs.type;o=r||K.mustUseProp(e,s,a)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=S(a),c=I(a);l in o||c in o||(o[a]=t[a],i&&((n.on||(n.on={}))["update:".concat(a)]=function(n){t[a]=n}))};for(var l in t)s(l)}else;return n}function re(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function ae(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(a(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&oe(n[r],"".concat(e,"_").concat(r),t);else oe(n,e,t)}function oe(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function se(n,e){if(e)if(p(e)){var t=n.on=n.on?B({},n.on):{};for(var r in e){var a=t[r],i=e[r];t[r]=a?[].concat(a,i):i}}else;return n}function le(n,e,t,r){e=e||{$stable:!t};for(var i=0;i<n.length;i++){var o=n[i];a(o)?le(o,e,t):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function ce(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function de(n,e){return"string"==typeof n?e+n:n}function ue(n){n._o=ae,n._n=v,n._s=g,n._l=Xn,n._t=Zn,n._q=O,n._i=D,n._m=re,n._f=Yn,n._k=ee,n._b=te,n._v=hn,n._e=fn,n._u=le,n._g=se,n._d=ce,n._p=de}function pe(n,e){if(!n||!n.length)return{};for(var t={},r=0,a=n.length;r<a;r++){var i=n[r],o=i.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,i.context!==e&&i.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(i);else{var s=o.slot,l=t[s]||(t[s]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}}for(var c in t)t[c].every(me)&&delete t[c];return t}function me(n){return n.isComment&&!n.asyncFactory||" "===n.text}function fe(n){return n.isComment&&n.asyncFactory}function he(n,e,t,a){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&a&&a!==r&&l===a.$key&&!o&&!a.$hasNormal)return a;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=ge(n,t,c,e[c]))}else i={};for(var d in t)d in i||(i[d]=ve(t,d));return e&&Object.isExtensible(e)&&(e._normalized=i),G(i,"$stable",s),G(i,"$key",l),G(i,"$hasNormal",o),i}function ge(n,e,t,r){var i=function(){var e=un;pn(n);var t=arguments.length?r.apply(null,arguments):r({}),i=(t=t&&"object"==typeof t&&!a(t)?[t]:Qn(t))&&t[0];return pn(e),t&&(!i||1===t.length&&i.isComment&&!fe(i))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function ve(n,e){return function(){return n[e]}}function be(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};G(e,"_v_attr_proxy",!0),ye(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ye(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||xe(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:C(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Fn(n,e,t)}))}}}function ye(n,e,t,r,a){var i=!1;for(var o in e)o in n?e[o]!==t[o]&&(i=!0):(i=!0,ke(n,o,r,a));for(var o in n)o in e||(i=!0,delete n[o]);return i}function ke(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function xe(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var _e=null;function we(n,e){return(n.__esModule||dn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),d(n)?e.extend(n):n}function Ee(n){if(a(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||fe(t)))return t}}function Se(n,e,t,r,u,p){return(a(t)||l(t))&&(u=r,r=t,t=void 0),s(p)&&(u=2),function(n,e,t,r,l){if(o(t)&&o(t.__ob__))return fn();o(t)&&o(t.is)&&(e=t.is);if(!e)return fn();0;a(r)&&c(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===l?r=Qn(r):1===l&&(r=function(n){for(var e=0;e<n.length;e++)if(a(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var u,p;if("string"==typeof e){var m=void 0;p=n.$vnode&&n.$vnode.ns||K.getTagNamespace(e),u=K.isReservedTag(e)?new mn(K.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!o(m=zt(n.$options,"components",e))?new mn(e,t,r,void 0,void 0,n):kt(m,t,n,r,e)}else u=kt(e,t,n,r);return a(u)?u:o(u)?(o(p)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(o(e.children))for(var a=0,l=e.children.length;a<l;a++){var c=e.children[a];o(c.tag)&&(i(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,t,r)}}(u,p),o(t)&&function(n){d(n.style)&&Ke(n.style);d(n.class)&&Ke(n.class)}(t),u):fn()}(n,e,t,r,u)}function Te(n,e,t){xn();try{if(e)for(var r=e;r=r.$parent;){var a=r.$options.errorCaptured;if(a)for(var i=0;i<a.length;i++)try{if(!1===a[i].call(r,n,e,t))return}catch(n){Ie(n,r,"errorCaptured hook")}}Ie(n,e,t)}finally{_n()}}function Ae(n,e,t,r,a){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&h(i)&&!i._handled&&(i.catch((function(n){return Te(n,r,a+" (Promise/async)")})),i._handled=!0)}catch(n){Te(n,r,a)}return i}function Ie(n,e,t){if(K.errorHandler)try{return K.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Ce(e,null,"config.errorHandler")}Ce(n,e,t)}function Ce(n,e,t){if(!J||"undefined"==typeof console)throw n;console.error(n)}var ze,Be=!1,Re=[],Me=!1;function Le(){Me=!1;var n=Re.slice(0);Re.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var Pe=Promise.resolve();ze=function(){Pe.then(Le),Y&&setTimeout(M)},Be=!0}else if(W||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ze="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(Le)}:function(){setTimeout(Le,0)};else{var Oe=1,De=new MutationObserver(Le),je=document.createTextNode(String(Oe));De.observe(je,{characterData:!0}),ze=function(){Oe=(Oe+1)%2,je.data=String(Oe)},Be=!0}function Ne(n,e){var t;if(Re.push((function(){if(n)try{n.call(e)}catch(n){Te(n,e,"nextTick")}else t&&t(e)})),Me||(Me=!0,ze()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function Fe(n){return function(e,t){if(void 0===t&&(t=un),t)return function(n,e,t){var r=n.$options;r[e]=Tt(r[e],t)}(t,n,e)}}Fe("beforeMount"),Fe("mounted"),Fe("beforeUpdate"),Fe("updated"),Fe("beforeDestroy"),Fe("destroyed"),Fe("activated"),Fe("deactivated"),Fe("serverPrefetch"),Fe("renderTracked"),Fe("renderTriggered"),Fe("errorCaptured");var qe=new cn;function Ke(n){return function n(e,t){var r,i,o=a(e);if(!o&&!d(e)||e.__v_skip||Object.isFrozen(e)||e instanceof mn)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(o)for(r=e.length;r--;)n(e[r],t);else if(Nn(e))n(e.value,t);else for(i=Object.keys(e),r=i.length;r--;)n(e[i[r]],t)}(n,qe),qe.clear(),n}var Ue,$e=0,Ge=function(){function n(n,e,t,r,a){var i,o;i=this,void 0===(o=qn&&!qn._vm?qn:n?n._scope:void 0)&&(o=qn),o&&o.active&&o.effects.push(i),(this.vm=n)&&a&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++$e,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!H.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;xn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Te(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Ke(n),_n(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():pt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||d(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Ae(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&k(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function He(n,e){Ue.$on(n,e)}function Ve(n,e){Ue.$off(n,e)}function Je(n,e){var t=Ue;return function r(){var a=e.apply(null,arguments);null!==a&&t.$off(n,r)}}function Qe(n,e,t){Ue=n,Hn(e,t||{},He,Ve,Je,n),Ue=void 0}var We=null;function Xe(n){var e=We;return We=n,function(){We=e}}function Ze(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Ye(n,e){if(e){if(n._directInactive=!1,Ze(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Ye(n.$children[t]);nt(n,"activated")}}function nt(n,e,t,r){void 0===r&&(r=!0),xn();var a=un;r&&pn(n);var i=n.$options[e],o="".concat(e," hook");if(i)for(var s=0,l=i.length;s<l;s++)Ae(i[s],n,t||null,n,o);n._hasHookEvent&&n.$emit("hook:"+e),r&&pn(a),_n()}var et=[],tt=[],rt={},at=!1,it=!1,ot=0;var st=0,lt=Date.now;if(J&&!W){var ct=window.performance;ct&&"function"==typeof ct.now&&lt()>document.createEvent("Event").timeStamp&&(lt=function(){return ct.now()})}var dt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function ut(){var n,e;for(st=lt(),it=!0,et.sort(dt),ot=0;ot<et.length;ot++)(n=et[ot]).before&&n.before(),e=n.id,rt[e]=null,n.run();var t=tt.slice(),r=et.slice();ot=et.length=tt.length=0,rt={},at=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Ye(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&nt(r,"updated")}}(r),function(){for(var n=0;n<bn.length;n++){var e=bn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}bn.length=0}(),sn&&K.devtools&&sn.emit("flush")}function pt(n){var e=n.id;if(null==rt[e]&&(n!==yn.target||!n.noRecurse)){if(rt[e]=!0,it){for(var t=et.length-1;t>ot&&et[t].id>n.id;)t--;et.splice(t+1,0,n)}else et.push(n);at||(at=!0,Ne(ut))}}function mt(n,e){if(n){for(var t=Object.create(null),r=dn?Reflect.ownKeys(n):Object.keys(n),a=0;a<r.length;a++){var i=r[a];if("__ob__"!==i){var o=n[i].from;if(o in e._provided)t[i]=e._provided[o];else if("default"in n[i]){var s=n[i].default;t[i]=c(s)?s.call(e):s}else 0}}return t}}function ft(n,e,t,i,o){var l,c=this,d=o.options;_(i,"_uid")?(l=Object.create(i))._original=i:(l=i,i=i._original);var u=s(d._compiled),p=!u;this.data=n,this.props=e,this.children=t,this.parent=i,this.listeners=n.on||r,this.injections=mt(d.inject,i),this.slots=function(){return c.$slots||he(i,n.scopedSlots,c.$slots=pe(t,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return he(i,n.scopedSlots,this.slots())}}),u&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=he(i,n.scopedSlots,this.$slots)),d._scopeId?this._c=function(n,e,t,r){var o=Se(l,n,e,t,r,p);return o&&!a(o)&&(o.fnScopeId=d._scopeId,o.fnContext=i),o}:this._c=function(n,e,t,r){return Se(l,n,e,t,r,p)}}function ht(n,e,t,r,a){var i=gn(n);return i.fnContext=t,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function gt(n,e){for(var t in e)n[S(t)]=e[t]}function vt(n){return n.name||n.__name||n._componentTag}ue(ft.prototype);var bt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;bt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;o(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,We)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,a,i){var o=a.data.scopedSlots,s=n.$scopedSlots,l=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(i||n.$options._renderChildren||l),d=n.$vnode;n.$options._parentVnode=a,n.$vnode=a,n._vnode&&(n._vnode.parent=a),n.$options._renderChildren=i;var u=a.data.attrs||r;n._attrsProxy&&ye(n._attrsProxy,u,d.data&&d.data.attrs||r,n,"$attrs")&&(c=!0),n.$attrs=u,t=t||r;var p=n.$options._parentListeners;if(n._listenersProxy&&ye(n._listenersProxy,t,p||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Qe(n,t,p),e&&n.$options.props){In(!1);for(var m=n._props,f=n.$options._propKeys||[],h=0;h<f.length;h++){var g=f[h],v=n.$options.props;m[g]=Bt(g,v,e,n)}In(!0),n.$options.propsData=e}c&&(n.$slots=pe(i,a.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,nt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,tt.push(e)):Ye(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ze(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);nt(e,"deactivated")}}(e,!0):e.$destroy())}},yt=Object.keys(bt);function kt(n,e,t,l,c){if(!i(n)){var u=t.$options._base;if(d(n)&&(n=u.extend(n)),"function"==typeof n){var p;if(i(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=_e;if(t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var r=n.owners=[t],a=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return k(r,t)}));var u=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=j((function(t){n.resolved=we(t,e),a?r.length=0:u(!0)})),m=j((function(e){o(n.errorComp)&&(n.error=!0,u(!0))})),f=n(p,m);return d(f)&&(h(f)?i(n.resolved)&&f.then(p,m):h(f.component)&&(f.component.then(p,m),o(f.error)&&(n.errorComp=we(f.error,e)),o(f.loading)&&(n.loadingComp=we(f.loading,e),0===f.delay?n.loading=!0:l=setTimeout((function(){l=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,u(!1))}),f.delay||200)),o(f.timeout)&&(c=setTimeout((function(){c=null,i(n.resolved)&&m(null)}),f.timeout)))),a=!1,n.loading?n.loadingComp:n.resolved}}(p=n,u)))return function(n,e,t,r,a){var i=fn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:r,tag:a},i}(p,e,t,l,c);e=e||{},Gt(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var i=e.on||(e.on={}),s=i[r],l=e.model.callback;o(s)?(a(s)?-1===s.indexOf(l):s!==l)&&(i[r]=[l].concat(s)):i[r]=l}(n.options,e);var m=function(n,e,t){var r=e.options.props;if(!i(r)){var a={},s=n.attrs,l=n.props;if(o(s)||o(l))for(var c in r){var d=I(c);Jn(a,l,c,d,!0)||Jn(a,s,c,d,!1)}return a}}(e,n);if(s(n.options.functional))return function(n,e,t,i,s){var l=n.options,c={},d=l.props;if(o(d))for(var u in d)c[u]=Bt(u,d,e||r);else o(t.attrs)&&gt(c,t.attrs),o(t.props)&&gt(c,t.props);var p=new ft(t,c,s,i,n),m=l.render.call(null,p._c,p);if(m instanceof mn)return ht(m,t,p.parent,l,p);if(a(m)){for(var f=Qn(m)||[],h=new Array(f.length),g=0;g<f.length;g++)h[g]=ht(f[g],t,p.parent,l,p);return h}}(n,m,e,t,l);var f=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<yt.length;t++){var r=yt[t],a=e[r],i=bt[r];a===i||a&&a._merged||(e[r]=a?xt(i,a):i)}}(e);var v=vt(n.options)||c;return new mn("vue-component-".concat(n.cid).concat(v?"-".concat(v):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:m,listeners:f,tag:c,children:l},p)}}}function xt(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var _t=M,wt=K.optionMergeStrategies;function Et(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,a,i,o=dn?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(r=o[s])&&(a=n[r],i=e[r],t&&_(n,r)?a!==i&&p(a)&&p(i)&&Et(a,i):Mn(n,r,i));return n}function St(n,e,t){return t?function(){var r=c(e)?e.call(t,t):e,a=c(n)?n.call(t,t):n;return r?Et(r,a):a}:e?n?function(){return Et(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function Tt(n,e){var t=e?n?n.concat(e):a(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function At(n,e,t,r){var a=Object.create(n||null);return e?B(a,e):a}wt.data=function(n,e,t){return t?St(n,e,t):e&&"function"!=typeof e?n:St(n,e)},q.forEach((function(n){wt[n]=Tt})),F.forEach((function(n){wt[n+"s"]=At})),wt.watch=function(n,e,t,r){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var i={};for(var o in B(i,n),e){var s=i[o],l=e[o];s&&!a(s)&&(s=[s]),i[o]=s?s.concat(l):a(l)?l:[l]}return i},wt.props=wt.methods=wt.inject=wt.computed=function(n,e,t,r){if(!n)return e;var a=Object.create(null);return B(a,n),e&&B(a,e),a},wt.provide=function(n,e){return n?function(){var t=Object.create(null);return Et(t,c(n)?n.call(this):n),e&&Et(t,c(e)?e.call(this):e,!1),t}:e};var It=function(n,e){return void 0===e?n:e};function Ct(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,i,o={};if(a(t))for(r=t.length;r--;)"string"==typeof(i=t[r])&&(o[S(i)]={type:null});else if(p(t))for(var s in t)i=t[s],o[S(s)]=p(i)?i:{type:i};else 0;n.props=o}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(a(t))for(var i=0;i<t.length;i++)r[t[i]]={from:t[i]};else if(p(t))for(var o in t){var s=t[o];r[o]=p(s)?B({from:o},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];c(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Ct(n,e.extends,t)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)n=Ct(n,e.mixins[r],t);var o,s={};for(o in n)l(o);for(o in e)_(n,o)||l(o);function l(r){var a=wt[r]||It;s[r]=a(n[r],e[r],t,r)}return s}function zt(n,e,t,r){if("string"==typeof t){var a=n[e];if(_(a,t))return a[t];var i=S(t);if(_(a,i))return a[i];var o=T(i);return _(a,o)?a[o]:a[t]||a[i]||a[o]}}function Bt(n,e,t,r){var a=e[n],i=!_(t,n),o=t[n],s=Pt(Boolean,a.type);if(s>-1)if(i&&!_(a,"default"))o=!1;else if(""===o||o===I(n)){var l=Pt(String,a.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!_(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(r)&&"Function"!==Mt(e.type)?r.call(n):r}(r,a,n);var d=An;In(!0),Bn(o),In(d)}return o}var Rt=/^\s*function (\w+)/;function Mt(n){var e=n&&n.toString().match(Rt);return e?e[1]:""}function Lt(n,e){return Mt(n)===Mt(e)}function Pt(n,e){if(!a(e))return Lt(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Lt(e[t],n))return t;return-1}var Ot={enumerable:!0,configurable:!0,get:M,set:M};function Dt(n,e,t){Ot.get=function(){return this[e][t]},Ot.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Ot)}function jt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=On({}),a=n.$options._propKeys=[];n.$parent&&In(!1);var i=function(i){a.push(i);var o=Bt(i,e,t,n);Rn(r,i,o),i in n||Dt(n,"_props",i)};for(var o in e)i(o);In(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=be(n);pn(n),xn();var a=Ae(t,null,[n._props||On({}),r],n,"setup");if(_n(),pn(),c(a))e.render=a;else if(d(a))if(n._setupState=a,a.__sfc){var i=n._setupProxy={};for(var o in a)"__sfc"!==o&&Fn(i,a,o)}else for(var o in a)$(o)||Fn(n,a,o);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?M:C(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=c(e)?function(n,e){xn();try{return n.call(e,e)}catch(n){return Te(n,e,"data()"),{}}finally{_n()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,a=(n.$options.methods,t.length);for(;a--;){var i=t[a];0,r&&_(r,i)||$(i)||Dt(n,"_data",i)}var o=Bn(e);o&&o.vmCount++}(n);else{var t=Bn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=on();for(var a in e){var i=e[a],o=c(i)?i:i.get;0,r||(t[a]=new Ge(n,o||M,M,Nt)),a in n||Ft(n,a,i)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var r=e[t];if(a(r))for(var i=0;i<r.length;i++)Ut(n,t,r[i]);else Ut(n,t,r)}}(n,e.watch)}var Nt={lazy:!0};function Ft(n,e,t){var r=!on();c(t)?(Ot.get=r?qt(e):Kt(t),Ot.set=M):(Ot.get=t.get?r&&!1!==t.cache?qt(e):Kt(t.get):M,Ot.set=t.set||M),Object.defineProperty(n,e,Ot)}function qt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),yn.target&&e.depend(),e.value}}function Kt(n){return function(){return n.call(this,this)}}function Ut(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var $t=0;function Gt(n){var e=n.options;if(n.super){var t=Gt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var a in t)t[a]!==r[a]&&(e||(e={}),e[a]=t[a]);return e}(n);r&&B(n.extendOptions,r),(e=n.options=Ct(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Ht(n){this._init(n)}function Vt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,a=n._Ctor||(n._Ctor={});if(a[r])return a[r];var i=vt(n)||vt(t.options);var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=Ct(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)Dt(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)Ft(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,F.forEach((function(n){o[n]=t[n]})),i&&(o.options.components[i]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=B({},o.options),a[r]=o,o}}function Jt(n){return n&&(vt(n.Ctor.options)||n.tag)}function Qt(n,e){return a(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!m(n)&&n.test(e)}function Wt(n,e){var t=n.cache,r=n.keys,a=n._vnode;for(var i in t){var o=t[i];if(o){var s=o.name;s&&!e(s)&&Xt(t,i,r,a)}}}function Xt(n,e,t,r){var a=n[e];!a||r&&a.tag===r.tag||a.componentInstance.$destroy(),n[e]=null,k(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=$t++,e._isVue=!0,e.__v_skip=!0,e._scope=new Kn(!0),e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var a=r.componentOptions;t.propsData=a.propsData,t._parentListeners=a.listeners,t._renderChildren=a.children,t._componentTag=a.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Ct(Gt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Qe(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,a=t&&t.context;n.$slots=pe(e._renderChildren,a),n.$scopedSlots=t?he(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,a){return Se(n,e,t,r,a,!1)},n.$createElement=function(e,t,r,a){return Se(n,e,t,r,a,!0)};var i=t&&t.data;Rn(n,"$attrs",i&&i.attrs||r,null,!0),Rn(n,"$listeners",e._parentListeners||r,null,!0)}(e),nt(e,"beforeCreate",void 0,!1),function(n){var e=mt(n.$options.inject,n);e&&(In(!1),Object.keys(e).forEach((function(t){Rn(n,t,e[t])})),In(!0))}(e),jt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!d(t))return;for(var r=Un(n),a=dn?Reflect.ownKeys(t):Object.keys(t),i=0;i<a.length;i++){var o=a[i];Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))}}}(e),nt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Ht),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Mn,n.prototype.$delete=Ln,n.prototype.$watch=function(n,e,t){if(p(e))return Ut(this,n,e,t);(t=t||{}).user=!0;var r=new Ge(this,n,e,t);if(t.immediate){var a='callback for immediate watcher "'.concat(r.expression,'"');xn(),Ae(e,this,[r.value],this,a),_n()}return function(){r.teardown()}}}(Ht),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(a(n))for(var i=0,o=n.length;i<o;i++)r.$on(n[i],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(a(n)){for(var r=0,i=n.length;r<i;r++)t.$off(n[r],e);return t}var o,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var l=s.length;l--;)if((o=s[l])===e||o.fn===e){s.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?z(t):t;for(var r=z(arguments,1),a='event handler for "'.concat(n,'"'),i=0,o=t.length;i<o;i++)Ae(t[i],e,r,e,a)}return e}}(Ht),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,a=t._vnode,i=Xe(t);t._vnode=n,t.$el=a?t.__patch__(a,n):t.__patch__(t.$el,n,e,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var o=t;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){nt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||k(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),nt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Ht),function(n){ue(n.prototype),n.prototype.$nextTick=function(n){return Ne(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,i=t._parentVnode;i&&e._isMounted&&(e.$scopedSlots=he(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&xe(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{pn(e),_e=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Te(t,e,"render"),n=e._vnode}finally{_e=null,pn()}return a(n)&&1===n.length&&(n=n[0]),n instanceof mn||(n=fn()),n.parent=i,n}}(Ht);var Zt=[String,RegExp,Array],Yt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Zt,exclude:Zt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var a=t.tag,i=t.componentInstance,o=t.componentOptions;n[r]={name:Jt(o),tag:a,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&Xt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Xt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Wt(n,(function(n){return Qt(e,n)}))})),this.$watch("exclude",(function(e){Wt(n,(function(n){return!Qt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ee(n),t=e&&e.componentOptions;if(t){var r=Jt(t),a=this.include,i=this.exclude;if(a&&(!r||!Qt(a,r))||i&&r&&Qt(i,r))return e;var o=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,k(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return K}};Object.defineProperty(n,"config",e),n.util={warn:_t,extend:B,mergeOptions:Ct,defineReactive:Rn},n.set=Mn,n.delete=Ln,n.nextTick=Ne,n.observable=function(n){return Bn(n),n},n.options=Object.create(null),F.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,B(n.options.components,Yt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=z(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Ct(this.options,n),this}}(n),Vt(n),function(n){F.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Ht),Object.defineProperty(Ht.prototype,"$isServer",{get:on}),Object.defineProperty(Ht.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ht,"FunctionalRenderContext",{value:ft}),Ht.version="2.7.14";var nr=b("style,class"),er=b("input,textarea,option,select,progress"),tr=b("contenteditable,draggable,spellcheck"),rr=b("events,caret,typing,plaintext-only"),ar=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",or=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},sr=function(n){return or(n)?n.slice(6,n.length):""},lr=function(n){return null==n||!1===n};function cr(n){for(var e=n.data,t=n,r=n;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=dr(r.data,e));for(;o(t=t.parent);)t&&t.data&&(e=dr(e,t.data));return function(n,e){if(o(n)||o(e))return ur(n,pr(e));return""}(e.staticClass,e.class)}function dr(n,e){return{staticClass:ur(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function ur(n,e){return n?e?n+" "+e:n:e||""}function pr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,a=n.length;r<a;r++)o(e=pr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):d(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var mr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},fr=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),hr=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),gr=function(n){return fr(n)||hr(n)};var vr=Object.create(null);var br=b("text,number,password,search,email,tel,url");var yr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(mr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),kr={create:function(n,e){xr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(xr(n,!0),xr(e))},destroy:function(n){xr(n,!0)}};function xr(n,e){var t=n.data.ref;if(o(t)){var r=n.context,i=n.componentInstance||n.elm,s=e?null:i,l=e?void 0:i;if(c(t))Ae(t,r,[s],r,"template ref function");else{var d=n.data.refInFor,u="string"==typeof t||"number"==typeof t,p=Nn(t),m=r.$refs;if(u||p)if(d){var f=u?m[t]:t.value;e?a(f)&&k(f,i):a(f)?f.includes(i)||f.push(i):u?(m[t]=[i],_r(r,t,m[t])):t.value=[i]}else if(u){if(e&&m[t]!==i)return;m[t]=l,_r(r,t,s)}else if(p){if(e&&t.value!==i)return;t.value=s}else 0}}}function _r(n,e,t){var r=n._setupState;r&&_(r,e)&&(Nn(r[e])?r[e].value=t:r[e]=t)}var wr=new mn("",{},[]),Er=["create","activate","update","remove","destroy"];function Sr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=o(t=n.data)&&o(t=t.attrs)&&t.type,a=o(t=e.data)&&o(t=t.attrs)&&t.type;return r===a||br(r)&&br(a)}(n,e)||s(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function Tr(n,e,t){var r,a,i={};for(r=e;r<=t;++r)o(a=n[r].key)&&(i[a]=r);return i}var Ar={create:Ir,update:Ir,destroy:function(n){Ir(n,wr)}};function Ir(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,a,i=n===wr,o=e===wr,s=zr(n.data.directives,n.context),l=zr(e.data.directives,e.context),c=[],d=[];for(t in l)r=s[t],a=l[t],r?(a.oldValue=r.value,a.oldArg=r.arg,Rr(a,"update",e,n),a.def&&a.def.componentUpdated&&d.push(a)):(Rr(a,"bind",e,n),a.def&&a.def.inserted&&c.push(a));if(c.length){var u=function(){for(var t=0;t<c.length;t++)Rr(c[t],"inserted",e,n)};i?Vn(e,"insert",u):u()}d.length&&Vn(e,"postpatch",(function(){for(var t=0;t<d.length;t++)Rr(d[t],"componentUpdated",e,n)}));if(!i)for(t in s)l[t]||Rr(s[t],"unbind",n,n,o)}(n,e)}var Cr=Object.create(null);function zr(n,e){var t,r,a=Object.create(null);if(!n)return a;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=Cr),a[Br(r)]=r,e._setupState&&e._setupState.__sfc){var i=r.def||zt(e,"_setupState","v-"+r.name);r.def="function"==typeof i?{bind:i,update:i}:i}r.def=r.def||zt(e.$options,"directives",r.name)}return a}function Br(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Rr(n,e,t,r,a){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,r,a)}catch(r){Te(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Mr=[kr,Ar];function Lr(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var r,a,l=e.elm,c=n.data.attrs||{},d=e.data.attrs||{};for(r in(o(d.__ob__)||s(d._v_attr_proxy))&&(d=e.data.attrs=B({},d)),d)a=d[r],c[r]!==a&&Pr(l,r,a,e.data.pre);for(r in(W||Z)&&d.value!==c.value&&Pr(l,"value",d.value),c)i(d[r])&&(or(r)?l.removeAttributeNS(ir,sr(r)):tr(r)||l.removeAttribute(r))}}function Pr(n,e,t,r){r||n.tagName.indexOf("-")>-1?Or(n,e,t):ar(e)?lr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):tr(e)?n.setAttribute(e,function(n,e){return lr(e)||"false"===e?"false":"contenteditable"===n&&rr(e)?e:"true"}(e,t)):or(e)?lr(t)?n.removeAttributeNS(ir,sr(e)):n.setAttributeNS(ir,e,t):Or(n,e,t)}function Or(n,e,t){if(lr(t))n.removeAttribute(e);else{if(W&&!X&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Dr={create:Lr,update:Lr};function jr(n,e){var t=e.elm,r=e.data,a=n.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=cr(e),l=t._transitionClasses;o(l)&&(s=ur(s,pr(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Nr,Fr={create:jr,update:jr};function qr(n,e,t){var r=Nr;return function a(){var i=e.apply(null,arguments);null!==i&&$r(n,a,t,r)}}var Kr=Be&&!(en&&Number(en[1])<=53);function Ur(n,e,t,r){if(Kr){var a=st,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=a||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}Nr.addEventListener(n,e,rn?{capture:t,passive:r}:t)}function $r(n,e,t,r){(r||Nr).removeEventListener(n,e._wrapper||e,t)}function Gr(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Nr=e.elm||n.elm,function(n){if(o(n.__r)){var e=W?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Hn(t,r,Ur,$r,qr,e.context),Nr=void 0}}var Hr,Vr={create:Gr,update:Gr,destroy:function(n){return Gr(n,wr)}};function Jr(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,r,a=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(o(c.__ob__)||s(c._v_attr_proxy))&&(c=e.data.domProps=B({},c)),l)t in c||(a[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===l[t])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===t&&"PROGRESS"!==a.tagName){a._value=r;var d=i(r)?"":String(r);Qr(a,d)&&(a.value=d)}else if("innerHTML"===t&&hr(a.tagName)&&i(a.innerHTML)){(Hr=Hr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var u=Hr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}else if(r!==l[t])try{a[t]=r}catch(n){}}}}function Qr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(o(r)){if(r.number)return v(t)!==v(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Wr={create:Jr,update:Jr},Xr=w((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Zr(n){var e=Yr(n.style);return n.staticStyle?B(n.staticStyle,e):e}function Yr(n){return Array.isArray(n)?R(n):"string"==typeof n?Xr(n):n}var na,ea=/^--/,ta=/\s*!important$/,ra=function(n,e,t){if(ea.test(e))n.style.setProperty(e,t);else if(ta.test(t))n.style.setProperty(I(e),t.replace(ta,""),"important");else{var r=ia(e);if(Array.isArray(t))for(var a=0,i=t.length;a<i;a++)n.style[r]=t[a];else n.style[r]=t}},aa=["Webkit","Moz","ms"],ia=w((function(n){if(na=na||document.createElement("div").style,"filter"!==(n=S(n))&&n in na)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<aa.length;t++){var r=aa[t]+e;if(r in na)return r}}));function oa(n,e){var t=e.data,r=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(r.staticStyle)&&i(r.style))){var a,s,l=e.elm,c=r.staticStyle,d=r.normalizedStyle||r.style||{},u=c||d,p=Yr(e.data.style)||{};e.data.normalizedStyle=o(p.__ob__)?B({},p):p;var m=function(n,e){var t,r={};if(e)for(var a=n;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(t=Zr(a.data))&&B(r,t);(t=Zr(n.data))&&B(r,t);for(var i=n;i=i.parent;)i.data&&(t=Zr(i.data))&&B(r,t);return r}(e,!0);for(s in u)i(m[s])&&ra(l,s,"");for(s in m)(a=m[s])!==u[s]&&ra(l,s,null==a?"":a)}}var sa={create:oa,update:oa},la=/\s+/;function ca(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(la).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function da(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(la).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function ua(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&B(e,pa(n.name||"v")),B(e,n),e}return"string"==typeof n?pa(n):void 0}}var pa=w((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),ma=J&&!X,fa="transition",ha="transitionend",ga="animation",va="animationend";ma&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(fa="WebkitTransition",ha="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ga="WebkitAnimation",va="webkitAnimationEnd"));var ba=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function ya(n){ba((function(){ba(n)}))}function ka(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),ca(n,e))}function xa(n,e){n._transitionClasses&&k(n._transitionClasses,e),da(n,e)}function _a(n,e,t){var r=Ea(n,e),a=r.type,i=r.timeout,o=r.propCount;if(!a)return t();var s="transition"===a?ha:va,l=0,c=function(){n.removeEventListener(s,d),t()},d=function(e){e.target===n&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),i+1),n.addEventListener(s,d)}var wa=/\b(transform|all)(,|$)/;function Ea(n,e){var t,r=window.getComputedStyle(n),a=(r[fa+"Delay"]||"").split(", "),i=(r[fa+"Duration"]||"").split(", "),o=Sa(a,i),s=(r[ga+"Delay"]||"").split(", "),l=(r[ga+"Duration"]||"").split(", "),c=Sa(s,l),d=0,u=0;return"transition"===e?o>0&&(t="transition",d=o,u=i.length):"animation"===e?c>0&&(t="animation",d=c,u=l.length):u=(t=(d=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?i.length:l.length:0,{type:t,timeout:d,propCount:u,hasTransform:"transition"===t&&wa.test(r[fa+"Property"])}}function Sa(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Ta(e)+Ta(n[t])})))}function Ta(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Aa(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=ua(n.data.transition);if(!i(r)&&!o(t._enterCb)&&1===t.nodeType){for(var a=r.css,s=r.type,l=r.enterClass,u=r.enterToClass,p=r.enterActiveClass,m=r.appearClass,f=r.appearToClass,h=r.appearActiveClass,g=r.beforeEnter,b=r.enter,y=r.afterEnter,k=r.enterCancelled,x=r.beforeAppear,_=r.appear,w=r.afterAppear,E=r.appearCancelled,S=r.duration,T=We,A=We.$vnode;A&&A.parent;)T=A.context,A=A.parent;var I=!T._isMounted||!n.isRootInsert;if(!I||_||""===_){var C=I&&m?m:l,z=I&&h?h:p,B=I&&f?f:u,R=I&&x||g,M=I&&c(_)?_:b,L=I&&w||y,P=I&&E||k,O=v(d(S)?S.enter:S);0;var D=!1!==a&&!X,N=za(M),F=t._enterCb=j((function(){D&&(xa(t,B),xa(t,z)),F.cancelled?(D&&xa(t,C),P&&P(t)):L&&L(t),t._enterCb=null}));n.data.show||Vn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(t,F)})),R&&R(t),D&&(ka(t,C),ka(t,z),ya((function(){xa(t,C),F.cancelled||(ka(t,B),N||(Ca(O)?setTimeout(F,O):_a(t,s,F)))}))),n.data.show&&(e&&e(),M&&M(t,F)),D||N||F()}}}function Ia(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=ua(n.data.transition);if(i(r)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var a=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,u=r.leaveActiveClass,p=r.beforeLeave,m=r.leave,f=r.afterLeave,h=r.leaveCancelled,g=r.delayLeave,b=r.duration,y=!1!==a&&!X,k=za(m),x=v(d(b)?b.leave:b);0;var _=t._leaveCb=j((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(xa(t,c),xa(t,u)),_.cancelled?(y&&xa(t,l),h&&h(t)):(e(),f&&f(t)),t._leaveCb=null}));g?g(w):w()}function w(){_.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),y&&(ka(t,l),ka(t,u),ya((function(){xa(t,l),_.cancelled||(ka(t,c),k||(Ca(x)?setTimeout(_,x):_a(t,s,_)))}))),m&&m(t,_),y||k||_())}}function Ca(n){return"number"==typeof n&&!isNaN(n)}function za(n){if(i(n))return!1;var e=n.fns;return o(e)?za(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Ba(n,e){!0!==e.data.show&&Aa(e)}var Ra=function(n){var e,t,r={},c=n.modules,d=n.nodeOps;for(e=0;e<Er.length;++e)for(r[Er[e]]=[],t=0;t<c.length;++t)o(c[t][Er[e]])&&r[Er[e]].push(c[t][Er[e]]);function u(n){var e=d.parentNode(n);o(e)&&d.removeChild(e,n)}function p(n,e,t,a,i,l,c){if(o(n.elm)&&o(l)&&(n=l[c]=gn(n)),n.isRootInsert=!i,!function(n,e,t,a){var i=n.data;if(o(i)){var l=o(n.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(n,!1),o(n.componentInstance))return m(n,e),f(t,n.elm,a),s(l)&&function(n,e,t,a){var i,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,o(i=s.data)&&o(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](wr,s);e.push(s);break}f(t,n.elm,a)}(n,e,t,a),!0}}(n,e,t,a)){var u=n.data,p=n.children,g=n.tag;o(g)?(n.elm=n.ns?d.createElementNS(n.ns,g):d.createElement(g,n),y(n),h(n,p,e),o(u)&&v(n,e),f(t,n.elm,a)):s(n.isComment)?(n.elm=d.createComment(n.text),f(t,n.elm,a)):(n.elm=d.createTextNode(n.text),f(t,n.elm,a))}}function m(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,g(n)?(v(n,e),y(n)):(xr(n),e.push(n))}function f(n,e,t){o(n)&&(o(t)?d.parentNode(t)===n&&d.insertBefore(n,e,t):d.appendChild(n,e))}function h(n,e,t){if(a(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else l(n.text)&&d.appendChild(n.elm,d.createTextNode(String(n.text)))}function g(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function v(n,t){for(var a=0;a<r.create.length;++a)r.create[a](wr,n);o(e=n.data.hook)&&(o(e.create)&&e.create(wr,n),o(e.insert)&&t.push(n))}function y(n){var e;if(o(e=n.fnScopeId))d.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e),t=t.parent;o(e=We)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e)}function k(n,e,t,r,a,i){for(;r<=a;++r)p(t[r],i,n,e,!1,t,r)}function x(n){var e,t,a=n.data;if(o(a))for(o(e=a.hook)&&o(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function _(n,e,t){for(;e<=t;++e){var r=n[e];o(r)&&(o(r.tag)?(w(r),x(r)):u(r.elm))}}function w(n,e){if(o(e)||o(n.data)){var t,a=r.remove.length+1;for(o(e)?e.listeners+=a:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,a),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&w(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else u(n.elm)}function E(n,e,t,r){for(var a=t;a<r;a++){var i=e[a];if(o(i)&&Sr(n,i))return a}}function S(n,e,t,a,l,c){if(n!==e){o(e.elm)&&o(a)&&(e=a[l]=gn(e));var u=e.elm=n.elm;if(s(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?I(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,f=e.data;o(f)&&o(m=f.hook)&&o(m=m.prepatch)&&m(n,e);var h=n.children,v=e.children;if(o(f)&&g(e)){for(m=0;m<r.update.length;++m)r.update[m](n,e);o(m=f.hook)&&o(m=m.update)&&m(n,e)}i(e.text)?o(h)&&o(v)?h!==v&&function(n,e,t,r,a){var s,l,c,u=0,m=0,f=e.length-1,h=e[0],g=e[f],v=t.length-1,b=t[0],y=t[v],x=!a;for(0;u<=f&&m<=v;)i(h)?h=e[++u]:i(g)?g=e[--f]:Sr(h,b)?(S(h,b,r,t,m),h=e[++u],b=t[++m]):Sr(g,y)?(S(g,y,r,t,v),g=e[--f],y=t[--v]):Sr(h,y)?(S(h,y,r,t,v),x&&d.insertBefore(n,h.elm,d.nextSibling(g.elm)),h=e[++u],y=t[--v]):Sr(g,b)?(S(g,b,r,t,m),x&&d.insertBefore(n,g.elm,h.elm),g=e[--f],b=t[++m]):(i(s)&&(s=Tr(e,u,f)),i(l=o(b.key)?s[b.key]:E(b,e,u,f))?p(b,r,n,h.elm,!1,t,m):Sr(c=e[l],b)?(S(c,b,r,t,m),e[l]=void 0,x&&d.insertBefore(n,c.elm,h.elm)):p(b,r,n,h.elm,!1,t,m),b=t[++m]);u>f?k(n,i(t[v+1])?null:t[v+1].elm,t,m,v,r):m>v&&_(e,u,f)}(u,h,v,t,c):o(v)?(o(n.text)&&d.setTextContent(u,""),k(u,null,v,0,v.length-1,t)):o(h)?_(h,0,h.length-1):o(n.text)&&d.setTextContent(u,""):n.text!==e.text&&d.setTextContent(u,e.text),o(f)&&o(m=f.hook)&&o(m=m.postpatch)&&m(n,e)}}}function T(n,e,t){if(s(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var A=b("attrs,class,staticClass,staticStyle,key");function I(n,e,t,r){var a,i=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=n,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(a=l.hook)&&o(a=a.init)&&a(e,!0),o(a=e.componentInstance)))return m(e,t),!0;if(o(i)){if(o(c))if(n.hasChildNodes())if(o(a=l)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==n.innerHTML)return!1}else{for(var d=!0,u=n.firstChild,p=0;p<c.length;p++){if(!u||!I(u,c[p],t,r)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else h(e,c,t);if(o(l)){var f=!1;for(var g in l)if(!A(g)){f=!0,v(e,t);break}!f&&l.class&&Ke(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,a){if(!i(e)){var l,c=!1,u=[];if(i(n))c=!0,p(e,u);else{var m=o(n.nodeType);if(!m&&Sr(n,e))S(n,e,u,null,null,a);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&I(n,e,u))return T(e,u,!0),n;l=n,n=new mn(d.tagName(l).toLowerCase(),{},[],void 0,l)}var f=n.elm,h=d.parentNode(f);if(p(e,u,f._leaveCb?null:h,d.nextSibling(f)),o(e.parent))for(var v=e.parent,b=g(e);v;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](v);if(v.elm=e.elm,b){for(var k=0;k<r.create.length;++k)r.create[k](wr,v);var w=v.data.hook.insert;if(w.merged)for(var E=1;E<w.fns.length;E++)w.fns[E]()}else xr(v);v=v.parent}o(h)?_([n],0,0):o(n.tag)&&x(n)}}return T(e,u,c),e.elm}o(n)&&x(n)}}({nodeOps:yr,modules:[Dr,Fr,Vr,Wr,sa,J?{create:Ba,activate:Ba,remove:function(n,e){!0!==n.data.show?Ia(n,e):e()}}:{}].concat(Mr)});X&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Fa(n,"input")}));var Ma={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Vn(t,"postpatch",(function(){Ma.componentUpdated(n,e,t)})):La(n,e,t.context),n._vOptions=[].map.call(n.options,Da)):("textarea"===t.tag||br(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",ja),n.addEventListener("compositionend",Na),n.addEventListener("change",Na),X&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){La(n,e,t.context);var r=n._vOptions,a=n._vOptions=[].map.call(n.options,Da);if(a.some((function(n,e){return!O(n,r[e])})))(n.multiple?e.value.some((function(n){return Oa(n,a)})):e.value!==e.oldValue&&Oa(e.value,a))&&Fa(n,"change")}}};function La(n,e,t){Pa(n,e,t),(W||Z)&&setTimeout((function(){Pa(n,e,t)}),0)}function Pa(n,e,t){var r=e.value,a=n.multiple;if(!a||Array.isArray(r)){for(var i,o,s=0,l=n.options.length;s<l;s++)if(o=n.options[s],a)i=D(r,Da(o))>-1,o.selected!==i&&(o.selected=i);else if(O(Da(o),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));a||(n.selectedIndex=-1)}}function Oa(n,e){return e.every((function(e){return!O(e,n)}))}function Da(n){return"_value"in n?n._value:n.value}function ja(n){n.target.composing=!0}function Na(n){n.target.composing&&(n.target.composing=!1,Fa(n.target,"input"))}function Fa(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function qa(n){return!n.componentInstance||n.data&&n.data.transition?n:qa(n.componentInstance._vnode)}var Ka={model:Ma,show:{bind:function(n,e,t){var r=e.value,a=(t=qa(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&a?(t.data.show=!0,Aa(t,(function(){n.style.display=i}))):n.style.display=r?i:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=qa(t)).data&&t.data.transition?(t.data.show=!0,r?Aa(t,(function(){n.style.display=n.__vOriginalDisplay})):Ia(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,a){a||(n.style.display=n.__vOriginalDisplay)}}},Ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function $a(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?$a(Ee(e.children)):n}function Ga(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var a=t._parentListeners;for(var r in a)e[S(r)]=a[r];return e}function Ha(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Va=function(n){return n.tag||fe(n)},Ja=function(n){return"show"===n.name},Qa={name:"transition",props:Ua,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Va)).length){0;var r=this.mode;0;var a=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return a;var i=$a(a);if(!i)return a;if(this._leaving)return Ha(n,a);var o="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?o+"comment":o+i.tag:l(i.key)?0===String(i.key).indexOf(o)?i.key:o+i.key:i.key;var s=(i.data||(i.data={})).transition=Ga(this),c=this._vnode,d=$a(c);if(i.data.directives&&i.data.directives.some(Ja)&&(i.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,d)&&!fe(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=B({},s);if("out-in"===r)return this._leaving=!0,Vn(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ha(n,a);if("in-out"===r){if(fe(i))return c;var p,m=function(){p()};Vn(s,"afterEnter",m),Vn(s,"enterCancelled",m),Vn(u,"delayLeave",(function(n){p=n}))}}return a}}},Wa=B({tag:String,moveClass:String},Ua);function Xa(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Za(n){n.data.newPos=n.elm.getBoundingClientRect()}function Ya(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,a=e.top-t.top;if(r||a){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(a,"px)"),i.transitionDuration="0s"}}delete Wa.mode;var ni={Transition:Qa,TransitionGroup:{props:Wa,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var a=Xe(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,a(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,a=this.$slots.default||[],i=this.children=[],o=Ga(this),s=0;s<a.length;s++){if((d=a[s]).tag)if(null!=d.key&&0!==String(d.key).indexOf("__vlist"))i.push(d),t[d.key]=d,(d.data||(d.data={})).transition=o;else;}if(r){var l=[],c=[];for(s=0;s<r.length;s++){var d;(d=r[s]).data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?l.push(d):c.push(d)}this.kept=n(e,null,l),this.removed=c}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Xa),n.forEach(Za),n.forEach(Ya),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;ka(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(ha,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(ha,n),t._moveCb=null,xa(t,e))})}})))},methods:{hasMove:function(n,e){if(!ma)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){da(t,n)})),ca(t,e),t.style.display="none",this.$el.appendChild(t);var r=Ea(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function ei(n,e){for(var t in e)n[t]=e[t];return n}Ht.config.mustUseProp=function(n,e,t){return"value"===t&&er(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Ht.config.isReservedTag=gr,Ht.config.isReservedAttr=nr,Ht.config.getTagNamespace=function(n){return hr(n)?"svg":"math"===n?"math":void 0},Ht.config.isUnknownElement=function(n){if(!J)return!0;if(gr(n))return!1;if(n=n.toLowerCase(),null!=vr[n])return vr[n];var e=document.createElement(n);return n.indexOf("-")>-1?vr[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:vr[n]=/HTMLUnknownElement/.test(e.toString())},B(Ht.options.directives,Ka),B(Ht.options.components,ni),Ht.prototype.__patch__=J?Ra:M,Ht.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=fn),nt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new Ge(n,r,M,{before:function(){n._isMounted&&!n._isDestroyed&&nt(n,"beforeUpdate")}},!0),t=!1;var a=n._preWatchers;if(a)for(var i=0;i<a.length;i++)a[i].run();return null==n.$vnode&&(n._isMounted=!0,nt(n,"mounted")),n}(this,n=n&&J?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},J&&setTimeout((function(){K.devtools&&sn&&sn.emit("init",Ht)}),0);var ti=/[!'()*]/g,ri=function(n){return"%"+n.charCodeAt(0).toString(16)},ai=/%2C/g,ii=function(n){return encodeURIComponent(n).replace(ti,ri).replace(ai,",")};function oi(n){try{return decodeURIComponent(n)}catch(n){0}return n}var si=function(n){return null==n||"object"==typeof n?n:String(n)};function li(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=oi(t.shift()),a=t.length>0?oi(t.join("=")):null;void 0===e[r]?e[r]=a:Array.isArray(e[r])?e[r].push(a):e[r]=[e[r],a]})),e):e}function ci(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return ii(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(ii(e)):r.push(ii(e)+"="+ii(n)))})),r.join("&")}return ii(e)+"="+ii(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var di=/\/?$/;function ui(n,e,t,r){var a=r&&r.options.stringifyQuery,i=e.query||{};try{i=pi(i)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:hi(e,a),matched:n?fi(n):[]};return t&&(o.redirectedFrom=hi(t,a)),Object.freeze(o)}function pi(n){if(Array.isArray(n))return n.map(pi);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=pi(n[t]);return e}return n}var mi=ui(null,{path:"/"});function fi(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function hi(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var a=n.hash;return void 0===a&&(a=""),(t||"/")+(e||ci)(r)+a}function gi(n,e,t){return e===mi?n===e:!!e&&(n.path&&e.path?n.path.replace(di,"")===e.path.replace(di,"")&&(t||n.hash===e.hash&&vi(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&vi(n.query,e.query)&&vi(n.params,e.params))))}function vi(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,a){var i=n[t];if(r[a]!==t)return!1;var o=e[t];return null==i||null==o?i===o:"object"==typeof i&&"object"==typeof o?vi(i,o):String(i)===String(o)}))}function bi(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var a=t.instances[r],i=t.enteredCbs[r];if(a&&i){delete t.enteredCbs[r];for(var o=0;o<i.length;o++)a._isBeingDestroyed||i[o](a)}}}}var yi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,a=e.parent,i=e.data;i.routerView=!0;for(var o=a.$createElement,s=t.name,l=a.$route,c=a._routerViewCache||(a._routerViewCache={}),d=0,u=!1;a&&a._routerRoot!==a;){var p=a.$vnode?a.$vnode.data:{};p.routerView&&d++,p.keepAlive&&a._directInactive&&a._inactive&&(u=!0),a=a.$parent}if(i.routerViewDepth=d,u){var m=c[s],f=m&&m.component;return f?(m.configProps&&ki(f,i,m.route,m.configProps),o(f,i,r)):o()}var h=l.matched[d],g=h&&h.components[s];if(!h||!g)return c[s]=null,o();c[s]={component:g},i.registerRouteInstance=function(n,e){var t=h.instances[s];(e&&t!==n||!e&&t===n)&&(h.instances[s]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){h.instances[s]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==h.instances[s]&&(h.instances[s]=n.componentInstance),bi(l)};var v=h.props&&h.props[s];return v&&(ei(c[s],{route:l,configProps:v}),ki(g,i,l,v)),o(g,i,r)}};function ki(n,e,t,r){var a=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(a){a=e.props=ei({},a);var i=e.attrs=e.attrs||{};for(var o in a)n.props&&o in n.props||(i[o]=a[o],delete a[o])}}function xi(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var a=e.split("/");t&&a[a.length-1]||a.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var s=i[o];".."===s?a.pop():"."!==s&&a.push(s)}return""!==a[0]&&a.unshift(""),a.join("/")}function _i(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var wi=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Ei=ji,Si=zi,Ti=function(n,e){return Ri(zi(n,e),e)},Ai=Ri,Ii=Di,Ci=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function zi(n,e){for(var t,r=[],a=0,i=0,o="",s=e&&e.delimiter||"/";null!=(t=Ci.exec(n));){var l=t[0],c=t[1],d=t.index;if(o+=n.slice(i,d),i=d+l.length,c)o+=c[1];else{var u=n[i],p=t[2],m=t[3],f=t[4],h=t[5],g=t[6],v=t[7];o&&(r.push(o),o="");var b=null!=p&&null!=u&&u!==p,y="+"===g||"*"===g,k="?"===g||"*"===g,x=t[2]||s,_=f||h;r.push({name:m||a++,prefix:p||"",delimiter:x,optional:k,repeat:y,partial:b,asterisk:!!v,pattern:_?Li(_):v?".*":"[^"+Mi(x)+"]+?"})}}return i<n.length&&(o+=n.substr(i)),o&&r.push(o),r}function Bi(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function Ri(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Oi(e)));return function(e,r){for(var a="",i=e||{},o=(r||{}).pretty?Bi:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,d=i[l.name];if(null==d){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(wi(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=o(d[u]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");a+=(0===u?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(d),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');a+=l.prefix+c}}else a+=l}return a}}function Mi(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Li(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Pi(n,e){return n.keys=e,n}function Oi(n){return n&&n.sensitive?"":"i"}function Di(n,e,t){wi(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,a=!1!==t.end,i="",o=0;o<n.length;o++){var s=n[o];if("string"==typeof s)i+=Mi(s);else{var l=Mi(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),i+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=Mi(t.delimiter||"/"),u=i.slice(-d.length)===d;return r||(i=(u?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=a?"$":r&&u?"":"(?="+d+"|$)",Pi(new RegExp("^"+i,Oi(t)),e)}function ji(n,e,t){return wi(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Pi(n,e)}(n,e):wi(n)?function(n,e,t){for(var r=[],a=0;a<n.length;a++)r.push(ji(n[a],e,t).source);return Pi(new RegExp("(?:"+r.join("|")+")",Oi(t)),e)}(n,e,t):function(n,e,t){return Di(zi(n,t),e,t)}(n,e,t)}Ei.parse=Si,Ei.compile=Ti,Ei.tokensToFunction=Ai,Ei.tokensToRegExp=Ii;var Ni=Object.create(null);function Fi(n,e,t){e=e||{};try{var r=Ni[n]||(Ni[n]=Ei.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function qi(n,e,t,r){var a="string"==typeof n?{path:n}:n;if(a._normalized)return a;if(a.name){var i=(a=ei({},n)).params;return i&&"object"==typeof i&&(a.params=ei({},i)),a}if(!a.path&&a.params&&e){(a=ei({},a))._normalized=!0;var o=ei(ei({},e.params),a.params);if(e.name)a.name=e.name,a.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;a.path=Fi(s,o,e.path)}else 0;return a}var l=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var a=n.indexOf("?");return a>=0&&(t=n.slice(a+1),n=n.slice(0,a)),{path:n,query:t,hash:e}}(a.path||""),c=e&&e.path||"/",d=l.path?xi(l.path,c,t||a.append):c,u=function(n,e,t){void 0===e&&(e={});var r,a=t||li;try{r=a(n||"")}catch(n){r={}}for(var i in e){var o=e[i];r[i]=Array.isArray(o)?o.map(si):si(o)}return r}(l.query,a.query,r&&r.options.parseQuery),p=a.hash||l.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:u,hash:p}}var Ki,Ui=function(){},$i={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,a=t.resolve(this.to,r,this.append),i=a.location,o=a.route,s=a.href,l={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,u=null==c?"router-link-active":c,p=null==d?"router-link-exact-active":d,m=null==this.activeClass?u:this.activeClass,f=null==this.exactActiveClass?p:this.exactActiveClass,h=o.redirectedFrom?ui(null,qi(o.redirectedFrom),null,t):o;l[f]=gi(r,h,this.exactPath),l[m]=this.exact||this.exactPath?l[f]:function(n,e){return 0===n.path.replace(di,"/").indexOf(e.path.replace(di,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,h);var g=l[f]?this.ariaCurrentValue:null,v=function(n){Gi(n)&&(e.replace?t.replace(i,Ui):t.push(i,Ui))},b={click:Gi};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=v})):b[this.event]=v;var y={class:l},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:o,navigate:v,isActive:l[m],isExactActive:l[f]});if(k){if(1===k.length)return k[0];if(k.length>1||!k.length)return 0===k.length?n():n("span",{},k)}if("a"===this.tag)y.on=b,y.attrs={href:s,"aria-current":g};else{var x=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var _=x.data=ei({},x.data);for(var w in _.on=_.on||{},_.on){var E=_.on[w];w in b&&(_.on[w]=Array.isArray(E)?E:[E])}for(var S in b)S in _.on?_.on[S].push(b[S]):_.on[S]=v;var T=x.data.attrs=ei({},x.data.attrs);T.href=s,T["aria-current"]=g}else y.on=b}return n(this.tag,y,this.$slots.default)}};function Gi(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Hi="undefined"!=typeof window;function Vi(n,e,t,r,a){var i=e||[],o=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,a,i,o){var s=a.path,l=a.name;0;var c=a.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return _i(e.path+"/"+n)}(s,i,c.strict);"boolean"==typeof a.caseSensitive&&(c.sensitive=a.caseSensitive);var u={path:d,regex:Ji(d,c),components:a.components||{default:a.component},alias:a.alias?"string"==typeof a.alias?[a.alias]:a.alias:[],instances:{},enteredCbs:{},name:l,parent:i,matchAs:o,redirect:a.redirect,beforeEnter:a.beforeEnter,meta:a.meta||{},props:null==a.props?{}:a.components?a.props:{default:a.props}};a.children&&a.children.forEach((function(a){var i=o?_i(o+"/"+a.path):void 0;n(e,t,r,a,u,i)}));t[u.path]||(e.push(u.path),t[u.path]=u);if(void 0!==a.alias)for(var p=Array.isArray(a.alias)?a.alias:[a.alias],m=0;m<p.length;++m){0;var f={path:p[m],children:a.children};n(e,t,r,f,i,u.path||"/")}l&&(r[l]||(r[l]=u))}(i,o,s,n,a)}));for(var l=0,c=i.length;l<c;l++)"*"===i[l]&&(i.push(i.splice(l,1)[0]),c--,l--);return{pathList:i,pathMap:o,nameMap:s}}function Ji(n,e){return Ei(n,[],e)}function Qi(n,e){var t=Vi(n),r=t.pathList,a=t.pathMap,i=t.nameMap;function o(n,t,o){var s=qi(n,t,!1,e),c=s.name;if(c){var d=i[c];if(!d)return l(null,s);var u=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in s.params)&&u.indexOf(p)>-1&&(s.params[p]=t.params[p]);return s.path=Fi(d.path,s.params),l(d,s,o)}if(s.path){s.params={};for(var m=0;m<r.length;m++){var f=r[m],h=a[f];if(Wi(h.regex,s.path,s.params))return l(h,s,o)}}return l(null,s)}function s(n,t){var r=n.redirect,a="function"==typeof r?r(ui(n,t,null,e)):r;if("string"==typeof a&&(a={path:a}),!a||"object"!=typeof a)return l(null,t);var s=a,c=s.name,d=s.path,u=t.query,p=t.hash,m=t.params;if(u=s.hasOwnProperty("query")?s.query:u,p=s.hasOwnProperty("hash")?s.hash:p,m=s.hasOwnProperty("params")?s.params:m,c){i[c];return o({_normalized:!0,name:c,query:u,hash:p,params:m},void 0,t)}if(d){var f=function(n,e){return xi(n,e.parent?e.parent.path:"/",!0)}(d,n);return o({_normalized:!0,path:Fi(f,m),query:u,hash:p},void 0,t)}return l(null,t)}function l(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=o({_normalized:!0,path:Fi(t,e.params)});if(r){var a=r.matched,i=a[a.length-1];return e.params=r.params,l(i,e)}return l(null,e)}(0,t,n.matchAs):ui(n,t,r,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Vi([e||n],r,a,i,t),t&&t.alias.length&&Vi(t.alias.map((function(n){return{path:n,children:[e]}})),r,a,i,t)},getRoutes:function(){return r.map((function(n){return a[n]}))},addRoutes:function(n){Vi(n,r,a,i)}}}function Wi(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var a=1,i=r.length;a<i;++a){var o=n.keys[a-1];o&&(t[o.name||"pathMatch"]="string"==typeof r[a]?oi(r[a]):r[a])}return!0}var Xi=Hi&&window.performance&&window.performance.now?window.performance:Date;function Zi(){return Xi.now().toFixed(3)}var Yi=Zi();function no(){return Yi}function eo(n){return Yi=n}var to=Object.create(null);function ro(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ei({},window.history.state);return t.key=no(),window.history.replaceState(t,"",e),window.addEventListener("popstate",oo),function(){window.removeEventListener("popstate",oo)}}function ao(n,e,t,r){if(n.app){var a=n.options.scrollBehavior;a&&n.app.$nextTick((function(){var i=function(){var n=no();if(n)return to[n]}(),o=a.call(n,e,t,r?i:null);o&&("function"==typeof o.then?o.then((function(n){po(n,i)})).catch((function(n){0})):po(o,i))}))}}function io(){var n=no();n&&(to[n]={x:window.pageXOffset,y:window.pageYOffset})}function oo(n){io(),n.state&&n.state.key&&eo(n.state.key)}function so(n){return co(n.x)||co(n.y)}function lo(n){return{x:co(n.x)?n.x:window.pageXOffset,y:co(n.y)?n.y:window.pageYOffset}}function co(n){return"number"==typeof n}var uo=/^#\d/;function po(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var a=uo.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(a){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(a,i={x:co((t=i).x)?t.x:0,y:co(t.y)?t.y:0})}else so(n)&&(e=lo(n))}else r&&so(n)&&(e=lo(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var mo,fo=Hi&&((-1===(mo=window.navigator.userAgent).indexOf("Android 2.")&&-1===mo.indexOf("Android 4.0")||-1===mo.indexOf("Mobile Safari")||-1!==mo.indexOf("Chrome")||-1!==mo.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ho(n,e){io();var t=window.history;try{if(e){var r=ei({},t.state);r.key=no(),t.replaceState(r,"",n)}else t.pushState({key:eo(Zi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function go(n){ho(n,!0)}var vo={redirected:2,aborted:4,cancelled:8,duplicated:16};function bo(n,e){return ko(n,e,vo.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return xo.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function yo(n,e){return ko(n,e,vo.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ko(n,e,t,r){var a=new Error(r);return a._isRouter=!0,a.from=n,a.to=e,a.type=t,a}var xo=["params","query","hash"];function _o(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function wo(n,e){return _o(n)&&n._isRouter&&(null==e||n.type===e)}function Eo(n,e,t){var r=function(a){a>=n.length?t():n[a]?e(n[a],(function(){r(a+1)})):r(a+1)};r(0)}function So(n){return function(e,t,r){var a=!1,i=0,o=null;To(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){a=!0,i++;var l,c=Co((function(e){var a;((a=e).__esModule||Io&&"Module"===a[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Ki.extend(e),t.components[s]=e,--i<=0&&r()})),d=Co((function(n){var e="Failed to resolve async component "+s+": "+n;o||(o=_o(n)?n:new Error(e),r(o))}));try{l=n(c,d)}catch(n){d(n)}if(l)if("function"==typeof l.then)l.then(c,d);else{var u=l.component;u&&"function"==typeof u.then&&u.then(c,d)}}})),a||r()}}function To(n,e){return Ao(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Ao(n){return Array.prototype.concat.apply([],n)}var Io="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Co(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var zo=function(n,e){this.router=n,this.base=function(n){if(!n)if(Hi){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=mi,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Bo(n,e,t,r){var a=To(n,(function(n,r,a,i){var o=function(n,e){"function"!=typeof n&&(n=Ki.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,r,a,i)})):t(o,r,a,i)}));return Ao(r?a.reverse():a)}function Ro(n,e){if(e)return function(){return n.apply(e,arguments)}}zo.prototype.listen=function(n){this.cb=n},zo.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},zo.prototype.onError=function(n){this.errorCbs.push(n)},zo.prototype.transitionTo=function(n,e,t){var r,a=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(r,(function(){a.updateRoute(r),e&&e(r),a.ensureURL(),a.router.afterHooks.forEach((function(n){n&&n(r,i)})),a.ready||(a.ready=!0,a.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!a.ready&&(wo(n,vo.redirected)&&i===mi||(a.ready=!0,a.readyErrorCbs.forEach((function(e){e(n)}))))}))},zo.prototype.confirmTransition=function(n,e,t){var r=this,a=this.current;this.pending=n;var i,o,s=function(n){!wo(n)&&_o(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=a.matched.length-1;if(gi(n,a)&&l===c&&n.matched[l]===a.matched[c])return this.ensureURL(),n.hash&&ao(this.router,a,n,!1),s(((o=ko(i=a,n,vo.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",o));var d=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),u=d.updated,p=d.deactivated,m=d.activated,f=[].concat(function(n){return Bo(n,"beforeRouteLeave",Ro,!0)}(p),this.router.beforeHooks,function(n){return Bo(n,"beforeRouteUpdate",Ro)}(u),m.map((function(n){return n.beforeEnter})),So(m)),h=function(e,t){if(r.pending!==n)return s(yo(a,n));try{e(n,a,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return ko(n,e,vo.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(a,n))):_o(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(bo(a,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Eo(f,h,(function(){Eo(function(n){return Bo(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,a,i){return n(r,a,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,r)}))}(m).concat(r.router.resolveHooks),h,(function(){if(r.pending!==n)return s(yo(a,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){bi(n)}))}))}))},zo.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},zo.prototype.setupListeners=function(){},zo.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=mi,this.pending=null};var Mo=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Lo(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=fo&&t;r&&this.listeners.push(ro());var a=function(){var t=n.current,a=Lo(n.base);n.current===mi&&a===n._startLocation||n.transitionTo(a,(function(n){r&&ao(e,n,t,!0)}))};window.addEventListener("popstate",a),this.listeners.push((function(){window.removeEventListener("popstate",a)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){ho(_i(r.base+n.fullPath)),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){go(_i(r.base+n.fullPath)),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Lo(this.base)!==this.current.fullPath){var e=_i(this.base+this.current.fullPath);n?ho(e):go(e)}},e.prototype.getCurrentLocation=function(){return Lo(this.base)},e}(zo);function Lo(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(_i(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Po=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=Lo(n);if(!/^\/#/.test(e))return window.location.replace(_i(n+"/#"+e)),!0}(this.base)||Oo()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=fo&&e;t&&this.listeners.push(ro());var r=function(){var e=n.current;Oo()&&n.transitionTo(Do(),(function(r){t&&ao(n.router,r,e,!0),fo||Fo(r.fullPath)}))},a=fo?"popstate":"hashchange";window.addEventListener(a,r),this.listeners.push((function(){window.removeEventListener(a,r)}))}},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){No(n.fullPath),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){Fo(n.fullPath),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Do()!==e&&(n?No(e):Fo(e))},e.prototype.getCurrentLocation=function(){return Do()},e}(zo);function Oo(){var n=Do();return"/"===n.charAt(0)||(Fo("/"+n),!1)}function Do(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function jo(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function No(n){fo?ho(jo(n)):window.location.hash=n}function Fo(n){fo?go(jo(n)):window.location.replace(jo(n))}var qo=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){wo(n,vo.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(zo),Ko=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Qi(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!fo&&!1!==n.fallback,this.fallback&&(e="hash"),Hi||(e="abstract"),this.mode=e,e){case"history":this.history=new Mo(this,n.base);break;case"hash":this.history=new Po(this,n.base,this.fallback);break;case"abstract":this.history=new qo(this,n.base);break;default:0}},Uo={currentRoute:{configurable:!0}};Ko.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Uo.currentRoute.get=function(){return this.history&&this.history.current},Ko.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Mo||t instanceof Po){var r=function(n){t.setupListeners(),function(n){var r=t.current,a=e.options.scrollBehavior;fo&&a&&"fullPath"in n&&ao(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Ko.prototype.beforeEach=function(n){return Go(this.beforeHooks,n)},Ko.prototype.beforeResolve=function(n){return Go(this.resolveHooks,n)},Ko.prototype.afterEach=function(n){return Go(this.afterHooks,n)},Ko.prototype.onReady=function(n,e){this.history.onReady(n,e)},Ko.prototype.onError=function(n){this.history.onError(n)},Ko.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},Ko.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},Ko.prototype.go=function(n){this.history.go(n)},Ko.prototype.back=function(){this.go(-1)},Ko.prototype.forward=function(){this.go(1)},Ko.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Ko.prototype.resolve=function(n,e,t){var r=qi(n,e=e||this.history.current,t,this),a=this.match(r,e),i=a.redirectedFrom||a.fullPath;return{location:r,route:a,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?_i(n+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:a}},Ko.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ko.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==mi&&this.history.transitionTo(this.history.getCurrentLocation())},Ko.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==mi&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ko.prototype,Uo);var $o=Ko;function Go(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Ko.install=function n(e){if(!n.installed||Ki!==e){n.installed=!0,Ki=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",yi),e.component("RouterLink",$i);var a=e.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}},Ko.version="3.6.5",Ko.isNavigationFailure=wo,Ko.NavigationFailureType=vo,Ko.START_LOCATION=mi,Hi&&window.Vue&&window.Vue.use(Ko);t(105);t(14),t(132);var Ho={NotFound:()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,335)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,334))},Vo={"v-3a75d5b2":()=>t.e(6).then(t.bind(null,336)),"v-66629ea2":()=>t.e(7).then(t.bind(null,337)),"v-4445b44e":()=>t.e(8).then(t.bind(null,338)),"v-4751e44c":()=>t.e(10).then(t.bind(null,339)),"v-1984cd25":()=>t.e(11).then(t.bind(null,340)),"v-d2301728":()=>t.e(12).then(t.bind(null,341)),"v-b1cae4ee":()=>t.e(13).then(t.bind(null,342)),"v-8f05bed0":()=>t.e(9).then(t.bind(null,343)),"v-8d21212e":()=>t.e(14).then(t.bind(null,344)),"v-262abfa1":()=>t.e(15).then(t.bind(null,345)),"v-6f2e8e58":()=>t.e(17).then(t.bind(null,346)),"v-d17c9944":()=>t.e(16).then(t.bind(null,347)),"v-2489de58":()=>t.e(18).then(t.bind(null,348)),"v-52136b18":()=>t.e(19).then(t.bind(null,349)),"v-ec24f742":()=>t.e(20).then(t.bind(null,350)),"v-2fe1c292":()=>t.e(21).then(t.bind(null,351)),"v-3ad03cd2":()=>t.e(23).then(t.bind(null,352)),"v-f8ca3edc":()=>t.e(24).then(t.bind(null,353)),"v-6ab22c04":()=>t.e(25).then(t.bind(null,354)),"v-58dee060":()=>t.e(26).then(t.bind(null,355)),"v-6ecce798":()=>t.e(29).then(t.bind(null,356)),"v-062906bf":()=>t.e(27).then(t.bind(null,357)),"v-3f7f455b":()=>t.e(28).then(t.bind(null,358)),"v-611dc400":()=>t.e(30).then(t.bind(null,359)),"v-0d1fe552":()=>t.e(31).then(t.bind(null,360)),"v-33c9c057":()=>t.e(32).then(t.bind(null,361)),"v-265e6c6a":()=>t.e(33).then(t.bind(null,362)),"v-b225d99c":()=>t.e(22).then(t.bind(null,363)),"v-585a6957":()=>t.e(34).then(t.bind(null,364)),"v-22135ad2":()=>t.e(35).then(t.bind(null,365)),"v-897d32c4":()=>t.e(38).then(t.bind(null,366)),"v-bf2e1f52":()=>t.e(36).then(t.bind(null,367)),"v-18836f34":()=>t.e(37).then(t.bind(null,368)),"v-34050fae":()=>t.e(39).then(t.bind(null,369)),"v-74f9cb10":()=>t.e(42).then(t.bind(null,370)),"v-471876c8":()=>t.e(40).then(t.bind(null,371)),"v-1858d133":()=>t.e(43).then(t.bind(null,372)),"v-f5bde88e":()=>t.e(44).then(t.bind(null,373)),"v-bbb4debc":()=>t.e(45).then(t.bind(null,374)),"v-d62b5838":()=>t.e(41).then(t.bind(null,375)),"v-0a6bb5e5":()=>t.e(46).then(t.bind(null,376)),"v-24bec208":()=>t.e(47).then(t.bind(null,377)),"v-20d4825a":()=>t.e(48).then(t.bind(null,378)),"v-70c2530b":()=>t.e(49).then(t.bind(null,379)),"v-46223bf5":()=>t.e(54).then(t.bind(null,380)),"v-4ae78607":()=>t.e(52).then(t.bind(null,381)),"v-4b9be2e2":()=>t.e(50).then(t.bind(null,382)),"v-cb83c1e2":()=>t.e(53).then(t.bind(null,383)),"v-66cbb422":()=>t.e(55).then(t.bind(null,384)),"v-37a31fef":()=>t.e(56).then(t.bind(null,385)),"v-4633e0e5":()=>t.e(57).then(t.bind(null,386)),"v-629fc96e":()=>t.e(58).then(t.bind(null,387)),"v-ca2c37f2":()=>t.e(61).then(t.bind(null,388)),"v-13e764ec":()=>t.e(63).then(t.bind(null,389)),"v-4f35af8e":()=>t.e(60).then(t.bind(null,390)),"v-4735ad30":()=>t.e(65).then(t.bind(null,391)),"v-03535536":()=>t.e(64).then(t.bind(null,392)),"v-44e6151e":()=>t.e(66).then(t.bind(null,393)),"v-35d02571":()=>t.e(59).then(t.bind(null,394)),"v-e08ea78c":()=>t.e(62).then(t.bind(null,395)),"v-56cefa9b":()=>t.e(67).then(t.bind(null,396)),"v-db9fa682":()=>t.e(68).then(t.bind(null,397)),"v-384a84e1":()=>t.e(71).then(t.bind(null,398)),"v-58cdf8c8":()=>t.e(70).then(t.bind(null,399)),"v-6e742411":()=>t.e(72).then(t.bind(null,400)),"v-63fd0ca6":()=>t.e(69).then(t.bind(null,401)),"v-389af7e5":()=>t.e(73).then(t.bind(null,402)),"v-39371ab4":()=>t.e(75).then(t.bind(null,403)),"v-7e805f34":()=>t.e(74).then(t.bind(null,404)),"v-18245398":()=>t.e(76).then(t.bind(null,405)),"v-372327de":()=>t.e(51).then(t.bind(null,406)),"v-76c0fdcc":()=>t.e(78).then(t.bind(null,407)),"v-015ece1a":()=>t.e(80).then(t.bind(null,408)),"v-5913e204":()=>t.e(77).then(t.bind(null,409)),"v-8f96befe":()=>t.e(81).then(t.bind(null,410)),"v-70073a00":()=>t.e(83).then(t.bind(null,411)),"v-140f256d":()=>t.e(79).then(t.bind(null,412)),"v-37fa14fa":()=>t.e(82).then(t.bind(null,413)),"v-e8e0160c":()=>t.e(84).then(t.bind(null,414)),"v-d5f92e9a":()=>t.e(85).then(t.bind(null,415)),"v-2ff99942":()=>t.e(86).then(t.bind(null,416)),"v-4055a79c":()=>t.e(91).then(t.bind(null,417)),"v-0545b0a1":()=>t.e(87).then(t.bind(null,418)),"v-8263629e":()=>t.e(89).then(t.bind(null,419)),"v-012dc53d":()=>t.e(92).then(t.bind(null,420)),"v-095f08a6":()=>t.e(93).then(t.bind(null,421)),"v-5fc224a0":()=>t.e(88).then(t.bind(null,422)),"v-373c2e99":()=>t.e(95).then(t.bind(null,423)),"v-78f813a7":()=>t.e(94).then(t.bind(null,424)),"v-a2a48808":()=>t.e(96).then(t.bind(null,425)),"v-05363355":()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,426)),"v-7887f0dc":()=>t.e(90).then(t.bind(null,427))};function Jo(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Qo=/-(\w)/g,Wo=Jo(n=>n.replace(Qo,(n,e)=>e?e.toUpperCase():"")),Xo=/\B([A-Z])/g,Zo=Jo(n=>n.replace(Xo,"-$1").toLowerCase()),Yo=Jo(n=>n.charAt(0).toUpperCase()+n.slice(1));function ns(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Yo(Wo(e))):n(Yo(e))||n(Zo(e))}const es=Object.assign({},Ho,Vo),ts=n=>es[n],rs=n=>Vo[n],as=n=>Ho[n],is=n=>Ht.component(n);function os(n){return ns(rs,n)}function ss(n){return ns(as,n)}function ls(n){return ns(ts,n)}function cs(n){return ns(is,n)}function ds(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!cs(n)&&ls(n)){const e=await ls(n)();Ht.component(n,e.default)}}))}function us(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var ps=t(93),ms=t.n(ps),fs=t(94),hs=t.n(fs),gs={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${hs()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=bs(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=ys(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return ms()([{name:"description",content:this.$description}],n,this.siteMeta,ks)},updateCanonicalLink(){vs(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",bs(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){ys(null,this.currentMetaTags),vs()}};function vs(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function bs(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function ys(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function ks(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var xs=t(50),_s={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(xs)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),a=window.innerHeight+t;for(let n=0;n<e.length;n++){const i=e[n],o=e[n+1],s=0===n&&0===t||t>=i.parentElement.offsetTop+10&&(!o||t<o.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(s&&l!==decodeURIComponent(i.hash)){const t=i;if(a===r)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},ws=t(9),Es=t.n(ws),Ss={mounted(){Es.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Ht.component(n.name)||Es.a.start(),t()}),this.$router.afterEach(()=>{Es.a.done(),this.isSidebarOpen=!1})}},Ts=(t(241),{mounted(){const n=Object.create(null);Es.a.configure({showSpinner:!1}),this.$router.beforeEach((e,t,r)=>{n[e.path]||Es.a.start(),r()}),this.$router.afterEach(e=>{n[e.path]=!0,Es.a.done()})}}),As=t(95),Is=t.n(As),Cs=(t(242),{mounted(){Is.a.polyfill()}});t(243),t(244);class zs{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Bs={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new zs).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Rs={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},Ms={},Ls=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},Ps=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:Rs[n]},Os=function n(e,t,r){var a=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))a[n]=t[n];else{var e=n.replace("data","");a.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,i=e.children;a.appendChild(n(t,r,i))})),a},Ds=function(n,e,t){var r,a=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==a.length||t?a:a[0]},js=function(n,e){var t,r,a=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),s={css:a&&a[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=Ls(s.html),s.jsTpl=(t=s.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),a=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,i=[eval][0](a);return i.template=e,i}(s.js,s.html);var l=Ps("vue");return s.jsLib.unshift(l),s},Ns=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<html>([\s\S]+)<\/html>/),i=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},Fs=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function qs(){var n=Ds(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=Ds(n,"vuepress-plugin-demo-block__code"),t=Ds(n,"vuepress-plugin-demo-block__display"),r=Ds(n,"vuepress-plugin-demo-block__footer"),a=Ds(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var l=e.querySelector("div").clientHeight,c="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),a=new Function("return ".concat(r))(),i={js:a,css:a.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Fs(n),htmlTpl:Ls("")},o=Ps("react"),s=Ps("reactDOM");return i.jsLib.unshift(o,s),i}(i,o):"vanilla"===s?Ns(i,o):js(i,o),d=Os("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(d),d.addEventListener("click",Ks.bind(null,d,l,e,r)),Ps("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=a.concat(i).concat(Ps("cssLib")).concat(Ps("jsLib")).join(",");return Os("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),Ps("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=JSON.stringify({css:e,html:t,js:r,js_external:a.concat(Ps("jsLib")).join(";"),css_external:i.concat(Ps("cssLib")).join(";"),layout:Ps("codepenLayout"),js_pre_processor:Ps("codepenJsProcessor"),editors:Ps("codepenEditors")});return Os("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:Ps("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var u=e.firstChild.cloneNode(!0);u.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(u)}if(c.css&&function(n){if(!Ms[n]){var e=Os("style",{innerHTML:n});document.body.appendChild(e),Ms[n]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),a);else if("vue"===s){var p=(new(Vue.extend(c.script))).$mount();a.appendChild(p.$el)}else"vanilla"===s&&(a.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){qs()}),300)}function Ks(n,e,t,r){var a="1"!==n.dataset.isExpand;t.style.height=a?"".concat(e,"px"):0,a?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=a?"1":"0"}var Us={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},qs()},updated:function(){qs()}},$s="auto",Gs="zoom-in",Hs="zoom-out",Vs="grab",Js="move";function Qs(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={passive:!1};r?n.addEventListener(e,t,a):n.removeEventListener(e,t,a)}function Ws(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Xs(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Zs(n,e,t){!function(n){var e=Ys,t=nl;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var a=n.transform;delete n.transform,n[t]=a}}(e);var r=n.style,a={};for(var i in e)t&&(a[i]=r[i]||""),r[i]=e[i];return a}var Ys="transition",nl="transform",el="transform",tl="transitionend";var rl=function(){},al={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:rl,onClose:rl,onGrab:rl,onMove:rl,onRelease:rl,onBeforeOpen:rl,onBeforeClose:rl,onBeforeGrab:rl,onBeforeRelease:rl,onImageLoading:rl,onImageLoaded:rl},il={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),sl(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,a=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(a)>=i||Math.abs(r)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(ol(n)&&!sl(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){ol(n)&&!sl(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function ol(n){return 0===n.button}function sl(n){return n.metaKey||n.ctrlKey}var ll={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Zs(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Qs(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Zs(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dl=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),ul=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pl={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Xs(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,a=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Vs:Hs,transition:el+"\n        "+r+"s\n        "+a,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Zs(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Zs(this.el,{transform:"none"})},grab:function(n,e,t){var r=ml(),a=r.x-n,i=r.y-e;Zs(this.el,{cursor:Js,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=ml(),a=r.x-n,i=r.y-e;Zs(this.el,{transition:el,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Zs(this.el,this.styleClose)},restoreOpenStyle:function(){Zs(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=ml(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,a=r.customSize,i=r.scaleBase;if(!a&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(a&&"object"===(void 0===a?"undefined":cl(a)))return{x:a.width/this.rect.width,y:a.height/this.rect.height};var o=this.rect.width/2,s=this.rect.height/2,l=ml(),c={x:l.x-o,y:l.y-s},d=c.x/o,u=c.y/s,p=i+Math.min(d,u);if(a&&"string"==typeof a){var m=t||this.el.naturalWidth,f=e||this.el.naturalHeight,h=parseFloat(a)*m/(100*this.rect.width),g=parseFloat(a)*f/(100*this.rect.height);if(p>h||p>g)return{x:h,y:g}}return{x:p,y:p}}};function ml(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function fl(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Qs(n,r,e[r],t)}))}var hl=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(pl),this.overlay=Object.create(ll),this.handler=Object.create(il),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=ul({},al,e),this.overlay.init(this),this.handler.init(this)}return dl(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Gs,Qs(n,"click",this.handler.click),this.options.preloadImage&&Ws(Xs(n)));return this}},{key:"config",value:function(n){return n?(ul(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var a=this.target.srcOriginal;null!=a&&(this.options.onImageLoading(r),Ws(a,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Qs(document,"scroll",this.handler.scroll),Qs(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Qs(window,"resize",this.handler.resizeWindow);var i=function n(){Qs(r,tl,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&fl(document,e.handler,!0),t(r)};return Qs(r,tl,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=$s,this.overlay.fadeOut(),this.target.zoomOut(),Qs(document,"scroll",this.handler.scroll,!1),Qs(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Qs(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Qs(t,tl,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&fl(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Qs(t,tl,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var a=this.target.el;this.options.onBeforeGrab(a),this.released=!1,this.target.grab(n,e,t);var i=function n(){Qs(a,tl,n,!1),r(a)};return Qs(a,tl,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Js,this.target.move(n,e,t);var a=this.target.el,i=function n(){Qs(a,tl,n,!1),r(a)};return Qs(a,tl,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=$s,this.target.restoreOpenStyle();var r=function r(){Qs(t,tl,r,!1),n.lock=!1,n.released=!0,e(t)};return Qs(t,tl,r),this}}}]),n}();const gl=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),vl=Number("500");class bl{constructor(){this.instance=new hl(gl)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=vl){setTimeout(()=>this.update(n),e)}}var yl=[gs,_s,Ss,Ts,Cs,Bs,Us,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new bl,this.$vuepress.zooming.updateDelay()}}],kl={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return us("layout",n),Ht.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},xl=t(3),_l=Object(xl.a)(kl,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(_l,"mixins",yl);const wl=[{name:"v-3a75d5b2",path:"/pages/8e69ed/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-3a75d5b2").then(t)}},{path:"/pages/8e69ed/index.html",redirect:"/pages/8e69ed/"},{path:"/01.Java/01.Javaåºç¡/01.Javaéåæ¡æ¶.html",redirect:"/pages/8e69ed/"},{name:"v-66629ea2",path:"/pages/ce6e6c/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-66629ea2").then(t)}},{path:"/pages/ce6e6c/index.html",redirect:"/pages/ce6e6c/"},{path:"/01.Java/01.Javaåºç¡/02.HashMap.html",redirect:"/pages/ce6e6c/"},{name:"v-4445b44e",path:"/pages/672ba8/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4445b44e").then(t)}},{path:"/pages/672ba8/index.html",redirect:"/pages/672ba8/"},{path:"/01.Java/01.Javaåºç¡/03.Javaå·é¢.html",redirect:"/pages/672ba8/"},{name:"v-4751e44c",path:"/pages/d47d28/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4751e44c").then(t)}},{path:"/pages/d47d28/index.html",redirect:"/pages/d47d28/"},{path:"/01.Java/01.Javaåºç¡/06.çº¿ç¨æ± .html",redirect:"/pages/d47d28/"},{name:"v-1984cd25",path:"/pages/3edc81/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-1984cd25").then(t)}},{path:"/pages/3edc81/index.html",redirect:"/pages/3edc81/"},{path:"/01.Java/01.Javaåºç¡/ç®å.html",redirect:"/pages/3edc81/"},{name:"v-d2301728",path:"/pages/9749fb/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-d2301728").then(t)}},{path:"/pages/9749fb/index.html",redirect:"/pages/9749fb/"},{path:"/01.Java/02.ä¸­é´ä»¶/00.æ¶æ¯éå.html",redirect:"/pages/9749fb/"},{name:"v-b1cae4ee",path:"/pages/467ce0/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-b1cae4ee").then(t)}},{path:"/pages/467ce0/index.html",redirect:"/pages/467ce0/"},{path:"/01.Java/02.ä¸­é´ä»¶/01.ZooKeeper.html",redirect:"/pages/467ce0/"},{name:"v-8f05bed0",path:"/pages/4b289e/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-8f05bed0").then(t)}},{path:"/pages/4b289e/index.html",redirect:"/pages/4b289e/"},{path:"/01.Java/01.Javaåºç¡/05.æµæä½.html",redirect:"/pages/4b289e/"},{name:"v-8d21212e",path:"/pages/11f4c8/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-8d21212e").then(t)}},{path:"/pages/11f4c8/index.html",redirect:"/pages/11f4c8/"},{path:"/01.Java/02.ä¸­é´ä»¶/02.Kafka.html",redirect:"/pages/11f4c8/"},{name:"v-262abfa1",path:"/pages/2ca146/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-262abfa1").then(t)}},{path:"/pages/2ca146/index.html",redirect:"/pages/2ca146/"},{path:"/01.Java/02.ä¸­é´ä»¶/03.RabbitMQ.html",redirect:"/pages/2ca146/"},{name:"v-6f2e8e58",path:"/pages/7c79c1/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-6f2e8e58").then(t)}},{path:"/pages/7c79c1/index.html",redirect:"/pages/7c79c1/"},{path:"/01.Java/03.å¾®æå¡/02.Seata.html",redirect:"/pages/7c79c1/"},{name:"v-d17c9944",path:"/pages/526796/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-d17c9944").then(t)}},{path:"/pages/526796/index.html",redirect:"/pages/526796/"},{path:"/01.Java/03.å¾®æå¡/01.Sentinel.html",redirect:"/pages/526796/"},{name:"v-2489de58",path:"/pages/566e96/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-2489de58").then(t)}},{path:"/pages/566e96/index.html",redirect:"/pages/566e96/"},{path:"/01.Java/03.å¾®æå¡/03.Redis.html",redirect:"/pages/566e96/"},{name:"v-52136b18",path:"/pages/663ad9/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-52136b18").then(t)}},{path:"/pages/663ad9/index.html",redirect:"/pages/663ad9/"},{path:"/01.Java/03.å¾®æå¡/04.Canal.html",redirect:"/pages/663ad9/"},{name:"v-ec24f742",path:"/pages/78eabe/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-ec24f742").then(t)}},{path:"/pages/78eabe/index.html",redirect:"/pages/78eabe/"},{path:"/01.Java/03.å¾®æå¡/05.å¸¸è§é¢è¯é¢.html",redirect:"/pages/78eabe/"},{name:"v-2fe1c292",path:"/pages/23ed38/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-2fe1c292").then(t)}},{path:"/pages/23ed38/index.html",redirect:"/pages/23ed38/"},{path:"/01.Java/04.æ¡æ¶/01.spring.html",redirect:"/pages/23ed38/"},{name:"v-3ad03cd2",path:"/pages/418390/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-3ad03cd2").then(t)}},{path:"/pages/418390/index.html",redirect:"/pages/418390/"},{path:"/01.Java/04.æ¡æ¶/03.springbooteasy.html",redirect:"/pages/418390/"},{name:"v-f8ca3edc",path:"/pages/4ce008/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-f8ca3edc").then(t)}},{path:"/pages/4ce008/index.html",redirect:"/pages/4ce008/"},{path:"/01.Java/04.æ¡æ¶/04.Controller.html",redirect:"/pages/4ce008/"},{name:"v-6ab22c04",path:"/pages/533bbc/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-6ab22c04").then(t)}},{path:"/pages/533bbc/index.html",redirect:"/pages/533bbc/"},{path:"/01.Java/04.æ¡æ¶/10.NIO.html",redirect:"/pages/533bbc/"},{name:"v-58dee060",path:"/pages/20bd69/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-58dee060").then(t)}},{path:"/pages/20bd69/index.html",redirect:"/pages/20bd69/"},{path:"/01.Java/04.æ¡æ¶/11.Netty.html",redirect:"/pages/20bd69/"},{name:"v-6ecce798",path:"/pages/e60c12/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-6ecce798").then(t)}},{path:"/pages/e60c12/index.html",redirect:"/pages/e60c12/"},{path:"/01.Java/05.æ°æ®åº/03.MySQLå½æ°.html",redirect:"/pages/e60c12/"},{name:"v-062906bf",path:"/pages/c7801c/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-062906bf").then(t)}},{path:"/pages/c7801c/index.html",redirect:"/pages/c7801c/"},{path:"/01.Java/05.æ°æ®åº/01.MySQLåºç¡.html",redirect:"/pages/c7801c/"},{name:"v-3f7f455b",path:"/pages/e0425d/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-3f7f455b").then(t)}},{path:"/pages/e0425d/index.html",redirect:"/pages/e0425d/"},{path:"/01.Java/05.æ°æ®åº/02.MySQLæ¯æä¹è¿è¡ç.html",redirect:"/pages/e0425d/"},{name:"v-611dc400",path:"/pages/c38f55/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-611dc400").then(t)}},{path:"/pages/c38f55/index.html",redirect:"/pages/c38f55/"},{path:"/01.Java/05.æ°æ®åº/04.MySQLæå¿ç¹.html",redirect:"/pages/c38f55/"},{name:"v-0d1fe552",path:"/pages/8d8ba3/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-0d1fe552").then(t)}},{path:"/pages/8d8ba3/index.html",redirect:"/pages/8d8ba3/"},{path:"/01.Java/05.æ°æ®åº/07.MySQLé.html",redirect:"/pages/8d8ba3/"},{name:"v-33c9c057",path:"/pages/361d44/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-33c9c057").then(t)}},{path:"/pages/361d44/index.html",redirect:"/pages/361d44/"},{path:"/01.Java/06.é¡¹ç®è®°å½/01.statistics.html",redirect:"/pages/361d44/"},{name:"v-265e6c6a",path:"/pages/b95b70/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-265e6c6a").then(t)}},{path:"/pages/b95b70/index.html",redirect:"/pages/b95b70/"},{path:"/01.Java/06.é¡¹ç®è®°å½/10.nowcode.html",redirect:"/pages/b95b70/"},{name:"v-b225d99c",path:"/pages/071fc0/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-b225d99c").then(t)}},{path:"/pages/071fc0/index.html",redirect:"/pages/071fc0/"},{path:"/01.Java/04.æ¡æ¶/02.springboot.html",redirect:"/pages/071fc0/"},{name:"v-585a6957",path:"/pages/532cfb/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-585a6957").then(t)}},{path:"/pages/532cfb/index.html",redirect:"/pages/532cfb/"},{path:"/01.Java/06.é¡¹ç®è®°å½/20.comunity.html",redirect:"/pages/532cfb/"},{name:"v-22135ad2",path:"/pages/20b125/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-22135ad2").then(t)}},{path:"/pages/20b125/index.html",redirect:"/pages/20b125/"},{path:"/01.Java/06.é¡¹ç®è®°å½/30.raft.html",redirect:"/pages/20b125/"},{name:"v-897d32c4",path:"/pages/d76f3c/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-897d32c4").then(t)}},{path:"/pages/d76f3c/index.html",redirect:"/pages/d76f3c/"},{path:"/01.Java/99.ç§æ/12.framework.html",redirect:"/pages/d76f3c/"},{name:"v-bf2e1f52",path:"/pages/b3c8f6/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-bf2e1f52").then(t)}},{path:"/pages/b3c8f6/index.html",redirect:"/pages/b3c8f6/"},{path:"/01.Java/06.é¡¹ç®è®°å½/40.doubao.html",redirect:"/pages/b3c8f6/"},{name:"v-18836f34",path:"/pages/729f52/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-18836f34").then(t)}},{path:"/pages/729f52/index.html",redirect:"/pages/729f52/"},{path:"/01.Java/99.ç§æ/11.Redis.html",redirect:"/pages/729f52/"},{name:"v-34050fae",path:"/pages/b0a322/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-34050fae").then(t)}},{path:"/pages/b0a322/index.html",redirect:"/pages/b0a322/"},{path:"/01.Java/99.ç§æ/13.cloud.html",redirect:"/pages/b0a322/"},{name:"v-74f9cb10",path:"/pages/f1bf72/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-74f9cb10").then(t)}},{path:"/pages/f1bf72/index.html",redirect:"/pages/f1bf72/"},{path:"/01.Java/99.ç§æ/16.jvm.html",redirect:"/pages/f1bf72/"},{name:"v-471876c8",path:"/pages/a20dff/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-471876c8").then(t)}},{path:"/pages/a20dff/index.html",redirect:"/pages/a20dff/"},{path:"/01.Java/99.ç§æ/14.message.html",redirect:"/pages/a20dff/"},{name:"v-1858d133",path:"/pages/33bbc8/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-1858d133").then(t)}},{path:"/pages/33bbc8/index.html",redirect:"/pages/33bbc8/"},{path:"/01.Java/99.ç§æ/17.è®¾è®¡æ¨¡å¼.html",redirect:"/pages/33bbc8/"},{name:"v-f5bde88e",path:"/pages/46dd43/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-f5bde88e").then(t)}},{path:"/pages/46dd43/index.html",redirect:"/pages/46dd43/"},{path:"/01.Java/99.ç§æ/18.ä¸äºåºæ¯.html",redirect:"/pages/46dd43/"},{name:"v-bbb4debc",path:"/pages/545d12/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-bbb4debc").then(t)}},{path:"/pages/545d12/index.html",redirect:"/pages/545d12/"},{path:"/01.Java/99.ç§æ/33.test.html",redirect:"/pages/545d12/"},{name:"v-d62b5838",path:"/pages/15ac4e/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-d62b5838").then(t)}},{path:"/pages/15ac4e/index.html",redirect:"/pages/15ac4e/"},{path:"/01.Java/99.ç§æ/15.juc.html",redirect:"/pages/15ac4e/"},{name:"v-0a6bb5e5",path:"/pages/69d257/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-0a6bb5e5").then(t)}},{path:"/pages/69d257/index.html",redirect:"/pages/69d257/"},{path:"/01.Java/99.ç§æ/99.ä¸äºçé®.html",redirect:"/pages/69d257/"},{name:"v-24bec208",path:"/pages/851a97/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-24bec208").then(t)}},{path:"/pages/851a97/index.html",redirect:"/pages/851a97/"},{path:"/01.Java/99.ç§æ/ä¸äºåé.html",redirect:"/pages/851a97/"},{name:"v-20d4825a",path:"/pages/4da935/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-20d4825a").then(t)}},{path:"/pages/4da935/index.html",redirect:"/pages/4da935/"},{path:"/01.Java/99.ç§æ/æåæ¹.html",redirect:"/pages/4da935/"},{name:"v-70c2530b",path:"/pages/7d963b/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-70c2530b").then(t)}},{path:"/pages/7d963b/index.html",redirect:"/pages/7d963b/"},{path:"/01.Java/99.ç§æ/é¢è¯è®°å½.html",redirect:"/pages/7d963b/"},{name:"v-46223bf5",path:"/pages/a2be9b/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-46223bf5").then(t)}},{path:"/pages/a2be9b/index.html",redirect:"/pages/a2be9b/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/07.FlashFusionè®ºæéè¯».html",redirect:"/pages/a2be9b/"},{name:"v-4ae78607",path:"/pages/7bbbf3/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4ae78607").then(t)}},{path:"/pages/7bbbf3/index.html",redirect:"/pages/7bbbf3/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/03.Surfel Meshing .html",redirect:"/pages/7bbbf3/"},{name:"v-4b9be2e2",path:"/pages/aa9650/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4b9be2e2").then(t)}},{path:"/pages/aa9650/index.html",redirect:"/pages/aa9650/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/01.kinectFusion.html",redirect:"/pages/aa9650/"},{name:"v-cb83c1e2",path:"/pages/24a5f4/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-cb83c1e2").then(t)}},{path:"/pages/24a5f4/index.html",redirect:"/pages/24a5f4/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/06.BAD_SLAM.html",redirect:"/pages/24a5f4/"},{name:"v-66cbb422",path:"/pages/c06e38/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-66cbb422").then(t)}},{path:"/pages/c06e38/index.html",redirect:"/pages/c06e38/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/08.intrinsic3dè®ºæéè¯».html",redirect:"/pages/c06e38/"},{name:"v-37a31fef",path:"/pages/0af3d9/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-37a31fef").then(t)}},{path:"/pages/0af3d9/index.html",redirect:"/pages/0af3d9/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/09.factor.html",redirect:"/pages/0af3d9/"},{name:"v-4633e0e5",path:"/pages/3a8868/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4633e0e5").then(t)}},{path:"/pages/3a8868/index.html",redirect:"/pages/3a8868/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/10.CLD_MVS.html",redirect:"/pages/3a8868/"},{name:"v-629fc96e",path:"/pages/49bbb9/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-629fc96e").then(t)}},{path:"/pages/49bbb9/index.html",redirect:"/pages/49bbb9/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/11.TextureMe.html",redirect:"/pages/49bbb9/"},{name:"v-ca2c37f2",path:"/pages/cdb05f/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-ca2c37f2").then(t)}},{path:"/pages/cdb05f/index.html",redirect:"/pages/cdb05f/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/bundlefusion.html",redirect:"/pages/cdb05f/"},{name:"v-13e764ec",path:"/pages/8487b5/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-13e764ec").then(t)}},{path:"/pages/8487b5/index.html",redirect:"/pages/8487b5/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/02.åºäºä¿¡æ¯è®ºèªä¸»æ¢ç´¢.html",redirect:"/pages/8487b5/"},{name:"v-4f35af8e",path:"/pages/cc3afe/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4f35af8e").then(t)}},{path:"/pages/cc3afe/index.html",redirect:"/pages/cc3afe/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/14.ORB_SLAM2åçãä»£ç æµç¨ææ¡£.html",redirect:"/pages/cc3afe/"},{name:"v-4735ad30",path:"/pages/9af622/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4735ad30").then(t)}},{path:"/pages/9af622/index.html",redirect:"/pages/9af622/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/04.åºäºæç¥¨çå¢ééå»º.html",redirect:"/pages/9af622/"},{name:"v-03535536",path:"/pages/299ec4/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-03535536").then(t)}},{path:"/pages/299ec4/index.html",redirect:"/pages/299ec4/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/03.TheiaSfMä»£ç éè¯».html",redirect:"/pages/299ec4/"},{name:"v-44e6151e",path:"/pages/7453b3/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-44e6151e").then(t)}},{path:"/pages/7453b3/index.html",redirect:"/pages/7453b3/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/05.å¤ç¹å»é¤.html",redirect:"/pages/7453b3/"},{name:"v-35d02571",path:"/pages/ed705b/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-35d02571").then(t)}},{path:"/pages/ed705b/index.html",redirect:"/pages/ed705b/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/13.orbslamè®ºæéè¯»ç¬è®°.html",redirect:"/pages/ed705b/"},{name:"v-e08ea78c",path:"/pages/98600a/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-e08ea78c").then(t)}},{path:"/pages/98600a/index.html",redirect:"/pages/98600a/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/01.MVS.html",redirect:"/pages/98600a/"},{name:"v-56cefa9b",path:"/pages/cc38e6/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-56cefa9b").then(t)}},{path:"/pages/cc38e6/index.html",redirect:"/pages/cc38e6/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/06.å­¦ä¹ opengl.html",redirect:"/pages/cc38e6/"},{name:"v-db9fa682",path:"/pages/8a4bae/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-db9fa682").then(t)}},{path:"/pages/8a4bae/index.html",redirect:"/pages/8a4bae/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/07.å¯éå¹é.html",redirect:"/pages/8a4bae/"},{name:"v-384a84e1",path:"/pages/fc7936/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-384a84e1").then(t)}},{path:"/pages/fc7936/index.html",redirect:"/pages/fc7936/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/10.èªææè¿°.html",redirect:"/pages/fc7936/"},{name:"v-58cdf8c8",path:"/pages/4a64fa/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-58cdf8c8").then(t)}},{path:"/pages/4a64fa/index.html",redirect:"/pages/4a64fa/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/09.è®ºæéè®°.html",redirect:"/pages/4a64fa/"},{name:"v-6e742411",path:"/pages/169752/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-6e742411").then(t)}},{path:"/pages/169752/index.html",redirect:"/pages/169752/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/11.theiaSfMä»£ç .html",redirect:"/pages/169752/"},{name:"v-63fd0ca6",path:"/pages/270f1d/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-63fd0ca6").then(t)}},{path:"/pages/270f1d/index.html",redirect:"/pages/270f1d/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/08.é·è¾¾å¢å¼ºsfm.html",redirect:"/pages/270f1d/"},{name:"v-389af7e5",path:"/pages/24dfc7/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-389af7e5").then(t)}},{path:"/pages/24dfc7/index.html",redirect:"/pages/24dfc7/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/12.ææéè¯»è®ºæ1.html",redirect:"/pages/24dfc7/"},{name:"v-39371ab4",path:"/pages/f9d90b/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-39371ab4").then(t)}},{path:"/pages/f9d90b/index.html",redirect:"/pages/f9d90b/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/14. ææéè¯»è®ºæ3.html",redirect:"/pages/f9d90b/"},{name:"v-7e805f34",path:"/pages/7387ee/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-7e805f34").then(t)}},{path:"/pages/7387ee/index.html",redirect:"/pages/7387ee/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/13. ææéè¯»è®ºæ2.html",redirect:"/pages/7387ee/"},{name:"v-18245398",path:"/pages/696f8f/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-18245398").then(t)}},{path:"/pages/696f8f/index.html",redirect:"/pages/696f8f/"},{path:"/02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/15. ææéè¯»è®ºæ4.html",redirect:"/pages/696f8f/"},{name:"v-372327de",path:"/pages/c6a110/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-372327de").then(t)}},{path:"/pages/c6a110/index.html",redirect:"/pages/c6a110/"},{path:"/02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/02.EFè®ºæçè§£.html",redirect:"/pages/c6a110/"},{name:"v-76c0fdcc",path:"/pages/3d257e/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-76c0fdcc").then(t)}},{path:"/pages/3d257e/index.html",redirect:"/pages/3d257e/"},{path:"/02.ç§ç /03.æçå·¥ä½/02.code.html",redirect:"/pages/3d257e/"},{name:"v-015ece1a",path:"/pages/8f3964/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-015ece1a").then(t)}},{path:"/pages/8f3964/index.html",redirect:"/pages/8f3964/"},{path:"/02.ç§ç /03.æçå·¥ä½/10.hybrid.html",redirect:"/pages/8f3964/"},{name:"v-5913e204",path:"/pages/c06b1c/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-5913e204").then(t)}},{path:"/pages/c06b1c/index.html",redirect:"/pages/c06b1c/"},{path:"/02.ç§ç /03.æçå·¥ä½/01.one.html",redirect:"/pages/c06b1c/"},{name:"v-8f96befe",path:"/pages/a2edb6/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-8f96befe").then(t)}},{path:"/pages/a2edb6/index.html",redirect:"/pages/a2edb6/"},{path:"/02.ç§ç /03.æçå·¥ä½/15.å®éª.html",redirect:"/pages/a2edb6/"},{name:"v-70073a00",path:"/pages/03900a/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-70073a00").then(t)}},{path:"/pages/03900a/index.html",redirect:"/pages/03900a/"},{path:"/02.ç§ç /03.æçå·¥ä½/30.two.html",redirect:"/pages/03900a/"},{name:"v-140f256d",path:"/pages/0c2f17/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-140f256d").then(t)}},{path:"/pages/0c2f17/index.html",redirect:"/pages/0c2f17/"},{path:"/02.ç§ç /03.æçå·¥ä½/03.å®ç°æµç¨.html",redirect:"/pages/0c2f17/"},{name:"v-37fa14fa",path:"/pages/f12e80/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-37fa14fa").then(t)}},{path:"/pages/f12e80/index.html",redirect:"/pages/f12e80/"},{path:"/02.ç§ç /03.æçå·¥ä½/20.EC.html",redirect:"/pages/f12e80/"},{name:"v-e8e0160c",path:"/pages/bcf6cd/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-e8e0160c").then(t)}},{path:"/pages/bcf6cd/index.html",redirect:"/pages/bcf6cd/"},{path:"/02.ç§ç /03.æçå·¥ä½/32.keyfram2.html",redirect:"/pages/bcf6cd/"},{name:"v-d5f92e9a",path:"/pages/0a2951/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-d5f92e9a").then(t)}},{path:"/pages/0a2951/index.html",redirect:"/pages/0a2951/"},{path:"/02.ç§ç /03.æçå·¥ä½/35.colmapå¢é.html",redirect:"/pages/0a2951/"},{name:"v-2ff99942",path:"/pages/a0d165/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-2ff99942").then(t)}},{path:"/pages/a0d165/index.html",redirect:"/pages/a0d165/"},{path:"/02.ç§ç /03.æçå·¥ä½/36.keyframe3.html",redirect:"/pages/a0d165/"},{name:"v-4055a79c",path:"/pages/7cc66a/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-4055a79c").then(t)}},{path:"/pages/7cc66a/index.html",redirect:"/pages/7cc66a/"},{path:"/03.çæ´»/05.é¥è¿çæä¸ä¸».html",redirect:"/pages/7cc66a/"},{name:"v-0545b0a1",path:"/pages/149c7c/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-0545b0a1").then(t)}},{path:"/pages/149c7c/index.html",redirect:"/pages/149c7c/"},{path:"/02.ç§ç /03.æçå·¥ä½/38.è¦é¾.html",redirect:"/pages/149c7c/"},{name:"v-8263629e",path:"/pages/db78e2/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-8263629e").then(t)}},{path:"/pages/db78e2/index.html",redirect:"/pages/db78e2/"},{path:"/03.çæ´»/01.éç¬.html",redirect:"/pages/db78e2/"},{name:"v-012dc53d",path:"/pages/76e940/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-012dc53d").then(t)}},{path:"/pages/76e940/index.html",redirect:"/pages/76e940/"},{path:"/03.çæ´»/06.game.html",redirect:"/pages/76e940/"},{name:"v-095f08a6",path:"/pages/f5ba2a/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-095f08a6").then(t)}},{path:"/pages/f5ba2a/index.html",redirect:"/pages/f5ba2a/"},{path:"/03.çæ´»/07.ç¨åºåçææªåçº§.html",redirect:"/pages/f5ba2a/"},{name:"v-5fc224a0",path:"/pages/c8b13e/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-5fc224a0").then(t)}},{path:"/pages/c8b13e/index.html",redirect:"/pages/c8b13e/"},{path:"/02.ç§ç /03.æçå·¥ä½/66.sci.html",redirect:"/pages/c8b13e/"},{name:"v-373c2e99",path:"/pages/4dc62f/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-373c2e99").then(t)}},{path:"/pages/4dc62f/index.html",redirect:"/pages/4dc62f/"},{path:"/03.çæ´»/09.ç±æè§åè¿.html",redirect:"/pages/4dc62f/"},{name:"v-78f813a7",path:"/pages/c1356f/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-78f813a7").then(t)}},{path:"/pages/c1356f/index.html",redirect:"/pages/c1356f/"},{path:"/03.çæ´»/08.ææ¯äººçæ±èæå.html",redirect:"/pages/c1356f/"},{name:"v-a2a48808",path:"/archives/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-a2a48808").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-05363355",path:"/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-05363355").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-7887f0dc",path:"/pages/a7f8a5/",component:_l,beforeEnter:(n,e,t)=>{ds("Layout","v-7887f0dc").then(t)}},{path:"/pages/a7f8a5/index.html",redirect:"/pages/a7f8a5/"},{path:"/03.çæ´»/02.è½¯ææ¯èµ.html",redirect:"/pages/a7f8a5/"},{path:"*",component:_l}],El={title:"åå¥æ é±¼",description:"ä¸ä¸ªåºäºVuePressç ç¥è¯ç®¡ç&åå®¢ ä¸»é¢",base:"/",headTags:[["link",{rel:"icon",href:"/img/tiger.png"}],["meta",{name:"keywords",content:"vuepress,theme,blog,vdoing"}],["meta",{name:"theme-color",content:"#11a8cd"}],["meta",{name:"referrer",content:"no-referrer-when-downgrade"}]],pages:[{title:"Javaéåæ¡æ¶",frontmatter:{title:"Javaéåæ¡æ¶",date:"2023-02-23T20:13:30.000Z",permalink:"/pages/8e69ed/"},regularPath:"/01.Java/01.Java%E5%9F%BA%E7%A1%80/01.Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6.html",relativePath:"01.Java/01.Javaåºç¡/01.Javaéåæ¡æ¶.md",key:"v-3a75d5b2",path:"/pages/8e69ed/",headers:[{level:3,title:"Collectionéåä¸­å¸¸è§çApi",slug:"collectionéåä¸­å¸¸è§çapi",normalizedTitle:"collectionéåä¸­å¸¸è§çapi",charIndex:2},{level:4,title:"å¢ï¼",slug:"å¢",normalizedTitle:"å¢ï¼",charIndex:27},{level:4,title:"å ï¼",slug:"å ",normalizedTitle:"å ï¼",charIndex:194},{level:4,title:"æ¹ï¼",slug:"æ¹",normalizedTitle:"æ¹ï¼",charIndex:295},{level:4,title:"æ¥ï¼",slug:"æ¥",normalizedTitle:"æ¥ï¼",charIndex:320},{level:4,title:"å¯¹éåæ´ä½çæä½ï¼",slug:"å¯¹éåæ´ä½çæä½",normalizedTitle:"å¯¹éåæ´ä½çæä½ï¼",charIndex:436},{level:3,title:"List",slug:"list",normalizedTitle:"list",charIndex:541},{level:4,title:"ä¸LinkedListçåºå«",slug:"ä¸linkedlistçåºå«",normalizedTitle:"ä¸linkedlistçåºå«",charIndex:551},{level:4,title:"ä¸Vectorçåºå«",slug:"ä¸vectorçåºå«",normalizedTitle:"ä¸vectorçåºå«",charIndex:1049},{level:3,title:"Queue & Deque",slug:"queue-deque",normalizedTitle:"queue &amp; deque",charIndex:null},{level:4,title:"Queue",slug:"queue",normalizedTitle:"queue",charIndex:1154},{level:4,title:"Deque",slug:"deque",normalizedTitle:"deque",charIndex:1162},{level:4,title:"å®ç°ç±»",slug:"å®ç°ç±»",normalizedTitle:"å®ç°ç±»",charIndex:1905},{level:4,title:"Stack",slug:"stack",normalizedTitle:"stack",charIndex:2346},{level:3,title:"Set",slug:"set",normalizedTitle:"set",charIndex:2468},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:2823}],headersStr:"Collectionéåä¸­å¸¸è§çApi å¢ï¼ å ï¼ æ¹ï¼ æ¥ï¼ å¯¹éåæ´ä½çæä½ï¼ List ä¸LinkedListçåºå« ä¸Vectorçåºå« Queue & Deque Queue Deque å®ç°ç±» Stack Set æ»ç»",content:"# Collectionéåä¸­å¸¸è§çApi\n\n\n\n# å¢ï¼\n\n * æ¹æ³ä¼ å¥çæ°æ®ç±»åå¿é¡»æ¯ Objectï¼æä»¥å½åå¥åºæ¬æ°æ®ç±»åçæ¶åï¼ä¼åèªå¨è£ç®± auto-boxing åèªå¨æç®± unboxingã\n\nboolean add(E e);\n\n\n * æå¦ä¸ä¸ªéåéçåç´ å å°æ­¤éåä¸­ã\n\nboolean addAll(Collection<? extends E> c);\n\n\n# å ï¼\n\n * å é¤çæå®åç´ ã\n\nboolean remove(Object o);\n\n\n * å é¤éåBä¸­çææåç´ \n\nboolean removeAll(Collection<?> c);\n\n\n# æ¹ï¼\n\n * æ²¡ææ¹, å¯ä»¥ç¨å åå¢æ¥å®ç°\n\n# æ¥ï¼\n\n * æ¥éåä¸­æ¯å¦ææä¸ªç¹å®çåç´ \n\nboolean contains(Object o);\n\n\n * æ¥éå A æ¯å¦åå«äºéå Bï¼\n\nboolean containsAll(Collection<?> c);\n\n\n# å¯¹éåæ´ä½çæä½ï¼\n\n * å¤æ­éåæ¯å¦ä¸ºç©º\n\nboolean isEmpty();\n\n\n * éåçå¤§å°\n\nint size();\n\n\n * éåè½¬ææ°ç»\n\nObject[] toArray();\n\n\n\n# List\n\n\n\n# ä¸LinkedListçåºå«\n\n> An ordered collection (also known as a sequence).\n> \n> Unlike sets, lists typically allow duplicate elements.\n\nList çå®ç°æ¹å¼æLinkedList å ArrayListï¼ä¸ä¸ªé¾è¡¨ä¸ä¸ªæ°ç»ï¼æ²¡ä»ä¹å¥½è¯´çã\n\nåè½   æ¹æ³                    ARRAYLIST   LINKEDLIST\nå¢    add(E e)              O(1)        O(1)\nå¢    add(int index, E e)   O(n)        O(n)\nå     remove(int index)     O(n)        O(n)\nå     remove(E e)           O(1)        O(n)\næ¹    set(int index, E e)   O(1)        O(n)\næ¥    get(int index)        O(1)        O(n)\n\n# ä¸Vectorçåºå«\n\nVector ä¸­è®¸å¤æ¹æ³å äºsynchronizedå³é®å­ï¼åæ­¥äºï¼ä½æçä½ã\n\n> çº¿ç¨å®å¨åºå«\n> \n> æ©å®¹åºå«\n\nArrayListæ©å®¹1.5åï¼Vectoræ©å®¹2åã\n\n\n# Queue & Deque\n\n * Queueæ¯ååéåï¼ Dequeæ¯ååéåã\n\n# Queue\n\nåè½   æå¼å¸¸         è¿åå¼\nå¢    add(e)      offer(e)\nå     remove()    poll()\nç§    element()   peek()\n\nä¸ºä»ä¹ä¼æå¼å¸¸å¢ï¼\n\n * æ¯å¦éåç©ºäºï¼é£ remove() å°±ä¼æå¼å¸¸ï¼ä½æ¯ poll() å°±è¿å nullï¼element() å°±ä¼æå¼å¸¸ï¼è peek() å°±è¿å null å°±å¥½äºã\n\né£ add(e) æä¹ä¼æå¼å¸¸å¢ï¼\n\næäº Queue å®ä¼æå®¹éçéå¶ï¼æ¯å¦ BlockingQueueï¼é£å¦æå·²ç»è¾¾å°äºå®æå¤§çå®¹éä¸ä¸ä¼æ©å®¹çï¼å°±ä¼æå¼å¸¸ï¼ä½å¦æ offer(e)ï¼å°±ä¼ return false.\n\né£æä¹éæ©å¢ï¼ï¼\n\n * é¦åï¼è¦ç¨å°±ç¨åä¸ç» APIï¼ååè¦ç»ä¸ï¼\n * å¶æ¬¡ï¼æ ¹æ®éæ±ãå¦æä½ éè¦å®æå¼å¸¸ï¼é£å°±æ¯ç¨æå¼å¸¸çï¼ä¸è¿åç®æ³é¢æ¶åºæ¬ä¸ç¨ï¼æä»¥éé£ç»è¿åç¹æ®å¼çå°±å¥½äºã\n\n# Deque\n\nåè½   æå¼å¸¸                           è¿åå¼\nå¢    addFirst(e)/ addLast(e)       offerFirst(e)/ offerLast(e)\nå     removeFirst()/ removeLast()   pollFirst()/ pollLast()\nç§    getFirst()/ getLast()         peekFirst()/ peekLast()\n\nä½¿ç¨æ¶åçï¼è¦ç¨å°±ç¨åä¸ç»ã\n\nQueue å Deque çè¿äº API é½æ¯ O(1) çæ¶é´å¤æåº¦ï¼åç¡®æ¥è¯´æ¯åææ¶é´å¤æåº¦ã\n\n# å®ç°ç±»\n\n\n\n * å¦ææ³å®ç°ãæ®ééå - åè¿ååºãçè¯­ä¹ï¼å°±ä½¿ç¨ LinkedList æè ArrayDeque æ¥å®ç°ï¼\n * å¦ææ³å®ç°ãä¼åéåãçè¯­ä¹ï¼å°±ä½¿ç¨ PriorityQueueï¼\n * å¦ææ³å®ç°ãæ ãçè¯­ä¹ï¼å°±ä½¿ç¨ ArrayDequeã\n\nå¨å®ç°æ®ééåæ¶ï¼å¦ä½éæ©ç¨LinkedListè¿æ¯ArrayDequeå¢ï¼\n\n\n\nLinkedListè¿æ¯ArrayDequeåºå«\n\n>  1. ArrayDeque æ¯ä¸ä¸ªå¯æ©å®¹çæ°ç»ï¼LinkedList æ¯é¾è¡¨ç»æï¼\n>  2. ArrayDeque éä¸å¯ä»¥å­ null å¼ï¼ä½æ¯ LinkedList å¯ä»¥ï¼\n>  3. ArrayDeque å¨æä½å¤´å°¾ç«¯çå¢å æä½æ¶æ´é«æï¼ä½æ¯ LinkedList åªæå¨å½è¦ç§»é¤ä¸­é´æä¸ªåç´ ä¸å·²ç»æ¾å°äºè¿ä¸ªåç´ åçç§»é¤ææ¯ O(1) çï¼\n>  4. ArrayDeque å¨åå­ä½¿ç¨æ¹é¢æ´é«æã\n\néå¿è¦å­nullå¼æ¶ï¼æ¨èä½¿ç¨ArrayDequeã\n\n# Stack\n\nè½ç¶Javaæè¿ä¸ªStackç±»ï¼å®æ¹ææ¡£è¯´ä¸è®©ç¨äºï¼å ä¸ºVectorå·²ç»å¼ç¨ï¼èStackæ¯ç»§æ¿å®çã\n\nç¨ArrayDequeå§\n\nDeque<Integer> stack = new ArrayDeque<>();\n\n\n\n# Set\n\n\n\nSet çå¸¸ç¨å®ç°ç±»æä¸ä¸ªï¼\n\nHashSet: éç¨ Hashmap ç key æ¥å¨å­åç´ ï¼ä¸»è¦ç¹ç¹æ¯æ åºçï¼åºæ¬æä½é½æ¯ O(1) çæ¶é´å¤æåº¦ï¼å¾å¿«ã\n\nLinkedHashSet: è¿ä¸ªæ¯ä¸ä¸ª HashSet + LinkedList çç»æï¼ç¹ç¹å°±æ¯æ¢æ¥æäº O(1) çæ¶é´å¤æåº¦ï¼åè½å¤ä¿çæå¥çé¡ºåºã\n\nTreeSet: éç¨çº¢é»æ ç»æï¼ç¹ç¹æ¯å¯ä»¥æåºï¼å¯ä»¥ç¨èªç¶æåºæèèªå®ä¹æ¯è¾å¨æ¥æåºï¼ç¼ºç¹å°±æ¯æ¥è¯¢éåº¦æ²¡æ HashSet å¿«ã\n\né£æ¯ä¸ª Set çåºå±å®ç°å¶å®å°±æ¯å¯¹åºç Mapï¼\n\næ°å¼æ¾å¨ map ä¸­ç key ä¸ï¼value ä¸æ¾äºä¸ª PRESENTï¼æ¯ä¸ä¸ªéæç Objectï¼ç¸å½äº place holderï¼æ¯ä¸ª key é½æåè¿ä¸ª objectã\n\n\n# æ»ç»\n\n",normalizedContent:"# collectionéåä¸­å¸¸è§çapi\n\n\n\n# å¢ï¼\n\n * æ¹æ³ä¼ å¥çæ°æ®ç±»åå¿é¡»æ¯ objectï¼æä»¥å½åå¥åºæ¬æ°æ®ç±»åçæ¶åï¼ä¼åèªå¨è£ç®± auto-boxing åèªå¨æç®± unboxingã\n\nboolean add(e e);\n\n\n * æå¦ä¸ä¸ªéåéçåç´ å å°æ­¤éåä¸­ã\n\nboolean addall(collection<? extends e> c);\n\n\n# å ï¼\n\n * å é¤çæå®åç´ ã\n\nboolean remove(object o);\n\n\n * å é¤éåbä¸­çææåç´ \n\nboolean removeall(collection<?> c);\n\n\n# æ¹ï¼\n\n * æ²¡ææ¹, å¯ä»¥ç¨å åå¢æ¥å®ç°\n\n# æ¥ï¼\n\n * æ¥éåä¸­æ¯å¦ææä¸ªç¹å®çåç´ \n\nboolean contains(object o);\n\n\n * æ¥éå a æ¯å¦åå«äºéå bï¼\n\nboolean containsall(collection<?> c);\n\n\n# å¯¹éåæ´ä½çæä½ï¼\n\n * å¤æ­éåæ¯å¦ä¸ºç©º\n\nboolean isempty();\n\n\n * éåçå¤§å°\n\nint size();\n\n\n * éåè½¬ææ°ç»\n\nobject[] toarray();\n\n\n\n# list\n\n\n\n# ä¸linkedlistçåºå«\n\n> an ordered collection (also known as a sequence).\n> \n> unlike sets, lists typically allow duplicate elements.\n\nlist çå®ç°æ¹å¼ælinkedlist å arraylistï¼ä¸ä¸ªé¾è¡¨ä¸ä¸ªæ°ç»ï¼æ²¡ä»ä¹å¥½è¯´çã\n\nåè½   æ¹æ³                    arraylist   linkedlist\nå¢    add(e e)              o(1)        o(1)\nå¢    add(int index, e e)   o(n)        o(n)\nå     remove(int index)     o(n)        o(n)\nå     remove(e e)           o(1)        o(n)\næ¹    set(int index, e e)   o(1)        o(n)\næ¥    get(int index)        o(1)        o(n)\n\n# ä¸vectorçåºå«\n\nvector ä¸­è®¸å¤æ¹æ³å äºsynchronizedå³é®å­ï¼åæ­¥äºï¼ä½æçä½ã\n\n> çº¿ç¨å®å¨åºå«\n> \n> æ©å®¹åºå«\n\narraylistæ©å®¹1.5åï¼vectoræ©å®¹2åã\n\n\n# queue & deque\n\n * queueæ¯ååéåï¼ dequeæ¯ååéåã\n\n# queue\n\nåè½   æå¼å¸¸         è¿åå¼\nå¢    add(e)      offer(e)\nå     remove()    poll()\nç§    element()   peek()\n\nä¸ºä»ä¹ä¼æå¼å¸¸å¢ï¼\n\n * æ¯å¦éåç©ºäºï¼é£ remove() å°±ä¼æå¼å¸¸ï¼ä½æ¯ poll() å°±è¿å nullï¼element() å°±ä¼æå¼å¸¸ï¼è peek() å°±è¿å null å°±å¥½äºã\n\né£ add(e) æä¹ä¼æå¼å¸¸å¢ï¼\n\næäº queue å®ä¼æå®¹éçéå¶ï¼æ¯å¦ blockingqueueï¼é£å¦æå·²ç»è¾¾å°äºå®æå¤§çå®¹éä¸ä¸ä¼æ©å®¹çï¼å°±ä¼æå¼å¸¸ï¼ä½å¦æ offer(e)ï¼å°±ä¼ return false.\n\né£æä¹éæ©å¢ï¼ï¼\n\n * é¦åï¼è¦ç¨å°±ç¨åä¸ç» apiï¼ååè¦ç»ä¸ï¼\n * å¶æ¬¡ï¼æ ¹æ®éæ±ãå¦æä½ éè¦å®æå¼å¸¸ï¼é£å°±æ¯ç¨æå¼å¸¸çï¼ä¸è¿åç®æ³é¢æ¶åºæ¬ä¸ç¨ï¼æä»¥éé£ç»è¿åç¹æ®å¼çå°±å¥½äºã\n\n# deque\n\nåè½   æå¼å¸¸                           è¿åå¼\nå¢    addfirst(e)/ addlast(e)       offerfirst(e)/ offerlast(e)\nå     removefirst()/ removelast()   pollfirst()/ polllast()\nç§    getfirst()/ getlast()         peekfirst()/ peeklast()\n\nä½¿ç¨æ¶åçï¼è¦ç¨å°±ç¨åä¸ç»ã\n\nqueue å deque çè¿äº api é½æ¯ o(1) çæ¶é´å¤æåº¦ï¼åç¡®æ¥è¯´æ¯åææ¶é´å¤æåº¦ã\n\n# å®ç°ç±»\n\n\n\n * å¦ææ³å®ç°ãæ®ééå - åè¿ååºãçè¯­ä¹ï¼å°±ä½¿ç¨ linkedlist æè arraydeque æ¥å®ç°ï¼\n * å¦ææ³å®ç°ãä¼åéåãçè¯­ä¹ï¼å°±ä½¿ç¨ priorityqueueï¼\n * å¦ææ³å®ç°ãæ ãçè¯­ä¹ï¼å°±ä½¿ç¨ arraydequeã\n\nå¨å®ç°æ®ééåæ¶ï¼å¦ä½éæ©ç¨linkedlistè¿æ¯arraydequeå¢ï¼\n\n\n\nlinkedlistè¿æ¯arraydequeåºå«\n\n>  1. arraydeque æ¯ä¸ä¸ªå¯æ©å®¹çæ°ç»ï¼linkedlist æ¯é¾è¡¨ç»æï¼\n>  2. arraydeque éä¸å¯ä»¥å­ null å¼ï¼ä½æ¯ linkedlist å¯ä»¥ï¼\n>  3. arraydeque å¨æä½å¤´å°¾ç«¯çå¢å æä½æ¶æ´é«æï¼ä½æ¯ linkedlist åªæå¨å½è¦ç§»é¤ä¸­é´æä¸ªåç´ ä¸å·²ç»æ¾å°äºè¿ä¸ªåç´ åçç§»é¤ææ¯ o(1) çï¼\n>  4. arraydeque å¨åå­ä½¿ç¨æ¹é¢æ´é«æã\n\néå¿è¦å­nullå¼æ¶ï¼æ¨èä½¿ç¨arraydequeã\n\n# stack\n\nè½ç¶javaæè¿ä¸ªstackç±»ï¼å®æ¹ææ¡£è¯´ä¸è®©ç¨äºï¼å ä¸ºvectorå·²ç»å¼ç¨ï¼èstackæ¯ç»§æ¿å®çã\n\nç¨arraydequeå§\n\ndeque<integer> stack = new arraydeque<>();\n\n\n\n# set\n\n\n\nset çå¸¸ç¨å®ç°ç±»æä¸ä¸ªï¼\n\nhashset: éç¨ hashmap ç key æ¥å¨å­åç´ ï¼ä¸»è¦ç¹ç¹æ¯æ åºçï¼åºæ¬æä½é½æ¯ o(1) çæ¶é´å¤æåº¦ï¼å¾å¿«ã\n\nlinkedhashset: è¿ä¸ªæ¯ä¸ä¸ª hashset + linkedlist çç»æï¼ç¹ç¹å°±æ¯æ¢æ¥æäº o(1) çæ¶é´å¤æåº¦ï¼åè½å¤ä¿çæå¥çé¡ºåºã\n\ntreeset: éç¨çº¢é»æ ç»æï¼ç¹ç¹æ¯å¯ä»¥æåºï¼å¯ä»¥ç¨èªç¶æåºæèèªå®ä¹æ¯è¾å¨æ¥æåºï¼ç¼ºç¹å°±æ¯æ¥è¯¢éåº¦æ²¡æ hashset å¿«ã\n\né£æ¯ä¸ª set çåºå±å®ç°å¶å®å°±æ¯å¯¹åºç mapï¼\n\næ°å¼æ¾å¨ map ä¸­ç key ä¸ï¼value ä¸æ¾äºä¸ª presentï¼æ¯ä¸ä¸ªéæç objectï¼ç¸å½äº place holderï¼æ¯ä¸ª key é½æåè¿ä¸ª objectã\n\n\n# æ»ç»\n\n",charsets:{cjk:!0}},{title:"Hashmap",frontmatter:{title:"Hashmap",date:"2023-02-24T10:40:58.000Z",permalink:"/pages/ce6e6c/"},regularPath:"/01.Java/01.Java%E5%9F%BA%E7%A1%80/02.HashMap.html",relativePath:"01.Java/01.Javaåºç¡/02.HashMap.md",key:"v-66629ea2",path:"/pages/ce6e6c/",headers:[{level:3,title:"åºå±æ°æ®ç»æ",slug:"åºå±æ°æ®ç»æ",normalizedTitle:"åºå±æ°æ®ç»æ",charIndex:2},{level:3,title:"æå¥èç¹",slug:"æå¥èç¹",normalizedTitle:"æå¥èç¹",charIndex:174},{level:4,title:"æ©å®¹",slug:"æ©å®¹",normalizedTitle:"æ©å®¹",charIndex:210},{level:4,title:"å¤´ææ³",slug:"å¤´ææ³",normalizedTitle:"å¤´ææ³",charIndex:189},{level:3,title:"éåequal æ¹æ³ä½ä¸éå hashcodeæ¹æ³",slug:"éåequal-æ¹æ³ä½ä¸éå-hashcodeæ¹æ³",normalizedTitle:"éåequal æ¹æ³ä½ä¸éå hashcodeæ¹æ³",charIndex:465}],headersStr:"åºå±æ°æ®ç»æ æå¥èç¹ æ©å®¹ å¤´ææ³ éåequal æ¹æ³ä½ä¸éå hashcodeæ¹æ³",content:"# åºå±æ°æ®ç»æ\n\n * ç±æ°ç»åé¾è¡¨ç»åææçæ°æ®ç»æ\n\n\n\nstatic class Node<K, V> implements Map.Entry<K, V>{\n    final int hash;\n    final K key;\n    V value;\n    Node<K,V> next;\n    \n    ...\n}\n\n\n\n# æå¥èç¹\n\njava8 ä¹åæ¯å¤´ææ³ï¼ java8ä¹åæ¯å°¾ææ³ã\n\n# æ©å®¹\n\n * Capacityï¼HashMapå½åé¿åº¦ã\n\n * LoadFactorï¼è´è½½å å­ï¼é»è®¤å¼0.75fã\n\n * æ©å®¹ï¼åå»ºä¸ä¸ªæ°çEntryç©ºæ°ç»ï¼é¿åº¦æ¯åæ°ç»ç2åã\n\n * ReHashï¼éååEntryæ°ç»ï¼æææçEntryéæ°Hashå°æ°æ°ç»ã\n\næ©å®¹åæ¯ä¸ªkey Hashå°çindexä¸ä¸è´ï¼æä»¥éè¦éæ°Hashã\n\n# å¤´ææ³\n\nå¨å¤çº¿ç¨ä¸­ä¼å¯¼è´å¾ªç¯é¾è¡¨ã\n\næå¥ä¸ä¸ªåç´ éè¦è¿è¡æ©å®¹æ¶ï¼å½ä¸ä¸ªçº¿ç¨å®ææ©å®¹ï¼å¦ä¸ä¸ªçº¿ç¨å°èç¹æ·»å å°æ°æ°ç»æ¶å°±ä¼äº§çæåé®é¢ï¼å¯¼è´å¾ªç¯æåã\n\n\n# éåequal æ¹æ³ä½ä¸éå hashcodeæ¹æ³\n\nä¿è¯ä¸¤ä¸ªåæ\n\n>  1. å¦æä¸¤ä¸ªå¯¹è±¡ç¸åï¼å³ç¨equalsæ¯è¾è¿åtrueï¼ï¼é£ä¹å®ä»¬çhashCodeå¼ä¸å®è¦ç¸åï¼\n>  2. å¦æä¸¤ä¸ªå¯¹è±¡çhashCodeç¸åï¼å®ä»¬å¹¶ä¸ä¸å®ç¸å(å³ç¨equalsæ¯è¾è¿åfalse) ã\n\nå¦æéåäºequalæ¹æ³ï¼ä½¿å¾ä¸¤ä¸ªå¯¹è±¡ç¸åï¼ä½æ¯hashcodeä¸åï¼è¿æ¶å°ä»ä»¬æå¥å°ä¸éå¤éåMapæèSetä¸­ï¼å°±ä¼æå¥æåï¼ä¸é¢æä¸ç¬¦ã",normalizedContent:"# åºå±æ°æ®ç»æ\n\n * ç±æ°ç»åé¾è¡¨ç»åææçæ°æ®ç»æ\n\n\n\nstatic class node<k, v> implements map.entry<k, v>{\n    final int hash;\n    final k key;\n    v value;\n    node<k,v> next;\n    \n    ...\n}\n\n\n\n# æå¥èç¹\n\njava8 ä¹åæ¯å¤´ææ³ï¼ java8ä¹åæ¯å°¾ææ³ã\n\n# æ©å®¹\n\n * capacityï¼hashmapå½åé¿åº¦ã\n\n * loadfactorï¼è´è½½å å­ï¼é»è®¤å¼0.75fã\n\n * æ©å®¹ï¼åå»ºä¸ä¸ªæ°çentryç©ºæ°ç»ï¼é¿åº¦æ¯åæ°ç»ç2åã\n\n * rehashï¼éååentryæ°ç»ï¼æææçentryéæ°hashå°æ°æ°ç»ã\n\næ©å®¹åæ¯ä¸ªkey hashå°çindexä¸ä¸è´ï¼æä»¥éè¦éæ°hashã\n\n# å¤´ææ³\n\nå¨å¤çº¿ç¨ä¸­ä¼å¯¼è´å¾ªç¯é¾è¡¨ã\n\næå¥ä¸ä¸ªåç´ éè¦è¿è¡æ©å®¹æ¶ï¼å½ä¸ä¸ªçº¿ç¨å®ææ©å®¹ï¼å¦ä¸ä¸ªçº¿ç¨å°èç¹æ·»å å°æ°æ°ç»æ¶å°±ä¼äº§çæåé®é¢ï¼å¯¼è´å¾ªç¯æåã\n\n\n# éåequal æ¹æ³ä½ä¸éå hashcodeæ¹æ³\n\nä¿è¯ä¸¤ä¸ªåæ\n\n>  1. å¦æä¸¤ä¸ªå¯¹è±¡ç¸åï¼å³ç¨equalsæ¯è¾è¿åtrueï¼ï¼é£ä¹å®ä»¬çhashcodeå¼ä¸å®è¦ç¸åï¼\n>  2. å¦æä¸¤ä¸ªå¯¹è±¡çhashcodeç¸åï¼å®ä»¬å¹¶ä¸ä¸å®ç¸å(å³ç¨equalsæ¯è¾è¿åfalse) ã\n\nå¦æéåäºequalæ¹æ³ï¼ä½¿å¾ä¸¤ä¸ªå¯¹è±¡ç¸åï¼ä½æ¯hashcodeä¸åï¼è¿æ¶å°ä»ä»¬æå¥å°ä¸éå¤éåmapæèsetä¸­ï¼å°±ä¼æå¥æåï¼ä¸é¢æä¸ç¬¦ã",charsets:{cjk:!0}},{title:"Javaå¸¸ç¨api",frontmatter:{title:"Javaå¸¸ç¨api",date:"2023-03-09T12:40:18.000Z",permalink:"/pages/672ba8/"},regularPath:"/01.Java/01.Java%E5%9F%BA%E7%A1%80/03.Java%E5%88%B7%E9%A2%98.html",relativePath:"01.Java/01.Javaåºç¡/03.Javaå·é¢.md",key:"v-4445b44e",path:"/pages/672ba8/",headers:[{level:3,title:"Class HashMap",slug:"class-hashmap-t1-t2",normalizedTitle:"class hashmap",charIndex:2},{level:3,title:"Class Stack",slug:"class-stack",normalizedTitle:"class stack",charIndex:739},{level:3,title:"Class PriorityQueue",slug:"class-priorityqueue",normalizedTitle:"class priorityqueue",charIndex:902},{level:3,title:"Interface Queue",slug:"interface-queue",normalizedTitle:"interface queue",charIndex:1038},{level:3,title:"Class ArrayDeque",slug:"class-arraydeque",normalizedTitle:"class arraydeque",charIndex:1100}],headersStr:"Class HashMap Class Stack Class PriorityQueue Interface Queue Class ArrayDeque",content:'# Class HashMap<T1, T2>\n\n// åå»ºHashMapå¯¹è±¡\nHashMap<K, V> map = new HashMap<K, V>();\n\n// æ·»å é®å¼å¯¹\nmap.put(key, value);\n\n// è·åé®å¯¹åºçå¼\nV value = map.get(key);\n\n// ç§»é¤é®å¼å¯¹\nmap.remove(key);\n\n// å¤æ­æ¯å¦åå«æä¸ªé®\nboolean containsKey = map.containsKey(key);\n\n// å¤æ­æ¯å¦åå«æä¸ªå¼\nboolean containsValue = map.containsValue(value);\n\nè·åHashMapä¸­é®å¼å¯¹çæ°é\nint size = map.size();\n\n// æ¿æ¢valueï¼è¿åæ§value\nV value = map.replace(key,value);\n\n// æ¸ç©ºHashMap\nmap.clear();\n\n// éåææçé®\nfor (K key : map.keySet()) {\n    System.out.println(key);\n}\n\n// éåææçå¼\nfor (V value : map.values()) {\n    System.out.println(value);\n}\n\n// éåææçé®å¼å¯¹\nfor (Map.Entry<K, V> entry : map.entrySet()) {\n    K key = entry.getKey();\n    V value = entry.getValue();\n    System.out.println(key + ":" + value);\n}\n\n\n\n\n\n\n# Class Stack\n\nStack<Integer> stack = new Stack<>();  \npublic void push(E e);  \npublic E pop();  \npublic int size();  \npublic E peek();\npublic boolean empty();\n\n\n\n# Class PriorityQueue\n\nPriorityQueue(Comparator<? super E> comparator);\npublic boolean offer(E e);\npublic E peek();\npublic E poll();\n\n\n\n# Interface Queue\n\nboolean offer(E e);\nE poll();\nE peek();\n\n\n\n# Class ArrayDeque\n\nboolean offerFirst(E e);\nboolean\tofferLast(E e);\nE\tpollFirst();\nE\tpollLast();\nE\tpeekFirst()\nE\tpeekLast()\nint\tsize();\nboolean\tisEmpty();\n',normalizedContent:'# class hashmap<t1, t2>\n\n// åå»ºhashmapå¯¹è±¡\nhashmap<k, v> map = new hashmap<k, v>();\n\n// æ·»å é®å¼å¯¹\nmap.put(key, value);\n\n// è·åé®å¯¹åºçå¼\nv value = map.get(key);\n\n// ç§»é¤é®å¼å¯¹\nmap.remove(key);\n\n// å¤æ­æ¯å¦åå«æä¸ªé®\nboolean containskey = map.containskey(key);\n\n// å¤æ­æ¯å¦åå«æä¸ªå¼\nboolean containsvalue = map.containsvalue(value);\n\nè·åhashmapä¸­é®å¼å¯¹çæ°é\nint size = map.size();\n\n// æ¿æ¢valueï¼è¿åæ§value\nv value = map.replace(key,value);\n\n// æ¸ç©ºhashmap\nmap.clear();\n\n// éåææçé®\nfor (k key : map.keyset()) {\n    system.out.println(key);\n}\n\n// éåææçå¼\nfor (v value : map.values()) {\n    system.out.println(value);\n}\n\n// éåææçé®å¼å¯¹\nfor (map.entry<k, v> entry : map.entryset()) {\n    k key = entry.getkey();\n    v value = entry.getvalue();\n    system.out.println(key + ":" + value);\n}\n\n\n\n\n\n\n# class stack\n\nstack<integer> stack = new stack<>();  \npublic void push(e e);  \npublic e pop();  \npublic int size();  \npublic e peek();\npublic boolean empty();\n\n\n\n# class priorityqueue\n\npriorityqueue(comparator<? super e> comparator);\npublic boolean offer(e e);\npublic e peek();\npublic e poll();\n\n\n\n# interface queue\n\nboolean offer(e e);\ne poll();\ne peek();\n\n\n\n# class arraydeque\n\nboolean offerfirst(e e);\nboolean\tofferlast(e e);\ne\tpollfirst();\ne\tpolllast();\ne\tpeekfirst()\ne\tpeeklast()\nint\tsize();\nboolean\tisempty();\n',charsets:{cjk:!0}},{title:"çº¿ç¨æ± ",frontmatter:{title:"çº¿ç¨æ± ",date:"2023-03-30T09:29:48.000Z",permalink:"/pages/d47d28/"},regularPath:"/01.Java/01.Java%E5%9F%BA%E7%A1%80/06.%E7%BA%BF%E7%A8%8B%E6%B1%A0.html",relativePath:"01.Java/01.Javaåºç¡/06.çº¿ç¨æ± .md",key:"v-4751e44c",path:"/pages/d47d28/",headers:[{level:2,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:2},{level:3,title:"çº¿ç¨æ± æ¯ä»ä¹",slug:"çº¿ç¨æ± æ¯ä»ä¹",normalizedTitle:"çº¿ç¨æ± æ¯ä»ä¹",charIndex:9},{level:3,title:"çº¿ç¨æ± è§£å³çé®é¢æ¯ä»ä¹",slug:"çº¿ç¨æ± è§£å³çé®é¢æ¯ä»ä¹",normalizedTitle:"çº¿ç¨æ± è§£å³çé®é¢æ¯ä»ä¹",charIndex:353},{level:2,title:"çº¿ç¨æ± çæ ¸å¿è®¾è®¡ä¸å®ç°",slug:"çº¿ç¨æ± çæ ¸å¿è®¾è®¡ä¸å®ç°",normalizedTitle:"çº¿ç¨æ± çæ ¸å¿è®¾è®¡ä¸å®ç°",charIndex:652},{level:3,title:"JDK1.8ä¸­ä¸»è¦çç±»å¾",slug:"jdk1-8ä¸­ä¸»è¦çç±»å¾",normalizedTitle:"jdk1.8ä¸­ä¸»è¦çç±»å¾",charIndex:668},{level:3,title:"çå½å¨æç®¡ç",slug:"çå½å¨æç®¡ç",normalizedTitle:"çå½å¨æç®¡ç",charIndex:1122},{level:3,title:"ä»»å¡æ§è¡æºå¶",slug:"ä»»å¡æ§è¡æºå¶",normalizedTitle:"ä»»å¡æ§è¡æºå¶",charIndex:1637},{level:4,title:"ä»»å¡è°åº¦",slug:"ä»»å¡è°åº¦",normalizedTitle:"ä»»å¡è°åº¦",charIndex:1647},{level:4,title:"ä»»å¡ç¼å²",slug:"ä»»å¡ç¼å²",normalizedTitle:"ä»»å¡ç¼å²",charIndex:1657},{level:4,title:"ä»»å¡ç³è¯·",slug:"ä»»å¡ç³è¯·",normalizedTitle:"ä»»å¡ç³è¯·",charIndex:1838},{level:4,title:"ä»»å¡æç»",slug:"ä»»å¡æç»",normalizedTitle:"ä»»å¡æç»",charIndex:1928},{level:3,title:"Workerçº¿ç¨ç®¡ç",slug:"workerçº¿ç¨ç®¡ç",normalizedTitle:"workerçº¿ç¨ç®¡ç",charIndex:2422},{level:4,title:"Workerçº¿ç¨",slug:"workerçº¿ç¨",normalizedTitle:"workerçº¿ç¨",charIndex:2422},{level:4,title:"Workerçº¿ç¨å¢å ",slug:"workerçº¿ç¨å¢å ",normalizedTitle:"workerçº¿ç¨å¢å ",charIndex:3068},{level:4,title:"Workerçº¿ç¨åæ¶",slug:"workerçº¿ç¨åæ¶",normalizedTitle:"workerçº¿ç¨åæ¶",charIndex:3158},{level:4,title:"Workerçº¿ç¨æ§è¡ä»»å¡",slug:"workerçº¿ç¨æ§è¡ä»»å¡",normalizedTitle:"workerçº¿ç¨æ§è¡ä»»å¡",charIndex:3292},{level:2,title:"çº¿ç¨æ± å¨ä¸å¡ä¸­çå®è·µ",slug:"çº¿ç¨æ± å¨ä¸å¡ä¸­çå®è·µ",normalizedTitle:"çº¿ç¨æ± å¨ä¸å¡ä¸­çå®è·µ",charIndex:3311},{level:3,title:"åºæ¯1ï¼å¿«éååºç¨æ·è¯·æ±",slug:"åºæ¯1-å¿«éååºç¨æ·è¯·æ±",normalizedTitle:"åºæ¯1ï¼å¿«éååºç¨æ·è¯·æ±",charIndex:3326},{level:3,title:"åºæ¯2ï¼å¿«éå¤çæ¹éä»»å¡",slug:"åºæ¯2-å¿«éå¤çæ¹éä»»å¡",normalizedTitle:"åºæ¯2ï¼å¿«éå¤çæ¹éä»»å¡",charIndex:3427},{level:3,title:"å®éé®é¢åæ¹æ¡æè",slug:"å®éé®é¢åæ¹æ¡æè",normalizedTitle:"å®éé®é¢åæ¹æ¡æè",charIndex:3554}],headersStr:"åè¨ çº¿ç¨æ± æ¯ä»ä¹ çº¿ç¨æ± è§£å³çé®é¢æ¯ä»ä¹ çº¿ç¨æ± çæ ¸å¿è®¾è®¡ä¸å®ç° JDK1.8ä¸­ä¸»è¦çç±»å¾ çå½å¨æç®¡ç ä»»å¡æ§è¡æºå¶ ä»»å¡è°åº¦ ä»»å¡ç¼å² ä»»å¡ç³è¯· ä»»å¡æç» Workerçº¿ç¨ç®¡ç Workerçº¿ç¨ Workerçº¿ç¨å¢å  Workerçº¿ç¨åæ¶ Workerçº¿ç¨æ§è¡ä»»å¡ çº¿ç¨æ± å¨ä¸å¡ä¸­çå®è·µ åºæ¯1ï¼å¿«éååºç¨æ·è¯·æ± åºæ¯2ï¼å¿«éå¤çæ¹éä»»å¡ å®éé®é¢åæ¹æ¡æè",content:"# åè¨\n\n\n# çº¿ç¨æ± æ¯ä»ä¹\n\nçº¿ç¨æ± ï¼Thread Poolï¼æ¯ä¸ç§åºäºæ± åææ³ç®¡ççº¿ç¨çå·¥å·ï¼ç»å¸¸åºç°å¨å¤çº¿ç¨æå¡å¨ä¸­ï¼å¦MySQLã\n\nä½¿ç¨çº¿ç¨æ± å¯ä»¥å¸¦æ¥ä¸ç³»åå¥½å¤ï¼\n\n * éä½èµæºæ¶èï¼éè¿æ± åææ¯éå¤å©ç¨å·²åå»ºççº¿ç¨ï¼éä½çº¿ç¨åå»ºåéæ¯é æçæèã\n * æé«ååºéåº¦ï¼ä»»å¡å°è¾¾æ¶ï¼æ éç­å¾çº¿ç¨åå»ºå³å¯ç«å³æ§è¡ã\n * æé«çº¿ç¨çå¯ç®¡çæ§ï¼çº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶åå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼å ä¸ºçº¿ç¨çä¸åçåå¸å¯¼è´èµæºè°åº¦å¤±è¡¡ï¼éä½ç³»ç»çç¨³å®æ§ãä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸çåéãè°ä¼åçæ§ã\n * æä¾æ´å¤æ´å¼ºå¤§çåè½ï¼çº¿ç¨æ± å·å¤å¯æå±æ§ï¼åè®¸å¼åäººååå¶ä¸­å¢å æ´å¤çåè½ãæ¯å¦å»¶æ¶å®æ¶çº¿ç¨æ± ScheduledThreadPoolExecutorï¼å°±åè®¸ä»»å¡å»¶ææ§è¡æå®ææ§è¡ã\n\n\n# çº¿ç¨æ± è§£å³çé®é¢æ¯ä»ä¹\n\n 1. é¢ç¹ç³è¯·/éæ¯èµæºåè°åº¦èµæºï¼å°å¸¦æ¥é¢å¤çæ¶èï¼å¯è½ä¼éå¸¸å·¨å¤§ã\n 2. å¯¹èµæºæ éç³è¯·ç¼ºå°æå¶ææ®µï¼æå¼åç³»ç»èµæºèå°½çé£é©ã\n 3. ç³»ç»æ æ³åçç®¡çåé¨çèµæºåå¸ï¼ä¼éä½ç³»ç»çç¨³å®æ§ã\n\né¤å»çº¿ç¨æ± ï¼è¿æå¶ä»æ¯è¾å¸åçå ç§ä½¿ç¨ç­ç¥åæ¬ï¼\n\n 1. åå­æ± (Memory Pooling)ï¼é¢åç³è¯·åå­ï¼æåç³è¯·åå­éåº¦ï¼åå°åå­ç¢çã\n 2. è¿æ¥æ± (Connection Pooling)ï¼é¢åç³è¯·æ°æ®åºè¿æ¥ï¼æåç³è¯·è¿æ¥çéåº¦ï¼éä½ç³»ç»çå¼éã\n 3. å®ä¾æ± (Object Pooling)ï¼å¾ªç¯ä½¿ç¨å¯¹è±¡ï¼åå°èµæºå¨åå§ååéæ¾æ¶çæè´µæèã\n\n\n# çº¿ç¨æ± çæ ¸å¿è®¾è®¡ä¸å®ç°\n\n\n# JDK1.8ä¸­ä¸»è¦çç±»å¾\n\n\n\né¡¶å±æ¥å£Executoræä¾äºä¸ç§ææ³ï¼å°ä»»å¡æäº¤åä»»å¡æ§è¡è¿è¡è§£è¦ãç¨æ·æ éå³æ³¨å¦ä½åå»ºçº¿ç¨ï¼å¦ä½è°åº¦çº¿ç¨æ¥æ§è¡ä»»å¡ï¼ç¨æ·åªéæä¾Runnableå¯¹è±¡ï¼å°ä»»å¡çè¿è¡é»è¾æäº¤å°æ§è¡å¨(Executor)ä¸­ï¼ç±Executoræ¡æ¶å®æçº¿ç¨çè°éåä»»å¡çæ§è¡é¨åã\n\nExecutorServiceæ¯ä¸ä¸ªæ¥å£ï¼æ©å±äºExecutoræ¥å£ï¼å®ä¹äºä¸äºæ¹æ³ï¼ä¾å¦submit()ãshutdown()ãshutdownNow()ç­ï¼ç¨äºç®¡çåæ§å¶çº¿ç¨æ± ä¸­çä»»å¡ã\n\nAbstractExecutorServiceæ¯ä¸ä¸ªæ½è±¡ç±»ï¼å®ç°äºExecutorServiceæ¥å£ä¸­çå¤§é¨åæ¹æ³ï¼ä½çä¸äºä¸äºæ½è±¡æ¹æ³ä¾å­ç±»å®ç°ãå®æä¾äºä¸äºé»è®¤çè¡ä¸ºï¼ä¾å¦å¦ä½å¤çè¢«æç»çä»»å¡ç­ã\n\næä¸å±çå®ç°ç±»ThreadPoolExecutorå®ç°æå¤æçè¿è¡é¨åï¼ThreadPoolExecutorå°ä¼ä¸æ¹é¢ç»´æ¤èªèº«ççå½å¨æï¼å¦ä¸æ¹é¢åæ¶ç®¡ççº¿ç¨åä»»å¡ï¼ä½¿ä¸¤èè¯å¥½çç»åä»èæ§è¡å¹¶è¡ä»»å¡ã\n\n\n\n\n# çå½å¨æç®¡ç\n\nçº¿ç¨æ± åé¨ä½¿ç¨ä¸ä¸ªåéç»´æ¤ä¸¤ä¸ªå¼ï¼è¿è¡ç¶æï¼runStateï¼åçº¿ç¨æ°éï¼workerCountï¼ã\n\nprivate final AtomicInteger ctl = new AtomicInteger(ctlOf(RUNNING, 0));\n\n\né«3ä½ä¿å­runStateï¼ä½29ä½ä¿å­workerCountï¼ä¸¤ä¸ªåéä¹é´äºä¸å¹²æ°ãç¨ä¸ä¸ªåéå»å­å¨ä¸¤ä¸ªå¼ï¼å¯é¿åå¨åç¸å³å³ç­æ¶ï¼åºç°ä¸ä¸è´çæåµï¼ä¸å¿ä¸ºäºç»´æ¤ä¸¤èçä¸è´ï¼èå ç¨éèµæºã\n\nThreadPoolExecutorçè¿è¡ç¶ææ5ç§ï¼åå«ä¸ºï¼\n\nè¿è¡ç¶æ         ç¶ææè¿°\nRUNNING      è½æ¥åæ°æäº¤çä»»å¡ï¼å¹¶ä¸ä¹è½å¤çé»å¡éåä¸­çä»»å¡\nSHUTDOWN     å³é­ç¶æï¼ä¸å¨æ¥åæ°æäº¤çä»»å¡ï¼ä½å¯ä»¥ç»§ç»­å¤çé»å¡éåä¸­å·²ä¿å­çä»»å¡\nSTOP         ä¸è½æ¥æ¶æ°ä»»å¡ï¼ä¹ä¸å¤çéåä¸­çä»»å¡ï¼ä¼ä¸­æ­æ­£å¨å¤çä»»å¡ççº¿ç¨\nTIDYING      ææçä»»å¡é½å·²ç»æ­¢ï¼workerCount(ææçº¿ç¨æ°)ä¸º0\nTERMINATED   å¨terminated()æ¹æ³æ§è¡å®åè¿å¥è¯¥ç¶æ\n\nå¶çå½å¨æè½¬æ¢å¦ä¸å¥æç¤ºï¼\n\n\n\n\n# ä»»å¡æ§è¡æºå¶\n\n# ä»»å¡è°åº¦\n\n\n\n# ä»»å¡ç¼å²\n\né»å¡éå(BlockingQueue)æ¯ä¸ä¸ªæ¯æä¸¤ä¸ªéå æä½çéåãè¿ä¸¤ä¸ªéå çæä½æ¯ï¼å¨éåä¸ºç©ºæ¶ï¼è·ååç´ ççº¿ç¨ä¼ç­å¾éååä¸ºéç©ºãå½éåæ»¡æ¶ï¼å­å¨åç´ ççº¿ç¨ä¼ç­å¾éåå¯ç¨ãé»å¡éåå¸¸ç¨äºçäº§èåæ¶è´¹èçåºæ¯ï¼çäº§èæ¯å¾éåéæ·»å åç´ ççº¿ç¨ï¼æ¶è´¹èæ¯ä»éåéæ¿åç´ ççº¿ç¨ãé»å¡éåå°±æ¯çäº§èå­æ¾åç´ çå®¹å¨ï¼èæ¶è´¹èä¹åªä»å®¹å¨éæ¿åç´ ã\n\n\n\n# ä»»å¡ç³è¯·\n\nä»»å¡çæ§è¡æä¸¤ç§å¯è½ï¼\n\n * ä»»å¡ç´æ¥ç±æ°åå»ºççº¿ç¨æ§è¡ã\n * çº¿ç¨ä»ä»»å¡éåä¸­è·åä»»å¡ç¶åæ§è¡ï¼æ§è¡å®ä»»å¡çç©ºé²çº¿ç¨ä¼åæ¬¡å»ä»éåä¸­ç³è¯·ä»»å¡åå»æ§è¡ã\n\n\n\n# ä»»å¡æç»\n\nä»»å¡æç»æ¨¡åæ¯çº¿ç¨æ± çä¿æ¤é¨åï¼çº¿ç¨æ± æä¸ä¸ªæå¤§çå®¹éï¼å½çº¿ç¨æ± çä»»å¡ç¼å­éåå·²æ»¡ï¼å¹¶ä¸çº¿ç¨æ± ä¸­ççº¿ç¨æ°ç®è¾¾å°maximumPoolSizeæ¶ï¼å°±éè¦æç»æè¯¥ä»»å¡ï¼éåä»»å¡æç»ç­ç¥ï¼ä¿æ¤çº¿ç¨æ± ã\n\nå¯ä»¥å®ç°è¿ä¸ªæ¥å£å®å¶æç»ç­ç¥\n\npublic interface RejectedExecutionHandler {\n    void rejectedExecution(Runnable r, ThreadPoolExecutor executor);\n}\n\n\nJDKä¸­æä¾äºåç§æç»ç­ç¥\n\n 1. AbortPolicyï¼é»è®¤çæç»ç­ç¥ï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼ç´æ¥æåºRejectedExecutionExceptionå¼å¸¸ã\n 2. CallerRunsPolicyï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼å°ä»»å¡è¿åç»è°ç¨èï¼ç±è°ç¨èçº¿ç¨æ§è¡ã\n 3. DiscardPolicyï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼ç´æ¥ä¸¢å¼è¯¥ä»»å¡ï¼ä¸åä»»ä½å¤çã\n 4. DiscardOldestPolicyï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼ä¸¢å¼éåä¸­æèçä»»å¡ï¼ç¶åå°æ°çä»»å¡å å¥éåã\n\n\n# Workerçº¿ç¨ç®¡ç\n\n# Workerçº¿ç¨\n\nprivate final class Worker extends AbstractQueuedSynchronizer implements Runnable{\n    final Thread thread;//Workerææççº¿ç¨\n    Runnable firstTask;//åå§åçä»»å¡ï¼å¯ä»¥ä¸ºnull\n}\n\n\nçº¿ç¨æ± éè¦ç®¡ççº¿ç¨ççå½å¨æï¼éè¦å¨çº¿ç¨é¿æ¶é´ä¸è¿è¡çæ¶åè¿è¡åæ¶ãçº¿ç¨æ± ä½¿ç¨ä¸å¼ Hashè¡¨å»ææçº¿ç¨çå¼ç¨ï¼è¿æ ·å¯ä»¥éè¿æ·»å å¼ç¨ãç§»é¤å¼ç¨è¿æ ·çæä½æ¥æ§å¶çº¿ç¨ççå½å¨æã\n\nè¿ä¸ªæ¶åéè¦çå°±æ¯å¦ä½å¤æ­çº¿ç¨æ¯å¦å¨è¿è¡ã\n\nWorkeræ¯éè¿ç»§æ¿AQSï¼ä½¿ç¨AQSæ¥å®ç°ç¬å éè¿ä¸ªåè½ãæ²¡æä½¿ç¨å¯éå¥éReentrantLockï¼èæ¯ä½¿ç¨AQSï¼ä¸ºçå°±æ¯å®ç°ä¸å¯éå¥çç¹æ§å»ååºçº¿ç¨ç°å¨çæ§è¡ç¶æã\n\n 1. lockæ¹æ³ä¸æ¦è·åäºç¬å éï¼è¡¨ç¤ºå½åçº¿ç¨æ­£å¨æ§è¡ä»»å¡ä¸­ã\n\n 2. å¦ææ­£å¨æ§è¡ä»»å¡ï¼åä¸åºè¯¥ä¸­æ­çº¿ç¨ã\n\n 3. å¦æè¯¥çº¿ç¨ç°å¨ä¸æ¯ç¬å éçç¶æï¼ä¹å°±æ¯ç©ºé²çç¶æï¼è¯´æå®æ²¡æå¨å¤çä»»å¡ï¼è¿æ¶å¯ä»¥å¯¹è¯¥çº¿ç¨è¿è¡ä¸­æ­ã\n\n 4. çº¿ç¨æ± å¨æ§è¡shutdownæ¹æ³ætryTerminateæ¹æ³æ¶ä¼è°ç¨interruptIdleWorkersæ¹æ³æ¥ä¸­æ­ç©ºé²ççº¿ç¨ï¼interruptIdleWorkersæ¹æ³ä¼ä½¿ç¨tryLockæ¹æ³æ¥å¤æ­çº¿ç¨æ± ä¸­ççº¿ç¨æ¯å¦æ¯ç©ºé²ç¶æï¼å¦æçº¿ç¨æ¯ç©ºé²ç¶æåå¯ä»¥å®å¨åæ¶ã\n\n# Workerçº¿ç¨å¢å \n\nå¢å çº¿ç¨æ¯éè¿çº¿ç¨æ± ä¸­çaddWorkeræ¹æ³ï¼è¿ä¸ªåéçº¿ç¨çç­ç¥æ¯å¨ä¸ä¸ªæ­¥éª¤å®æçï¼è¯¥æ­¥éª¤ä»ä»å®æå¢å çº¿ç¨ï¼å¹¶ä½¿å®è¿è¡ï¼æåè¿åæ¯å¦æåè¿ä¸ªç»æã\n\n# Workerçº¿ç¨åæ¶\n\nWorkerè¢«åå»ºåºæ¥åï¼å°±ä¼ä¸æ­å°è¿è¡è½®è¯¢ï¼ç¶åè·åä»»å¡å»æ§è¡ï¼æ ¸å¿çº¿ç¨å¯ä»¥æ éç­å¾è·åä»»å¡ï¼éæ ¸å¿çº¿ç¨è¦éæ¶è·åä»»å¡ãå½Workeræ æ³è·åå°ä»»å¡ï¼ä¹å°±æ¯è·åçä»»å¡ä¸ºç©ºæ¶ï¼å¾ªç¯ä¼ç»æï¼Workerä¼ä¸»å¨æ¶é¤èªèº«å¨çº¿ç¨æ± åçå¼ç¨ã\n\n\n\n# Workerçº¿ç¨æ§è¡ä»»å¡\n\n\n\n\n# çº¿ç¨æ± å¨ä¸å¡ä¸­çå®è·µ\n\n\n# åºæ¯1ï¼å¿«éååºç¨æ·è¯·æ±\n\nç¨æ·åèµ·çå®æ¶è¯·æ±ï¼æå¡è¿½æ±ååºæ¶é´ãæ¯å¦è¯´ç¨æ·è¦æ¥çä¸ä¸ªååçä¿¡æ¯ï¼é£ä¹æä»¬éè¦å°ååç»´åº¦çä¸ç³»åä¿¡æ¯å¦ååçä»·æ ¼ãä¼æ ãåºå­ãå¾çç­ç­èåèµ·æ¥ï¼å±ç¤ºç»ç¨æ·ã\n\n\n\n\n# åºæ¯2ï¼å¿«éå¤çæ¹éä»»å¡\n\nç¦»çº¿çå¤§éè®¡ç®ä»»å¡ï¼éè¦å¿«éæ§è¡ãæ¯å¦è¯´ï¼ç»è®¡æä¸ªæ¥è¡¨ï¼éè¦è®¡ç®åºå¨å½åä¸ªé¨åºä¸­æåªäºååææç§å±æ§ï¼ç¨äºåç»­è¥éç­ç¥çåæï¼é£ä¹æä»¬éè¦æ¥è¯¢å¨å½ææé¨åºä¸­çææååï¼å¹¶ä¸è®°å½å·ææå±æ§çååï¼ç¶åå¿«éçææ¥è¡¨ã\n\n\n\n\n# å®éé®é¢åæ¹æ¡æè",normalizedContent:"# åè¨\n\n\n# çº¿ç¨æ± æ¯ä»ä¹\n\nçº¿ç¨æ± ï¼thread poolï¼æ¯ä¸ç§åºäºæ± åææ³ç®¡ççº¿ç¨çå·¥å·ï¼ç»å¸¸åºç°å¨å¤çº¿ç¨æå¡å¨ä¸­ï¼å¦mysqlã\n\nä½¿ç¨çº¿ç¨æ± å¯ä»¥å¸¦æ¥ä¸ç³»åå¥½å¤ï¼\n\n * éä½èµæºæ¶èï¼éè¿æ± åææ¯éå¤å©ç¨å·²åå»ºççº¿ç¨ï¼éä½çº¿ç¨åå»ºåéæ¯é æçæèã\n * æé«ååºéåº¦ï¼ä»»å¡å°è¾¾æ¶ï¼æ éç­å¾çº¿ç¨åå»ºå³å¯ç«å³æ§è¡ã\n * æé«çº¿ç¨çå¯ç®¡çæ§ï¼çº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶åå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼å ä¸ºçº¿ç¨çä¸åçåå¸å¯¼è´èµæºè°åº¦å¤±è¡¡ï¼éä½ç³»ç»çç¨³å®æ§ãä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸çåéãè°ä¼åçæ§ã\n * æä¾æ´å¤æ´å¼ºå¤§çåè½ï¼çº¿ç¨æ± å·å¤å¯æå±æ§ï¼åè®¸å¼åäººååå¶ä¸­å¢å æ´å¤çåè½ãæ¯å¦å»¶æ¶å®æ¶çº¿ç¨æ± scheduledthreadpoolexecutorï¼å°±åè®¸ä»»å¡å»¶ææ§è¡æå®ææ§è¡ã\n\n\n# çº¿ç¨æ± è§£å³çé®é¢æ¯ä»ä¹\n\n 1. é¢ç¹ç³è¯·/éæ¯èµæºåè°åº¦èµæºï¼å°å¸¦æ¥é¢å¤çæ¶èï¼å¯è½ä¼éå¸¸å·¨å¤§ã\n 2. å¯¹èµæºæ éç³è¯·ç¼ºå°æå¶ææ®µï¼æå¼åç³»ç»èµæºèå°½çé£é©ã\n 3. ç³»ç»æ æ³åçç®¡çåé¨çèµæºåå¸ï¼ä¼éä½ç³»ç»çç¨³å®æ§ã\n\né¤å»çº¿ç¨æ± ï¼è¿æå¶ä»æ¯è¾å¸åçå ç§ä½¿ç¨ç­ç¥åæ¬ï¼\n\n 1. åå­æ± (memory pooling)ï¼é¢åç³è¯·åå­ï¼æåç³è¯·åå­éåº¦ï¼åå°åå­ç¢çã\n 2. è¿æ¥æ± (connection pooling)ï¼é¢åç³è¯·æ°æ®åºè¿æ¥ï¼æåç³è¯·è¿æ¥çéåº¦ï¼éä½ç³»ç»çå¼éã\n 3. å®ä¾æ± (object pooling)ï¼å¾ªç¯ä½¿ç¨å¯¹è±¡ï¼åå°èµæºå¨åå§ååéæ¾æ¶çæè´µæèã\n\n\n# çº¿ç¨æ± çæ ¸å¿è®¾è®¡ä¸å®ç°\n\n\n# jdk1.8ä¸­ä¸»è¦çç±»å¾\n\n\n\né¡¶å±æ¥å£executoræä¾äºä¸ç§ææ³ï¼å°ä»»å¡æäº¤åä»»å¡æ§è¡è¿è¡è§£è¦ãç¨æ·æ éå³æ³¨å¦ä½åå»ºçº¿ç¨ï¼å¦ä½è°åº¦çº¿ç¨æ¥æ§è¡ä»»å¡ï¼ç¨æ·åªéæä¾runnableå¯¹è±¡ï¼å°ä»»å¡çè¿è¡é»è¾æäº¤å°æ§è¡å¨(executor)ä¸­ï¼ç±executoræ¡æ¶å®æçº¿ç¨çè°éåä»»å¡çæ§è¡é¨åã\n\nexecutorserviceæ¯ä¸ä¸ªæ¥å£ï¼æ©å±äºexecutoræ¥å£ï¼å®ä¹äºä¸äºæ¹æ³ï¼ä¾å¦submit()ãshutdown()ãshutdownnow()ç­ï¼ç¨äºç®¡çåæ§å¶çº¿ç¨æ± ä¸­çä»»å¡ã\n\nabstractexecutorserviceæ¯ä¸ä¸ªæ½è±¡ç±»ï¼å®ç°äºexecutorserviceæ¥å£ä¸­çå¤§é¨åæ¹æ³ï¼ä½çä¸äºä¸äºæ½è±¡æ¹æ³ä¾å­ç±»å®ç°ãå®æä¾äºä¸äºé»è®¤çè¡ä¸ºï¼ä¾å¦å¦ä½å¤çè¢«æç»çä»»å¡ç­ã\n\næä¸å±çå®ç°ç±»threadpoolexecutorå®ç°æå¤æçè¿è¡é¨åï¼threadpoolexecutorå°ä¼ä¸æ¹é¢ç»´æ¤èªèº«ççå½å¨æï¼å¦ä¸æ¹é¢åæ¶ç®¡ççº¿ç¨åä»»å¡ï¼ä½¿ä¸¤èè¯å¥½çç»åä»èæ§è¡å¹¶è¡ä»»å¡ã\n\n\n\n\n# çå½å¨æç®¡ç\n\nçº¿ç¨æ± åé¨ä½¿ç¨ä¸ä¸ªåéç»´æ¤ä¸¤ä¸ªå¼ï¼è¿è¡ç¶æï¼runstateï¼åçº¿ç¨æ°éï¼workercountï¼ã\n\nprivate final atomicinteger ctl = new atomicinteger(ctlof(running, 0));\n\n\né«3ä½ä¿å­runstateï¼ä½29ä½ä¿å­workercountï¼ä¸¤ä¸ªåéä¹é´äºä¸å¹²æ°ãç¨ä¸ä¸ªåéå»å­å¨ä¸¤ä¸ªå¼ï¼å¯é¿åå¨åç¸å³å³ç­æ¶ï¼åºç°ä¸ä¸è´çæåµï¼ä¸å¿ä¸ºäºç»´æ¤ä¸¤èçä¸è´ï¼èå ç¨éèµæºã\n\nthreadpoolexecutorçè¿è¡ç¶ææ5ç§ï¼åå«ä¸ºï¼\n\nè¿è¡ç¶æ         ç¶ææè¿°\nrunning      è½æ¥åæ°æäº¤çä»»å¡ï¼å¹¶ä¸ä¹è½å¤çé»å¡éåä¸­çä»»å¡\nshutdown     å³é­ç¶æï¼ä¸å¨æ¥åæ°æäº¤çä»»å¡ï¼ä½å¯ä»¥ç»§ç»­å¤çé»å¡éåä¸­å·²ä¿å­çä»»å¡\nstop         ä¸è½æ¥æ¶æ°ä»»å¡ï¼ä¹ä¸å¤çéåä¸­çä»»å¡ï¼ä¼ä¸­æ­æ­£å¨å¤çä»»å¡ççº¿ç¨\ntidying      ææçä»»å¡é½å·²ç»æ­¢ï¼workercount(ææçº¿ç¨æ°)ä¸º0\nterminated   å¨terminated()æ¹æ³æ§è¡å®åè¿å¥è¯¥ç¶æ\n\nå¶çå½å¨æè½¬æ¢å¦ä¸å¥æç¤ºï¼\n\n\n\n\n# ä»»å¡æ§è¡æºå¶\n\n# ä»»å¡è°åº¦\n\n\n\n# ä»»å¡ç¼å²\n\né»å¡éå(blockingqueue)æ¯ä¸ä¸ªæ¯æä¸¤ä¸ªéå æä½çéåãè¿ä¸¤ä¸ªéå çæä½æ¯ï¼å¨éåä¸ºç©ºæ¶ï¼è·ååç´ ççº¿ç¨ä¼ç­å¾éååä¸ºéç©ºãå½éåæ»¡æ¶ï¼å­å¨åç´ ççº¿ç¨ä¼ç­å¾éåå¯ç¨ãé»å¡éåå¸¸ç¨äºçäº§èåæ¶è´¹èçåºæ¯ï¼çäº§èæ¯å¾éåéæ·»å åç´ ççº¿ç¨ï¼æ¶è´¹èæ¯ä»éåéæ¿åç´ ççº¿ç¨ãé»å¡éåå°±æ¯çäº§èå­æ¾åç´ çå®¹å¨ï¼èæ¶è´¹èä¹åªä»å®¹å¨éæ¿åç´ ã\n\n\n\n# ä»»å¡ç³è¯·\n\nä»»å¡çæ§è¡æä¸¤ç§å¯è½ï¼\n\n * ä»»å¡ç´æ¥ç±æ°åå»ºççº¿ç¨æ§è¡ã\n * çº¿ç¨ä»ä»»å¡éåä¸­è·åä»»å¡ç¶åæ§è¡ï¼æ§è¡å®ä»»å¡çç©ºé²çº¿ç¨ä¼åæ¬¡å»ä»éåä¸­ç³è¯·ä»»å¡åå»æ§è¡ã\n\n\n\n# ä»»å¡æç»\n\nä»»å¡æç»æ¨¡åæ¯çº¿ç¨æ± çä¿æ¤é¨åï¼çº¿ç¨æ± æä¸ä¸ªæå¤§çå®¹éï¼å½çº¿ç¨æ± çä»»å¡ç¼å­éåå·²æ»¡ï¼å¹¶ä¸çº¿ç¨æ± ä¸­ççº¿ç¨æ°ç®è¾¾å°maximumpoolsizeæ¶ï¼å°±éè¦æç»æè¯¥ä»»å¡ï¼éåä»»å¡æç»ç­ç¥ï¼ä¿æ¤çº¿ç¨æ± ã\n\nå¯ä»¥å®ç°è¿ä¸ªæ¥å£å®å¶æç»ç­ç¥\n\npublic interface rejectedexecutionhandler {\n    void rejectedexecution(runnable r, threadpoolexecutor executor);\n}\n\n\njdkä¸­æä¾äºåç§æç»ç­ç¥\n\n 1. abortpolicyï¼é»è®¤çæç»ç­ç¥ï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼ç´æ¥æåºrejectedexecutionexceptionå¼å¸¸ã\n 2. callerrunspolicyï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼å°ä»»å¡è¿åç»è°ç¨èï¼ç±è°ç¨èçº¿ç¨æ§è¡ã\n 3. discardpolicyï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼ç´æ¥ä¸¢å¼è¯¥ä»»å¡ï¼ä¸åä»»ä½å¤çã\n 4. discardoldestpolicyï¼å½çº¿ç¨æ± æ æ³å¤çæ°çä»»å¡æ¶ï¼ä¸¢å¼éåä¸­æèçä»»å¡ï¼ç¶åå°æ°çä»»å¡å å¥éåã\n\n\n# workerçº¿ç¨ç®¡ç\n\n# workerçº¿ç¨\n\nprivate final class worker extends abstractqueuedsynchronizer implements runnable{\n    final thread thread;//workerææççº¿ç¨\n    runnable firsttask;//åå§åçä»»å¡ï¼å¯ä»¥ä¸ºnull\n}\n\n\nçº¿ç¨æ± éè¦ç®¡ççº¿ç¨ççå½å¨æï¼éè¦å¨çº¿ç¨é¿æ¶é´ä¸è¿è¡çæ¶åè¿è¡åæ¶ãçº¿ç¨æ± ä½¿ç¨ä¸å¼ hashè¡¨å»ææçº¿ç¨çå¼ç¨ï¼è¿æ ·å¯ä»¥éè¿æ·»å å¼ç¨ãç§»é¤å¼ç¨è¿æ ·çæä½æ¥æ§å¶çº¿ç¨ççå½å¨æã\n\nè¿ä¸ªæ¶åéè¦çå°±æ¯å¦ä½å¤æ­çº¿ç¨æ¯å¦å¨è¿è¡ã\n\nworkeræ¯éè¿ç»§æ¿aqsï¼ä½¿ç¨aqsæ¥å®ç°ç¬å éè¿ä¸ªåè½ãæ²¡æä½¿ç¨å¯éå¥éreentrantlockï¼èæ¯ä½¿ç¨aqsï¼ä¸ºçå°±æ¯å®ç°ä¸å¯éå¥çç¹æ§å»ååºçº¿ç¨ç°å¨çæ§è¡ç¶æã\n\n 1. lockæ¹æ³ä¸æ¦è·åäºç¬å éï¼è¡¨ç¤ºå½åçº¿ç¨æ­£å¨æ§è¡ä»»å¡ä¸­ã\n\n 2. å¦ææ­£å¨æ§è¡ä»»å¡ï¼åä¸åºè¯¥ä¸­æ­çº¿ç¨ã\n\n 3. å¦æè¯¥çº¿ç¨ç°å¨ä¸æ¯ç¬å éçç¶æï¼ä¹å°±æ¯ç©ºé²çç¶æï¼è¯´æå®æ²¡æå¨å¤çä»»å¡ï¼è¿æ¶å¯ä»¥å¯¹è¯¥çº¿ç¨è¿è¡ä¸­æ­ã\n\n 4. çº¿ç¨æ± å¨æ§è¡shutdownæ¹æ³ætryterminateæ¹æ³æ¶ä¼è°ç¨interruptidleworkersæ¹æ³æ¥ä¸­æ­ç©ºé²ççº¿ç¨ï¼interruptidleworkersæ¹æ³ä¼ä½¿ç¨trylockæ¹æ³æ¥å¤æ­çº¿ç¨æ± ä¸­ççº¿ç¨æ¯å¦æ¯ç©ºé²ç¶æï¼å¦æçº¿ç¨æ¯ç©ºé²ç¶æåå¯ä»¥å®å¨åæ¶ã\n\n# workerçº¿ç¨å¢å \n\nå¢å çº¿ç¨æ¯éè¿çº¿ç¨æ± ä¸­çaddworkeræ¹æ³ï¼è¿ä¸ªåéçº¿ç¨çç­ç¥æ¯å¨ä¸ä¸ªæ­¥éª¤å®æçï¼è¯¥æ­¥éª¤ä»ä»å®æå¢å çº¿ç¨ï¼å¹¶ä½¿å®è¿è¡ï¼æåè¿åæ¯å¦æåè¿ä¸ªç»æã\n\n# workerçº¿ç¨åæ¶\n\nworkerè¢«åå»ºåºæ¥åï¼å°±ä¼ä¸æ­å°è¿è¡è½®è¯¢ï¼ç¶åè·åä»»å¡å»æ§è¡ï¼æ ¸å¿çº¿ç¨å¯ä»¥æ éç­å¾è·åä»»å¡ï¼éæ ¸å¿çº¿ç¨è¦éæ¶è·åä»»å¡ãå½workeræ æ³è·åå°ä»»å¡ï¼ä¹å°±æ¯è·åçä»»å¡ä¸ºç©ºæ¶ï¼å¾ªç¯ä¼ç»æï¼workerä¼ä¸»å¨æ¶é¤èªèº«å¨çº¿ç¨æ± åçå¼ç¨ã\n\n\n\n# workerçº¿ç¨æ§è¡ä»»å¡\n\n\n\n\n# çº¿ç¨æ± å¨ä¸å¡ä¸­çå®è·µ\n\n\n# åºæ¯1ï¼å¿«éååºç¨æ·è¯·æ±\n\nç¨æ·åèµ·çå®æ¶è¯·æ±ï¼æå¡è¿½æ±ååºæ¶é´ãæ¯å¦è¯´ç¨æ·è¦æ¥çä¸ä¸ªååçä¿¡æ¯ï¼é£ä¹æä»¬éè¦å°ååç»´åº¦çä¸ç³»åä¿¡æ¯å¦ååçä»·æ ¼ãä¼æ ãåºå­ãå¾çç­ç­èåèµ·æ¥ï¼å±ç¤ºç»ç¨æ·ã\n\n\n\n\n# åºæ¯2ï¼å¿«éå¤çæ¹éä»»å¡\n\nç¦»çº¿çå¤§éè®¡ç®ä»»å¡ï¼éè¦å¿«éæ§è¡ãæ¯å¦è¯´ï¼ç»è®¡æä¸ªæ¥è¡¨ï¼éè¦è®¡ç®åºå¨å½åä¸ªé¨åºä¸­æåªäºååææç§å±æ§ï¼ç¨äºåç»­è¥éç­ç¥çåæï¼é£ä¹æä»¬éè¦æ¥è¯¢å¨å½ææé¨åºä¸­çææååï¼å¹¶ä¸è®°å½å·ææå±æ§çååï¼ç¶åå¿«éçææ¥è¡¨ã\n\n\n\n\n# å®éé®é¢åæ¹æ¡æè",charsets:{cjk:!0}},{title:"ç®å",frontmatter:{title:"ç®å",date:"2023-03-02T21:08:29.000Z",permalink:"/pages/3edc81/"},regularPath:"/01.Java/01.Java%E5%9F%BA%E7%A1%80/%E7%AE%80%E5%8E%86.html",relativePath:"01.Java/01.Javaåºç¡/ç®å.md",key:"v-1984cd25",path:"/pages/3edc81/",headers:[{level:2,title:"ç«èµç»å",slug:"ç«èµç»å",normalizedTitle:"ç«èµç»å",charIndex:343},{level:4,title:"2022 âä¸­å½åè°·Â·åä¸ºæ¯â ç¬¬åä¹å±ä¸­å½ç ç©¶çæ°å­¦å»ºæ¨¡ç«èµ äºç­å¥",slug:"_2022-ä¸­å½åè°·Â·åä¸ºæ¯-ç¬¬åä¹å±ä¸­å½ç ç©¶çæ°å­¦å»ºæ¨¡ç«èµ-äºç­å¥",normalizedTitle:"2022 âä¸­å½åè°·Â·åä¸ºæ¯â ç¬¬åä¹å±ä¸­å½ç ç©¶çæ°å­¦å»ºæ¨¡ç«èµ äºç­å¥",charIndex:361},{level:4,title:"2023 åä¸ºè½¯ä»¶ç²¾è±ææèµ ç²¤æ¸¯æ¾³èµåº äºç­å¥",slug:"_2023-åä¸ºè½¯ä»¶ç²¾è±ææèµ-ç²¤æ¸¯æ¾³èµåº-äºç­å¥",normalizedTitle:"2023 åä¸ºè½¯ä»¶ç²¾è±ææèµ ç²¤æ¸¯æ¾³èµåº äºç­å¥",charIndex:410},{level:2,title:"ä¸ä¸æè½",slug:"ä¸ä¸æè½",normalizedTitle:"ä¸ä¸æè½",charIndex:454},{level:2,title:"é¡¹ç®ç»å",slug:"é¡¹ç®ç»å",normalizedTitle:"é¡¹ç®ç»å",charIndex:941},{level:3,title:"çªèèªä¹ å®¤é¡¹ç®  (2022.11-è³ä»)",slug:"çªèèªä¹ å®¤é¡¹ç®-2022-11-è³ä»",normalizedTitle:"çªèèªä¹ å®¤é¡¹ç®  (2022.11-è³ä»)",charIndex:null},{level:3,title:"Linuxç»è®¡ä½¿ç¨æ¶é´é¡¹ç®ï¼2022.07-2022.09ï¼",slug:"linuxç»è®¡ä½¿ç¨æ¶é´é¡¹ç®-2022-07-2022-09",normalizedTitle:"linuxç»è®¡ä½¿ç¨æ¶é´é¡¹ç®ï¼2022.07-2022.09ï¼",charIndex:1651},{level:3,title:"åºäºJavaå®ç°Raftå±è¯ç®æ³ï¼2023.03-2023-06ï¼",slug:"åºäºjavaå®ç°raftå±è¯ç®æ³-2023-03-2023-06",normalizedTitle:"åºäºjavaå®ç°raftå±è¯ç®æ³ï¼2023.03-2023-06ï¼",charIndex:2246}],headersStr:"ç«èµç»å 2022 âä¸­å½åè°·Â·åä¸ºæ¯â ç¬¬åä¹å±ä¸­å½ç ç©¶çæ°å­¦å»ºæ¨¡ç«èµ äºç­å¥ 2023 åä¸ºè½¯ä»¶ç²¾è±ææèµ ç²¤æ¸¯æ¾³èµåº äºç­å¥ ä¸ä¸æè½ é¡¹ç®ç»å çªèèªä¹ å®¤é¡¹ç®  (2022.11-è³ä») Linuxç»è®¡ä½¿ç¨æ¶é´é¡¹ç®ï¼2022.07-2022.09ï¼ åºäºJavaå®ç°Raftå±è¯ç®æ³ï¼2023.03-2023-06ï¼",content:" * * ææ³½è¾ - åç«¯å¼å\n     \n     ç·/1999/24å²           https://sleeplzh.top\n     15534447783          https://github.com/lzxiaohuihui\n     q895827938@163.com   \n     \n     ## æè²èæ¯\n     \n     :::left è¥¿å®çµå­ç§æå¤§å­¦ - è®¡ç®æºææ¯(211) - ç¡å£« :::\n     \n     2021.09 - è³ä»\n     \n     :::left å¤ªåçå·¥å¤§å­¦ - ä¿¡æ¯ä¸è®¡ç®ç§å­¦(211) - å­¦å£« :::\n     \n     2017.09-2021.06\n     \n     \n     # ç«èµç»å\n     \n     # 2022 âä¸­å½åè°·Â·åä¸ºæ¯â ç¬¬åä¹å±ä¸­å½ç ç©¶çæ°å­¦å»ºæ¨¡ç«èµ äºç­å¥\n     \n     # 2023 åä¸ºè½¯ä»¶ç²¾è±ææèµ ç²¤æ¸¯æ¾³èµåº äºç­å¥\n     \n     \n     # ä¸ä¸æè½\n     \n     * çæè¿ç¨ãåå­ç®¡çï¼TCP/IPåè®®æ ï¼çæäºè¿å¶æ°æ®è¡¨ç¤ºãæä»¤ç³»ç»ï¼çç»æ°æ®ç»æä¸ç®æ³ãè®¾è®¡æ¨¡å¼ï¼\n     * çæJavaç¼ç¨è¯­è¨ï¼ç±»å è½½ãJVMåå­æ¨¡åãåå¾åæ¶G1æ¶éå¨ï¼äºè§£Javaå¹¶åç¼ç¨ææ¯ï¼\n     * çç»MySQLï¼çæäºå¡ãç´¢å¼åæ¥å¿ï¼çæRedisæ°æ®ç±»åï¼äºè§£Redisæä¹åæºå¶ãè¿æé®çå é¤ç­ç¥ï¼\n     * çç»ä½¿ç¨SpringBootãSpringãMybatisç­å¸¸ç¨æ¡æ¶ï¼çæSpring IOCãAOPãèªå¨éç½®ï¼\n     * çæRocketMQåKafkaæ¶æ¯ä¸­é´ä»¶ãSpring Securityè®¤è¯ææï¼äºè§£Spring Cloud AlibabaãDockerå®¹å¨ï¼\n     * çæInfluxDBãMongoDBãElasticsearchãRocksDBæ°æ®åºä½¿ç¨ï¼äºè§£åå¸å¼äºå¡ãåå¸å¼éï¼\n     * çç»ä½¿ç¨Linuxæä½ç³»ç»ãä¸»æµå¼åå·¥å·ï¼çæHTMLãCSSãJavaScriptãVueãPythonç¬è«ã\n     \n     \n     \n     # é¡¹ç®ç»å\n     \n     \n     # çªèèªä¹ å®¤é¡¹ç® (2022.11-è³ä»)\n     \n     * é¡¹ç®æè¿°ï¼ è¯¥é¡¹ç®çµææ¥æºäºçªètodo Appãè¯¥é¡¹ç®åºäºé¡¹ç®ä¸å®ç°äºæ¶é´ç»è®¡ãåæãèªä¹ å®¤æè¡æ¦ãæå¡ãçè¨ãç¹èµãç»å½æ³¨åç­åè½ãä¸»è¦ä½¿ç¨äºSpring BootãMyBatis-PlusãMySQLãRedisãKafkaãInfluxDBãSpring SecurityåJwtä»¤çç­ã\n     \n     * ä¸»è¦å·¥ä½ï¼\n       \n       * å®æè®¤è¯ææé¨åï¼å°ç»å½æåçç¨æ·ä¿¡æ¯åæéå­æ¾å¨Jwtä»¤çï¼ä»¥åé¡µé¢å¯¹ç¨æ·æéè¿è¡æ§å¶ï¼\n       * è¿è¡ç»ä¸çå¼å¸¸å¤çï¼ä½¿ç¨Spring AOPé¢ååé¢çææ³ç»ä¸çè®°å½æ¥å¿ï¼\n       * ä½¿ç¨Redisä¼åé¡¹ç®ä¸­å¯¹ç­ç¹æ°æ®(éªè¯ç ãç¹èµãå³æ³¨ãæå¡ãç¨æ·æ°æ®ç­)çè®¿é®ï¼æé«æ°æ®çå­åæçï¼\n       * ä½¿ç¨Kafkaä½ä¸ºæ¶æ¯éåï¼å¨ç¨æ·è¢«ç¹èµï¼è¯è®ºï¼å³æ³¨åï¼ä»¥ç³»ç»éç¥çæ¹å¼æ¨éç»ç¨æ·ï¼\n     \n     * é¡¹ç®ä¼åä¸æ¶è·ï¼\n       \n       * ä½¿ç¨ç¼å­åæ¶æ¯éåå®ç°ç¹èµåå³æ³¨ï¼å¹¶ä¸ä½¿ç¨éè¯éåä¿è¯åç¼å­ååæ¶æ¯éåä¸è´ï¼QPSä»90/sec æåå°4000/secï¼\n       \n       * ä½¿ç¨Redis BitMapå­å¨æ¯ä¸ªç¨æ·çæå¡æåµï¼ä½¿ç¨Zsetå®ç°èªä¹ å®¤æ¶é¿æè¡æ¦ï¼åå°å®æ¶çº¿ç¨æ± æä¹åæå¡ä¿¡æ¯ä»¥åæ´æ°Zsetåæ°ï¼\n       \n       * äºè§£äºInfluxDBåºå±å­å¨åçï¼ä»¥åæ¶åºæ°æ®çå­å¨ä¼å¿ã\n     \n     \n     \n     # Linuxç»è®¡ä½¿ç¨æ¶é´é¡¹ç®ï¼2022.07-2022.09ï¼\n     \n     * é¡¹ç®æè¿°ï¼\n       \n       å¯ä»¥å¨Linuxå¹³å°ç»è®¡åè½¯ä»¶ä½¿ç¨æ¶é´çå¼æºé¡¹ç®ï¼çµææ¥æºäºææºä¸­çå±å¹ä½¿ç¨æ¶é´ï¼æªæ¥æ¯æå¶å®å¹³å°ãå®ç°äºæ¥çæä¸ä¸ªæ¶é´ç«¯åå¤©ãåå°æ¶ãåè½¯ä»¶ä½¿ç¨æ¶é´ï¼ä»¥åIDEAåVS Codeåé¡¹ç®æå¼æ¶é´ï¼æµè§å¨åç½ç«æµè§æ¶é´ãä¸»è¦ä½¿ç¨äºSpring BootãMyBatis-PlusãSQLiteãCaffeineãNettyãVueåEchartsç­ã\n     \n     * ä¸»è¦å·¥ä½ï¼\n       \n       * ä½¿ç¨Pythonçå¬ç¦ç¹çªå£ååï¼ä½¿ç¨Netty IOå¤è·¯å¤ç¨ä»¥åçäº§èæ¶è´¹èæºå¶æé«æ°æ®æ¥æ¶çè½åï¼\n       \n       * ä»åå²è®°å½è¡¨ä¸­æç¼åºæ±æ»è¡¨ï¼æé«åå²æ°æ®æ¥è¯¢è½åï¼æ°æ®éæ¯åè¡¨ç1/20ï¼\n       \n       * ä½¿ç¨æ¬å°ç¼å­Caffeineæé«æ¥è¯¢æçï¼ä½¿ç¨å®æ¶çº¿ç¨æ± ä¿è¯æ°æ®ä¸è´æ§ï¼\n     \n     * é¡¹ç®ä¼åï¼\n       \n       * åç¼©éè¦ç¼å­çæ°æ®ï¼ä¼ååä¸å¤©çæ°æ®éä»å 5.12KBåå­;\n       * ä»ä»ç¼å­ä¸­æ¥è¯¢æ°æ®ï¼ä½¿ç¨å¼æ­¥æ¹å¼æ´æ°ç¼å­æ°æ®ï¼å¯¹æ¯SQLiteæ¥è¯¢æ¹å¼ä»20 QPSæåå°3w QPSã\n         \n     \n     \n     # åºäºJavaå®ç°Raftå±è¯ç®æ³ï¼2023.03-2023-06ï¼\n     \n     * é¡¹ç®æè¿°ï¼\n       \n       è¦å°ä¸è¿°é¡¹ç®æ©å±ä¸ºå¾®æå¡é¡¹ç®ï¼å¿ä¸å¯å°ä¼éå°åå¸å¼ä¸è´æ§ï¼äºå¡ï¼éç­é®é¢ãæ¬é¡¹ç®å®ç°äºé¢å¯¼èéä¸¾åæ¥å¿å¤å¶æ¨¡åï¼å¯è§£å³ä¸è¿°é®é¢ãä¸»è¦ä½¿ç¨äºSOFA-Boltä½ä¸ºRpcéä¿¡ï¼RocksDBä½ä¸ºæ¥å¿å­å¨ã\n     \n     * ä¸»è¦å·¥ä½ï¼\n       \n       * æç§Raftè®ºææè¿°ï¼å®ç°é¢å¯¼èéä¸¾æ¨¡ååæ¥å¿å¤å¶æ¨¡åï¼\n       * æ¯ä¸ªèç¹ä½¿ç¨å®æ¶çº¿ç¨æ± æ§è¡å¿è·³ä»»å¡åéä¸¾ä»»å¡ï¼æ§è¡ä»»å¡æ¶ï¼ä½¿ç¨æ®éçº¿ç¨æ± æ¨¡æå¹¶è¡åéRpcè¯·æ±ï¼ä½¿ç¨CountDownLatchåæ­¥ï¼è¿èå¤æ­ææåå¤ä¸­æ¯å¦è¶è¿ä¸åèç¹åå¤æåï¼\n       * æ¯ä¸ªèç¹ä½¿ç¨ä¸¤ä»½æ¥å¿å®ç°æ¥å¿é¢ååæ¥å¿æäº¤ï¼å½æ¥å¿å¤å¶è¿ç¨è¶è¿ä¸åèç¹åå¤æååæ­£å¼æäº¤ã\n     \n     * é¡¹ç®ä¼åï¼ - é¢å¯¼èå¨åè·éèå¹¶è¡å¤å¶æ¥å¿çåæ¶å°æ¥å¿åå¥èªå·±çç£çï¼å¯¹äºå®¢æ·ç«¯åè¯·æ±ååºæ¶é´ä»12mséä½å°8msã",normalizedContent:" * * ææ³½è¾ - åç«¯å¼å\n     \n     ç·/1999/24å²           https://sleeplzh.top\n     15534447783          https://github.com/lzxiaohuihui\n     q895827938@163.com   \n     \n     ## æè²èæ¯\n     \n     :::left è¥¿å®çµå­ç§æå¤§å­¦ - è®¡ç®æºææ¯(211) - ç¡å£« :::\n     \n     2021.09 - è³ä»\n     \n     :::left å¤ªåçå·¥å¤§å­¦ - ä¿¡æ¯ä¸è®¡ç®ç§å­¦(211) - å­¦å£« :::\n     \n     2017.09-2021.06\n     \n     \n     # ç«èµç»å\n     \n     # 2022 âä¸­å½åè°·Â·åä¸ºæ¯â ç¬¬åä¹å±ä¸­å½ç ç©¶çæ°å­¦å»ºæ¨¡ç«èµ äºç­å¥\n     \n     # 2023 åä¸ºè½¯ä»¶ç²¾è±ææèµ ç²¤æ¸¯æ¾³èµåº äºç­å¥\n     \n     \n     # ä¸ä¸æè½\n     \n     * çæè¿ç¨ãåå­ç®¡çï¼tcp/ipåè®®æ ï¼çæäºè¿å¶æ°æ®è¡¨ç¤ºãæä»¤ç³»ç»ï¼çç»æ°æ®ç»æä¸ç®æ³ãè®¾è®¡æ¨¡å¼ï¼\n     * çæjavaç¼ç¨è¯­è¨ï¼ç±»å è½½ãjvmåå­æ¨¡åãåå¾åæ¶g1æ¶éå¨ï¼äºè§£javaå¹¶åç¼ç¨ææ¯ï¼\n     * çç»mysqlï¼çæäºå¡ãç´¢å¼åæ¥å¿ï¼çæredisæ°æ®ç±»åï¼äºè§£redisæä¹åæºå¶ãè¿æé®çå é¤ç­ç¥ï¼\n     * çç»ä½¿ç¨springbootãspringãmybatisç­å¸¸ç¨æ¡æ¶ï¼çæspring iocãaopãèªå¨éç½®ï¼\n     * çærocketmqåkafkaæ¶æ¯ä¸­é´ä»¶ãspring securityè®¤è¯ææï¼äºè§£spring cloud alibabaãdockerå®¹å¨ï¼\n     * çæinfluxdbãmongodbãelasticsearchãrocksdbæ°æ®åºä½¿ç¨ï¼äºè§£åå¸å¼äºå¡ãåå¸å¼éï¼\n     * çç»ä½¿ç¨linuxæä½ç³»ç»ãä¸»æµå¼åå·¥å·ï¼çæhtmlãcssãjavascriptãvueãpythonç¬è«ã\n     \n     \n     \n     # é¡¹ç®ç»å\n     \n     \n     # çªèèªä¹ å®¤é¡¹ç® (2022.11-è³ä»)\n     \n     * é¡¹ç®æè¿°ï¼ è¯¥é¡¹ç®çµææ¥æºäºçªètodo appãè¯¥é¡¹ç®åºäºé¡¹ç®ä¸å®ç°äºæ¶é´ç»è®¡ãåæãèªä¹ å®¤æè¡æ¦ãæå¡ãçè¨ãç¹èµãç»å½æ³¨åç­åè½ãä¸»è¦ä½¿ç¨äºspring bootãmybatis-plusãmysqlãredisãkafkaãinfluxdbãspring securityåjwtä»¤çç­ã\n     \n     * ä¸»è¦å·¥ä½ï¼\n       \n       * å®æè®¤è¯ææé¨åï¼å°ç»å½æåçç¨æ·ä¿¡æ¯åæéå­æ¾å¨jwtä»¤çï¼ä»¥åé¡µé¢å¯¹ç¨æ·æéè¿è¡æ§å¶ï¼\n       * è¿è¡ç»ä¸çå¼å¸¸å¤çï¼ä½¿ç¨spring aopé¢ååé¢çææ³ç»ä¸çè®°å½æ¥å¿ï¼\n       * ä½¿ç¨redisä¼åé¡¹ç®ä¸­å¯¹ç­ç¹æ°æ®(éªè¯ç ãç¹èµãå³æ³¨ãæå¡ãç¨æ·æ°æ®ç­)çè®¿é®ï¼æé«æ°æ®çå­åæçï¼\n       * ä½¿ç¨kafkaä½ä¸ºæ¶æ¯éåï¼å¨ç¨æ·è¢«ç¹èµï¼è¯è®ºï¼å³æ³¨åï¼ä»¥ç³»ç»éç¥çæ¹å¼æ¨éç»ç¨æ·ï¼\n     \n     * é¡¹ç®ä¼åä¸æ¶è·ï¼\n       \n       * ä½¿ç¨ç¼å­åæ¶æ¯éåå®ç°ç¹èµåå³æ³¨ï¼å¹¶ä¸ä½¿ç¨éè¯éåä¿è¯åç¼å­ååæ¶æ¯éåä¸è´ï¼qpsä»90/sec æåå°4000/secï¼\n       \n       * ä½¿ç¨redis bitmapå­å¨æ¯ä¸ªç¨æ·çæå¡æåµï¼ä½¿ç¨zsetå®ç°èªä¹ å®¤æ¶é¿æè¡æ¦ï¼åå°å®æ¶çº¿ç¨æ± æä¹åæå¡ä¿¡æ¯ä»¥åæ´æ°zsetåæ°ï¼\n       \n       * äºè§£äºinfluxdbåºå±å­å¨åçï¼ä»¥åæ¶åºæ°æ®çå­å¨ä¼å¿ã\n     \n     \n     \n     # linuxç»è®¡ä½¿ç¨æ¶é´é¡¹ç®ï¼2022.07-2022.09ï¼\n     \n     * é¡¹ç®æè¿°ï¼\n       \n       å¯ä»¥å¨linuxå¹³å°ç»è®¡åè½¯ä»¶ä½¿ç¨æ¶é´çå¼æºé¡¹ç®ï¼çµææ¥æºäºææºä¸­çå±å¹ä½¿ç¨æ¶é´ï¼æªæ¥æ¯æå¶å®å¹³å°ãå®ç°äºæ¥çæä¸ä¸ªæ¶é´ç«¯åå¤©ãåå°æ¶ãåè½¯ä»¶ä½¿ç¨æ¶é´ï¼ä»¥åideaåvs codeåé¡¹ç®æå¼æ¶é´ï¼æµè§å¨åç½ç«æµè§æ¶é´ãä¸»è¦ä½¿ç¨äºspring bootãmybatis-plusãsqliteãcaffeineãnettyãvueåechartsç­ã\n     \n     * ä¸»è¦å·¥ä½ï¼\n       \n       * ä½¿ç¨pythonçå¬ç¦ç¹çªå£ååï¼ä½¿ç¨netty ioå¤è·¯å¤ç¨ä»¥åçäº§èæ¶è´¹èæºå¶æé«æ°æ®æ¥æ¶çè½åï¼\n       \n       * ä»åå²è®°å½è¡¨ä¸­æç¼åºæ±æ»è¡¨ï¼æé«åå²æ°æ®æ¥è¯¢è½åï¼æ°æ®éæ¯åè¡¨ç1/20ï¼\n       \n       * ä½¿ç¨æ¬å°ç¼å­caffeineæé«æ¥è¯¢æçï¼ä½¿ç¨å®æ¶çº¿ç¨æ± ä¿è¯æ°æ®ä¸è´æ§ï¼\n     \n     * é¡¹ç®ä¼åï¼\n       \n       * åç¼©éè¦ç¼å­çæ°æ®ï¼ä¼ååä¸å¤©çæ°æ®éä»å 5.12kbåå­;\n       * ä»ä»ç¼å­ä¸­æ¥è¯¢æ°æ®ï¼ä½¿ç¨å¼æ­¥æ¹å¼æ´æ°ç¼å­æ°æ®ï¼å¯¹æ¯sqliteæ¥è¯¢æ¹å¼ä»20 qpsæåå°3w qpsã\n         \n     \n     \n     # åºäºjavaå®ç°raftå±è¯ç®æ³ï¼2023.03-2023-06ï¼\n     \n     * é¡¹ç®æè¿°ï¼\n       \n       è¦å°ä¸è¿°é¡¹ç®æ©å±ä¸ºå¾®æå¡é¡¹ç®ï¼å¿ä¸å¯å°ä¼éå°åå¸å¼ä¸è´æ§ï¼äºå¡ï¼éç­é®é¢ãæ¬é¡¹ç®å®ç°äºé¢å¯¼èéä¸¾åæ¥å¿å¤å¶æ¨¡åï¼å¯è§£å³ä¸è¿°é®é¢ãä¸»è¦ä½¿ç¨äºsofa-boltä½ä¸ºrpcéä¿¡ï¼rocksdbä½ä¸ºæ¥å¿å­å¨ã\n     \n     * ä¸»è¦å·¥ä½ï¼\n       \n       * æç§raftè®ºææè¿°ï¼å®ç°é¢å¯¼èéä¸¾æ¨¡ååæ¥å¿å¤å¶æ¨¡åï¼\n       * æ¯ä¸ªèç¹ä½¿ç¨å®æ¶çº¿ç¨æ± æ§è¡å¿è·³ä»»å¡åéä¸¾ä»»å¡ï¼æ§è¡ä»»å¡æ¶ï¼ä½¿ç¨æ®éçº¿ç¨æ± æ¨¡æå¹¶è¡åérpcè¯·æ±ï¼ä½¿ç¨countdownlatchåæ­¥ï¼è¿èå¤æ­ææåå¤ä¸­æ¯å¦è¶è¿ä¸åèç¹åå¤æåï¼\n       * æ¯ä¸ªèç¹ä½¿ç¨ä¸¤ä»½æ¥å¿å®ç°æ¥å¿é¢ååæ¥å¿æäº¤ï¼å½æ¥å¿å¤å¶è¿ç¨è¶è¿ä¸åèç¹åå¤æååæ­£å¼æäº¤ã\n     \n     * é¡¹ç®ä¼åï¼ - é¢å¯¼èå¨åè·éèå¹¶è¡å¤å¶æ¥å¿çåæ¶å°æ¥å¿åå¥èªå·±çç£çï¼å¯¹äºå®¢æ·ç«¯åè¯·æ±ååºæ¶é´ä»12mséä½å°8msã",charsets:{cjk:!0}},{title:"æ¶æ¯éå",frontmatter:{title:"æ¶æ¯éå",date:"2023-02-27T09:38:16.000Z",permalink:"/pages/9749fb/"},regularPath:"/01.Java/02.%E4%B8%AD%E9%97%B4%E4%BB%B6/00.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html",relativePath:"01.Java/02.ä¸­é´ä»¶/00.æ¶æ¯éå.md",key:"v-d2301728",path:"/pages/9749fb/",headers:[{level:2,title:"å¼æ­¥",slug:"å¼æ­¥",normalizedTitle:"å¼æ­¥",charIndex:14},{level:2,title:"è§£è¦",slug:"è§£è¦",normalizedTitle:"è§£è¦",charIndex:20},{level:2,title:"åå³°",slug:"åå³°",normalizedTitle:"åå³°",charIndex:17},{level:2,title:"ç¼ºç¹",slug:"ç¼ºç¹",normalizedTitle:"ç¼ºç¹",charIndex:392},{level:3,title:"ç³»ç»å¤ææ§",slug:"ç³»ç»å¤ææ§",normalizedTitle:"ç³»ç»å¤ææ§",charIndex:399},{level:3,title:"æ°æ®ä¸è´æ§",slug:"æ°æ®ä¸è´æ§",normalizedTitle:"æ°æ®ä¸è´æ§",charIndex:459},{level:3,title:"å¯ç¨æ§",slug:"å¯ç¨æ§",normalizedTitle:"å¯ç¨æ§",charIndex:581}],headersStr:"å¼æ­¥ è§£è¦ åå³° ç¼ºç¹ ç³»ç»å¤ææ§ æ°æ®ä¸è´æ§ å¯ç¨æ§",content:"ä½¿ç¨æ¶æ¯éåçä¸ä¸ªç»å¸åºæ¯ï¼å¼æ­¥ï¼åå³°ï¼è§£è¦ã\n\n\n# å¼æ­¥\n\nå°±æ¯å¦ä¸åä¸å¡ï¼å¯¹äºç¨æ·èè¨ï¼æµç¨å¾ç­ï¼ä¸å®åå°±å®æãä½æ¯å¯¹äºç³»ç»åç«¯æ¥è¯´ï¼å¯è½æµç¨ï¼æ§è¡é¾è·¯å¾é¿ãå¯¼è´ç¨æ·å°±ä¼å­å¨çåå·®ï¼ææè¿ä¹ç®åä¸ä¸ªäºæï¼ç³»ç»ç»æååºè¿ä¹æ¢ã\n\n\n\nå¯ä»¥å°ä¸å¡æåå¼ï¼å°ä¸äºæ²¡æé¡ºåºçæµç¨åæ¶åï¼ä¹å°±æ¯å¼æ­¥æä½ã\n\n\n\n\n# è§£è¦\n\næ¢ç¶æ¯å°è¿äºæµç¨åæ¶åï¼ä½æ¯ä¸è½éç¨å¤çº¿ç¨æ¥åãè¿ä¹å¤ä¸å¡è¦è°ç¨è¿ä¹å¤æ¥å£ï¼å¨é¨åå¨ä¸ååºç°é®é¢äºä¹ä¸å¥½åæç»´æ¤ï¼æµç¨ä¸­æä¸ç¹åºé®é¢ï¼åä¼å½±åå°å¶å®ç¬ç«çç¹ã\n\nç¨äºæ¶æ¯éåï¼è¦åè¿ä¸ªé®é¢å°±è¿åèè§£äºã\n\n\n\nä¸åå®æäºï¼å°±ææ¯ä»æåçæ¶æ¯åè¯å«çç³»ç»åå¤çï¼ä»ä»¬æ¶å°äºå»å¤çå°±å¥½äºãåé¢è¦æ¥å¥ä»ä¹ç³»ç»ï¼åªéè¦çå¬è¿ä¸ªæ¶æ¯å³å¯ã\n\n\n# åå³°\n\næè¯·æ±æ¾å°éåéé¢ï¼ç¶åè³äºæ¯ç§æ¶è´¹å¤å°è¯·æ±ï¼å°±çèªå·±çæå¡å¨å¤çè½åï¼å¯è½ä¼æ¢ä¸ç¹ï¼ä½ä¸è³äºæå¡å¨æäºã\n\n\n# ç¼ºç¹\n\n\n# ç³»ç»å¤ææ§\n\næ¬æ¥ä¸ä¸ªç®åç³»ç»å¥½å¥½çï¼ç°å¨å¼äºä¸ä¸ªä¸­é´ä»¶ï¼è¿è¦ç»´æ¤å®ï¼æ¶æ¯éå¤æ¶è´¹ãæ¶æ¯ä¸¢å¤±ãæ¶æ¯çé¡ºåºæ¶è´¹ã\n\n\n# æ°æ®ä¸è´æ§\n\nä¸åæå¡èªå·±ä¿è¯èªå·±çé»è¾ææå¤çäºï¼ææåéäºæ¶æ¯ï¼ä½æ¯å¶å®ç³»æå¡ï¼æä¸æåå¾ä¸å°ä¿è¯ï¼æææå¡é½æåæç®ä¸æ¬¡ä¸åæåã\n\nåå¸å¼äºå¡ï¼æä¸åï¼ä¼æ å¸ï¼ç§¯åãããé½æ¾å¨ä¸ä¸ªäºå¡éé¢ä¸æ ·ï¼è¦æåä¸èµ·æåï¼è¦å¤±è´¥ä¸èµ·å¤±è´¥ã\n\n\n# å¯ç¨æ§\n\nä¸­é´ä»¶æ¯ç«æ¯ç¬¬ä¸æ¹è½¯ä»¶ï¼è¿ä¸ªè¿ç¨æå¯è½æäºçé£é©ã",normalizedContent:"ä½¿ç¨æ¶æ¯éåçä¸ä¸ªç»å¸åºæ¯ï¼å¼æ­¥ï¼åå³°ï¼è§£è¦ã\n\n\n# å¼æ­¥\n\nå°±æ¯å¦ä¸åä¸å¡ï¼å¯¹äºç¨æ·èè¨ï¼æµç¨å¾ç­ï¼ä¸å®åå°±å®æãä½æ¯å¯¹äºç³»ç»åç«¯æ¥è¯´ï¼å¯è½æµç¨ï¼æ§è¡é¾è·¯å¾é¿ãå¯¼è´ç¨æ·å°±ä¼å­å¨çåå·®ï¼ææè¿ä¹ç®åä¸ä¸ªäºæï¼ç³»ç»ç»æååºè¿ä¹æ¢ã\n\n\n\nå¯ä»¥å°ä¸å¡æåå¼ï¼å°ä¸äºæ²¡æé¡ºåºçæµç¨åæ¶åï¼ä¹å°±æ¯å¼æ­¥æä½ã\n\n\n\n\n# è§£è¦\n\næ¢ç¶æ¯å°è¿äºæµç¨åæ¶åï¼ä½æ¯ä¸è½éç¨å¤çº¿ç¨æ¥åãè¿ä¹å¤ä¸å¡è¦è°ç¨è¿ä¹å¤æ¥å£ï¼å¨é¨åå¨ä¸ååºç°é®é¢äºä¹ä¸å¥½åæç»´æ¤ï¼æµç¨ä¸­æä¸ç¹åºé®é¢ï¼åä¼å½±åå°å¶å®ç¬ç«çç¹ã\n\nç¨äºæ¶æ¯éåï¼è¦åè¿ä¸ªé®é¢å°±è¿åèè§£äºã\n\n\n\nä¸åå®æäºï¼å°±ææ¯ä»æåçæ¶æ¯åè¯å«çç³»ç»åå¤çï¼ä»ä»¬æ¶å°äºå»å¤çå°±å¥½äºãåé¢è¦æ¥å¥ä»ä¹ç³»ç»ï¼åªéè¦çå¬è¿ä¸ªæ¶æ¯å³å¯ã\n\n\n# åå³°\n\næè¯·æ±æ¾å°éåéé¢ï¼ç¶åè³äºæ¯ç§æ¶è´¹å¤å°è¯·æ±ï¼å°±çèªå·±çæå¡å¨å¤çè½åï¼å¯è½ä¼æ¢ä¸ç¹ï¼ä½ä¸è³äºæå¡å¨æäºã\n\n\n# ç¼ºç¹\n\n\n# ç³»ç»å¤ææ§\n\næ¬æ¥ä¸ä¸ªç®åç³»ç»å¥½å¥½çï¼ç°å¨å¼äºä¸ä¸ªä¸­é´ä»¶ï¼è¿è¦ç»´æ¤å®ï¼æ¶æ¯éå¤æ¶è´¹ãæ¶æ¯ä¸¢å¤±ãæ¶æ¯çé¡ºåºæ¶è´¹ã\n\n\n# æ°æ®ä¸è´æ§\n\nä¸åæå¡èªå·±ä¿è¯èªå·±çé»è¾ææå¤çäºï¼ææåéäºæ¶æ¯ï¼ä½æ¯å¶å®ç³»æå¡ï¼æä¸æåå¾ä¸å°ä¿è¯ï¼æææå¡é½æåæç®ä¸æ¬¡ä¸åæåã\n\nåå¸å¼äºå¡ï¼æä¸åï¼ä¼æ å¸ï¼ç§¯åãããé½æ¾å¨ä¸ä¸ªäºå¡éé¢ä¸æ ·ï¼è¦æåä¸èµ·æåï¼è¦å¤±è´¥ä¸èµ·å¤±è´¥ã\n\n\n# å¯ç¨æ§\n\nä¸­é´ä»¶æ¯ç«æ¯ç¬¬ä¸æ¹è½¯ä»¶ï¼è¿ä¸ªè¿ç¨æå¯è½æäºçé£é©ã",charsets:{cjk:!0}},{title:"ZooKeeper",frontmatter:{title:"ZooKeeper",date:"2023-02-27T08:52:28.000Z",permalink:"/pages/467ce0/"},regularPath:"/01.Java/02.%E4%B8%AD%E9%97%B4%E4%BB%B6/01.ZooKeeper.html",relativePath:"01.Java/02.ä¸­é´ä»¶/01.ZooKeeper.md",key:"v-b1cae4ee",path:"/pages/467ce0/",headers:[{level:2,title:"ZoopKeeperç¨æ¥å¹²ä»ä¹",slug:"zoopkeeperç¨æ¥å¹²ä»ä¹",normalizedTitle:"zoopkeeperç¨æ¥å¹²ä»ä¹",charIndex:2},{level:2,title:"ZoopKeeperæ¯ä»ä¹",slug:"zoopkeeperæ¯ä»ä¹",normalizedTitle:"zoopkeeperæ¯ä»ä¹",charIndex:198},{level:2,title:"çå¬å¨",slug:"çå¬å¨",normalizedTitle:"çå¬å¨",charIndex:414},{level:2,title:"ç»ä¸éç½®ç®¡ç",slug:"ç»ä¸éç½®ç®¡ç",normalizedTitle:"ç»ä¸éç½®ç®¡ç",charIndex:57},{level:2,title:"ç»ä¸å½åæå¡",slug:"ç»ä¸å½åæå¡",normalizedTitle:"ç»ä¸å½åæå¡",charIndex:64},{level:2,title:"åå¸å¼é",slug:"åå¸å¼é",normalizedTitle:"åå¸å¼é",charIndex:71},{level:2,title:"éç¾¤ç¶æ",slug:"éç¾¤ç¶æ",normalizedTitle:"éç¾¤ç¶æ",charIndex:850}],headersStr:"ZoopKeeperç¨æ¥å¹²ä»ä¹ ZoopKeeperæ¯ä»ä¹ çå¬å¨ ç»ä¸éç½®ç®¡ç ç»ä¸å½åæå¡ åå¸å¼é éç¾¤ç¶æ",content:"# ZoopKeeperç¨æ¥å¹²ä»ä¹\n\n * ZooKeeperä¸»è¦æå¡äºåå¸å¼ç³»ç»ï¼å¯ä»¥ç¨ZooKeeperæ¥åï¼ç»ä¸éç½®ç®¡çãç»ä¸å½åæå¡ãåå¸å¼éãéç¾¤ç®¡çã\n * ä½¿ç¨åå¸å¼ç³»ç»å°±æ æ³é¿åå¯¹èç¹ç®¡ççé®é¢(éè¦å®æ¶æç¥èç¹çç¶æãå¯¹èç¹è¿è¡ç»ä¸ç®¡çç­ç­)ï¼èç±äºè¿äºé®é¢å¤çèµ·æ¥å¯è½ç¸å¯¹éº»ç¦åæé«äºç³»ç»çå¤ææ§ï¼ZooKeeperä½ä¸ºä¸ä¸ªè½å¤éç¨è§£å³è¿äºé®é¢çä¸­é´ä»¶å°±åºè¿èçäºã\n\n\n# ZoopKeeperæ¯ä»ä¹\n\n * ZooKeeperçæ°æ®ç»æï¼è·Unixæä»¶ç³»ç»éå¸¸ç±»ä¼¼ï¼å¯ä»¥çåæ¯ä¸é¢æ ï¼æ¯ä¸ªèç¹å«åZNodeãæ¯ä¸ä¸ªèç¹å¯ä»¥éè¿è·¯å¾æ¥æ è¯ï¼ç»æå¾å¦ä¸ï¼\n\n\n\nZnodeä¸­æä¸¤ç§ç±»åçèç¹\n\n * ç­æ/ä¸´æ¶(Ephemeral)ï¼å½å®¢æ·ç«¯åæå¡ç«¯æ­å¼è¿æ¥åï¼æåå»ºçZnode(èç¹)ä¼èªå¨å é¤\n * æä¹(Persistent)ï¼å½å®¢æ·ç«¯åæå¡ç«¯æ­å¼è¿æ¥åï¼æåå»ºçZnode(èç¹)ä¸ä¼å é¤\n\n\n# çå¬å¨\n\n * çå¬Znodeèç¹çæ°æ®åå\n * çå¬å­èç¹çå¢ååå\n\n\n# ç»ä¸éç½®ç®¡ç\n\nå°éç½®æä»¶common.ymlæ¾å¨ZooKeeperçZnodeèç¹ä¸­ï¼ç¶åç³»ç»çå¬è¿ä¸ªèç¹ææ åæ´ï¼åæ¶ååºã\n\n\n\n\n# ç»ä¸å½åæå¡\n\n * ç»ä¸å½åæå¡ççè§£å¶å®è·ååä¸æ ·ï¼æ¯æä»¬ä¸ºè¿æä¸é¨åçèµæºç»å®åä¸ä¸ªåå­ï¼å«äººéè¿è¿ä¸ªåå­å°±å¯ä»¥æ¿å°å¯¹åºçèµæº\n\n\n\n\n# åå¸å¼é\n\n\n\nè®¿é®çæ¶åä¼åå»ºå¸¦é¡ºåºå·çä¸´æ¶/ç­æ(EPHEMERAL_SEQUENTIAL)èç¹ï¼æ¯å¦ï¼ç³»ç»Aåå»ºäºid_000000èç¹ï¼ç³»ç»Båå»ºäºid_000002èç¹ï¼ç³»ç»Cåå»ºäºid_000001èç¹ã\n\n\n\næ¥çï¼æ¿å°/locksèç¹ä¸çææå­èç¹(id_000000,id_000001,id_000002)ï¼å¤æ­èªå·±åå»ºçæ¯ä¸æ¯æå°çé£ä¸ªèç¹\n\n * å¦ææ¯ï¼åæ¿å°éã\n\n * * éæ¾éï¼æ§è¡å®æä½åï¼æåå»ºçèç¹ç»å æ\n\n * å¦æä¸æ¯ï¼åçå¬æ¯èªå·±è¦å°1çèç¹åå\n\n\n# éç¾¤ç¶æ\n\n\n\nåªè¦ç³»ç»Aæäºï¼é£/groupMember/Aè¿ä¸ªèç¹å°±ä¼å é¤ï¼éè¿çå¬groupMemberä¸çå­èç¹ï¼ç³»ç»BåCå°±è½å¤æç¥å°ç³»ç»Aå·²ç»æäºã(æ°å¢ä¹æ¯åç)\n\né¤äºè½å¤æç¥èç¹çä¸ä¸çº¿ååï¼ZooKeeperè¿å¯ä»¥å®ç°å¨æéä¸¾Masterçåè½ã(å¦æéç¾¤æ¯ä¸»ä»æ¶ææ¨¡å¼ä¸)\n\nåçä¹å¾ç®åï¼å¦ææ³è¦å®ç°å¨æéä¸¾Masterçåè½ï¼Znodeèç¹çç±»åæ¯å¸¦é¡ºåºå·çä¸´æ¶èç¹(EPHEMERAL_SEQUENTIAL)å°±å¥½äºã\n\n * Zookeeperä¼æ¯æ¬¡éä¸¾æå°ç¼å·çä½ä¸ºMasterï¼å¦æMasteræäºï¼èªç¶å¯¹åºçZnodeèç¹å°±ä¼å é¤ãç¶åè®©æ°çæå°ç¼å·ä½ä¸ºMasterï¼è¿æ ·å°±å¯ä»¥å®ç°å¨æéä¸¾çåè½äºã",normalizedContent:"# zoopkeeperç¨æ¥å¹²ä»ä¹\n\n * zookeeperä¸»è¦æå¡äºåå¸å¼ç³»ç»ï¼å¯ä»¥ç¨zookeeperæ¥åï¼ç»ä¸éç½®ç®¡çãç»ä¸å½åæå¡ãåå¸å¼éãéç¾¤ç®¡çã\n * ä½¿ç¨åå¸å¼ç³»ç»å°±æ æ³é¿åå¯¹èç¹ç®¡ççé®é¢(éè¦å®æ¶æç¥èç¹çç¶æãå¯¹èç¹è¿è¡ç»ä¸ç®¡çç­ç­)ï¼èç±äºè¿äºé®é¢å¤çèµ·æ¥å¯è½ç¸å¯¹éº»ç¦åæé«äºç³»ç»çå¤ææ§ï¼zookeeperä½ä¸ºä¸ä¸ªè½å¤éç¨è§£å³è¿äºé®é¢çä¸­é´ä»¶å°±åºè¿èçäºã\n\n\n# zoopkeeperæ¯ä»ä¹\n\n * zookeeperçæ°æ®ç»æï¼è·unixæä»¶ç³»ç»éå¸¸ç±»ä¼¼ï¼å¯ä»¥çåæ¯ä¸é¢æ ï¼æ¯ä¸ªèç¹å«åznodeãæ¯ä¸ä¸ªèç¹å¯ä»¥éè¿è·¯å¾æ¥æ è¯ï¼ç»æå¾å¦ä¸ï¼\n\n\n\nznodeä¸­æä¸¤ç§ç±»åçèç¹\n\n * ç­æ/ä¸´æ¶(ephemeral)ï¼å½å®¢æ·ç«¯åæå¡ç«¯æ­å¼è¿æ¥åï¼æåå»ºçznode(èç¹)ä¼èªå¨å é¤\n * æä¹(persistent)ï¼å½å®¢æ·ç«¯åæå¡ç«¯æ­å¼è¿æ¥åï¼æåå»ºçznode(èç¹)ä¸ä¼å é¤\n\n\n# çå¬å¨\n\n * çå¬znodeèç¹çæ°æ®åå\n * çå¬å­èç¹çå¢ååå\n\n\n# ç»ä¸éç½®ç®¡ç\n\nå°éç½®æä»¶common.ymlæ¾å¨zookeeperçznodeèç¹ä¸­ï¼ç¶åç³»ç»çå¬è¿ä¸ªèç¹ææ åæ´ï¼åæ¶ååºã\n\n\n\n\n# ç»ä¸å½åæå¡\n\n * ç»ä¸å½åæå¡ççè§£å¶å®è·ååä¸æ ·ï¼æ¯æä»¬ä¸ºè¿æä¸é¨åçèµæºç»å®åä¸ä¸ªåå­ï¼å«äººéè¿è¿ä¸ªåå­å°±å¯ä»¥æ¿å°å¯¹åºçèµæº\n\n\n\n\n# åå¸å¼é\n\n\n\nè®¿é®çæ¶åä¼åå»ºå¸¦é¡ºåºå·çä¸´æ¶/ç­æ(ephemeral_sequential)èç¹ï¼æ¯å¦ï¼ç³»ç»aåå»ºäºid_000000èç¹ï¼ç³»ç»båå»ºäºid_000002èç¹ï¼ç³»ç»cåå»ºäºid_000001èç¹ã\n\n\n\næ¥çï¼æ¿å°/locksèç¹ä¸çææå­èç¹(id_000000,id_000001,id_000002)ï¼å¤æ­èªå·±åå»ºçæ¯ä¸æ¯æå°çé£ä¸ªèç¹\n\n * å¦ææ¯ï¼åæ¿å°éã\n\n * * éæ¾éï¼æ§è¡å®æä½åï¼æåå»ºçèç¹ç»å æ\n\n * å¦æä¸æ¯ï¼åçå¬æ¯èªå·±è¦å°1çèç¹åå\n\n\n# éç¾¤ç¶æ\n\n\n\nåªè¦ç³»ç»aæäºï¼é£/groupmember/aè¿ä¸ªèç¹å°±ä¼å é¤ï¼éè¿çå¬groupmemberä¸çå­èç¹ï¼ç³»ç»båcå°±è½å¤æç¥å°ç³»ç»aå·²ç»æäºã(æ°å¢ä¹æ¯åç)\n\né¤äºè½å¤æç¥èç¹çä¸ä¸çº¿ååï¼zookeeperè¿å¯ä»¥å®ç°å¨æéä¸¾masterçåè½ã(å¦æéç¾¤æ¯ä¸»ä»æ¶ææ¨¡å¼ä¸)\n\nåçä¹å¾ç®åï¼å¦ææ³è¦å®ç°å¨æéä¸¾masterçåè½ï¼znodeèç¹çç±»åæ¯å¸¦é¡ºåºå·çä¸´æ¶èç¹(ephemeral_sequential)å°±å¥½äºã\n\n * zookeeperä¼æ¯æ¬¡éä¸¾æå°ç¼å·çä½ä¸ºmasterï¼å¦æmasteræäºï¼èªç¶å¯¹åºçznodeèç¹å°±ä¼å é¤ãç¶åè®©æ°çæå°ç¼å·ä½ä¸ºmasterï¼è¿æ ·å°±å¯ä»¥å®ç°å¨æéä¸¾çåè½äºã",charsets:{cjk:!0}},{title:"æµæä½",frontmatter:{title:"æµæä½",date:"2023-03-13T19:33:58.000Z",permalink:"/pages/4b289e/"},regularPath:"/01.Java/01.Java%E5%9F%BA%E7%A1%80/05.%E6%B5%81%E6%93%8D%E4%BD%9C.html",relativePath:"01.Java/01.Javaåºç¡/05.æµæä½.md",key:"v-8f05bed0",path:"/pages/4b289e/",headers:[{level:2,title:"æµæä½ç¤ºä¾",slug:"æµæä½ç¤ºä¾",normalizedTitle:"æµæä½ç¤ºä¾",charIndex:2}],headersStr:"æµæä½ç¤ºä¾",content:"# æµæä½ç¤ºä¾\n\nä»¥ä¸æ¯ä¸ä¸ªä½¿ç¨Java 8çListæµæä½ç¤ºä¾ï¼\n\nåè®¾æä»¬æä¸ä¸ªåå«æ´æ°çListï¼æä»¬å¯ä»¥ä½¿ç¨ä»¥ä¸æµæä½ï¼\n\n 1. è¿æ»¤æä½ï¼ç­éåºææå¤§äº10çæ°å­\n\nList<Integer> numbers = Arrays.asList(1, 5, 10, 15, 20, 25);\nList<Integer> filteredNumbers = numbers.stream()\n                                        .filter(n -> n > 10)\n                                        .collect(Collectors.toList());\n\n\n 2. æ å°æä½ï¼å°æ¯ä¸ªæ°å­é½ä¹ä»¥2\n\nList<Integer> numbers = Arrays.asList(1, 5, 10, 15, 20, 25);\nList<Integer> mappedNumbers = numbers.stream()\n                                        .map(n -> n * 2)\n                                        .collect(Collectors.toList());\n\n\n 3. æåºæä½ï¼æéåºæåæ°å­\n\nList<Integer> numbers = Arrays.asList(1, 5, 10, 15, 20, 25);\nList<Integer> sortedNumbers = numbers.stream()\n                                        .sorted(Comparator.reverseOrder())\n                                        .collect(Collectors.toList());\n\n\n 4. ç»è®¡æä½ï¼è·åæ°å­çæ»å\n\nList<Integer> numbers = Arrays.asList(1, 5, 10, 15, 20, 25);\nint sum = numbers.stream()\n                    .mapToInt(Integer::intValue)\n                    .sum(); \n\n\n 5. å¹éæä½ï¼æ£æ¥æ¯å¦æææ°å­é½å¤§äº10\n\nList<Integer> numbers = Arrays.asList(1, 5, 10, 15, 20, 25);\nboolean allGreaterThanTen = numbers.stream()\n                                        .allMatch(n -> n > 10);\n\n\n 6. æ¥æ¾æä½ï¼æ¥æ¾ç¬¬ä¸ä¸ªå¤§äº10çæ°å­\n\nList<Integer> numbers = Arrays.asList(1, 5, 10, 15, 20, 25);\nOptional<Integer> firstGreaterThanTen = numbers.stream()\n                                                    .filter(n -> n > 10)\n                                                    .findFirst(); \n\n\n 7. å½çº¦æä½ï¼è®¡ç®æ°å­çä¹ç§¯\n\nList<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);\nint product = numbers.stream()\n                        .reduce(1, (a, b) -> a * b); \n\n\nè¿äºç¤ºä¾å±ç¤ºäºå¦ä½ä½¿ç¨Java 8çListæµæä½è¿è¡å¸¸è§çæ°æ®å¤çä»»å¡ã",normalizedContent:"# æµæä½ç¤ºä¾\n\nä»¥ä¸æ¯ä¸ä¸ªä½¿ç¨java 8çlistæµæä½ç¤ºä¾ï¼\n\nåè®¾æä»¬æä¸ä¸ªåå«æ´æ°çlistï¼æä»¬å¯ä»¥ä½¿ç¨ä»¥ä¸æµæä½ï¼\n\n 1. è¿æ»¤æä½ï¼ç­éåºææå¤§äº10çæ°å­\n\nlist<integer> numbers = arrays.aslist(1, 5, 10, 15, 20, 25);\nlist<integer> filterednumbers = numbers.stream()\n                                        .filter(n -> n > 10)\n                                        .collect(collectors.tolist());\n\n\n 2. æ å°æä½ï¼å°æ¯ä¸ªæ°å­é½ä¹ä»¥2\n\nlist<integer> numbers = arrays.aslist(1, 5, 10, 15, 20, 25);\nlist<integer> mappednumbers = numbers.stream()\n                                        .map(n -> n * 2)\n                                        .collect(collectors.tolist());\n\n\n 3. æåºæä½ï¼æéåºæåæ°å­\n\nlist<integer> numbers = arrays.aslist(1, 5, 10, 15, 20, 25);\nlist<integer> sortednumbers = numbers.stream()\n                                        .sorted(comparator.reverseorder())\n                                        .collect(collectors.tolist());\n\n\n 4. ç»è®¡æä½ï¼è·åæ°å­çæ»å\n\nlist<integer> numbers = arrays.aslist(1, 5, 10, 15, 20, 25);\nint sum = numbers.stream()\n                    .maptoint(integer::intvalue)\n                    .sum(); \n\n\n 5. å¹éæä½ï¼æ£æ¥æ¯å¦æææ°å­é½å¤§äº10\n\nlist<integer> numbers = arrays.aslist(1, 5, 10, 15, 20, 25);\nboolean allgreaterthanten = numbers.stream()\n                                        .allmatch(n -> n > 10);\n\n\n 6. æ¥æ¾æä½ï¼æ¥æ¾ç¬¬ä¸ä¸ªå¤§äº10çæ°å­\n\nlist<integer> numbers = arrays.aslist(1, 5, 10, 15, 20, 25);\noptional<integer> firstgreaterthanten = numbers.stream()\n                                                    .filter(n -> n > 10)\n                                                    .findfirst(); \n\n\n 7. å½çº¦æä½ï¼è®¡ç®æ°å­çä¹ç§¯\n\nlist<integer> numbers = arrays.aslist(1, 2, 3, 4, 5);\nint product = numbers.stream()\n                        .reduce(1, (a, b) -> a * b); \n\n\nè¿äºç¤ºä¾å±ç¤ºäºå¦ä½ä½¿ç¨java 8çlistæµæä½è¿è¡å¸¸è§çæ°æ®å¤çä»»å¡ã",charsets:{cjk:!0}},{title:"Kafka",frontmatter:{title:"Kafka",date:"2023-02-24T15:09:29.000Z",permalink:"/pages/11f4c8/"},regularPath:"/01.Java/02.%E4%B8%AD%E9%97%B4%E4%BB%B6/02.Kafka.html",relativePath:"01.Java/02.ä¸­é´ä»¶/02.Kafka.md",key:"v-8d21212e",path:"/pages/11f4c8/",headers:[{level:2,title:"é»å¡éå",slug:"é»å¡éå",normalizedTitle:"é»å¡éå",charIndex:2},{level:2,title:"Kafkaå¥é¨",slug:"kafkaå¥é¨",normalizedTitle:"kafkaå¥é¨",charIndex:1276},{level:2,title:"Kafkaä¸ºä»ä¹è¿ä¹å¿«",slug:"kafkaä¸ºä»ä¹è¿ä¹å¿«",normalizedTitle:"kafkaä¸ºä»ä¹è¿ä¹å¿«",charIndex:2126},{level:2,title:"å¤ºå½è¿ç¯é®",slug:"å¤ºå½è¿ç¯é®",normalizedTitle:"å¤ºå½è¿ç¯é®",charIndex:2893},{level:3,title:"è¯´è¯´ä½ å¯¹Kafkaççè§£",slug:"è¯´è¯´ä½ å¯¹kafkaççè§£",normalizedTitle:"è¯´è¯´ä½ å¯¹kafkaççè§£",charIndex:2903},{level:3,title:"æ¶æ¯éåæ¨¡åç¥éåï¼kafkaæ¯æä¹åå°æ¯æè¿ä¸¤ç§æ¨¡åçï¼",slug:"æ¶æ¯éåæ¨¡åç¥éå-kafkaæ¯æä¹åå°æ¯æè¿ä¸¤ç§æ¨¡åç",normalizedTitle:"æ¶æ¯éåæ¨¡åç¥éåï¼kafkaæ¯æä¹åå°æ¯æè¿ä¸¤ç§æ¨¡åçï¼",charIndex:3190},{level:3,title:"è½è¯´è¯´kafkaéä¿¡è¿ç¨åçåï¼",slug:"è½è¯´è¯´kafkaéä¿¡è¿ç¨åçå",normalizedTitle:"è½è¯´è¯´kafkaéä¿¡è¿ç¨åçåï¼",charIndex:3329},{level:3,title:"åéæ¶æ¯æ¶å¦ä½éæ©ååºçï¼",slug:"åéæ¶æ¯æ¶å¦ä½éæ©ååºç",normalizedTitle:"åéæ¶æ¯æ¶å¦ä½éæ©ååºçï¼",charIndex:3487},{level:3,title:"ä¸ºä»ä¹éè¦ååºï¼æä»ä¹å¥½å¤ï¼",slug:"ä¸ºä»ä¹éè¦ååº-æä»ä¹å¥½å¤",normalizedTitle:"ä¸ºä»ä¹éè¦ååºï¼æä»ä¹å¥½å¤ï¼",charIndex:3861},{level:3,title:"è¯¦ç»è¯´è¯´æ¶è´¹èç»åæ¶è´¹èéå¹³è¡¡ï¼",slug:"è¯¦ç»è¯´è¯´æ¶è´¹èç»åæ¶è´¹èéå¹³è¡¡",normalizedTitle:"è¯¦ç»è¯´è¯´æ¶è´¹èç»åæ¶è´¹èéå¹³è¡¡ï¼",charIndex:4007},{level:3,title:"ååºåéç­ç¥ï¼",slug:"ååºåéç­ç¥",normalizedTitle:"ååºåéç­ç¥ï¼",charIndex:4189},{level:3,title:"æ¶æ¯ä¼ éè¯­ä¹åæ",slug:"æ¶æ¯ä¼ éè¯­ä¹åæ",normalizedTitle:"æ¶æ¯ä¼ éè¯­ä¹åæ",charIndex:4357},{level:3,title:"Kafkaä¸æ¬¡æ¶æ¯ä¼ é",slug:"kafkaä¸æ¬¡æ¶æ¯ä¼ é",normalizedTitle:"kafkaä¸æ¬¡æ¶æ¯ä¼ é",charIndex:5260},{level:3,title:"æ¶æ¯ä¸¢å¤±åºæ¯",slug:"æ¶æ¯ä¸¢å¤±åºæ¯",normalizedTitle:"æ¶æ¯ä¸¢å¤±åºæ¯",charIndex:5499},{level:4,title:"Producerç«¯",slug:"producerç«¯",normalizedTitle:"producerç«¯",charIndex:5509},{level:4,title:"Brokerç«¯",slug:"brokerç«¯",normalizedTitle:"brokerç«¯",charIndex:6150},{level:4,title:"Consumerç«¯",slug:"consumerç«¯",normalizedTitle:"consumerç«¯",charIndex:6438},{level:4,title:"è§£å³æ¹æ¡",slug:"è§£å³æ¹æ¡",normalizedTitle:"è§£å³æ¹æ¡",charIndex:7293}],headersStr:"é»å¡éå Kafkaå¥é¨ Kafkaä¸ºä»ä¹è¿ä¹å¿« å¤ºå½è¿ç¯é® è¯´è¯´ä½ å¯¹Kafkaççè§£ æ¶æ¯éåæ¨¡åç¥éåï¼kafkaæ¯æä¹åå°æ¯æè¿ä¸¤ç§æ¨¡åçï¼ è½è¯´è¯´kafkaéä¿¡è¿ç¨åçåï¼ åéæ¶æ¯æ¶å¦ä½éæ©ååºçï¼ ä¸ºä»ä¹éè¦ååºï¼æä»ä¹å¥½å¤ï¼ è¯¦ç»è¯´è¯´æ¶è´¹èç»åæ¶è´¹èéå¹³è¡¡ï¼ ååºåéç­ç¥ï¼ æ¶æ¯ä¼ éè¯­ä¹åæ Kafkaä¸æ¬¡æ¶æ¯ä¼ é æ¶æ¯ä¸¢å¤±åºæ¯ Producerç«¯ Brokerç«¯ Consumerç«¯ è§£å³æ¹æ¡",content:'# é»å¡éå\n\n\n\nBlockingQueue\n\n * è§£å³çº¿ç¨éä¿¡çé®é¢\n * é»å¡æ¹æ³ï¼putãtake\n\nçäº§èæ¶è´¹èæ¨¡å¼\n\n * çäº§èï¼äº§çæ°æ®ççº¿ç¨\n * æ¶è´¹èï¼ä½¿ç¨æ°æ®ççº¿ç¨\n\nå®ç°ç±»\n\n * ArrayBlockingQueue\n * LinkedBlockQueue\n * PriorityBlockingQueueï¼SynchronousQueueï¼DelayQueueç­\n\nç¤ºä¾\n\n * çäº§èçº¿ç¨\n\nclass Producer implements Runnable {\n    private BlockingQueue<Integer> queue;\n    public Producer(BlockingQueue<Integer> queue) {\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            for (int i = 0; i < 100; i++) {\n                Thread.sleep(20);\n                queue.put(i);\n                System.out.println(Thread.currentThread().getName() + "çäº§:" + queue.size());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\n\n * æ¶è´¹èçº¿ç¨\n\nclass Consumer implements Runnable {\n    private BlockingQueue<Integer> queue;\n    public Consumer(BlockingQueue<Integer> queue) {\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true) {\n                Thread.sleep(new Random().nextInt(1000));\n                queue.take();\n                System.out.println(Thread.currentThread().getName() + "æ¶è´¹:" + queue.size());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nç»æ\n\n\n\n\n# Kafkaå¥é¨\n\n * Kafkaæ¯ä¸ä¸ªåå¸å¼çæµåªä½å¹³å°ï¼\n * åºç¨ï¼æ¶æ¯ç³»ç»ãæ¥å¿æ¶éãç¨æ·è¡ä¸ºè¿½è¸ªãæµå¤±å¤çã\n\nKafkaæ¯ä¸ä¸ªæ¶æ¯éåï¼æ¾éé¢æ¾æ°æ®å«çäº§èï¼åæ°æ®å«æ¶è´¹èã\n\n\n\nä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼éåä¸åååªæä¸ä¸ªï¼ç¶åç»æ¯ä¸ªéååä¸ªåå­ï¼å«topicã\n\n\n\nç¶åçäº§èï¼æ¶è´¹èå°±å°æå®çæ¶æ¯éåä¸­å­åæ°æ®å°±å¯ä»¥äºã\n\n\n\nä¸ºäºæé«ä¸ä¸ªéåçååéï¼Kafkaä¼ætopicååº\n\n\n\nå®éä¸ï¼çäº§èæ¶è´¹èæ¯å°æå®topicï¼æå®ååºä¸­å­åæ°æ®\n\n\n\nä¸å°Kafkaæå¡å¨å«åBroker\n\n\n\nä¸ä¸ªè¯é¢ä¸­çå¤ä¸ªååºï¼å¯è½å­å¨ä¸åçæå¡å¨ä¸\n\n\n\nKafkaå°æ°æ®å­æ¾å¨ä¸åçååºä¸ï¼åæ¶ä¹ä¼å°ååºå¤ä»½ï¼å­å¨ä¸åçbrokerä¸ãå¤ä»½ååºåªç¨åå¤ä»½ï¼ä¸åè¯»åãå½æä¸ªbrokeræäºï¼é£ä¹å°±ä»å¶å®brokerä¸­çååºä½ä¸ºä¸»ååºã\n\n\n\næ¶è´¹è\n\n\n\næ¶è´¹èå¯ä»¥æå¤ä¸ªï¼å½¢æä¸ä¸ªæ¶è´¹èç»ãæ¯å¦æ¬æ¥ä¸ä¸ªæ¶è´¹èè¦æ¶è´¹ä¸ä¸ªååºï¼é£ä¹å¯ä»¥éè¿ä¸ä¸ªæ¶è´¹èç»ï¼è®©ä¸ä¸ªæ¶è´¹èåå«æ¶è´¹ä¸ä¸ªååºã\n\n * ä½¿ç¨æ¶æ¯éåä¸å¯è½æ¯åæºçï¼å¿ç¶æ¯åå¸å¼oréç¾¤ï¼\n\n * Kafkaä¼å°partitionä»¥æ¶æ¯æ¥å¿çæ¹å¼(è½ç£ç)å­å¨èµ·æ¥ï¼éè¿ é¡ºåºè®¿é®IOåç¼å­(ç­å°ä¸å®çéææ¶é´)æçæ­£ææ°æ®åå°ç£çä¸ï¼æ¥æé«éåº¦ã\n\n * Kafkaä¼å°æ°æ®åå°partitionï¼åä¸ªpartitionçåå¥æ¯æé¡ºåºçãå¦æè¦ä¿è¯å¨å±æåºï¼é£åªè½åå¥ä¸ä¸ªpartitionä¸­ãå¦æè¦æ¶è´¹ä¹æåºï¼æ¶è´¹èä¹åªè½æä¸ä¸ªã\n\n * å¡æ¯åå¸å¼å°±æ æ³é¿åç½ç»æå¨/æºå¨å®æºç­é®é¢çåçï¼å¾æå¯è½æ¶è´¹èAè¯»åäºæ°æ®ï¼è¿æ²¡æ¥å¾åæ¶è´¹ï¼å°±ææäºãZookeeperåç°æ¶è´¹èAæäºï¼è®©æ¶è´¹èBå»æ¶è´¹åæ¬æ¶è´¹èAçååºï¼ç­æ¶è´¹èAéè¿çæ¶åï¼åç°å·²ç»éå¤æ¶è´¹åä¸æ¡æ°æ®äºã(åç§åæ ·çæåµï¼æ¶è´¹èè¶æ¶ç­ç­é½æå¯è½â¦)\n   \n   å¦æä¸å¡ä¸ä¸åè®¸éå¤æ¶è´¹çé®é¢ï¼æå¥½æ¶è´¹èé£ç«¯åä¸å¡ä¸çæ ¡éªï¼å¦æå·²ç»æ¶è´¹è¿äºï¼å°±ä¸æ¶è´¹äºï¼\n\n\n# Kafkaä¸ºä»ä¹è¿ä¹å¿«\n\n * é¡ºåºå\n\nè½ç¶è¯´Kafkaä¸­çæ°æ®æä¹å°å°ç£çä¸­ï¼ç£çè¯»åéåº¦æ¯ä¸ä¸åå­è¯»åéåº¦ã\n\né½ç¥éå®æä¸æ¬¡ç£çioï¼éè¦ç»è¿å¯»éãæè½¬åè¯»åæ°æ®ã\n\nå ä¸ºKafkaä¸­æä¸ä¸ªååºåçæ°æ®æ¯æåºçï¼éåFIFOï¼æä»¥å¯ä»¥éç¨é¡ºåºåçæ¹å¼è¿è¡æä¹åã\n\nKafkaéç¨é¡ºåºåçæ¹å¼ï¼æ¥çå»å¯»éåæè½¬äº§ççæ¶é´ï¼ä»èæé«åå¥ç£ççéåº¦ã\n\næ¯ä¸ä¸ªååºï¼Partitionï¼å¯¹åºå¤ä¸ªç©çæä»¶ï¼Segmentï¼ã\n\n * é¶æ·è´\n\næ¶è´¹èè¯»åç£çä¸­çæ°æ®ï¼ä½¿ç¨ä¼ ç»çIOæ¨¡åï¼éè¦æ·è´åæ¬¡\n\n\n\né¶æ·è´æ¹å¼ï¼åå°ç¨æ·æååæ ¸æç´æ¥çåæ¢\n\n\n\n * PageCache\n\nçäº§èçäº§æ¶æ¯å°Brokeræ¶ï¼ååå¥å°page cacheä¸­ï¼page cacheå­å¨åå­å½ä¸­ï¼ä½ä¸åjvmçGCç®¡çï¼è¿æ ·å¯ä»¥é¿åæ¯æ¬¡çäº§æ¶è´¹é½éè¦ç£çioã\n\n\n\n * ç½ç»æ¨¡å\n\néç¨åºäºæ± åææ³ï¼é¿åä¸ºæ¯ä¸ªè¿æ¥åå»ºçº¿ç¨ï¼è¿æ¥å®æåå°ä¸å¡å¤çäº¤ç»çº¿ç¨æ± å¤çã\n\nåºäº IO å¤ç¨æ¨¡åï¼å¤ä¸ªè¿æ¥å±ç¨åä¸ä¸ªé»å¡å¯¹è±¡ï¼ä¸ç¨ç­å¾ææçè¿æ¥ã\n\n * æ¹éä¸åç¼©\n\nçäº§èåBrokeråéæ¶æ¯æ¯æç§æ¹éæ¥åéï¼åè®¾å¸¦å®½æ¯10MB/sï¼é£ä¹åéä¸ä¸ª10MBçæ¶æ¯æ¯åé1MBçæ¶æ¯10æ¬¡è¦å¿«ã\n\nå¤æ°æåµä¸ï¼ç³»ç»çç¶é¢ä¸å¨ç£çIOï¼èæ¯å¨ç½ç»IOã\n\n * ååºå¹¶å\n\nKafkaçmessageæ¯ætopicåç±»å­å¨çï¼topicä¸­çæ°æ®åæ¯æç§ä¸ä¸ªä¸ä¸ªçpartitionå³ååºå­å¨å°ä¸åbrokerèç¹ã\n\næ¯ä¸ªpartitionå¯¹åºäºæä½ç³»ç»ä¸çä¸ä¸ªæä»¶å¤¹ï¼partitionå®éä¸åæ¯æç§segmentåæ®µå­å¨çãæ¯æ¬¡æä»¶æä½ä¹æ¯ç´æ¥æä½segmentã\n\nä¸ºäºè¿ä¸æ­¥çæ¥è¯¢ä¼åï¼Kafkaåé»è®¤ä¸ºåæ®µåçæ°æ®æä»¶å»ºç«äºç´¢å¼æä»¶ã\n\n\n# å¤ºå½è¿ç¯é®\n\n\n# è¯´è¯´ä½ å¯¹Kafkaççè§£\n\n> Kafkaæ¯ä¸ä¸ªæµå¼æ°æ®å¤çå¹³å°ï¼å·ææ¶æ¯ç³»ç»çè½åï¼ä¹æå®æ¶æµå¼æ°æ®å¤çåæè½è½åï¼åªæ¯æä»¬éå¸¸æå®å½åæ¶æ¯éåç³»ç»æ¥ç¨ã\n> \n> ä¸»è¦ç±ä¸ä¸ªæ¹é¢ç»æï¼ZooKeeperãKafkaæ ¸å¿åå­å¨ã\n> \n> Kafkaä¸è¬ä½ä¸ºåå¸å¼ç³»ç»æ¥ç¨ï¼æä»¥éè¦æ¯ä¸ªKafkaæå¡å¨å¯å¨æ¶éè¦å°èªå·±æ³¨åå°ZooKeeperä¸­ï¼ç±ZooKeeperæ¥ç»ä¸ç®¡çã\n> \n> ç¶åKafkaæ¬èº«ï¼ææ¶æ¯ãè¯é¢ãçäº§èãæ¶è´¹èãåçãBrokerãç»ç­ç­ã\n> \n> æåæ¯å­å¨æ¹é¢ï¼ç¨æ¥æä¹åå­å¨Kafkaçæ°æ®ï¼é½ä¼ä»¥æ¥å¿çå½¢å¼æç»å­å¥å°ç£çä¸­ã\n\n\n# æ¶æ¯éåæ¨¡åç¥éåï¼kafkaæ¯æä¹åå°æ¯æè¿ä¸¤ç§æ¨¡åçï¼\n\n> ç¹å¯¹ç¹ï¼æ¶æ¯åªè½è¢«ä¸ä¸ªæ¶è´¹èæ¶è´¹ï¼æ¶è´¹å®åæ¶æ¯å é¤ã\n> \n> åå¸è®¢éï¼ç¸å½äºå¹¿æ­æ¨¡å¼ï¼æ¶æ¯å¯ä»¥è¢«æææ¶è´¹èæ¶è´¹ã\n> \n> æ¶è´¹èç»ï¼ç±å¤ä¸ªæ¶è´¹èç»æï¼ä¸ä¸ªç»ååªä¼ç±ä¸ä¸ªæ¶è´¹èå»æ¶è´¹ä¸ä¸ªååºçæ¶æ¯ã\n\n\n# è½è¯´è¯´kafkaéä¿¡è¿ç¨åçåï¼\n\n>  1. é¦åKafka Brokerå¯å¨æ¶ï¼å°èªå·±æ³¨åå°ZooKeeperä¸­ï¼\n>  2. çäº§èæ ¹æ®éç½®çå°åè¿æ¥å°æå®çBrokerï¼å»ºç«TCPè¿æ¥ï¼\n>  3. åéæ¶æ¯ï¼\n>  4. æ¶è´¹èååè°èBrokeråå»ºTCPè¿æ¥ï¼\n>  5. å¼å§æ¶è´¹æ¶æ¯ã\n\n\n\n\n# åéæ¶æ¯æ¶å¦ä½éæ©ååºçï¼\n\n>  1. è½®è¯¢ï¼æç§é¡ºåºæ¶æ¯ä¾æ¬¡åéå°ä¸åçååº\n>  2. éæºï¼éæºåéå°æä¸ªååº\n> \n> å¦ææ¶æ¯æå®keyï¼é£ä¹ä¼æ ¹æ®æ¶æ¯çkeyè¿è¡hashï¼ç¶åå¯¹partitionååºæ°éåæ¨¡ï¼å³å®è½å¨åªä¸ªååºä¸ï¼æä»¥ï¼å¯¹äºç¸åkeyçæ¶æ¯æ¥è¯´ï¼æ»æ¯ä¼åéå°åä¸ä¸ªååºä¸ï¼ä¹æ¯æä»¬å¸¸è¯´çæ¶æ¯ååºæåºæ§ã\n> \n> å¾å¸¸è§çåºæ¯å°±æ¯æä»¬å¸æä¸åãæ¯ä»æ¶æ¯æé¡ºåºï¼è¿æ ·ä»¥è®¢åIDä½ä¸ºkeyåéæ¶æ¯å°±è¾¾å°äºååºæåºæ§çç®çã\n> \n> å¦ææ²¡ææå®keyï¼ä¼æ§è¡é»è®¤çè½®è¯¢è´è½½åè¡¡ç­ç¥ï¼æ¯å¦ç¬¬ä¸æ¡æ¶æ¯è½å¨P0ï¼ç¬¬äºæ¡æ¶æ¯è½å¨P1ï¼ç¶åç¬¬ä¸æ¡åå¨P1ã\n> \n> é¤æ­¤ä¹å¤ï¼å¯¹äºä¸äºç¹å®çä¸å¡åºæ¯åéæ±ï¼è¿å¯ä»¥éè¿å®ç°Partitioneræ¥å£ï¼éåconfigureåpartitionæ¹æ³æ¥è¾¾å°èªå®ä¹ååºçææã\n\n\n# ä¸ºä»ä¹éè¦ååºï¼æä»ä¹å¥½å¤ï¼\n\n> å¦æè¯´ä¸ååºçè¯ï¼æä»¬åæ¶æ¯åæ°æ®é½åªè½ä¿å­å°ä¸ä¸ªèç¹ä¸ï¼è¿æ ·çè¯å°±ç®è¿ä¸ªæå¡å¨èç¹æ§è½åå¥½æç»ä¹æ¯æä¸ä½ã\n> \n> ååºå¸¦æ¥äºè´è½½åè¡¡åæ¨ªåæ©å±çè½åã\n> \n> åéæ¶æ¯æ¶å¯ä»¥æ ¹æ®ååºçæ°éå­å¨ä¸åçBrokerä¸ï¼æåäºå¹¶åè¯»åæ¶æ¯è½åã\n\n\n# è¯¦ç»è¯´è¯´æ¶è´¹èç»åæ¶è´¹èéå¹³è¡¡ï¼\n\n> ä¸è¬æ¥è¯´ï¼æ¶è´¹èæ°éåææä¸»é¢ååºçæ°éä¿æä¸è´æå¥½ï¼æ¶è´¹èç»å¯ä»¥è®©Kafkaæ¯æä¼ ç»çä¸¤ç§æ¶æ¯éåæ¨¡åã\n> \n> Kafkaä¸­æä¸ä¸ªåè°èæ¥ å®æååºçåéï¼èéå¹³è¡¡Rebalanceå°±æ¯æçææ°æ¶è´¹èå å¥çæåµï¼æ¯å¦åå¼å§æä»¬åªææ¶è´¹èAå¨æ¶è´¹æ¶æ¯ï¼è¿äºä¸æ®µæ¶é´æ¶è´¹èBåCå å¥äºï¼è¿æ¶åååºå°±éè¦éæ°åéã\n\n\n# ååºåéç­ç¥ï¼\n\n> Range\n> \n> å¯¹åä¸ä¸ªä¸»é¢çååºï¼æåºä¼ååååç»åé¢çæ¶è´¹èï¼æå¨åé¢çæ¶è´¹èè·å¾çæ¶æ¯ >= åé¢çæ¶è´¹èã\n> \n> RoundRobin\n> \n> è½®è¯¢ï¼æé¡ºåºä»¥æ­¤åéç»æ¶è´¹èã\n> \n> Sticky\n> \n> ä¹åè¿ä¸ªååº åç»æ¶è´¹èï¼é£ä¹ä¸æ¬¡è¿æ¯å°½éåç»ä»ï¼é¿åé¢ç¹çéæ¯åå»ºè¿æ¥ã\n\n\n# æ¶æ¯ä¼ éè¯­ä¹åæ\n\n\n\n> 1ï¼é¦åå½ Producer å Broker åéæ°æ®åï¼ä¼è¿è¡ commitï¼å¦æcommitæåï¼ç±äº Replica å¯æ¬æºå¶çå­å¨ï¼åæå³çæ¶æ¯ä¸ä¼ä¸¢å¤±ï¼ä½æ¯ Producer åéæ°æ®ç» Broker åï¼éå°ç½ç»é®é¢èé æéä¿¡ä¸­æ­ï¼é£ä¹ Producer å°±æ æ³åç¡®å¤æ­è¯¥æ¶æ¯æ¯å¦å·²ç»è¢«æäº¤ï¼commitï¼ï¼è¿å°±å¯è½é æ at least once è¯­ä¹ã\n> \n> 2ï¼å¨ Kafka 0.11.0.0 ä¹åï¼ å¦æ Producer æ²¡ææ¶å°æ¶æ¯ commit çååºç»æï¼å®åªè½éæ°åéæ¶æ¯ï¼ç¡®ä¿æ¶æ¯å·²ç»è¢«æ­£ç¡®çä¼ è¾å° Brokerï¼éæ°åéçæ¶åä¼å°æ¶æ¯åæ¬¡åå¥æ¥å¿ä¸­ï¼èå¨ 0.11.0.0 çæ¬ä¹åï¼ Producer æ¯æå¹ç­ä¼ ééé¡¹ï¼ä¿è¯éæ°åéä¸ä¼å¯¼è´æ¶æ¯å¨æ¥å¿åºç°éå¤ãä¸ºäºå®ç°è¿ä¸ª, Broker ä¸º Producer åéäºä¸ä¸ªIDï¼å¹¶éè¿æ¯æ¡æ¶æ¯çåºåå·è¿è¡å»éãä¹æ¯æäºç±»ä¼¼äºå¡è¯­ä¹æ¥ä¿è¯å°æ¶æ¯åéå°å¤ä¸ª Topic ååºä¸­ï¼ä¿è¯æææ¶æ¯è¦ä¹é½åå¥æåï¼è¦ä¹é½å¤±è´¥ï¼è¿ä¸ªä¸»è¦ç¨å¨ Topic ä¹é´ç exactly once è¯­ä¹ã\n> \n> å¶ä¸­å¯ç¨å¹ç­ä¼ éçæ¹æ³éç½®ï¼enable.idempotence = trueã\n> \n> å¯ç¨äºå¡æ¯æçæ¹æ³éç½®ï¼è®¾ç½®å±æ§ transcational.id = "æå®å¼"ã\n> \n> 3ï¼ä» Consumer è§åº¦æ¥åæ, æä»¬ç¥é Offset æ¯ç± Consumer èªå·±æ¥ç»´æ¤ç, å¦æ Consumer æ¶å°æ¶æ¯åæ´æ° Offsetï¼ è¿æ¶ Consumer å¼å¸¸ crash æï¼ é£ä¹æ°ç Consumer æ¥ç®¡ååæ¬¡éå¯æ¶è´¹ï¼å°±ä¼é æ at most once è¯­ä¹ï¼æ¶æ¯ä¼ä¸¢ï¼ä½ä¸éå¤ï¼ã\n> \n> 4ï¼å¦æ Consumer æ¶è´¹æ¶æ¯å®æå, åæ´æ° Offsetï¼å¦æè¿æ¶ Consumer crash æï¼é£ä¹æ°ç Consumer æ¥ç®¡åéæ°ç¨è¿ä¸ª Offset æåæ¶æ¯ï¼ è¿æ¶å°±ä¼é æ at least once è¯­ä¹ï¼æ¶æ¯ä¸ä¸¢ï¼ä½è¢«å¤æ¬¡éå¤å¤çï¼ã\n\n\n# Kafkaä¸æ¬¡æ¶æ¯ä¼ é\n\n> 1ï¼Producer ç«¯åéæ¶æ¯ç» Kafka Broker ç«¯ã\n> \n> 2ï¼Kafka Broker å°æ¶æ¯è¿è¡åæ­¥å¹¶æä¹åæ°æ®ã\n> \n> 3ï¼Consumer ç«¯ä»Kafka Broker å°æ¶æ¯æåå¹¶è¿è¡æ¶è´¹ã\n\nKafka åªå¯¹ãå·²æäº¤ãçæ¶æ¯åãæå¤§éåº¦çæä¹åä¿è¯ä¸ä¸¢å¤±ãã\n\nå·²æäº¤çæ°æ®æProduceræ®µåéçæ¶æ¯å·²ç»æNä¸ªBrokeræåæ¶å°äºï¼èä¸è³å°æä¸ä¸ªBrokerå­æ´»ï¼é£ä¹å°±è½ä¿è¯æ¶æ¯æä¹åä¿è¯ä¸ä¸¢å¤±ã\n\n\n# æ¶æ¯ä¸¢å¤±åºæ¯\n\n# Producerç«¯\n\n\n\n> 1ï¼é¦åæä»¬è¦ç¥éä¸ç¹å°±æ¯Producer ç«¯æ¯ç´æ¥ä¸ Broker ä¸­ç Leader Partition äº¤äºçï¼æä»¥å¨ Producer ç«¯åå§åä¸­å°±éè¦éè¿ Partitioner ååºå¨ä» Kafka éç¾¤ä¸­è·åå°ç¸å³ Topic å¯¹åºç Leader Partition çåæ°æ®ã\n> \n> 2ï¼å¾è·åå° Leader Partition çåæ°æ®åç´æ¥å°æ¶æ¯åéè¿å»ã\n> \n> 3ï¼Kafka Broker å¯¹åºç Leader Partition æ¶å°æ¶æ¯ä¼ååå¥ Page Cacheï¼å®æ¶å·çè¿è¡æä¹åï¼é¡ºåºåå¥ç£çï¼ã\n> \n> 4ï¼Follower Partition æå Leader Partition çæ¶æ¯å¹¶ä¿æå Leader Partition æ°æ®ä¸è´ï¼å¾æ¶æ¯æåå®æ¯åéè¦ç» Leader Partition åå¤ ACK ç¡®è®¤æ¶æ¯ã\n> \n> 5ï¼å¾ Kafka Leader ä¸ Follower Partition åæ­¥å®æ°æ®å¹¶æ¶å°ææ ISR ä¸­ç Replica å¯æ¬ç ACK åï¼Leader Partition ä¼ç» Producer åå¤ ACK ç¡®è®¤æ¶æ¯ã\n\nä¸¢å¤±æåµå¯è½åçå¨Producerç«¯å¼æ­¥åéæ¶æ¯ç»Broker\n\n * ç½ç»åå ï¼ ç±äºç½ç»æå¨å¯¼è´æ°æ®æ²¡æåéè¿å»\n * **æ°æ®åå ï¼**æ¶æ¯ä½å¤ªå¤§è¶åºBrokeræ¥æ¶èå´\n\néè¿éç½®åæ°æ¥ç¡®è®¤æ¶æ¯æ¯å¦åéæå\n\n\n\n# Brokerç«¯\n\n\n\nKafkaBroker éç¾¤æ¥æ¶å°æ°æ®åä¼å°æ°æ®è¿è¡æä¹åå­å¨å°ç£çï¼ä¸ºäºæé«ååéåæ§è½ï¼éç¨çæ¯ãå¼æ­¥æ¹éå·ççç­ç¥ãï¼ä¹å°±æ¯è¯´æç§ä¸å®çæ¶æ¯éåé´éæ¶é´è¿è¡å·çãé¦åä¼å°æ°æ®å­å¨å° ãPageCacheã ä¸­ï¼è³äºä»ä¹æ¶åå° Cache ä¸­çæ°æ®å·çæ¯ç±ãæä½ç³»ç»ãæ ¹æ®èªå·±çç­ç¥å³å®æèè°ç¨ fsync å½ä»¤è¿è¡å¼ºå¶å·çï¼å¦ææ­¤æ¶ Broker å®æº Crash æï¼ä¸éä¸¾äºä¸ä¸ªè½å Leader Partition å¾å¤ç Follower Partition æä¸ºæ°ç Leader Partitionï¼é£ä¹è½åçæ¶æ¯æ°æ®å°±ä¼ä¸¢å¤±ã\n\n# Consumerç«¯\n\n\n\n> 1ï¼Consumer æåæ°æ®ä¹åè·Producer åéæ°æ®ä¸æ ·, éè¦éè¿è®¢éå³ç³»è·åå°éç¾¤åæ°æ®,æ¾å°ç¸å³ Topic å¯¹åºç Leader Partition çåæ°æ®ã\n> \n> 2ï¼ç¶å Consumer éè¿ Pull æ¨¡å¼ä¸»å¨çå» Kafka éç¾¤ä¸­æåæ¶æ¯ã\n> \n> 3ï¼å¨è¿ä¸ªè¿ç¨ä¸­ï¼æä¸ªæ¶è´¹èç»çæ¦å¿µï¼ä¸äºè§£çå¯ä»¥çä¸é¢é¾æ¥æç« ï¼ï¼å¤ä¸ª Consumer å¯ä»¥ç»æä¸ä¸ªæ¶è´¹èç»å³ Consumer Groupï¼æ¯ä¸ªæ¶è´¹èç»é½æä¸ä¸ªGroup-Idãåä¸ä¸ª Consumer Group ä¸­ç Consumer å¯ä»¥æ¶è´¹åä¸ä¸ª Topic ä¸ä¸åååºçæ°æ®ï¼ä½æ¯ä¸ä¼åºç°å¤ä¸ª Consumer å»æ¶è´¹åä¸ä¸ªååºçæ°æ®ã\n> \n> 4ï¼æåå°æ¶æ¯åè¿è¡ä¸å¡é»è¾å¤çï¼å¾å¤çå®æåï¼ä¼è¿è¡ ACK ç¡®è®¤ï¼å³æäº¤ Offset æ¶è´¹ä½ç§»è¿åº¦è®°å½ã\n> \n> 5ï¼æå Offset ä¼è¢«ä¿å­å° Kafka Broker éç¾¤ä¸­ç __consumer_offsets è¿ä¸ª Topic ä¸­ï¼ä¸æ¯ä¸ª Consumer ä¿å­èªå·±ç Offset è¿åº¦ã\n\nConsumeræååæ¶æ¯æç»æ¯è¦æäº¤Offsetï¼é£ä¹è¿éå°±å¯è½ä¼ä¸¢å¤±æ°æ®\n\n * å¯è½ä½¿ç¨çãèªå¨æäº¤ Offset æ¹å¼ã\n\n * æåæ¶æ¯åãåæäº¤ Offsetï¼åå¤çæ¶æ¯ãï¼å¦ææ­¤æ¶å¤çæ¶æ¯çæ¶åå¼å¸¸å®æºï¼ç±äº Offset å·²ç»æäº¤äº, å¾ Consumer éå¯åï¼ä¼ä»ä¹åå·²æäº¤ç Offset ä¸ä¸ä¸ªä½ç½®éæ°å¼å§æ¶è´¹ï¼ ä¹åæªå¤çå®æçæ¶æ¯ä¸ä¼è¢«åæ¬¡å¤çï¼å¯¹äºè¯¥ Consumer æ¥è¯´æ¶æ¯å°±ä¸¢å¤±äºã\n\n * æåæ¶æ¯åãåå¤çæ¶æ¯ï¼å¨è¿è¡æäº¤ Offsetãï¼ å¦ææ­¤æ¶å¨æäº¤ä¹ååçå¼å¸¸å®æºï¼ç±äºæ²¡ææäº¤æå Offsetï¼ å¾ä¸æ¬¡ Consumer éå¯åè¿ä¼ä»ä¸æ¬¡ç Offset éæ°æåæ¶æ¯ï¼ä¸ä¼åºç°æ¶æ¯ä¸¢å¤±çæåµï¼ ä½æ¯ä¼åºç°éå¤æ¶è´¹çæåµï¼è¿éåªè½ä¸å¡èªå·±ä¿è¯å¹ç­æ§ã\n\n# è§£å³æ¹æ¡\n\nåéçè°ç¨æ¹å¼æ¹ä¸ºå¼æ­¥æ¹å¼\n\nFuture<RecordMetadata> send(ProducerRecord<K, V> record, Callback callback); \n\n\npublic Future<RecordMetadata> send(ProducerRecord<K, V> record, Callback callback) { \n    //intercept the record, which can be potentially modified; this method does not throw exceptions \n    ProducerRecord<K, V> interceptedRecord = this.interceptors == null ? record : this.interceptors.onSend(record); \n    return doSend(interceptedRecord, callback);}\n\n\n\n\nç¶åå°±æ¯ä¿®æ¹ä¸äºéç½®é¡¹\n\nproducerç«¯åéæ¶æ¯éè¯æ¬¡æ°ï¼retries è®¾ä¸ºæå¤§å¼ï¼\n\néè¯æ¶é´retry.backoff.ms è®¾ä¸º300msï¼\n\nunclean.leader.election.enable ï¼falseè¡¨ç¤ºä¸è¦å¨ISRåè¡¨å¤çfollowéä¸¾leaderï¼å ä¸ºé£äºå¯æ¬è½ååæ¥leaderå¾å¤ï¼\n\nreplication.factorï¼è®¾ç½®ååºå¯æ¬çä¸ªæ°ï¼>=3ï¼\n\nmin.insync.replicasï¼ISRä¸ªæ°ï¼ä¹æ¯âå·²æäº¤âä¸ªæ°ï¼\n\nenable.auto.commit = falseï¼è®¾ç½®æ¶è´¹ç«¯æå¨ç§»ä½offsetï¼ä¸å¡èªå·±ä¿è¯å¹ç­æ§ã',normalizedContent:'# é»å¡éå\n\n\n\nblockingqueue\n\n * è§£å³çº¿ç¨éä¿¡çé®é¢\n * é»å¡æ¹æ³ï¼putãtake\n\nçäº§èæ¶è´¹èæ¨¡å¼\n\n * çäº§èï¼äº§çæ°æ®ççº¿ç¨\n * æ¶è´¹èï¼ä½¿ç¨æ°æ®ççº¿ç¨\n\nå®ç°ç±»\n\n * arrayblockingqueue\n * linkedblockqueue\n * priorityblockingqueueï¼synchronousqueueï¼delayqueueç­\n\nç¤ºä¾\n\n * çäº§èçº¿ç¨\n\nclass producer implements runnable {\n    private blockingqueue<integer> queue;\n    public producer(blockingqueue<integer> queue) {\n        this.queue = queue;\n    }\n\n    @override\n    public void run() {\n        try {\n            for (int i = 0; i < 100; i++) {\n                thread.sleep(20);\n                queue.put(i);\n                system.out.println(thread.currentthread().getname() + "çäº§:" + queue.size());\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n\n}\n\n\n * æ¶è´¹èçº¿ç¨\n\nclass consumer implements runnable {\n    private blockingqueue<integer> queue;\n    public consumer(blockingqueue<integer> queue) {\n        this.queue = queue;\n    }\n\n    @override\n    public void run() {\n        try {\n            while (true) {\n                thread.sleep(new random().nextint(1000));\n                queue.take();\n                system.out.println(thread.currentthread().getname() + "æ¶è´¹:" + queue.size());\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n}\n\n\nç»æ\n\n\n\n\n# kafkaå¥é¨\n\n * kafkaæ¯ä¸ä¸ªåå¸å¼çæµåªä½å¹³å°ï¼\n * åºç¨ï¼æ¶æ¯ç³»ç»ãæ¥å¿æ¶éãç¨æ·è¡ä¸ºè¿½è¸ªãæµå¤±å¤çã\n\nkafkaæ¯ä¸ä¸ªæ¶æ¯éåï¼æ¾éé¢æ¾æ°æ®å«çäº§èï¼åæ°æ®å«æ¶è´¹èã\n\n\n\nä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼éåä¸åååªæä¸ä¸ªï¼ç¶åç»æ¯ä¸ªéååä¸ªåå­ï¼å«topicã\n\n\n\nç¶åçäº§èï¼æ¶è´¹èå°±å°æå®çæ¶æ¯éåä¸­å­åæ°æ®å°±å¯ä»¥äºã\n\n\n\nä¸ºäºæé«ä¸ä¸ªéåçååéï¼kafkaä¼ætopicååº\n\n\n\nå®éä¸ï¼çäº§èæ¶è´¹èæ¯å°æå®topicï¼æå®ååºä¸­å­åæ°æ®\n\n\n\nä¸å°kafkaæå¡å¨å«åbroker\n\n\n\nä¸ä¸ªè¯é¢ä¸­çå¤ä¸ªååºï¼å¯è½å­å¨ä¸åçæå¡å¨ä¸\n\n\n\nkafkaå°æ°æ®å­æ¾å¨ä¸åçååºä¸ï¼åæ¶ä¹ä¼å°ååºå¤ä»½ï¼å­å¨ä¸åçbrokerä¸ãå¤ä»½ååºåªç¨åå¤ä»½ï¼ä¸åè¯»åãå½æä¸ªbrokeræäºï¼é£ä¹å°±ä»å¶å®brokerä¸­çååºä½ä¸ºä¸»ååºã\n\n\n\næ¶è´¹è\n\n\n\næ¶è´¹èå¯ä»¥æå¤ä¸ªï¼å½¢æä¸ä¸ªæ¶è´¹èç»ãæ¯å¦æ¬æ¥ä¸ä¸ªæ¶è´¹èè¦æ¶è´¹ä¸ä¸ªååºï¼é£ä¹å¯ä»¥éè¿ä¸ä¸ªæ¶è´¹èç»ï¼è®©ä¸ä¸ªæ¶è´¹èåå«æ¶è´¹ä¸ä¸ªååºã\n\n * ä½¿ç¨æ¶æ¯éåä¸å¯è½æ¯åæºçï¼å¿ç¶æ¯åå¸å¼oréç¾¤ï¼\n\n * kafkaä¼å°partitionä»¥æ¶æ¯æ¥å¿çæ¹å¼(è½ç£ç)å­å¨èµ·æ¥ï¼éè¿ é¡ºåºè®¿é®ioåç¼å­(ç­å°ä¸å®çéææ¶é´)æçæ­£ææ°æ®åå°ç£çä¸ï¼æ¥æé«éåº¦ã\n\n * kafkaä¼å°æ°æ®åå°partitionï¼åä¸ªpartitionçåå¥æ¯æé¡ºåºçãå¦æè¦ä¿è¯å¨å±æåºï¼é£åªè½åå¥ä¸ä¸ªpartitionä¸­ãå¦æè¦æ¶è´¹ä¹æåºï¼æ¶è´¹èä¹åªè½æä¸ä¸ªã\n\n * å¡æ¯åå¸å¼å°±æ æ³é¿åç½ç»æå¨/æºå¨å®æºç­é®é¢çåçï¼å¾æå¯è½æ¶è´¹èaè¯»åäºæ°æ®ï¼è¿æ²¡æ¥å¾åæ¶è´¹ï¼å°±ææäºãzookeeperåç°æ¶è´¹èaæäºï¼è®©æ¶è´¹èbå»æ¶è´¹åæ¬æ¶è´¹èaçååºï¼ç­æ¶è´¹èaéè¿çæ¶åï¼åç°å·²ç»éå¤æ¶è´¹åä¸æ¡æ°æ®äºã(åç§åæ ·çæåµï¼æ¶è´¹èè¶æ¶ç­ç­é½æå¯è½â¦)\n   \n   å¦æä¸å¡ä¸ä¸åè®¸éå¤æ¶è´¹çé®é¢ï¼æå¥½æ¶è´¹èé£ç«¯åä¸å¡ä¸çæ ¡éªï¼å¦æå·²ç»æ¶è´¹è¿äºï¼å°±ä¸æ¶è´¹äºï¼\n\n\n# kafkaä¸ºä»ä¹è¿ä¹å¿«\n\n * é¡ºåºå\n\nè½ç¶è¯´kafkaä¸­çæ°æ®æä¹å°å°ç£çä¸­ï¼ç£çè¯»åéåº¦æ¯ä¸ä¸åå­è¯»åéåº¦ã\n\né½ç¥éå®æä¸æ¬¡ç£çioï¼éè¦ç»è¿å¯»éãæè½¬åè¯»åæ°æ®ã\n\nå ä¸ºkafkaä¸­æä¸ä¸ªååºåçæ°æ®æ¯æåºçï¼éåfifoï¼æä»¥å¯ä»¥éç¨é¡ºåºåçæ¹å¼è¿è¡æä¹åã\n\nkafkaéç¨é¡ºåºåçæ¹å¼ï¼æ¥çå»å¯»éåæè½¬äº§ççæ¶é´ï¼ä»èæé«åå¥ç£ççéåº¦ã\n\næ¯ä¸ä¸ªååºï¼partitionï¼å¯¹åºå¤ä¸ªç©çæä»¶ï¼segmentï¼ã\n\n * é¶æ·è´\n\næ¶è´¹èè¯»åç£çä¸­çæ°æ®ï¼ä½¿ç¨ä¼ ç»çioæ¨¡åï¼éè¦æ·è´åæ¬¡\n\n\n\né¶æ·è´æ¹å¼ï¼åå°ç¨æ·æååæ ¸æç´æ¥çåæ¢\n\n\n\n * pagecache\n\nçäº§èçäº§æ¶æ¯å°brokeræ¶ï¼ååå¥å°page cacheä¸­ï¼page cacheå­å¨åå­å½ä¸­ï¼ä½ä¸åjvmçgcç®¡çï¼è¿æ ·å¯ä»¥é¿åæ¯æ¬¡çäº§æ¶è´¹é½éè¦ç£çioã\n\n\n\n * ç½ç»æ¨¡å\n\néç¨åºäºæ± åææ³ï¼é¿åä¸ºæ¯ä¸ªè¿æ¥åå»ºçº¿ç¨ï¼è¿æ¥å®æåå°ä¸å¡å¤çäº¤ç»çº¿ç¨æ± å¤çã\n\nåºäº io å¤ç¨æ¨¡åï¼å¤ä¸ªè¿æ¥å±ç¨åä¸ä¸ªé»å¡å¯¹è±¡ï¼ä¸ç¨ç­å¾ææçè¿æ¥ã\n\n * æ¹éä¸åç¼©\n\nçäº§èåbrokeråéæ¶æ¯æ¯æç§æ¹éæ¥åéï¼åè®¾å¸¦å®½æ¯10mb/sï¼é£ä¹åéä¸ä¸ª10mbçæ¶æ¯æ¯åé1mbçæ¶æ¯10æ¬¡è¦å¿«ã\n\nå¤æ°æåµä¸ï¼ç³»ç»çç¶é¢ä¸å¨ç£çioï¼èæ¯å¨ç½ç»ioã\n\n * ååºå¹¶å\n\nkafkaçmessageæ¯ætopicåç±»å­å¨çï¼topicä¸­çæ°æ®åæ¯æç§ä¸ä¸ªä¸ä¸ªçpartitionå³ååºå­å¨å°ä¸åbrokerèç¹ã\n\næ¯ä¸ªpartitionå¯¹åºäºæä½ç³»ç»ä¸çä¸ä¸ªæä»¶å¤¹ï¼partitionå®éä¸åæ¯æç§segmentåæ®µå­å¨çãæ¯æ¬¡æä»¶æä½ä¹æ¯ç´æ¥æä½segmentã\n\nä¸ºäºè¿ä¸æ­¥çæ¥è¯¢ä¼åï¼kafkaåé»è®¤ä¸ºåæ®µåçæ°æ®æä»¶å»ºç«äºç´¢å¼æä»¶ã\n\n\n# å¤ºå½è¿ç¯é®\n\n\n# è¯´è¯´ä½ å¯¹kafkaççè§£\n\n> kafkaæ¯ä¸ä¸ªæµå¼æ°æ®å¤çå¹³å°ï¼å·ææ¶æ¯ç³»ç»çè½åï¼ä¹æå®æ¶æµå¼æ°æ®å¤çåæè½è½åï¼åªæ¯æä»¬éå¸¸æå®å½åæ¶æ¯éåç³»ç»æ¥ç¨ã\n> \n> ä¸»è¦ç±ä¸ä¸ªæ¹é¢ç»æï¼zookeeperãkafkaæ ¸å¿åå­å¨ã\n> \n> kafkaä¸è¬ä½ä¸ºåå¸å¼ç³»ç»æ¥ç¨ï¼æä»¥éè¦æ¯ä¸ªkafkaæå¡å¨å¯å¨æ¶éè¦å°èªå·±æ³¨åå°zookeeperä¸­ï¼ç±zookeeperæ¥ç»ä¸ç®¡çã\n> \n> ç¶åkafkaæ¬èº«ï¼ææ¶æ¯ãè¯é¢ãçäº§èãæ¶è´¹èãåçãbrokerãç»ç­ç­ã\n> \n> æåæ¯å­å¨æ¹é¢ï¼ç¨æ¥æä¹åå­å¨kafkaçæ°æ®ï¼é½ä¼ä»¥æ¥å¿çå½¢å¼æç»å­å¥å°ç£çä¸­ã\n\n\n# æ¶æ¯éåæ¨¡åç¥éåï¼kafkaæ¯æä¹åå°æ¯æè¿ä¸¤ç§æ¨¡åçï¼\n\n> ç¹å¯¹ç¹ï¼æ¶æ¯åªè½è¢«ä¸ä¸ªæ¶è´¹èæ¶è´¹ï¼æ¶è´¹å®åæ¶æ¯å é¤ã\n> \n> åå¸è®¢éï¼ç¸å½äºå¹¿æ­æ¨¡å¼ï¼æ¶æ¯å¯ä»¥è¢«æææ¶è´¹èæ¶è´¹ã\n> \n> æ¶è´¹èç»ï¼ç±å¤ä¸ªæ¶è´¹èç»æï¼ä¸ä¸ªç»ååªä¼ç±ä¸ä¸ªæ¶è´¹èå»æ¶è´¹ä¸ä¸ªååºçæ¶æ¯ã\n\n\n# è½è¯´è¯´kafkaéä¿¡è¿ç¨åçåï¼\n\n>  1. é¦åkafka brokerå¯å¨æ¶ï¼å°èªå·±æ³¨åå°zookeeperä¸­ï¼\n>  2. çäº§èæ ¹æ®éç½®çå°åè¿æ¥å°æå®çbrokerï¼å»ºç«tcpè¿æ¥ï¼\n>  3. åéæ¶æ¯ï¼\n>  4. æ¶è´¹èååè°èbrokeråå»ºtcpè¿æ¥ï¼\n>  5. å¼å§æ¶è´¹æ¶æ¯ã\n\n\n\n\n# åéæ¶æ¯æ¶å¦ä½éæ©ååºçï¼\n\n>  1. è½®è¯¢ï¼æç§é¡ºåºæ¶æ¯ä¾æ¬¡åéå°ä¸åçååº\n>  2. éæºï¼éæºåéå°æä¸ªååº\n> \n> å¦ææ¶æ¯æå®keyï¼é£ä¹ä¼æ ¹æ®æ¶æ¯çkeyè¿è¡hashï¼ç¶åå¯¹partitionååºæ°éåæ¨¡ï¼å³å®è½å¨åªä¸ªååºä¸ï¼æä»¥ï¼å¯¹äºç¸åkeyçæ¶æ¯æ¥è¯´ï¼æ»æ¯ä¼åéå°åä¸ä¸ªååºä¸ï¼ä¹æ¯æä»¬å¸¸è¯´çæ¶æ¯ååºæåºæ§ã\n> \n> å¾å¸¸è§çåºæ¯å°±æ¯æä»¬å¸æä¸åãæ¯ä»æ¶æ¯æé¡ºåºï¼è¿æ ·ä»¥è®¢åidä½ä¸ºkeyåéæ¶æ¯å°±è¾¾å°äºååºæåºæ§çç®çã\n> \n> å¦ææ²¡ææå®keyï¼ä¼æ§è¡é»è®¤çè½®è¯¢è´è½½åè¡¡ç­ç¥ï¼æ¯å¦ç¬¬ä¸æ¡æ¶æ¯è½å¨p0ï¼ç¬¬äºæ¡æ¶æ¯è½å¨p1ï¼ç¶åç¬¬ä¸æ¡åå¨p1ã\n> \n> é¤æ­¤ä¹å¤ï¼å¯¹äºä¸äºç¹å®çä¸å¡åºæ¯åéæ±ï¼è¿å¯ä»¥éè¿å®ç°partitioneræ¥å£ï¼éåconfigureåpartitionæ¹æ³æ¥è¾¾å°èªå®ä¹ååºçææã\n\n\n# ä¸ºä»ä¹éè¦ååºï¼æä»ä¹å¥½å¤ï¼\n\n> å¦æè¯´ä¸ååºçè¯ï¼æä»¬åæ¶æ¯åæ°æ®é½åªè½ä¿å­å°ä¸ä¸ªèç¹ä¸ï¼è¿æ ·çè¯å°±ç®è¿ä¸ªæå¡å¨èç¹æ§è½åå¥½æç»ä¹æ¯æä¸ä½ã\n> \n> ååºå¸¦æ¥äºè´è½½åè¡¡åæ¨ªåæ©å±çè½åã\n> \n> åéæ¶æ¯æ¶å¯ä»¥æ ¹æ®ååºçæ°éå­å¨ä¸åçbrokerä¸ï¼æåäºå¹¶åè¯»åæ¶æ¯è½åã\n\n\n# è¯¦ç»è¯´è¯´æ¶è´¹èç»åæ¶è´¹èéå¹³è¡¡ï¼\n\n> ä¸è¬æ¥è¯´ï¼æ¶è´¹èæ°éåææä¸»é¢ååºçæ°éä¿æä¸è´æå¥½ï¼æ¶è´¹èç»å¯ä»¥è®©kafkaæ¯æä¼ ç»çä¸¤ç§æ¶æ¯éåæ¨¡åã\n> \n> kafkaä¸­æä¸ä¸ªåè°èæ¥ å®æååºçåéï¼èéå¹³è¡¡rebalanceå°±æ¯æçææ°æ¶è´¹èå å¥çæåµï¼æ¯å¦åå¼å§æä»¬åªææ¶è´¹èaå¨æ¶è´¹æ¶æ¯ï¼è¿äºä¸æ®µæ¶é´æ¶è´¹èbåcå å¥äºï¼è¿æ¶åååºå°±éè¦éæ°åéã\n\n\n# ååºåéç­ç¥ï¼\n\n> range\n> \n> å¯¹åä¸ä¸ªä¸»é¢çååºï¼æåºä¼ååååç»åé¢çæ¶è´¹èï¼æå¨åé¢çæ¶è´¹èè·å¾çæ¶æ¯ >= åé¢çæ¶è´¹èã\n> \n> roundrobin\n> \n> è½®è¯¢ï¼æé¡ºåºä»¥æ­¤åéç»æ¶è´¹èã\n> \n> sticky\n> \n> ä¹åè¿ä¸ªååº åç»æ¶è´¹èï¼é£ä¹ä¸æ¬¡è¿æ¯å°½éåç»ä»ï¼é¿åé¢ç¹çéæ¯åå»ºè¿æ¥ã\n\n\n# æ¶æ¯ä¼ éè¯­ä¹åæ\n\n\n\n> 1ï¼é¦åå½ producer å broker åéæ°æ®åï¼ä¼è¿è¡ commitï¼å¦æcommitæåï¼ç±äº replica å¯æ¬æºå¶çå­å¨ï¼åæå³çæ¶æ¯ä¸ä¼ä¸¢å¤±ï¼ä½æ¯ producer åéæ°æ®ç» broker åï¼éå°ç½ç»é®é¢èé æéä¿¡ä¸­æ­ï¼é£ä¹ producer å°±æ æ³åç¡®å¤æ­è¯¥æ¶æ¯æ¯å¦å·²ç»è¢«æäº¤ï¼commitï¼ï¼è¿å°±å¯è½é æ at least once è¯­ä¹ã\n> \n> 2ï¼å¨ kafka 0.11.0.0 ä¹åï¼ å¦æ producer æ²¡ææ¶å°æ¶æ¯ commit çååºç»æï¼å®åªè½éæ°åéæ¶æ¯ï¼ç¡®ä¿æ¶æ¯å·²ç»è¢«æ­£ç¡®çä¼ è¾å° brokerï¼éæ°åéçæ¶åä¼å°æ¶æ¯åæ¬¡åå¥æ¥å¿ä¸­ï¼èå¨ 0.11.0.0 çæ¬ä¹åï¼ producer æ¯æå¹ç­ä¼ ééé¡¹ï¼ä¿è¯éæ°åéä¸ä¼å¯¼è´æ¶æ¯å¨æ¥å¿åºç°éå¤ãä¸ºäºå®ç°è¿ä¸ª, broker ä¸º producer åéäºä¸ä¸ªidï¼å¹¶éè¿æ¯æ¡æ¶æ¯çåºåå·è¿è¡å»éãä¹æ¯æäºç±»ä¼¼äºå¡è¯­ä¹æ¥ä¿è¯å°æ¶æ¯åéå°å¤ä¸ª topic ååºä¸­ï¼ä¿è¯æææ¶æ¯è¦ä¹é½åå¥æåï¼è¦ä¹é½å¤±è´¥ï¼è¿ä¸ªä¸»è¦ç¨å¨ topic ä¹é´ç exactly once è¯­ä¹ã\n> \n> å¶ä¸­å¯ç¨å¹ç­ä¼ éçæ¹æ³éç½®ï¼enable.idempotence = trueã\n> \n> å¯ç¨äºå¡æ¯æçæ¹æ³éç½®ï¼è®¾ç½®å±æ§ transcational.id = "æå®å¼"ã\n> \n> 3ï¼ä» consumer è§åº¦æ¥åæ, æä»¬ç¥é offset æ¯ç± consumer èªå·±æ¥ç»´æ¤ç, å¦æ consumer æ¶å°æ¶æ¯åæ´æ° offsetï¼ è¿æ¶ consumer å¼å¸¸ crash æï¼ é£ä¹æ°ç consumer æ¥ç®¡ååæ¬¡éå¯æ¶è´¹ï¼å°±ä¼é æ at most once è¯­ä¹ï¼æ¶æ¯ä¼ä¸¢ï¼ä½ä¸éå¤ï¼ã\n> \n> 4ï¼å¦æ consumer æ¶è´¹æ¶æ¯å®æå, åæ´æ° offsetï¼å¦æè¿æ¶ consumer crash æï¼é£ä¹æ°ç consumer æ¥ç®¡åéæ°ç¨è¿ä¸ª offset æåæ¶æ¯ï¼ è¿æ¶å°±ä¼é æ at least once è¯­ä¹ï¼æ¶æ¯ä¸ä¸¢ï¼ä½è¢«å¤æ¬¡éå¤å¤çï¼ã\n\n\n# kafkaä¸æ¬¡æ¶æ¯ä¼ é\n\n> 1ï¼producer ç«¯åéæ¶æ¯ç» kafka broker ç«¯ã\n> \n> 2ï¼kafka broker å°æ¶æ¯è¿è¡åæ­¥å¹¶æä¹åæ°æ®ã\n> \n> 3ï¼consumer ç«¯ä»kafka broker å°æ¶æ¯æåå¹¶è¿è¡æ¶è´¹ã\n\nkafka åªå¯¹ãå·²æäº¤ãçæ¶æ¯åãæå¤§éåº¦çæä¹åä¿è¯ä¸ä¸¢å¤±ãã\n\nå·²æäº¤çæ°æ®æproduceræ®µåéçæ¶æ¯å·²ç»ænä¸ªbrokeræåæ¶å°äºï¼èä¸è³å°æä¸ä¸ªbrokerå­æ´»ï¼é£ä¹å°±è½ä¿è¯æ¶æ¯æä¹åä¿è¯ä¸ä¸¢å¤±ã\n\n\n# æ¶æ¯ä¸¢å¤±åºæ¯\n\n# producerç«¯\n\n\n\n> 1ï¼é¦åæä»¬è¦ç¥éä¸ç¹å°±æ¯producer ç«¯æ¯ç´æ¥ä¸ broker ä¸­ç leader partition äº¤äºçï¼æä»¥å¨ producer ç«¯åå§åä¸­å°±éè¦éè¿ partitioner ååºå¨ä» kafka éç¾¤ä¸­è·åå°ç¸å³ topic å¯¹åºç leader partition çåæ°æ®ã\n> \n> 2ï¼å¾è·åå° leader partition çåæ°æ®åç´æ¥å°æ¶æ¯åéè¿å»ã\n> \n> 3ï¼kafka broker å¯¹åºç leader partition æ¶å°æ¶æ¯ä¼ååå¥ page cacheï¼å®æ¶å·çè¿è¡æä¹åï¼é¡ºåºåå¥ç£çï¼ã\n> \n> 4ï¼follower partition æå leader partition çæ¶æ¯å¹¶ä¿æå leader partition æ°æ®ä¸è´ï¼å¾æ¶æ¯æåå®æ¯åéè¦ç» leader partition åå¤ ack ç¡®è®¤æ¶æ¯ã\n> \n> 5ï¼å¾ kafka leader ä¸ follower partition åæ­¥å®æ°æ®å¹¶æ¶å°ææ isr ä¸­ç replica å¯æ¬ç ack åï¼leader partition ä¼ç» producer åå¤ ack ç¡®è®¤æ¶æ¯ã\n\nä¸¢å¤±æåµå¯è½åçå¨producerç«¯å¼æ­¥åéæ¶æ¯ç»broker\n\n * ç½ç»åå ï¼ ç±äºç½ç»æå¨å¯¼è´æ°æ®æ²¡æåéè¿å»\n * **æ°æ®åå ï¼**æ¶æ¯ä½å¤ªå¤§è¶åºbrokeræ¥æ¶èå´\n\néè¿éç½®åæ°æ¥ç¡®è®¤æ¶æ¯æ¯å¦åéæå\n\n\n\n# brokerç«¯\n\n\n\nkafkabroker éç¾¤æ¥æ¶å°æ°æ®åä¼å°æ°æ®è¿è¡æä¹åå­å¨å°ç£çï¼ä¸ºäºæé«ååéåæ§è½ï¼éç¨çæ¯ãå¼æ­¥æ¹éå·ççç­ç¥ãï¼ä¹å°±æ¯è¯´æç§ä¸å®çæ¶æ¯éåé´éæ¶é´è¿è¡å·çãé¦åä¼å°æ°æ®å­å¨å° ãpagecacheã ä¸­ï¼è³äºä»ä¹æ¶åå° cache ä¸­çæ°æ®å·çæ¯ç±ãæä½ç³»ç»ãæ ¹æ®èªå·±çç­ç¥å³å®æèè°ç¨ fsync å½ä»¤è¿è¡å¼ºå¶å·çï¼å¦ææ­¤æ¶ broker å®æº crash æï¼ä¸éä¸¾äºä¸ä¸ªè½å leader partition å¾å¤ç follower partition æä¸ºæ°ç leader partitionï¼é£ä¹è½åçæ¶æ¯æ°æ®å°±ä¼ä¸¢å¤±ã\n\n# consumerç«¯\n\n\n\n> 1ï¼consumer æåæ°æ®ä¹åè·producer åéæ°æ®ä¸æ ·, éè¦éè¿è®¢éå³ç³»è·åå°éç¾¤åæ°æ®,æ¾å°ç¸å³ topic å¯¹åºç leader partition çåæ°æ®ã\n> \n> 2ï¼ç¶å consumer éè¿ pull æ¨¡å¼ä¸»å¨çå» kafka éç¾¤ä¸­æåæ¶æ¯ã\n> \n> 3ï¼å¨è¿ä¸ªè¿ç¨ä¸­ï¼æä¸ªæ¶è´¹èç»çæ¦å¿µï¼ä¸äºè§£çå¯ä»¥çä¸é¢é¾æ¥æç« ï¼ï¼å¤ä¸ª consumer å¯ä»¥ç»æä¸ä¸ªæ¶è´¹èç»å³ consumer groupï¼æ¯ä¸ªæ¶è´¹èç»é½æä¸ä¸ªgroup-idãåä¸ä¸ª consumer group ä¸­ç consumer å¯ä»¥æ¶è´¹åä¸ä¸ª topic ä¸ä¸åååºçæ°æ®ï¼ä½æ¯ä¸ä¼åºç°å¤ä¸ª consumer å»æ¶è´¹åä¸ä¸ªååºçæ°æ®ã\n> \n> 4ï¼æåå°æ¶æ¯åè¿è¡ä¸å¡é»è¾å¤çï¼å¾å¤çå®æåï¼ä¼è¿è¡ ack ç¡®è®¤ï¼å³æäº¤ offset æ¶è´¹ä½ç§»è¿åº¦è®°å½ã\n> \n> 5ï¼æå offset ä¼è¢«ä¿å­å° kafka broker éç¾¤ä¸­ç __consumer_offsets è¿ä¸ª topic ä¸­ï¼ä¸æ¯ä¸ª consumer ä¿å­èªå·±ç offset è¿åº¦ã\n\nconsumeræååæ¶æ¯æç»æ¯è¦æäº¤offsetï¼é£ä¹è¿éå°±å¯è½ä¼ä¸¢å¤±æ°æ®\n\n * å¯è½ä½¿ç¨çãèªå¨æäº¤ offset æ¹å¼ã\n\n * æåæ¶æ¯åãåæäº¤ offsetï¼åå¤çæ¶æ¯ãï¼å¦ææ­¤æ¶å¤çæ¶æ¯çæ¶åå¼å¸¸å®æºï¼ç±äº offset å·²ç»æäº¤äº, å¾ consumer éå¯åï¼ä¼ä»ä¹åå·²æäº¤ç offset ä¸ä¸ä¸ªä½ç½®éæ°å¼å§æ¶è´¹ï¼ ä¹åæªå¤çå®æçæ¶æ¯ä¸ä¼è¢«åæ¬¡å¤çï¼å¯¹äºè¯¥ consumer æ¥è¯´æ¶æ¯å°±ä¸¢å¤±äºã\n\n * æåæ¶æ¯åãåå¤çæ¶æ¯ï¼å¨è¿è¡æäº¤ offsetãï¼ å¦ææ­¤æ¶å¨æäº¤ä¹ååçå¼å¸¸å®æºï¼ç±äºæ²¡ææäº¤æå offsetï¼ å¾ä¸æ¬¡ consumer éå¯åè¿ä¼ä»ä¸æ¬¡ç offset éæ°æåæ¶æ¯ï¼ä¸ä¼åºç°æ¶æ¯ä¸¢å¤±çæåµï¼ ä½æ¯ä¼åºç°éå¤æ¶è´¹çæåµï¼è¿éåªè½ä¸å¡èªå·±ä¿è¯å¹ç­æ§ã\n\n# è§£å³æ¹æ¡\n\nåéçè°ç¨æ¹å¼æ¹ä¸ºå¼æ­¥æ¹å¼\n\nfuture<recordmetadata> send(producerrecord<k, v> record, callback callback); \n\n\npublic future<recordmetadata> send(producerrecord<k, v> record, callback callback) { \n    //intercept the record, which can be potentially modified; this method does not throw exceptions \n    producerrecord<k, v> interceptedrecord = this.interceptors == null ? record : this.interceptors.onsend(record); \n    return dosend(interceptedrecord, callback);}\n\n\n\n\nç¶åå°±æ¯ä¿®æ¹ä¸äºéç½®é¡¹\n\nproducerç«¯åéæ¶æ¯éè¯æ¬¡æ°ï¼retries è®¾ä¸ºæå¤§å¼ï¼\n\néè¯æ¶é´retry.backoff.ms è®¾ä¸º300msï¼\n\nunclean.leader.election.enable ï¼falseè¡¨ç¤ºä¸è¦å¨isråè¡¨å¤çfollowéä¸¾leaderï¼å ä¸ºé£äºå¯æ¬è½ååæ¥leaderå¾å¤ï¼\n\nreplication.factorï¼è®¾ç½®ååºå¯æ¬çä¸ªæ°ï¼>=3ï¼\n\nmin.insync.replicasï¼isrä¸ªæ°ï¼ä¹æ¯âå·²æäº¤âä¸ªæ°ï¼\n\nenable.auto.commit = falseï¼è®¾ç½®æ¶è´¹ç«¯æå¨ç§»ä½offsetï¼ä¸å¡èªå·±ä¿è¯å¹ç­æ§ã',charsets:{cjk:!0}},{title:"RabbitMQ",frontmatter:{title:"RabbitMQ",date:"2023-06-18T19:55:59.000Z",permalink:"/pages/2ca146/"},regularPath:"/01.Java/02.%E4%B8%AD%E9%97%B4%E4%BB%B6/03.RabbitMQ.html",relativePath:"01.Java/02.ä¸­é´ä»¶/03.RabbitMQ.md",key:"v-262abfa1",path:"/pages/2ca146/",headers:[{level:2,title:"å·¥ä½æ¨¡å¼",slug:"å·¥ä½æ¨¡å¼",normalizedTitle:"å·¥ä½æ¨¡å¼",charIndex:2},{level:2,title:"æ¶æ¯å¯é æ§",slug:"æ¶æ¯å¯é æ§",normalizedTitle:"æ¶æ¯å¯é æ§",charIndex:492},{level:3,title:"çäº§è",slug:"çäº§è",normalizedTitle:"çäº§è",charIndex:15},{level:3,title:"æä¹å",slug:"æä¹å",normalizedTitle:"æä¹å",charIndex:1724},{level:3,title:"æ¶è´¹è",slug:"æ¶è´¹è",normalizedTitle:"æ¶è´¹è",charIndex:24},{level:3,title:"æ¶è´¹ç«¯éæµ",slug:"æ¶è´¹ç«¯éæµ",normalizedTitle:"æ¶è´¹ç«¯éæµ",charIndex:3054},{level:3,title:"TTL",slug:"ttl",normalizedTitle:"ttl",charIndex:3078},{level:3,title:"æ­»ä¿¡éå",slug:"æ­»ä¿¡éå",normalizedTitle:"æ­»ä¿¡éå",charIndex:3164},{level:3,title:"å»¶è¿éå",slug:"å»¶è¿éå",normalizedTitle:"å»¶è¿éå",charIndex:3287},{level:3,title:"æ¶æ¯å¯é æ§ä¿é-æ¶æ¯è¡¥å¿",slug:"æ¶æ¯å¯é æ§ä¿é-æ¶æ¯è¡¥å¿",normalizedTitle:"æ¶æ¯å¯é æ§ä¿é-æ¶æ¯è¡¥å¿",charIndex:3314},{level:3,title:"æ¶æ¯å¹ç­æ§ä¿é",slug:"æ¶æ¯å¹ç­æ§ä¿é",normalizedTitle:"æ¶æ¯å¹ç­æ§ä¿é",charIndex:3333}],headersStr:"å·¥ä½æ¨¡å¼ æ¶æ¯å¯é æ§ çäº§è æä¹å æ¶è´¹è æ¶è´¹ç«¯éæµ TTL æ­»ä¿¡éå å»¶è¿éå æ¶æ¯å¯é æ§ä¿é-æ¶æ¯è¡¥å¿ æ¶æ¯å¹ç­æ§ä¿é",content:'# å·¥ä½æ¨¡å¼\n\n\n\n * Pï¼çäº§è\n * Cï¼æ¶è´¹è\n * Queueï¼æ¶æ¯éå\n * Exchangeï¼äº¤æ¢æº\n   * Fanoutï¼å¹¿æ­\n   * Directï¼å®åï¼ææ¶æ¯äº¤ç»æå®routing keyçéå\n   * Topicï¼ééç¬¦ï¼ææ¶æ¯äº¤ç»ç¬¦årouting patternï¼è·¯ç±æ¨¡å¼ï¼çéå\n\n// Fanout: routingKey = ""\n// Direct: routingKey = "str"\n// Topic:  routingKey = "str.#"\n\n@Bean\npublic Binding bindQueueExchange(@Qualifier("bootQueue") Queue queue,\n                                 @Qualifier("bootExchange") Exchange exchange) {\n    return BindingBuilder.*bind*(queue).to(exchange).with(routingKey).noargs();\n}\n\n\n\n# æ¶æ¯å¯é æ§\n\n * confirm ç¡®è®¤æ¨¡å¼\n * return éåæ¨¡å¼\n\næ¶æ¯ä»producerå°exchangeï¼ä¼è¿åä¸ä¸ªconfirmCallbackã\n\næ¶æ¯ä»exchangeå°Queueæéå¤±è´¥ï¼ä¼è¿åä¸ä¸ªreturnCallbackã\n\n\n# çäº§è\n\n    @Resource\n    private RabbitTemplate rabbitTemplate;\n\n    @Test\n    void testProducer() throws InterruptedException {\n        rabbitTemplate.setConfirmCallback(new RabbitTemplate.ConfirmCallback() {\n            @Override\n            public void confirm(CorrelationData correlationData, boolean ack, String cause) {\n                System.out.println("confirm æ§è¡äº");\n                if (ack){\n                    System.out.println(correlationData + "æ¶æ¯æéæå" + cause);\n                }\n                else{\n                    System.out.println(correlationData + "æ¶æ¯æéå¤±è´¥" + cause);\n                }\n            }\n        });\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnsCallback(new RabbitTemplate.ReturnsCallback() {\n            @Override\n            public void returnedMessage(ReturnedMessage returned) {\n                System.out.println("æ¶æ¯è·¯ç±å°æ¶æ¯éåå¤±è´¥"+returned);\n            }\n        });\n        rabbitTemplate.convertAndSend( "boot_topic_exchange","boot1111.hahah", "boot mq hello!!!", new CorrelationData("1"));\n        Thread.sleep(1000);\n    }\n\n\n\n# æä¹å\n\n@Configuration\npublic class RabbitConfig {\n    private static final String EXCHANGE_NAME = "boot_topic_exchange";\n    private static final String QUEUE_NAME = "boot_queue";\n\n    @Bean("bootExchange")\n    public Exchange bootExchange() {\n        return ExchangeBuilder.topicExchange(EXCHANGE_NAME).durable(true).build();\n    }\n\n    @Bean("bootQueue")\n    public Queue bootQueue() {\n        return QueueBuilder.durable(QUEUE_NAME).build();\n    }\n\n    @Bean\n    public Binding bindQueueExchange(@Qualifier("bootQueue") Queue queue,\n                                     @Qualifier("bootExchange") Exchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with("boot.#").noargs();\n    }\n\n\n}\n\n\n\n\n# æ¶è´¹è\n\n@Component\npublic class ConsumerListener {\n\n    @RabbitListener(queues = "boot_queue")\n    public void ListenerQueue(Message message, Channel channel) throws IOException, InterruptedException {\n        Thread.sleep(1000);\n        long deliveryTag = message.getMessageProperties().getDeliveryTag();\n        try {\n            System.out.println(new String(message.getBody()));\n            int a = 1/0;\n            channel.basicAck(deliveryTag, true);\n            System.out.println("message confirm.");\n        }catch (Exception e){\n            channel.basicNack(deliveryTag, true, true);\n        }\n    }\n}\n\n\n\n# æ¶è´¹ç«¯éæµ\n\néç½®prefetchå±æ§\n\n\n# TTL\n\nTime To Live\n\nexpirationï¼è®¾ç½®æ¶æ¯å°è¾¾å­æ´»æ¶é´åï¼è¿æ²¡æè¢«æ¶è´¹ï¼ä¼èªå¨è¢«æ¸é¤ã\n\nx-message-ttlï¼å¯¹éåè®¾ç½®TTLã\n\n\n# æ­»ä¿¡éå\n\næ¶æ¯æä¸ºæ­»ä¿¡çä¸ç§æåµï¼\n\n * éåæ¶æ¯é¿åº¦å°è¾¾éå¶\n * æ¶è´¹èææ¶æ¶æ¯ï¼å¹¶ä¸ä¸æåæ¶æ¯æ¾å°åæ¶æ¯ï¼requeue = false\n * æ¶æ¯å°äºè¿ææ¶é´\n\næ­»ä¿¡äº¤æ¢æºåæ®éçäº¤æ¢æºæ²¡åºå«ï¼åæ ·ä¹å¯ä»¥è·¯ç±å°ç»å®çéåä¸­ã\n\n\n# å»¶è¿éå\n\næ¶æ¯è¿å¥éååä¸ä¼ç«å³è¢«æ¶è´¹\n\n\n\n\n# æ¶æ¯å¯é æ§ä¿é-æ¶æ¯è¡¥å¿\n\n\n\n\n# æ¶æ¯å¹ç­æ§ä¿é\n\nä¹è§éï¼æ°æ®åºä¸­å ä¸ä¸ªå­æ®µï¼version',normalizedContent:'# å·¥ä½æ¨¡å¼\n\n\n\n * pï¼çäº§è\n * cï¼æ¶è´¹è\n * queueï¼æ¶æ¯éå\n * exchangeï¼äº¤æ¢æº\n   * fanoutï¼å¹¿æ­\n   * directï¼å®åï¼ææ¶æ¯äº¤ç»æå®routing keyçéå\n   * topicï¼ééç¬¦ï¼ææ¶æ¯äº¤ç»ç¬¦årouting patternï¼è·¯ç±æ¨¡å¼ï¼çéå\n\n// fanout: routingkey = ""\n// direct: routingkey = "str"\n// topic:  routingkey = "str.#"\n\n@bean\npublic binding bindqueueexchange(@qualifier("bootqueue") queue queue,\n                                 @qualifier("bootexchange") exchange exchange) {\n    return bindingbuilder.*bind*(queue).to(exchange).with(routingkey).noargs();\n}\n\n\n\n# æ¶æ¯å¯é æ§\n\n * confirm ç¡®è®¤æ¨¡å¼\n * return éåæ¨¡å¼\n\næ¶æ¯ä»producerå°exchangeï¼ä¼è¿åä¸ä¸ªconfirmcallbackã\n\næ¶æ¯ä»exchangeå°queueæéå¤±è´¥ï¼ä¼è¿åä¸ä¸ªreturncallbackã\n\n\n# çäº§è\n\n    @resource\n    private rabbittemplate rabbittemplate;\n\n    @test\n    void testproducer() throws interruptedexception {\n        rabbittemplate.setconfirmcallback(new rabbittemplate.confirmcallback() {\n            @override\n            public void confirm(correlationdata correlationdata, boolean ack, string cause) {\n                system.out.println("confirm æ§è¡äº");\n                if (ack){\n                    system.out.println(correlationdata + "æ¶æ¯æéæå" + cause);\n                }\n                else{\n                    system.out.println(correlationdata + "æ¶æ¯æéå¤±è´¥" + cause);\n                }\n            }\n        });\n        rabbittemplate.setmandatory(true);\n        rabbittemplate.setreturnscallback(new rabbittemplate.returnscallback() {\n            @override\n            public void returnedmessage(returnedmessage returned) {\n                system.out.println("æ¶æ¯è·¯ç±å°æ¶æ¯éåå¤±è´¥"+returned);\n            }\n        });\n        rabbittemplate.convertandsend( "boot_topic_exchange","boot1111.hahah", "boot mq hello!!!", new correlationdata("1"));\n        thread.sleep(1000);\n    }\n\n\n\n# æä¹å\n\n@configuration\npublic class rabbitconfig {\n    private static final string exchange_name = "boot_topic_exchange";\n    private static final string queue_name = "boot_queue";\n\n    @bean("bootexchange")\n    public exchange bootexchange() {\n        return exchangebuilder.topicexchange(exchange_name).durable(true).build();\n    }\n\n    @bean("bootqueue")\n    public queue bootqueue() {\n        return queuebuilder.durable(queue_name).build();\n    }\n\n    @bean\n    public binding bindqueueexchange(@qualifier("bootqueue") queue queue,\n                                     @qualifier("bootexchange") exchange exchange) {\n        return bindingbuilder.bind(queue).to(exchange).with("boot.#").noargs();\n    }\n\n\n}\n\n\n\n\n# æ¶è´¹è\n\n@component\npublic class consumerlistener {\n\n    @rabbitlistener(queues = "boot_queue")\n    public void listenerqueue(message message, channel channel) throws ioexception, interruptedexception {\n        thread.sleep(1000);\n        long deliverytag = message.getmessageproperties().getdeliverytag();\n        try {\n            system.out.println(new string(message.getbody()));\n            int a = 1/0;\n            channel.basicack(deliverytag, true);\n            system.out.println("message confirm.");\n        }catch (exception e){\n            channel.basicnack(deliverytag, true, true);\n        }\n    }\n}\n\n\n\n# æ¶è´¹ç«¯éæµ\n\néç½®prefetchå±æ§\n\n\n# ttl\n\ntime to live\n\nexpirationï¼è®¾ç½®æ¶æ¯å°è¾¾å­æ´»æ¶é´åï¼è¿æ²¡æè¢«æ¶è´¹ï¼ä¼èªå¨è¢«æ¸é¤ã\n\nx-message-ttlï¼å¯¹éåè®¾ç½®ttlã\n\n\n# æ­»ä¿¡éå\n\næ¶æ¯æä¸ºæ­»ä¿¡çä¸ç§æåµï¼\n\n * éåæ¶æ¯é¿åº¦å°è¾¾éå¶\n * æ¶è´¹èææ¶æ¶æ¯ï¼å¹¶ä¸ä¸æåæ¶æ¯æ¾å°åæ¶æ¯ï¼requeue = false\n * æ¶æ¯å°äºè¿ææ¶é´\n\næ­»ä¿¡äº¤æ¢æºåæ®éçäº¤æ¢æºæ²¡åºå«ï¼åæ ·ä¹å¯ä»¥è·¯ç±å°ç»å®çéåä¸­ã\n\n\n# å»¶è¿éå\n\næ¶æ¯è¿å¥éååä¸ä¼ç«å³è¢«æ¶è´¹\n\n\n\n\n# æ¶æ¯å¯é æ§ä¿é-æ¶æ¯è¡¥å¿\n\n\n\n\n# æ¶æ¯å¹ç­æ§ä¿é\n\nä¹è§éï¼æ°æ®åºä¸­å ä¸ä¸ªå­æ®µï¼version',charsets:{cjk:!0}},{title:"åå¸å¼äºå¡",frontmatter:{title:"åå¸å¼äºå¡",date:"2023-03-01T09:00:17.000Z",permalink:"/pages/7c79c1/"},regularPath:"/01.Java/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/02.Seata.html",relativePath:"01.Java/03.å¾®æå¡/02.Seata.md",key:"v-6f2e8e58",path:"/pages/7c79c1/",headers:[{level:2,title:"æ¬å°äºå¡",slug:"æ¬å°äºå¡",normalizedTitle:"æ¬å°äºå¡",charIndex:2},{level:2,title:"åå¸å¼äºå¡",slug:"åå¸å¼äºå¡",normalizedTitle:"åå¸å¼äºå¡",charIndex:126},{level:3,title:"CAPå®ç",slug:"capå®ç",normalizedTitle:"capå®ç",charIndex:162},{level:3,title:"BASEçè®º",slug:"baseçè®º",normalizedTitle:"baseçè®º",charIndex:443},{level:2,title:"Seata",slug:"seata",normalizedTitle:"seata",charIndex:725},{level:3,title:"XAæ¨¡å¼",slug:"xaæ¨¡å¼",normalizedTitle:"xaæ¨¡å¼",charIndex:1028},{level:3,title:"ATæ¨¡å¼",slug:"atæ¨¡å¼",normalizedTitle:"atæ¨¡å¼",charIndex:1096},{level:4,title:"ATä¸XAçåºå«",slug:"atä¸xaçåºå«",normalizedTitle:"atä¸xaçåºå«",charIndex:1361},{level:4,title:"ATèåé®é¢",slug:"atèåé®é¢",normalizedTitle:"atèåé®é¢",charIndex:1477},{level:3,title:"TCCæ¨¡å¼",slug:"tccæ¨¡å¼",normalizedTitle:"tccæ¨¡å¼",charIndex:1066},{level:4,title:"ç©ºåæ»",slug:"ç©ºåæ»",normalizedTitle:"ç©ºåæ»",charIndex:1863},{level:4,title:"ä¸å¡æ¬æ",slug:"ä¸å¡æ¬æ",normalizedTitle:"ä¸å¡æ¬æ",charIndex:2001},{level:3,title:"SAGAæ¨¡å¼",slug:"sagaæ¨¡å¼",normalizedTitle:"sagaæ¨¡å¼",charIndex:1138}],headersStr:"æ¬å°äºå¡ åå¸å¼äºå¡ CAPå®ç BASEçè®º Seata XAæ¨¡å¼ ATæ¨¡å¼ ATä¸XAçåºå« ATèåé®é¢ TCCæ¨¡å¼ ç©ºåæ» ä¸å¡æ¬æ SAGAæ¨¡å¼",content:"# æ¬å°äºå¡\n\næ»¡è¶³æ°æ®åºä¸­çACID\n\n * åå­æ§ï¼äºå¡ä¸­çæææä½ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥\n * ä¸è´æ§ï¼è¦ä¿è¯æ°æ®åºåé¨å®æ´æ§ï¼æ»¡è¶³çº¦æ\n * éç¦»æ§ï¼å¯¹åä¸èµæºæä½çäºå¡ä¸è½åæ¶åç\n * æä¹æ§ï¼å¯¹æ°æ®åºåçä¸åä¿®æ¹å°æ°¸ä¹ä¿å­\n\n\n# åå¸å¼äºå¡\n\nä¸æ¯å¨åä¸ªæå¡æåä¸ªæ°æ®åºæ¶æä¸ï¼äº§ççäºå¡\n\n\n\n\n# CAPå®ç\n\n>  * Consistencyï¼ä¸è´æ§ï¼ï¼ç¨æ·è®¿é®åå¸å¼ç³»ç»ä¸­çä»»æèç¹ï¼å¾å°çæ°æ®å¿é¡»ä¸è´ã\n> \n>  * Availabilityï¼å¯ç¨æ§ï¼ï¼ç¨æ·è®¿é®éç¾¤ä¸­ä»»æå¥åº·èç¹ï¼å¿é¡»å¾å°ååºã\n> \n>  * Partition tolerance ï¼ååºå®¹éæ§ï¼ï¼å ä¸ºç½ç»æéï¼åå¸å¼ç³»ç»åé¨å½¢æå¤ä¸ªååºï¼ä¹è¦å¯¹å¤æä¾æå¡ã\n\n\n\nçç¾\n\nå¦æä¿è¯ä¸è´æ§ï¼åå¯ç¨æ§ï¼é£ä¹å½åå¸å¼ç³»ç»ä¸­å ä¸ºç½ç»åå ï¼æçèç¹æ æ³éä¿¡ï¼é£ä¹å°±ä¼å¯¼è´èç¹ä¹é´æ°æ®ä¸åæ­¥ï¼å¦æè®©æ°æ®ä¸åæ­¥çèç¹ä¸è½è®¿é®ï¼é£ä¹å°±ä¸æ»¡è¶³å¯ç¨æ§ï¼å¦æè®©ä»è½è®¿é®ï¼é£ä¹å°±ä¸æ»¡è¶³ä¸è´æ§ã\n\n\n# BASEçè®º\n\n>  * Basically Available ï¼åºæ¬å¯ç¨ï¼ï¼åå¸å¼ç³»ç»å¨åºç°æéæ¶ï¼åè®¸æå¤±é¨åå¯ç¨æ§ï¼å³ä¿è¯æ ¸å¿å¯ç¨ã\n>  * **Soft Stateï¼è½¯ç¶æï¼ï¼**å¨ä¸å®æ¶é´åï¼åè®¸åºç°ä¸­é´ç¶æï¼æ¯å¦ä¸´æ¶çä¸ä¸è´ç¶æã\n>  * Eventually Consistentï¼æç»ä¸è´æ§ï¼ï¼è½ç¶æ æ³ä¿è¯å¼ºä¸è´æ§ï¼ä½æ¯å¨è½¯ç¶æç»æåï¼æç»è¾¾å°æ°æ®ä¸è´ã\n\nAPæ¨¡å¼ï¼åå­äºå¡åå«æ§è¡åæäº¤ï¼åè®¸åºç°ç»æä¸ä¸è´ï¼ç¶åéåå¼¥è¡¥æªæ½æ¢å¤æ°æ®å³å¯ï¼å®ç°æç»ä¸è´æ§ã\n\nCPæ¨¡å¼ï¼åä¸ªå­äºå¡æ§è¡åäºç¸ç­å¾ï¼åæ¶æäº¤ï¼åæ¶åæ»ï¼è¾¾æå¼ºä¸è´æ§ã\n\n\n# Seata\n\nSeataäºå¡ç®¡çä¸­æä¸ä¸ªéè¦çè§è²ï¼\n\n>  * TC (Transaction Coordinator) - **äºå¡åè°èï¼**ç»´æ¤å¨å±ååæ¯äºå¡çç¶æï¼åè°å¨å±äºå¡æäº¤æåæ»ã\n> \n>  * TM (Transaction Manager) - **äºå¡ç®¡çå¨ï¼**å®ä¹å¨å±äºå¡çèå´ãå¼å§å¨å±äºå¡ãæäº¤æåæ»å¨å±äºå¡ã\n> \n>  * RM (Resource Manager) - **èµæºç®¡çå¨ï¼**ç®¡çåæ¯äºå¡å¤ççèµæºï¼ä¸TCäº¤è°ä»¥æ³¨ååæ¯äºå¡åæ¥ååæ¯äºå¡çç¶æï¼å¹¶é©±å¨åæ¯äºå¡æäº¤æåæ»ã\n\n\n\nSeataåºäºä¸è¿°æ¶ææä¾äºåç§ä¸åçåå¸å¼äºå¡è§£å³æ¹æ¡ï¼\n\n>  * XAæ¨¡å¼ï¼å¼ºä¸è´æ§åé¶æ®µäºå¡æ¨¡å¼ï¼çºç²äºä¸å®çå¯ç¨æ§ï¼æ ä¸å¡ä¾µå¥\n>  * TCCæ¨¡å¼ï¼æç»ä¸è´çåé¶æ®µäºå¡æ¨¡å¼ï¼æä¸å¡ä¾µå¥\n>  * ATæ¨¡å¼ï¼æç»ä¸è´çåé¶æ®µäºå¡æ¨¡å¼ï¼æ ä¸å¡ä¾µå¥ï¼ä¹æ¯Seataçé»è®¤æ¨¡å¼\n>  * SAGAæ¨¡å¼ï¼é¿äºå¡æ¨¡å¼ï¼æä¸å¡ä¾µå¥\n\n\n# XAæ¨¡å¼\n\nä¸¤é¶æ®µæäº¤\n\nä¸é¶æ®µï¼\n\n * äºå¡åè°èéç¥æ¯ä¸ªäºç©åä¸èæ§è¡æ¬å°äºå¡\n * æ¬å°äºå¡æ§è¡å®æåæ¥åäºå¡æ§è¡ç¶æç»äºå¡åè°èï¼æ­¤æ¶äºå¡ä¸æäº¤ï¼ç»§ç»­æææ°æ®åºé\n\näºé¶æ®µï¼\n\n * äºå¡åè°èåºäºä¸é¶æ®µçæ¥åæ¥å¤æ­ä¸ä¸æ­¥æä½\n   * å¦æä¸é¶æ®µé½æåï¼åéç¥ææäºå¡åä¸èï¼æäº¤äºå¡\n   * å¦æä¸é¶æ®µä»»æä¸ä¸ªåä¸èå¤±è´¥ï¼åéç¥ææäºå¡åä¸èåæ»äºå¡\n\n\n\n\n# ATæ¨¡å¼\n\n\n\n# ATä¸XAçåºå«\n\n>  * XAæ¨¡å¼ä¸é¶æ®µä¸æäº¤äºå¡ï¼éå®èµæºï¼ATæ¨¡å¼ä¸é¶æ®µç´æ¥æäº¤ï¼ä¸éå®èµæºã\n>  * XAæ¨¡å¼ä¾èµæ°æ®åºæºå¶å®ç°åæ»ï¼ATæ¨¡å¼å©ç¨æ°æ®å¿«ç§å®ç°æ°æ®åæ»ã\n>  * XAæ¨¡å¼å¼ºä¸è´ï¼ATæ¨¡å¼æç»ä¸è´\n\n# ATèåé®é¢\n\n\n\nè§£å³æè·¯å°±æ¯å¼å¥äºå¨å±éçæ¦å¿µãå¨éæ¾DBéä¹åï¼åæ¿å°å¨å±éãé¿ååä¸æ¶å»æå¦å¤ä¸ä¸ªäºå¡æ¥æä½å½åæ°æ®ã\n\n\n\n\n# TCCæ¨¡å¼\n\n>  * Tryï¼èµæºçæ£æµåé¢çï¼\n> \n>  * Confirmï¼å®æèµæºæä½ä¸å¡ï¼è¦æ± Try æå Confirm ä¸å®è¦è½æåã\n> \n>  * Cancelï¼é¢çèµæºéæ¾ï¼å¯ä»¥çè§£ä¸ºtryçååæä½ã\n\n\n\nTCCçä¼ç¹\n\n * ä¸é¶æ®µå®æç´æ¥æäº¤äºå¡ï¼éæ¾æ°æ®åºèµæºï¼æ§è½å¥½\n * ç¸æ¯ATæ¨¡åï¼æ éçæå¿«ç§ï¼æ éä½¿ç¨å¨å±éï¼æ§è½æå¼º\n * ä¸ä¾èµæ°æ®åºäºå¡ï¼èæ¯ä¾èµè¡¥å¿æä½ï¼å¯ä»¥ç¨äºéäºå¡åæ°æ®åº\n\nTCCçç¼ºç¹\n\n * æä»£ç ä¾µå¥ï¼éè¦äººä¸ºç¼åtryãConfirmåCancelæ¥å£ï¼å¤ªéº»ç¦\n * è½¯ç¶æï¼äºå¡æ¯æç»ä¸è´\n * éè¦èèConfirmåCancelçå¤±è´¥æåµï¼åå¥½å¹ç­å¤ç\n\n# ç©ºåæ»\n\nå½æåæ¯äºå¡çtryé¶æ®µé»å¡æ¶ï¼å¯è½å¯¼è´å¨å±äºå¡è¶æ¶èè§¦åäºé¶æ®µçcancelæä½ãå¨æªæ§è¡tryæä½æ¶åæ§è¡äºcancelæä½ï¼è¿æ¶cancelä¸è½ååæ»ï¼å°±æ¯ç©ºåæ»ã\n\næ§è¡cancelæä½æ¶ï¼åºå½å¤æ­tryæ¯å¦å·²ç»æ§è¡ï¼å¦æå°æªæ§è¡ï¼ååºè¯¥ç©ºåæ»ã\n\n\n\n# ä¸å¡æ¬æ\n\nå¯¹äºå·²ç»ç©ºåæ»çä¸å¡ï¼ä¹åè¢«é»å¡çtryæä½æ¢å¤ï¼ç»§ç»­æ§è¡tryï¼å°±æ°¸è¿ä¸å¯è½confirmæcancel ï¼äºå¡ä¸ç´å¤äºä¸­é´ç¶æï¼è¿å°±æ¯ä¸å¡æ¬æã\n\næ§è¡tryæä½æ¶ï¼åºå½å¤æ­cancelæ¯å¦å·²ç»æ§è¡è¿äºï¼å¦æå·²ç»æ§è¡ï¼åºå½é»æ­¢ç©ºåæ»åçtryæä½ï¼é¿åæ¬æ\n\n\n# SAGAæ¨¡å¼\n\nåå¸å¼äºå¡åæå¤ä¸ªåä¸èï¼éè¦ç¨æ·æ ¹æ®ä¸å¡åºæ¯å®ç°å¶æ­£åæä½åéååæ»æä½ã\n\nSagaä¹åä¸ºä¸¤ä¸ªé¶æ®µï¼\n\n * ä¸é¶æ®µï¼ç´æ¥æäº¤æ¬å°äºå¡\n * äºé¶æ®µï¼æååä»ä¹é½ä¸åï¼å¤±è´¥åéè¿ç¼åè¡¥å¿ä¸å¡æ¥åæ»",normalizedContent:"# æ¬å°äºå¡\n\næ»¡è¶³æ°æ®åºä¸­çacid\n\n * åå­æ§ï¼äºå¡ä¸­çæææä½ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥\n * ä¸è´æ§ï¼è¦ä¿è¯æ°æ®åºåé¨å®æ´æ§ï¼æ»¡è¶³çº¦æ\n * éç¦»æ§ï¼å¯¹åä¸èµæºæä½çäºå¡ä¸è½åæ¶åç\n * æä¹æ§ï¼å¯¹æ°æ®åºåçä¸åä¿®æ¹å°æ°¸ä¹ä¿å­\n\n\n# åå¸å¼äºå¡\n\nä¸æ¯å¨åä¸ªæå¡æåä¸ªæ°æ®åºæ¶æä¸ï¼äº§ççäºå¡\n\n\n\n\n# capå®ç\n\n>  * consistencyï¼ä¸è´æ§ï¼ï¼ç¨æ·è®¿é®åå¸å¼ç³»ç»ä¸­çä»»æèç¹ï¼å¾å°çæ°æ®å¿é¡»ä¸è´ã\n> \n>  * availabilityï¼å¯ç¨æ§ï¼ï¼ç¨æ·è®¿é®éç¾¤ä¸­ä»»æå¥åº·èç¹ï¼å¿é¡»å¾å°ååºã\n> \n>  * partition tolerance ï¼ååºå®¹éæ§ï¼ï¼å ä¸ºç½ç»æéï¼åå¸å¼ç³»ç»åé¨å½¢æå¤ä¸ªååºï¼ä¹è¦å¯¹å¤æä¾æå¡ã\n\n\n\nçç¾\n\nå¦æä¿è¯ä¸è´æ§ï¼åå¯ç¨æ§ï¼é£ä¹å½åå¸å¼ç³»ç»ä¸­å ä¸ºç½ç»åå ï¼æçèç¹æ æ³éä¿¡ï¼é£ä¹å°±ä¼å¯¼è´èç¹ä¹é´æ°æ®ä¸åæ­¥ï¼å¦æè®©æ°æ®ä¸åæ­¥çèç¹ä¸è½è®¿é®ï¼é£ä¹å°±ä¸æ»¡è¶³å¯ç¨æ§ï¼å¦æè®©ä»è½è®¿é®ï¼é£ä¹å°±ä¸æ»¡è¶³ä¸è´æ§ã\n\n\n# baseçè®º\n\n>  * basically available ï¼åºæ¬å¯ç¨ï¼ï¼åå¸å¼ç³»ç»å¨åºç°æéæ¶ï¼åè®¸æå¤±é¨åå¯ç¨æ§ï¼å³ä¿è¯æ ¸å¿å¯ç¨ã\n>  * **soft stateï¼è½¯ç¶æï¼ï¼**å¨ä¸å®æ¶é´åï¼åè®¸åºç°ä¸­é´ç¶æï¼æ¯å¦ä¸´æ¶çä¸ä¸è´ç¶æã\n>  * eventually consistentï¼æç»ä¸è´æ§ï¼ï¼è½ç¶æ æ³ä¿è¯å¼ºä¸è´æ§ï¼ä½æ¯å¨è½¯ç¶æç»æåï¼æç»è¾¾å°æ°æ®ä¸è´ã\n\napæ¨¡å¼ï¼åå­äºå¡åå«æ§è¡åæäº¤ï¼åè®¸åºç°ç»æä¸ä¸è´ï¼ç¶åéåå¼¥è¡¥æªæ½æ¢å¤æ°æ®å³å¯ï¼å®ç°æç»ä¸è´æ§ã\n\ncpæ¨¡å¼ï¼åä¸ªå­äºå¡æ§è¡åäºç¸ç­å¾ï¼åæ¶æäº¤ï¼åæ¶åæ»ï¼è¾¾æå¼ºä¸è´æ§ã\n\n\n# seata\n\nseataäºå¡ç®¡çä¸­æä¸ä¸ªéè¦çè§è²ï¼\n\n>  * tc (transaction coordinator) - **äºå¡åè°èï¼**ç»´æ¤å¨å±ååæ¯äºå¡çç¶æï¼åè°å¨å±äºå¡æäº¤æåæ»ã\n> \n>  * tm (transaction manager) - **äºå¡ç®¡çå¨ï¼**å®ä¹å¨å±äºå¡çèå´ãå¼å§å¨å±äºå¡ãæäº¤æåæ»å¨å±äºå¡ã\n> \n>  * rm (resource manager) - **èµæºç®¡çå¨ï¼**ç®¡çåæ¯äºå¡å¤ççèµæºï¼ä¸tcäº¤è°ä»¥æ³¨ååæ¯äºå¡åæ¥ååæ¯äºå¡çç¶æï¼å¹¶é©±å¨åæ¯äºå¡æäº¤æåæ»ã\n\n\n\nseataåºäºä¸è¿°æ¶ææä¾äºåç§ä¸åçåå¸å¼äºå¡è§£å³æ¹æ¡ï¼\n\n>  * xaæ¨¡å¼ï¼å¼ºä¸è´æ§åé¶æ®µäºå¡æ¨¡å¼ï¼çºç²äºä¸å®çå¯ç¨æ§ï¼æ ä¸å¡ä¾µå¥\n>  * tccæ¨¡å¼ï¼æç»ä¸è´çåé¶æ®µäºå¡æ¨¡å¼ï¼æä¸å¡ä¾µå¥\n>  * atæ¨¡å¼ï¼æç»ä¸è´çåé¶æ®µäºå¡æ¨¡å¼ï¼æ ä¸å¡ä¾µå¥ï¼ä¹æ¯seataçé»è®¤æ¨¡å¼\n>  * sagaæ¨¡å¼ï¼é¿äºå¡æ¨¡å¼ï¼æä¸å¡ä¾µå¥\n\n\n# xaæ¨¡å¼\n\nä¸¤é¶æ®µæäº¤\n\nä¸é¶æ®µï¼\n\n * äºå¡åè°èéç¥æ¯ä¸ªäºç©åä¸èæ§è¡æ¬å°äºå¡\n * æ¬å°äºå¡æ§è¡å®æåæ¥åäºå¡æ§è¡ç¶æç»äºå¡åè°èï¼æ­¤æ¶äºå¡ä¸æäº¤ï¼ç»§ç»­æææ°æ®åºé\n\näºé¶æ®µï¼\n\n * äºå¡åè°èåºäºä¸é¶æ®µçæ¥åæ¥å¤æ­ä¸ä¸æ­¥æä½\n   * å¦æä¸é¶æ®µé½æåï¼åéç¥ææäºå¡åä¸èï¼æäº¤äºå¡\n   * å¦æä¸é¶æ®µä»»æä¸ä¸ªåä¸èå¤±è´¥ï¼åéç¥ææäºå¡åä¸èåæ»äºå¡\n\n\n\n\n# atæ¨¡å¼\n\n\n\n# atä¸xaçåºå«\n\n>  * xaæ¨¡å¼ä¸é¶æ®µä¸æäº¤äºå¡ï¼éå®èµæºï¼atæ¨¡å¼ä¸é¶æ®µç´æ¥æäº¤ï¼ä¸éå®èµæºã\n>  * xaæ¨¡å¼ä¾èµæ°æ®åºæºå¶å®ç°åæ»ï¼atæ¨¡å¼å©ç¨æ°æ®å¿«ç§å®ç°æ°æ®åæ»ã\n>  * xaæ¨¡å¼å¼ºä¸è´ï¼atæ¨¡å¼æç»ä¸è´\n\n# atèåé®é¢\n\n\n\nè§£å³æè·¯å°±æ¯å¼å¥äºå¨å±éçæ¦å¿µãå¨éæ¾dbéä¹åï¼åæ¿å°å¨å±éãé¿ååä¸æ¶å»æå¦å¤ä¸ä¸ªäºå¡æ¥æä½å½åæ°æ®ã\n\n\n\n\n# tccæ¨¡å¼\n\n>  * tryï¼èµæºçæ£æµåé¢çï¼\n> \n>  * confirmï¼å®æèµæºæä½ä¸å¡ï¼è¦æ± try æå confirm ä¸å®è¦è½æåã\n> \n>  * cancelï¼é¢çèµæºéæ¾ï¼å¯ä»¥çè§£ä¸ºtryçååæä½ã\n\n\n\ntccçä¼ç¹\n\n * ä¸é¶æ®µå®æç´æ¥æäº¤äºå¡ï¼éæ¾æ°æ®åºèµæºï¼æ§è½å¥½\n * ç¸æ¯atæ¨¡åï¼æ éçæå¿«ç§ï¼æ éä½¿ç¨å¨å±éï¼æ§è½æå¼º\n * ä¸ä¾èµæ°æ®åºäºå¡ï¼èæ¯ä¾èµè¡¥å¿æä½ï¼å¯ä»¥ç¨äºéäºå¡åæ°æ®åº\n\ntccçç¼ºç¹\n\n * æä»£ç ä¾µå¥ï¼éè¦äººä¸ºç¼åtryãconfirmåcancelæ¥å£ï¼å¤ªéº»ç¦\n * è½¯ç¶æï¼äºå¡æ¯æç»ä¸è´\n * éè¦èèconfirmåcancelçå¤±è´¥æåµï¼åå¥½å¹ç­å¤ç\n\n# ç©ºåæ»\n\nå½æåæ¯äºå¡çtryé¶æ®µé»å¡æ¶ï¼å¯è½å¯¼è´å¨å±äºå¡è¶æ¶èè§¦åäºé¶æ®µçcancelæä½ãå¨æªæ§è¡tryæä½æ¶åæ§è¡äºcancelæä½ï¼è¿æ¶cancelä¸è½ååæ»ï¼å°±æ¯ç©ºåæ»ã\n\næ§è¡cancelæä½æ¶ï¼åºå½å¤æ­tryæ¯å¦å·²ç»æ§è¡ï¼å¦æå°æªæ§è¡ï¼ååºè¯¥ç©ºåæ»ã\n\n\n\n# ä¸å¡æ¬æ\n\nå¯¹äºå·²ç»ç©ºåæ»çä¸å¡ï¼ä¹åè¢«é»å¡çtryæä½æ¢å¤ï¼ç»§ç»­æ§è¡tryï¼å°±æ°¸è¿ä¸å¯è½confirmæcancel ï¼äºå¡ä¸ç´å¤äºä¸­é´ç¶æï¼è¿å°±æ¯ä¸å¡æ¬æã\n\næ§è¡tryæä½æ¶ï¼åºå½å¤æ­cancelæ¯å¦å·²ç»æ§è¡è¿äºï¼å¦æå·²ç»æ§è¡ï¼åºå½é»æ­¢ç©ºåæ»åçtryæä½ï¼é¿åæ¬æ\n\n\n# sagaæ¨¡å¼\n\nåå¸å¼äºå¡åæå¤ä¸ªåä¸èï¼éè¦ç¨æ·æ ¹æ®ä¸å¡åºæ¯å®ç°å¶æ­£åæä½åéååæ»æä½ã\n\nsagaä¹åä¸ºä¸¤ä¸ªé¶æ®µï¼\n\n * ä¸é¶æ®µï¼ç´æ¥æäº¤æ¬å°äºå¡\n * äºé¶æ®µï¼æååä»ä¹é½ä¸åï¼å¤±è´¥åéè¿ç¼åè¡¥å¿ä¸å¡æ¥åæ»",charsets:{cjk:!0}},{title:"éæµ",frontmatter:{title:"éæµ",date:"2023-02-28T10:15:33.000Z",permalink:"/pages/526796/"},regularPath:"/01.Java/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/01.Sentinel.html",relativePath:"01.Java/03.å¾®æå¡/01.Sentinel.md",key:"v-d17c9944",path:"/pages/526796/",headers:[{level:2,title:"éªå´©é®é¢",slug:"éªå´©é®é¢",normalizedTitle:"éªå´©é®é¢",charIndex:2},{level:2,title:"Sentinel",slug:"sentinel",normalizedTitle:"sentinel",charIndex:382},{level:2,title:"éç¦»åéçº§",slug:"éç¦»åéçº§",normalizedTitle:"éç¦»åéçº§",charIndex:1020},{level:4,title:"éçº§",slug:"éçº§",normalizedTitle:"éçº§",charIndex:182},{level:4,title:"éç¦»",slug:"éç¦»",normalizedTitle:"éç¦»",charIndex:124},{level:4,title:"çæ­éçº§",slug:"çæ­éçº§",normalizedTitle:"çæ­éçº§",charIndex:1263}],headersStr:"éªå´©é®é¢ Sentinel éç¦»åéçº§ éçº§ éç¦» çæ­éçº§",content:"# éªå´©é®é¢\n\n\n\nå¾®æå¡è°ç¨é¾è·¯ä¸­çæä¸ªæå¡æéï¼å¼èµ·æ´ä¸ªé¾è·¯ä¸­çææå¾®æå¡é½ä¸å¯ç¨ï¼è¿å°±æ¯éªå´©ã\n\nè§£å³éªå´©é®é¢çå¸¸è§æ¹å¼ï¼\n\n * è¶æ¶å¤çï¼è®¾å®è¶æ¶æ¶é´ï¼è¯·æ±è¶è¿ä¸å®æ¶é´æ²¡æååºå°±è¿åéè¯¯æ¶æ¯ï¼ä¸ä¼æ ä¼æ­¢ç­å¾ãï¼ç¼è§£ä½ç¨ï¼\n\n\n\n * çº¿ç¨éç¦»ï¼æ¯ä¸ä¸ªæå¡å¼ä¸ä¸ªçº¿ç¨æ± ï¼åºå®æ¯ä¸ä¸ªæå¡çè¯·æ±æ°ï¼è¿æ ·ä¸ä¸ªæå¡æäºï¼ä¸ä¼å¯¼è´å¶å®æå¡çèµæºä¹èå°½ã\n\n\n\n * éçº§çæ­ï¼æ­è·¯å¨ç»è®¡æä¸ä¸ªæå¡ä¸­çè¿ç¨è°ç¨å¼å¸¸çæ¯ä¾ï¼å¦æè¶è¿ä¸ä¸ªéå¼ï¼é£ä¹å°±åæ­¢å®å¯¹å¶å®æå¡è¿è¡è¿ç¨è°ç¨ã\n\n\n\n * æµéæ§å¶ï¼ä»æºå¤´æ§å¶æµéå°è¿ä¸ªæå¡ï¼é¢é²æå¡ä¸æ¬¡æ§æ¥æ¶çè¯·æ±è¿å¤ã\n\n\n\næ»ç»\n\néæµæ¯å¯¹æå¡çä¿æ¤ï¼é¿åå ç¬é´é«å¹¶åæµéèå¯¼è´æå¡æéï¼è¿èé¿åéªå´©ãæ¯ä¸ç§é¢é²æªæ½ã\n\nè¶æ¶å¤çãçº¿ç¨éç¦»ãéçº§çæ­æ¯å¨é¨åæå¡æéæ¶ï¼å°æéæ§å¶å¨ä¸å®èå´ï¼é¿åéªå´©ãæ¯ä¸ç§è¡¥ææªæ½ã\n\n\n# Sentinel\n\néç¦»ç­ç¥ï¼\n\n * çº¿ç¨æ± éç¦»ï¼å¯¹æ¯ä¸ä¸ªæå¡åå»ºåç¬ä¸ä¸ªçº¿ç¨æ± \n\n * ä¿¡å·ééç¦»ï¼è§å®æ¯ä¸ªæå¡æå¤§æå ä¸ªçº¿ç¨ï¼ç¶ååå»åä¸ä¸ªçº¿ç¨æ± éæ¿çº¿ç¨ã\n\nä¸äºæå¿µ\n\n\n\n * åæºéå¼ï¼è®¾ç½®æä¸ªèµæºè¯·æ±çQPSæå¤§å¼ï¼è¶è¿é¨åè¿åæµéæ§å¶éè¯¯ã\n\n * æµæ§æ¨¡å¼ï¼\n   \n   * ç´æ¥\n   * å³èï¼å½/writeèµæºè®¿é®éè§¦åéå¼æ¶ï¼å°±ä¼å¯¹/readèµæºéæµï¼é¿åå½±å/writeèµæºãï¼ä¼åå¤ç/writeï¼\n   \n   \n   \n   * é¾è·¯ï¼\n\n> ä¾å¦æä¸¤æ¡è¯·æ±é¾è·¯ï¼\n> \n> /test1 --\x3e /common\n> \n> /test2 --\x3e /common\n> \n> å¦æåªå¸æç»è®¡ä»/test2è¿å¥å°/commonçè¯·æ±ï¼åå¯ä»¥è¿æ ·éç½®ï¼\n\n\n\n * æµæ§ææï¼\n   \n   * å¿«éå¤±è´¥ï¼è¾¾å°éå¼åï¼æ°çè¯·æ±ä¼è¢«ç«å³æç»å¹¶æåºFlowExceptionå¼å¸¸ãé»è®¤çå¤çæ¹å¼ã\n   * warm upï¼é¢ç­æ¨¡å¼ï¼åä¸ï¼ä½éå¼ä¼å¨æååï¼ä»ä¸ä¸ªè¾å°å¼éæ¸å¢å å°æå¤§éå¼ã\n   * æéç­å¾ï¼è®©ææçè¯·æ±æç§ååæ¬¡åºæéæ§è¡ï¼ä¸¤ä¸ªè¯·æ±çé´éä¸è½å°äºæå®æ¶é¿ãQPS = 5ï¼æå³çæ¯200mså¤çä¸ä¸ªéåä¸­çè¯·æ±ï¼timeout = 2000ï¼æå³çé¢æç­å¾æ¶é¿è¶è¿2000msçè¯·æ±ä¼è¢«æç»å¹¶æåºå¼å¸¸ã\n\n * ç­ç¹åæ°éæµï¼å¯è½é¨åååæ¯ç­ç¹ååï¼ä¾å¦ç§æååï¼æä»¬å¸æè¿é¨åååçQPSéå¶ä¸å¶å®ååä¸ä¸æ ·ï¼é«ä¸äºã\n\n\n# éç¦»åéçº§\n\n# éçº§\n\n * feignclientè¿ç¨è°ç¨å¤±è´¥éçº§\n * ç¼åéçº§æ¹æ³ï¼å®ç°FallbackFactoryæ¥å£ï¼å¹¶ç»springå®¹å¨ç®¡ç\n * å¨feignæ¥å£ä¸­çæ¹æ³å¤´æ·»å ä¸fallbackFactory\n\n\n\n# éç¦»\n\nçº¿ç¨æ± éç¦»ï¼ç»æ¯ä¸ªæå¡è°ç¨ä¸å¡åéä¸ä¸ªçº¿ç¨æ± ï¼å©ç¨çº¿ç¨æ± æ¬èº«å®ç°éç¦»ææã\n\nä¿¡å·ééç¦»ï¼ä¸åå»ºçº¿ç¨æ± ï¼èæ¯è®¡æ°å¨æ¨¡å¼ï¼è®°å½ä¸å¡ä½¿ç¨ççº¿ç¨æ°éï¼è¾¾å°ä¿¡å·éä¸éæ¶ï¼ç¦æ­¢æ°çè¯·æ±ã\n\nsentinelä¸­å¯ä»¥éç½®æ ¹æ®çº¿ç¨æ°æ¥æ§å¶è¯·æ±ã\n\n\n\n# çæ­éçº§\n\n * æ­è·¯å¨ç¶æ\n\n\n\n * æ¢è°ç¨ï¼RTè¶è¿500msçè°ç¨æ¯æ¢è°ç¨ï¼ç»è®¡æè¿10000msåçè¯·æ±ï¼å¦æè¯·æ±éè¶è¿10æ¬¡ï¼å¹¶ä¸æ¢è°ç¨æ¯ä¾ä¸ä½äº0.5ï¼åè§¦åçæ­ï¼çæ­æ¶é¿ä¸º5ç§ãç¶åè¿å¥half-openç¶æï¼æ¾è¡ä¸æ¬¡è¯·æ±åæµè¯ã\n\n\n\n * å¼å¸¸æ¯ä¾ï¼ç»è®¡æè¿1000msåçè¯·æ±ï¼å¦æè¯·æ±éè¶è¿10æ¬¡ï¼å¹¶ä¸å¼å¸¸æ¯ä¾ä¸ä½äº0.4ï¼åè§¦åçæ­ã\n\n\n\n * å¼å¸¸æ°ï¼ç»è®¡æè¿1000msåçè¯·æ±ï¼å¦æè¯·æ±éè¶è¿10æ¬¡ï¼å¹¶ä¸å¼å¸¸æ°ä¸ä½äº2æ¬¡ï¼åè§¦åçæ­ã\n\n\n\n * ææè§åï¼å¯¹è°ç¨æ¹çæ¥æºåæ§å¶ï¼æç½åååé»ååä¸¤ç§æ¹å¼ãæä»¬åè®¸è¯·æ±ä»gatewayå°order-serviceï¼ä¸åè®¸æµè§å¨è®¿é®order-serviceï¼é£ä¹ç½ååä¸­å°±è¦å¡«åç½å³çæ¥æºåç§°ï¼originï¼ã\n\n\n\n * è§åæä¹åï¼æ§å¶å°å°éç½®è§åæ¨éå°è¿ç¨éç½®ä¸­å¿ï¼ä¾å¦NacosãSentinelå®¢æ·ç«¯çå¬Nacosï¼è·åéç½®åæ´çæ¨éæ¶æ¯ï¼å®ææ¬å°éç½®æ´æ°ã\n\n",normalizedContent:"# éªå´©é®é¢\n\n\n\nå¾®æå¡è°ç¨é¾è·¯ä¸­çæä¸ªæå¡æéï¼å¼èµ·æ´ä¸ªé¾è·¯ä¸­çææå¾®æå¡é½ä¸å¯ç¨ï¼è¿å°±æ¯éªå´©ã\n\nè§£å³éªå´©é®é¢çå¸¸è§æ¹å¼ï¼\n\n * è¶æ¶å¤çï¼è®¾å®è¶æ¶æ¶é´ï¼è¯·æ±è¶è¿ä¸å®æ¶é´æ²¡æååºå°±è¿åéè¯¯æ¶æ¯ï¼ä¸ä¼æ ä¼æ­¢ç­å¾ãï¼ç¼è§£ä½ç¨ï¼\n\n\n\n * çº¿ç¨éç¦»ï¼æ¯ä¸ä¸ªæå¡å¼ä¸ä¸ªçº¿ç¨æ± ï¼åºå®æ¯ä¸ä¸ªæå¡çè¯·æ±æ°ï¼è¿æ ·ä¸ä¸ªæå¡æäºï¼ä¸ä¼å¯¼è´å¶å®æå¡çèµæºä¹èå°½ã\n\n\n\n * éçº§çæ­ï¼æ­è·¯å¨ç»è®¡æä¸ä¸ªæå¡ä¸­çè¿ç¨è°ç¨å¼å¸¸çæ¯ä¾ï¼å¦æè¶è¿ä¸ä¸ªéå¼ï¼é£ä¹å°±åæ­¢å®å¯¹å¶å®æå¡è¿è¡è¿ç¨è°ç¨ã\n\n\n\n * æµéæ§å¶ï¼ä»æºå¤´æ§å¶æµéå°è¿ä¸ªæå¡ï¼é¢é²æå¡ä¸æ¬¡æ§æ¥æ¶çè¯·æ±è¿å¤ã\n\n\n\næ»ç»\n\néæµæ¯å¯¹æå¡çä¿æ¤ï¼é¿åå ç¬é´é«å¹¶åæµéèå¯¼è´æå¡æéï¼è¿èé¿åéªå´©ãæ¯ä¸ç§é¢é²æªæ½ã\n\nè¶æ¶å¤çãçº¿ç¨éç¦»ãéçº§çæ­æ¯å¨é¨åæå¡æéæ¶ï¼å°æéæ§å¶å¨ä¸å®èå´ï¼é¿åéªå´©ãæ¯ä¸ç§è¡¥ææªæ½ã\n\n\n# sentinel\n\néç¦»ç­ç¥ï¼\n\n * çº¿ç¨æ± éç¦»ï¼å¯¹æ¯ä¸ä¸ªæå¡åå»ºåç¬ä¸ä¸ªçº¿ç¨æ± \n\n * ä¿¡å·ééç¦»ï¼è§å®æ¯ä¸ªæå¡æå¤§æå ä¸ªçº¿ç¨ï¼ç¶ååå»åä¸ä¸ªçº¿ç¨æ± éæ¿çº¿ç¨ã\n\nä¸äºæå¿µ\n\n\n\n * åæºéå¼ï¼è®¾ç½®æä¸ªèµæºè¯·æ±çqpsæå¤§å¼ï¼è¶è¿é¨åè¿åæµéæ§å¶éè¯¯ã\n\n * æµæ§æ¨¡å¼ï¼\n   \n   * ç´æ¥\n   * å³èï¼å½/writeèµæºè®¿é®éè§¦åéå¼æ¶ï¼å°±ä¼å¯¹/readèµæºéæµï¼é¿åå½±å/writeèµæºãï¼ä¼åå¤ç/writeï¼\n   \n   \n   \n   * é¾è·¯ï¼\n\n> ä¾å¦æä¸¤æ¡è¯·æ±é¾è·¯ï¼\n> \n> /test1 --\x3e /common\n> \n> /test2 --\x3e /common\n> \n> å¦æåªå¸æç»è®¡ä»/test2è¿å¥å°/commonçè¯·æ±ï¼åå¯ä»¥è¿æ ·éç½®ï¼\n\n\n\n * æµæ§ææï¼\n   \n   * å¿«éå¤±è´¥ï¼è¾¾å°éå¼åï¼æ°çè¯·æ±ä¼è¢«ç«å³æç»å¹¶æåºflowexceptionå¼å¸¸ãé»è®¤çå¤çæ¹å¼ã\n   * warm upï¼é¢ç­æ¨¡å¼ï¼åä¸ï¼ä½éå¼ä¼å¨æååï¼ä»ä¸ä¸ªè¾å°å¼éæ¸å¢å å°æå¤§éå¼ã\n   * æéç­å¾ï¼è®©ææçè¯·æ±æç§ååæ¬¡åºæéæ§è¡ï¼ä¸¤ä¸ªè¯·æ±çé´éä¸è½å°äºæå®æ¶é¿ãqps = 5ï¼æå³çæ¯200mså¤çä¸ä¸ªéåä¸­çè¯·æ±ï¼timeout = 2000ï¼æå³çé¢æç­å¾æ¶é¿è¶è¿2000msçè¯·æ±ä¼è¢«æç»å¹¶æåºå¼å¸¸ã\n\n * ç­ç¹åæ°éæµï¼å¯è½é¨åååæ¯ç­ç¹ååï¼ä¾å¦ç§æååï¼æä»¬å¸æè¿é¨åååçqpséå¶ä¸å¶å®ååä¸ä¸æ ·ï¼é«ä¸äºã\n\n\n# éç¦»åéçº§\n\n# éçº§\n\n * feignclientè¿ç¨è°ç¨å¤±è´¥éçº§\n * ç¼åéçº§æ¹æ³ï¼å®ç°fallbackfactoryæ¥å£ï¼å¹¶ç»springå®¹å¨ç®¡ç\n * å¨feignæ¥å£ä¸­çæ¹æ³å¤´æ·»å ä¸fallbackfactory\n\n\n\n# éç¦»\n\nçº¿ç¨æ± éç¦»ï¼ç»æ¯ä¸ªæå¡è°ç¨ä¸å¡åéä¸ä¸ªçº¿ç¨æ± ï¼å©ç¨çº¿ç¨æ± æ¬èº«å®ç°éç¦»ææã\n\nä¿¡å·ééç¦»ï¼ä¸åå»ºçº¿ç¨æ± ï¼èæ¯è®¡æ°å¨æ¨¡å¼ï¼è®°å½ä¸å¡ä½¿ç¨ççº¿ç¨æ°éï¼è¾¾å°ä¿¡å·éä¸éæ¶ï¼ç¦æ­¢æ°çè¯·æ±ã\n\nsentinelä¸­å¯ä»¥éç½®æ ¹æ®çº¿ç¨æ°æ¥æ§å¶è¯·æ±ã\n\n\n\n# çæ­éçº§\n\n * æ­è·¯å¨ç¶æ\n\n\n\n * æ¢è°ç¨ï¼rtè¶è¿500msçè°ç¨æ¯æ¢è°ç¨ï¼ç»è®¡æè¿10000msåçè¯·æ±ï¼å¦æè¯·æ±éè¶è¿10æ¬¡ï¼å¹¶ä¸æ¢è°ç¨æ¯ä¾ä¸ä½äº0.5ï¼åè§¦åçæ­ï¼çæ­æ¶é¿ä¸º5ç§ãç¶åè¿å¥half-openç¶æï¼æ¾è¡ä¸æ¬¡è¯·æ±åæµè¯ã\n\n\n\n * å¼å¸¸æ¯ä¾ï¼ç»è®¡æè¿1000msåçè¯·æ±ï¼å¦æè¯·æ±éè¶è¿10æ¬¡ï¼å¹¶ä¸å¼å¸¸æ¯ä¾ä¸ä½äº0.4ï¼åè§¦åçæ­ã\n\n\n\n * å¼å¸¸æ°ï¼ç»è®¡æè¿1000msåçè¯·æ±ï¼å¦æè¯·æ±éè¶è¿10æ¬¡ï¼å¹¶ä¸å¼å¸¸æ°ä¸ä½äº2æ¬¡ï¼åè§¦åçæ­ã\n\n\n\n * ææè§åï¼å¯¹è°ç¨æ¹çæ¥æºåæ§å¶ï¼æç½åååé»ååä¸¤ç§æ¹å¼ãæä»¬åè®¸è¯·æ±ä»gatewayå°order-serviceï¼ä¸åè®¸æµè§å¨è®¿é®order-serviceï¼é£ä¹ç½ååä¸­å°±è¦å¡«åç½å³çæ¥æºåç§°ï¼originï¼ã\n\n\n\n * è§åæä¹åï¼æ§å¶å°å°éç½®è§åæ¨éå°è¿ç¨éç½®ä¸­å¿ï¼ä¾å¦nacosãsentinelå®¢æ·ç«¯çå¬nacosï¼è·åéç½®åæ´çæ¨éæ¶æ¯ï¼å®ææ¬å°éç½®æ´æ°ã\n\n",charsets:{cjk:!0}},{title:"åå¸å¼ç¼å­",frontmatter:{title:"åå¸å¼ç¼å­",date:"2023-03-01T11:56:01.000Z",permalink:"/pages/566e96/"},regularPath:"/01.Java/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/03.Redis.html",relativePath:"01.Java/03.å¾®æå¡/03.Redis.md",key:"v-2489de58",path:"/pages/566e96/",headers:[{level:2,title:"Redisæä¹å",slug:"redisæä¹å",normalizedTitle:"redisæä¹å",charIndex:142},{level:3,title:"RDBæä¹å",slug:"rdbæä¹å",normalizedTitle:"rdbæä¹å",charIndex:155},{level:3,title:"AOFæä¹å",slug:"aofæä¹å",normalizedTitle:"aofæä¹å",charIndex:682},{level:2,title:"Redisä¸»ä»",slug:"redisä¸»ä»",normalizedTitle:"redisä¸»ä»",charIndex:763},{level:3,title:"å¨éåæ­¥",slug:"å¨éåæ­¥",normalizedTitle:"å¨éåæ­¥",charIndex:832},{level:3,title:"å¢éåæ­¥",slug:"å¢éåæ­¥",normalizedTitle:"å¢éåæ­¥",charIndex:1465},{level:2,title:"Rediså¨åµ",slug:"rediså¨åµ",normalizedTitle:"rediså¨åµ",charIndex:93},{level:3,title:"çæ§",slug:"çæ§",normalizedTitle:"çæ§",charIndex:1717},{level:3,title:"æéæ¢å¤",slug:"æéæ¢å¤",normalizedTitle:"æéæ¢å¤",charIndex:84},{level:2,title:"Redisåçéç¾¤",slug:"redisåçéç¾¤",normalizedTitle:"redisåçéç¾¤",charIndex:2594}],headersStr:"Redisæä¹å RDBæä¹å AOFæä¹å Redisä¸»ä» å¨éåæ­¥ å¢éåæ­¥ Rediså¨åµ çæ§ æéæ¢å¤ Redisåçéç¾¤",content:"åºäºRediséç¾¤è§£å³åæºRediså­å¨çé®é¢\n\n>  1. æ°æ®ä¸¢å¤±é®é¢ï¼å®ç°Redisæ°æ®æä¹å\n>  2. å¹¶åè½åé®é¢ï¼æ­å»ºä¸»ä»éç¾¤ï¼å®ç°è¯»ååç¦»\n>  3. æéæ¢å¤é®é¢ï¼å©ç¨Rediså¨åµï¼å®ç°å¥åº·æ£æµåèªå¨æ¢å¤\n>  4. å­å¨è½åé®é¢ï¼æ­å»ºåçéç¾¤ï¼å¨ææ©å®¹\n\n\n# Redisæä¹å\n\n\n# RDBæä¹å\n\nRDBå¨ç§°Redis Database Backup fileï¼Redisæ°æ®å¤ä»½æä»¶ï¼ï¼ä¹è¢«å«åRedisæ°æ®å¿«ç§ãç®åæ¥è¯´å°±æ¯æåå­ä¸­çæææ°æ®é½è®°å½å°ç£çä¸­ãå½Rediså®ä¾æééå¯åï¼ä»ç£çè¯»åå¿«ç§æä»¶ï¼æ¢å¤æ°æ®ãå¿«ç§æä»¶ç§°ä¸ºRDBæä»¶ï¼é»è®¤æ¯ä¿å­å¨å½åè¿è¡ç®å½ã\n\næ§è¡æ¶æº\n\n * æ§è¡saveå½ä»¤\n\nsaveå½ä»¤ä¼å¯¼è´ä¸»è¿ç¨æ§è¡RDBï¼è¿ä¸ªè¿ç¨ä¸­å¶å®ææå½ä»¤é½ä¼è¢«é»å¡ãåªæå¨æ°æ®è¿ç§»æ¶å¯è½ç¨å°ã\n\n * æ§è¡bgsaveå½ä»¤\n\nè¿ä¸ªå½ä»¤æ§è¡åä¼å¼å¯ç¬ç«è¿ç¨å®æRDBï¼ä¸»è¿ç¨å¯ä»¥æç»­å¤çç¨æ·è¯·æ±ï¼ä¸åå½±åã\n\n * Redisåæºæ¶\n\nRedisåæºæ¶ä¼æ§è¡ä¸æ¬¡saveå½ä»¤ï¼å®ç°RDBæä¹åã\n\n * è§¦åRDBæ¡ä»¶æ¶\n\nredis.conféç½®è§¦åRDBæºå¶ï¼å¯ä»¥éç½®å¤ä¹åæå¤å°ä¸ªkeyåçåæ´ï¼åæ§è¡bgsaveå½ä»¤\n\nbgsaveå¼å§æ¶ä¼forkä¸»è¿ç¨å¾å°å­è¿ç¨ï¼å­è¿ç¨å±äº«ä¸»è¿ç¨çåå­æ°æ®ãå®æforkåè¯»ååå­æ°æ®å¹¶åå¥ RDB æä»¶ã\n\nforkéç¨çæ¯copy-on-writeææ¯ï¼\n\n * å½ä¸»è¿ç¨æ§è¡è¯»æä½æ¶ï¼è®¿é®å±äº«åå­ï¼\n * å½ä¸»è¿ç¨æ§è¡åæä½æ¶ï¼åä¼æ·è´ä¸ä»½æ°æ®ï¼æ§è¡åæä½ã\n\n\n\n\n# AOFæä¹å\n\nAOFå¨ç§°ä¸ºAppend Only Fileï¼è¿½å æä»¶ï¼ãRediså¤ççæ¯ä¸ä¸ªåå½ä»¤é½ä¼è®°å½å¨AOFæä»¶ï¼å¯ä»¥çåæ¯å½ä»¤æ¥å¿æä»¶ã\n\n\n\n\n# Redisä¸»ä»\n\nåèç¹Redisçå¹¶åè½åæ¯æä¸éçï¼è¦è¿ä¸æ­¥æé«Redisçå¹¶åè½åï¼å°±éè¦æ­å»ºä¸»ä»éç¾¤ï¼å®ç°è¯»ååç¦»ã\n\n\n\n\n# å¨éåæ­¥\n\nä¸»ä»ç¬¬ä¸æ¬¡å»ºç«è¿æ¥æ¶ï¼ä¼æ§è¡å¨éåæ­¥ï¼å°masterèç¹çæææ°æ®é½æ·è´ç»slaveèç¹ï¼æµç¨ï¼\n\n\n\n * Replication Idï¼ç®ç§°replidï¼æ¯æ°æ®éçæ è®°ï¼idä¸è´åè¯´ææ¯åä¸æ°æ®éãæ¯ä¸ä¸ªmasteré½æå¯ä¸çreplidï¼slaveåä¼ç»§æ¿masterèç¹çreplid\n * offsetï¼åç§»éï¼éçè®°å½å¨repl_baklogä¸­çæ°æ®å¢å¤èéæ¸å¢å¤§ãslaveå®æåæ­¥æ¶ä¹ä¼è®°å½å½ååæ­¥çoffsetãå¦æslaveçoffsetå°äºmasterçoffsetï¼è¯´æslaveæ°æ®è½åäºmasterï¼éè¦æ´æ°ã\n\nå æ­¤slaveåæ°æ®åæ­¥ï¼å¿é¡»åmasterå£°æèªå·±çreplication id åoffsetï¼masteræå¯ä»¥å¤æ­å°åºéè¦åæ­¥åªäºæ°æ®ã\n\nå ä¸ºslaveåæ¬ä¹æ¯ä¸ä¸ªmasterï¼æèªå·±çreplidåoffsetï¼å½ç¬¬ä¸æ¬¡åæslaveï¼ä¸masterå»ºç«è¿æ¥æ¶ï¼åéçreplidåoffsetæ¯èªå·±çreplidåoffsetã\n\nmasterå¤æ­åç°slaveåéæ¥çreplidä¸èªå·±çä¸ä¸è´ï¼è¯´æè¿æ¯ä¸ä¸ªå¨æ°çslaveï¼å°±ç¥éè¦åå¨éåæ­¥äºã\n\nmasterä¼å°èªå·±çreplidåoffseté½åéç»è¿ä¸ªslaveï¼slaveä¿å­è¿äºä¿¡æ¯ãä»¥åslaveçreplidå°±ä¸masterä¸è´äºã\n\nå æ­¤ï¼masterå¤æ­ä¸ä¸ªèç¹æ¯å¦æ¯ç¬¬ä¸æ¬¡åæ­¥çä¾æ®ï¼å°±æ¯çreplidæ¯å¦ä¸è´ã\n\n\n# å¢éåæ­¥\n\né¤äºç¬¬ä¸æ¬¡åå¨éåæ­¥ï¼å¶å®å¤§å¤æ°æ¶åslaveä¸masteré½æ¯åå¢éåæ­¥ã\n\nå½å¤§å¥æ¶å°æ°æ®åæ´çå½ä»¤æ¶ï¼ä»¥åæ¯éä¸æ®µæ¶é´ï¼å°æ¶æ¯éç¥å°å¼æ¥æè¿å¤å¶ã\n\n\n\nrepl_baklog\n\nslave çoffset ä¸æ­è¿½èµ¶ master çoffset\n\n\n\nå½masterçoffset è¶è¿ slaveçoffsetå¤ªå¤ï¼é£salveèç¹è¿è¡å¨éåæ­¥ã\n\n\n# Rediså¨åµ\n\nRedisæä¾äºå¨åµï¼Sentinelï¼æºå¶æ¥å®ç°ä¸»ä»éç¾¤çèªå¨æéæ¢å¤ã\n\n\n\nå¨åµçä½ç¨å¦ä¸ï¼\n\n * çæ§ï¼Sentinel ä¼ä¸æ­æ£æ¥æ¨çmasteråslaveæ¯å¦æé¢æå·¥ä½\n * èªå¨æéæ¢å¤ï¼å¦æmasteræéï¼Sentinelä¼å°ä¸ä¸ªslaveæåä¸ºmasterãå½æéå®ä¾æ¢å¤åä¹ä»¥æ°çmasterä¸ºä¸»\n * éç¥ï¼Sentinelåå½Rediså®¢æ·ç«¯çæå¡åç°æ¥æºï¼å½éç¾¤åçæéè½¬ç§»æ¶ï¼ä¼å°ææ°ä¿¡æ¯æ¨éç»Redisçå®¢æ·ç«¯\n\n\n# çæ§\n\nSentinelåºäºå¿è·³æºå¶çæµæå¡ç¶æï¼æ¯é1ç§åéç¾¤çæ¯ä¸ªå®ä¾åépingå½ä»¤ï¼\n\nâ¢ä¸»è§ä¸çº¿ï¼å¦ææsentinelèç¹åç°æå®ä¾æªå¨è§å®æ¶é´ååºï¼åè®¤ä¸ºè¯¥å®ä¾ä¸»è§ä¸çº¿ã\n\nâ¢å®¢è§ä¸çº¿ï¼è¥è¶è¿æå®æ°éï¼quorumï¼çsentinelé½è®¤ä¸ºè¯¥å®ä¾ä¸»è§ä¸çº¿ï¼åè¯¥å®ä¾å®¢è§ä¸çº¿ãquorumå¼æå¥½è¶è¿Sentinelå®ä¾æ°éçä¸åã\n\n\n# æéæ¢å¤\n\nä¸æ¦åç°masteræéï¼sentineléè¦å¨salveä¸­éæ©ä¸ä¸ªä½ä¸ºæ°çmasterï¼éæ©ä¾æ®æ¯è¿æ ·çï¼\n\n * é¦åä¼å¤æ­slaveèç¹ä¸masterèç¹æ­å¼æ¶é´é¿ç­ï¼å¦æè¶è¿æå®å¼ï¼down-after-milliseconds * 10ï¼åä¼æé¤è¯¥slaveèç¹\n * ç¶åå¤æ­slaveèç¹çslave-priorityå¼ï¼è¶å°ä¼åçº§è¶é«ï¼å¦ææ¯0åæ°¸ä¸åä¸éä¸¾\n * å¦æslave-prorityä¸æ ·ï¼åå¤æ­slaveèç¹çoffsetå¼ï¼è¶å¤§è¯´ææ°æ®è¶æ°ï¼ä¼åçº§è¶é«\n * æåæ¯å¤æ­slaveèç¹çè¿è¡idå¤§å°ï¼è¶å°ä¼åçº§è¶é«ã\n\nå½éåºä¸ä¸ªæ°çmasteråï¼è¯¥å¦ä½å®ç°åæ¢å¢ï¼\n\næµç¨å¦ä¸ï¼\n\n * sentinelç»å¤éçslave1èç¹åéslaveof no oneå½ä»¤ï¼è®©è¯¥èç¹æä¸ºmaster\n * sentinelç»ææå¶å®slaveåéslaveof 192.168.150.101 7002 å½ä»¤ï¼è®©è¿äºslaveæä¸ºæ°masterçä»èç¹ï¼å¼å§ä»æ°çmasterä¸åæ­¥æ°æ®ã\n * æåï¼sentinelå°æéèç¹æ è®°ä¸ºslaveï¼å½æéèç¹æ¢å¤åä¼èªå¨æä¸ºæ°çmasterçslaveèç¹\n\n\n# Redisåçéç¾¤\n\nä¸»ä»åå¨åµå¯ä»¥è§£å³é«å¯ç¨ãé«å¹¶åè¯»çé®é¢ãä½æ¯ä¾ç¶æä¸¤ä¸ªé®é¢æ²¡æè§£å³ï¼\n\n * æµ·éæ°æ®å­å¨é®é¢\n\n * é«å¹¶ååçé®é¢\n\nä½¿ç¨åçéç¾¤å¯ä»¥è§£å³ä¸è¿°é®é¢ï¼å¦å¾:\n\n\n\nåçéç¾¤ç¹å¾ï¼\n\n * éç¾¤ä¸­æå¤ä¸ªmasterï¼æ¯ä¸ªmasterä¿å­ä¸åæ°æ®\n\n * æ¯ä¸ªmasteré½å¯ä»¥æå¤ä¸ªslaveèç¹\n\n * masterä¹é´éè¿pingçæµå½¼æ­¤å¥åº·ç¶æ\n\n * å®¢æ·ç«¯è¯·æ±å¯ä»¥è®¿é®éç¾¤ä»»æèç¹ï¼æç»é½ä¼è¢«è½¬åå°æ­£ç¡®èç¹",normalizedContent:"åºäºrediséç¾¤è§£å³åæºrediså­å¨çé®é¢\n\n>  1. æ°æ®ä¸¢å¤±é®é¢ï¼å®ç°redisæ°æ®æä¹å\n>  2. å¹¶åè½åé®é¢ï¼æ­å»ºä¸»ä»éç¾¤ï¼å®ç°è¯»ååç¦»\n>  3. æéæ¢å¤é®é¢ï¼å©ç¨rediså¨åµï¼å®ç°å¥åº·æ£æµåèªå¨æ¢å¤\n>  4. å­å¨è½åé®é¢ï¼æ­å»ºåçéç¾¤ï¼å¨ææ©å®¹\n\n\n# redisæä¹å\n\n\n# rdbæä¹å\n\nrdbå¨ç§°redis database backup fileï¼redisæ°æ®å¤ä»½æä»¶ï¼ï¼ä¹è¢«å«åredisæ°æ®å¿«ç§ãç®åæ¥è¯´å°±æ¯æåå­ä¸­çæææ°æ®é½è®°å½å°ç£çä¸­ãå½rediså®ä¾æééå¯åï¼ä»ç£çè¯»åå¿«ç§æä»¶ï¼æ¢å¤æ°æ®ãå¿«ç§æä»¶ç§°ä¸ºrdbæä»¶ï¼é»è®¤æ¯ä¿å­å¨å½åè¿è¡ç®å½ã\n\næ§è¡æ¶æº\n\n * æ§è¡saveå½ä»¤\n\nsaveå½ä»¤ä¼å¯¼è´ä¸»è¿ç¨æ§è¡rdbï¼è¿ä¸ªè¿ç¨ä¸­å¶å®ææå½ä»¤é½ä¼è¢«é»å¡ãåªæå¨æ°æ®è¿ç§»æ¶å¯è½ç¨å°ã\n\n * æ§è¡bgsaveå½ä»¤\n\nè¿ä¸ªå½ä»¤æ§è¡åä¼å¼å¯ç¬ç«è¿ç¨å®ærdbï¼ä¸»è¿ç¨å¯ä»¥æç»­å¤çç¨æ·è¯·æ±ï¼ä¸åå½±åã\n\n * redisåæºæ¶\n\nredisåæºæ¶ä¼æ§è¡ä¸æ¬¡saveå½ä»¤ï¼å®ç°rdbæä¹åã\n\n * è§¦årdbæ¡ä»¶æ¶\n\nredis.conféç½®è§¦årdbæºå¶ï¼å¯ä»¥éç½®å¤ä¹åæå¤å°ä¸ªkeyåçåæ´ï¼åæ§è¡bgsaveå½ä»¤\n\nbgsaveå¼å§æ¶ä¼forkä¸»è¿ç¨å¾å°å­è¿ç¨ï¼å­è¿ç¨å±äº«ä¸»è¿ç¨çåå­æ°æ®ãå®æforkåè¯»ååå­æ°æ®å¹¶åå¥ rdb æä»¶ã\n\nforkéç¨çæ¯copy-on-writeææ¯ï¼\n\n * å½ä¸»è¿ç¨æ§è¡è¯»æä½æ¶ï¼è®¿é®å±äº«åå­ï¼\n * å½ä¸»è¿ç¨æ§è¡åæä½æ¶ï¼åä¼æ·è´ä¸ä»½æ°æ®ï¼æ§è¡åæä½ã\n\n\n\n\n# aofæä¹å\n\naofå¨ç§°ä¸ºappend only fileï¼è¿½å æä»¶ï¼ãrediså¤ççæ¯ä¸ä¸ªåå½ä»¤é½ä¼è®°å½å¨aofæä»¶ï¼å¯ä»¥çåæ¯å½ä»¤æ¥å¿æä»¶ã\n\n\n\n\n# redisä¸»ä»\n\nåèç¹redisçå¹¶åè½åæ¯æä¸éçï¼è¦è¿ä¸æ­¥æé«redisçå¹¶åè½åï¼å°±éè¦æ­å»ºä¸»ä»éç¾¤ï¼å®ç°è¯»ååç¦»ã\n\n\n\n\n# å¨éåæ­¥\n\nä¸»ä»ç¬¬ä¸æ¬¡å»ºç«è¿æ¥æ¶ï¼ä¼æ§è¡å¨éåæ­¥ï¼å°masterèç¹çæææ°æ®é½æ·è´ç»slaveèç¹ï¼æµç¨ï¼\n\n\n\n * replication idï¼ç®ç§°replidï¼æ¯æ°æ®éçæ è®°ï¼idä¸è´åè¯´ææ¯åä¸æ°æ®éãæ¯ä¸ä¸ªmasteré½æå¯ä¸çreplidï¼slaveåä¼ç»§æ¿masterèç¹çreplid\n * offsetï¼åç§»éï¼éçè®°å½å¨repl_baklogä¸­çæ°æ®å¢å¤èéæ¸å¢å¤§ãslaveå®æåæ­¥æ¶ä¹ä¼è®°å½å½ååæ­¥çoffsetãå¦æslaveçoffsetå°äºmasterçoffsetï¼è¯´æslaveæ°æ®è½åäºmasterï¼éè¦æ´æ°ã\n\nå æ­¤slaveåæ°æ®åæ­¥ï¼å¿é¡»åmasterå£°æèªå·±çreplication id åoffsetï¼masteræå¯ä»¥å¤æ­å°åºéè¦åæ­¥åªäºæ°æ®ã\n\nå ä¸ºslaveåæ¬ä¹æ¯ä¸ä¸ªmasterï¼æèªå·±çreplidåoffsetï¼å½ç¬¬ä¸æ¬¡åæslaveï¼ä¸masterå»ºç«è¿æ¥æ¶ï¼åéçreplidåoffsetæ¯èªå·±çreplidåoffsetã\n\nmasterå¤æ­åç°slaveåéæ¥çreplidä¸èªå·±çä¸ä¸è´ï¼è¯´æè¿æ¯ä¸ä¸ªå¨æ°çslaveï¼å°±ç¥éè¦åå¨éåæ­¥äºã\n\nmasterä¼å°èªå·±çreplidåoffseté½åéç»è¿ä¸ªslaveï¼slaveä¿å­è¿äºä¿¡æ¯ãä»¥åslaveçreplidå°±ä¸masterä¸è´äºã\n\nå æ­¤ï¼masterå¤æ­ä¸ä¸ªèç¹æ¯å¦æ¯ç¬¬ä¸æ¬¡åæ­¥çä¾æ®ï¼å°±æ¯çreplidæ¯å¦ä¸è´ã\n\n\n# å¢éåæ­¥\n\né¤äºç¬¬ä¸æ¬¡åå¨éåæ­¥ï¼å¶å®å¤§å¤æ°æ¶åslaveä¸masteré½æ¯åå¢éåæ­¥ã\n\nå½å¤§å¥æ¶å°æ°æ®åæ´çå½ä»¤æ¶ï¼ä»¥åæ¯éä¸æ®µæ¶é´ï¼å°æ¶æ¯éç¥å°å¼æ¥æè¿å¤å¶ã\n\n\n\nrepl_baklog\n\nslave çoffset ä¸æ­è¿½èµ¶ master çoffset\n\n\n\nå½masterçoffset è¶è¿ slaveçoffsetå¤ªå¤ï¼é£salveèç¹è¿è¡å¨éåæ­¥ã\n\n\n# rediså¨åµ\n\nredisæä¾äºå¨åµï¼sentinelï¼æºå¶æ¥å®ç°ä¸»ä»éç¾¤çèªå¨æéæ¢å¤ã\n\n\n\nå¨åµçä½ç¨å¦ä¸ï¼\n\n * çæ§ï¼sentinel ä¼ä¸æ­æ£æ¥æ¨çmasteråslaveæ¯å¦æé¢æå·¥ä½\n * èªå¨æéæ¢å¤ï¼å¦æmasteræéï¼sentinelä¼å°ä¸ä¸ªslaveæåä¸ºmasterãå½æéå®ä¾æ¢å¤åä¹ä»¥æ°çmasterä¸ºä¸»\n * éç¥ï¼sentinelåå½rediså®¢æ·ç«¯çæå¡åç°æ¥æºï¼å½éç¾¤åçæéè½¬ç§»æ¶ï¼ä¼å°ææ°ä¿¡æ¯æ¨éç»redisçå®¢æ·ç«¯\n\n\n# çæ§\n\nsentinelåºäºå¿è·³æºå¶çæµæå¡ç¶æï¼æ¯é1ç§åéç¾¤çæ¯ä¸ªå®ä¾åépingå½ä»¤ï¼\n\nâ¢ä¸»è§ä¸çº¿ï¼å¦ææsentinelèç¹åç°æå®ä¾æªå¨è§å®æ¶é´ååºï¼åè®¤ä¸ºè¯¥å®ä¾ä¸»è§ä¸çº¿ã\n\nâ¢å®¢è§ä¸çº¿ï¼è¥è¶è¿æå®æ°éï¼quorumï¼çsentinelé½è®¤ä¸ºè¯¥å®ä¾ä¸»è§ä¸çº¿ï¼åè¯¥å®ä¾å®¢è§ä¸çº¿ãquorumå¼æå¥½è¶è¿sentinelå®ä¾æ°éçä¸åã\n\n\n# æéæ¢å¤\n\nä¸æ¦åç°masteræéï¼sentineléè¦å¨salveä¸­éæ©ä¸ä¸ªä½ä¸ºæ°çmasterï¼éæ©ä¾æ®æ¯è¿æ ·çï¼\n\n * é¦åä¼å¤æ­slaveèç¹ä¸masterèç¹æ­å¼æ¶é´é¿ç­ï¼å¦æè¶è¿æå®å¼ï¼down-after-milliseconds * 10ï¼åä¼æé¤è¯¥slaveèç¹\n * ç¶åå¤æ­slaveèç¹çslave-priorityå¼ï¼è¶å°ä¼åçº§è¶é«ï¼å¦ææ¯0åæ°¸ä¸åä¸éä¸¾\n * å¦æslave-prorityä¸æ ·ï¼åå¤æ­slaveèç¹çoffsetå¼ï¼è¶å¤§è¯´ææ°æ®è¶æ°ï¼ä¼åçº§è¶é«\n * æåæ¯å¤æ­slaveèç¹çè¿è¡idå¤§å°ï¼è¶å°ä¼åçº§è¶é«ã\n\nå½éåºä¸ä¸ªæ°çmasteråï¼è¯¥å¦ä½å®ç°åæ¢å¢ï¼\n\næµç¨å¦ä¸ï¼\n\n * sentinelç»å¤éçslave1èç¹åéslaveof no oneå½ä»¤ï¼è®©è¯¥èç¹æä¸ºmaster\n * sentinelç»ææå¶å®slaveåéslaveof 192.168.150.101 7002 å½ä»¤ï¼è®©è¿äºslaveæä¸ºæ°masterçä»èç¹ï¼å¼å§ä»æ°çmasterä¸åæ­¥æ°æ®ã\n * æåï¼sentinelå°æéèç¹æ è®°ä¸ºslaveï¼å½æéèç¹æ¢å¤åä¼èªå¨æä¸ºæ°çmasterçslaveèç¹\n\n\n# redisåçéç¾¤\n\nä¸»ä»åå¨åµå¯ä»¥è§£å³é«å¯ç¨ãé«å¹¶åè¯»çé®é¢ãä½æ¯ä¾ç¶æä¸¤ä¸ªé®é¢æ²¡æè§£å³ï¼\n\n * æµ·éæ°æ®å­å¨é®é¢\n\n * é«å¹¶ååçé®é¢\n\nä½¿ç¨åçéç¾¤å¯ä»¥è§£å³ä¸è¿°é®é¢ï¼å¦å¾:\n\n\n\nåçéç¾¤ç¹å¾ï¼\n\n * éç¾¤ä¸­æå¤ä¸ªmasterï¼æ¯ä¸ªmasterä¿å­ä¸åæ°æ®\n\n * æ¯ä¸ªmasteré½å¯ä»¥æå¤ä¸ªslaveèç¹\n\n * masterä¹é´éè¿pingçæµå½¼æ­¤å¥åº·ç¶æ\n\n * å®¢æ·ç«¯è¯·æ±å¯ä»¥è®¿é®éç¾¤ä»»æèç¹ï¼æç»é½ä¼è¢«è½¬åå°æ­£ç¡®èç¹",charsets:{cjk:!0}},{title:"ç¼å­åæ­¥",frontmatter:{title:"ç¼å­åæ­¥",date:"2023-03-02T11:27:30.000Z",permalink:"/pages/663ad9/"},regularPath:"/01.Java/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/04.Canal.html",relativePath:"01.Java/03.å¾®æå¡/04.Canal.md",key:"v-52136b18",path:"/pages/663ad9/",headers:[{level:2,title:"å¤çº§ç¼å­",slug:"å¤çº§ç¼å­",normalizedTitle:"å¤çº§ç¼å­",charIndex:2},{level:2,title:"JVMè¿ç¨ç¼å­",slug:"jvmè¿ç¨ç¼å­",normalizedTitle:"jvmè¿ç¨ç¼å­",charIndex:341},{level:2,title:"OpenRestyå¤çº§ç¼å­",slug:"openrestyå¤çº§ç¼å­",normalizedTitle:"openrestyå¤çº§ç¼å­",charIndex:409},{level:2,title:"ç¼å­åæ­¥",slug:"ç¼å­åæ­¥",normalizedTitle:"ç¼å­åæ­¥",charIndex:427},{level:3,title:"æ°æ®åæ­¥ç­ç¥",slug:"æ°æ®åæ­¥ç­ç¥",normalizedTitle:"æ°æ®åæ­¥ç­ç¥",charIndex:529}],headersStr:"å¤çº§ç¼å­ JVMè¿ç¨ç¼å­ OpenRestyå¤çº§ç¼å­ ç¼å­åæ­¥ æ°æ®åæ­¥ç­ç¥",content:"# å¤çº§ç¼å­\n\nä¼ ç»çç¼å­ç­ç¥ä¸è¬æ¯è¯·æ±å°è¾¾Tomcatåï¼åæ¥è¯¢Redisï¼å¦ææªå½ä¸­åæ¥è¯¢æ°æ®åºï¼å¦å¾ï¼\n\n\n\nå­å¨ä¸é¢çé®é¢ï¼\n\nâ¢è¯·æ±è¦ç»è¿Tomcatå¤çï¼Tomcatçæ§è½æä¸ºæ´ä¸ªç³»ç»çç¶é¢\n\nâ¢Redisç¼å­å¤±ææ¶ï¼ä¼å¯¹æ°æ®åºäº§çå²å»\n\nå¤çº§ç¼å­å°±æ¯ååå©ç¨è¯·æ±å¤ççæ¯ä¸ªç¯èï¼åå«æ·»å ç¼å­ï¼åè½»Tomcatååï¼æåæå¡æ§è½ï¼\n\n * æµè§å¨è®¿é®éæèµæºæ¶ï¼ä¼åè¯»åæµè§å¨æ¬å°ç¼å­\n * è®¿é®ééæèµæºï¼ajaxæ¥è¯¢æ°æ®ï¼æ¶ï¼è®¿é®æå¡ç«¯\n * è¯·æ±å°è¾¾Nginxåï¼ä¼åè¯»åNginxæ¬å°ç¼å­\n * å¦æNginxæ¬å°ç¼å­æªå½ä¸­ï¼åå»ç´æ¥æ¥è¯¢Redisï¼ä¸ç»è¿Tomcatï¼\n * å¦æRedisæ¥è¯¢æªå½ä¸­ï¼åæ¥è¯¢Tomcat\n * è¯·æ±è¿å¥Tomcatåï¼ä¼åæ¥è¯¢JVMè¿ç¨ç¼å­\n * å¦æJVMè¿ç¨ç¼å­æªå½ä¸­ï¼åæ¥è¯¢æ°æ®åº\n\n\n\nåæ­£åé¢ä¸å ç¼å­ï¼æ°æ®åºå°±æ¯ä¸ªå®å®\n\n\n# JVMè¿ç¨ç¼å­\n\n\n# OpenRestyå¤çº§ç¼å­\n\n\n# ç¼å­åæ­¥\n\nå¤§å¤æ°æåµä¸ï¼æµè§å¨æ¥è¯¢å°çé½æ¯ç¼å­æ°æ®ï¼å¦æç¼å­æ°æ®ä¸æ°æ®åºæ°æ®å­å¨è¾å¤§å·®å¼ï¼å¯è½ä¼äº§çæ¯è¾ä¸¥éçåæã\n\næä»¥æä»¬å¿é¡»ä¿è¯æ°æ®åºæ°æ®ãç¼å­æ°æ®çä¸è´æ§ï¼è¿å°±æ¯ç¼å­ä¸æ°æ®åºçåæ­¥ã\n\n\n# æ°æ®åæ­¥ç­ç¥\n\nç¼å­æ°æ®åæ­¥çå¸¸è§æ¹å¼æä¸ç§ï¼\n\nè®¾ç½®æææï¼ç»ç¼å­è®¾ç½®æææï¼å°æåèªå¨å é¤ãåæ¬¡æ¥è¯¢æ¶æ´æ°\n\n * ä¼å¿ï¼ç®åãæ¹ä¾¿\n * ç¼ºç¹ï¼æ¶ææ§å·®ï¼ç¼å­è¿æä¹åå¯è½ä¸ä¸è´\n * åºæ¯ï¼æ´æ°é¢çè¾ä½ï¼æ¶ææ§è¦æ±ä½çä¸å¡\n\nåæ­¥ååï¼å¨ä¿®æ¹æ°æ®åºçåæ¶ï¼ç´æ¥ä¿®æ¹ç¼å­\n\n * ä¼å¿ï¼æ¶ææ§å¼ºï¼ç¼å­ä¸æ°æ®åºå¼ºä¸è´\n * ç¼ºç¹ï¼æä»£ç ä¾µå¥ï¼è¦ååº¦é«ï¼\n * åºæ¯ï¼å¯¹ä¸è´æ§ãæ¶ææ§è¦æ±è¾é«çç¼å­æ°æ®\n\n**å¼æ­¥éç¥ï¼**ä¿®æ¹æ°æ®åºæ¶åéäºä»¶éç¥ï¼ç¸å³æå¡çå¬å°éç¥åä¿®æ¹ç¼å­æ°æ®\n\n * ä¼å¿ï¼ä½è¦åï¼å¯ä»¥åæ¶éç¥å¤ä¸ªç¼å­æå¡\n * ç¼ºç¹ï¼æ¶ææ§ä¸è¬ï¼å¯è½å­å¨ä¸­é´ä¸ä¸è´ç¶æ\n * åºæ¯ï¼æ¶ææ§è¦æ±ä¸è¬ï¼æå¤ä¸ªæå¡éè¦åæ­¥\n\nèå¼æ­¥å®ç°åå¯ä»¥åºäºMQæèCanalæ¥å®ç°ï¼\n\n1ï¼åºäºMQçå¼æ­¥éç¥ï¼\n\n\n\nè§£è¯»ï¼\n\n * ååæå¡å®æå¯¹æ°æ®çä¿®æ¹åï¼åªéè¦åéä¸æ¡æ¶æ¯å°MQä¸­ã\n * ç¼å­æå¡çå¬MQæ¶æ¯ï¼ç¶åå®æå¯¹ç¼å­çæ´æ°\n\nä¾ç¶æå°éçä»£ç ä¾µå¥ã\n\n2ï¼åºäºCanalçéç¥\n\n\n\nè§£è¯»ï¼\n\n * ååæå¡å®æååä¿®æ¹åï¼ä¸å¡ç´æ¥ç»æï¼æ²¡æä»»ä½ä»£ç ä¾µå¥\n * Canalçå¬MySQLååï¼å½åç°åååï¼ç«å³éç¥ç¼å­æå¡\n * ç¼å­æå¡æ¥æ¶å°canaléç¥ï¼æ´æ°ç¼å­\n\nä»£ç é¶ä¾µå¥",normalizedContent:"# å¤çº§ç¼å­\n\nä¼ ç»çç¼å­ç­ç¥ä¸è¬æ¯è¯·æ±å°è¾¾tomcatåï¼åæ¥è¯¢redisï¼å¦ææªå½ä¸­åæ¥è¯¢æ°æ®åºï¼å¦å¾ï¼\n\n\n\nå­å¨ä¸é¢çé®é¢ï¼\n\nâ¢è¯·æ±è¦ç»è¿tomcatå¤çï¼tomcatçæ§è½æä¸ºæ´ä¸ªç³»ç»çç¶é¢\n\nâ¢redisç¼å­å¤±ææ¶ï¼ä¼å¯¹æ°æ®åºäº§çå²å»\n\nå¤çº§ç¼å­å°±æ¯ååå©ç¨è¯·æ±å¤ççæ¯ä¸ªç¯èï¼åå«æ·»å ç¼å­ï¼åè½»tomcatååï¼æåæå¡æ§è½ï¼\n\n * æµè§å¨è®¿é®éæèµæºæ¶ï¼ä¼åè¯»åæµè§å¨æ¬å°ç¼å­\n * è®¿é®ééæèµæºï¼ajaxæ¥è¯¢æ°æ®ï¼æ¶ï¼è®¿é®æå¡ç«¯\n * è¯·æ±å°è¾¾nginxåï¼ä¼åè¯»ånginxæ¬å°ç¼å­\n * å¦ænginxæ¬å°ç¼å­æªå½ä¸­ï¼åå»ç´æ¥æ¥è¯¢redisï¼ä¸ç»è¿tomcatï¼\n * å¦æredisæ¥è¯¢æªå½ä¸­ï¼åæ¥è¯¢tomcat\n * è¯·æ±è¿å¥tomcatåï¼ä¼åæ¥è¯¢jvmè¿ç¨ç¼å­\n * å¦æjvmè¿ç¨ç¼å­æªå½ä¸­ï¼åæ¥è¯¢æ°æ®åº\n\n\n\nåæ­£åé¢ä¸å ç¼å­ï¼æ°æ®åºå°±æ¯ä¸ªå®å®\n\n\n# jvmè¿ç¨ç¼å­\n\n\n# openrestyå¤çº§ç¼å­\n\n\n# ç¼å­åæ­¥\n\nå¤§å¤æ°æåµä¸ï¼æµè§å¨æ¥è¯¢å°çé½æ¯ç¼å­æ°æ®ï¼å¦æç¼å­æ°æ®ä¸æ°æ®åºæ°æ®å­å¨è¾å¤§å·®å¼ï¼å¯è½ä¼äº§çæ¯è¾ä¸¥éçåæã\n\næä»¥æä»¬å¿é¡»ä¿è¯æ°æ®åºæ°æ®ãç¼å­æ°æ®çä¸è´æ§ï¼è¿å°±æ¯ç¼å­ä¸æ°æ®åºçåæ­¥ã\n\n\n# æ°æ®åæ­¥ç­ç¥\n\nç¼å­æ°æ®åæ­¥çå¸¸è§æ¹å¼æä¸ç§ï¼\n\nè®¾ç½®æææï¼ç»ç¼å­è®¾ç½®æææï¼å°æåèªå¨å é¤ãåæ¬¡æ¥è¯¢æ¶æ´æ°\n\n * ä¼å¿ï¼ç®åãæ¹ä¾¿\n * ç¼ºç¹ï¼æ¶ææ§å·®ï¼ç¼å­è¿æä¹åå¯è½ä¸ä¸è´\n * åºæ¯ï¼æ´æ°é¢çè¾ä½ï¼æ¶ææ§è¦æ±ä½çä¸å¡\n\nåæ­¥ååï¼å¨ä¿®æ¹æ°æ®åºçåæ¶ï¼ç´æ¥ä¿®æ¹ç¼å­\n\n * ä¼å¿ï¼æ¶ææ§å¼ºï¼ç¼å­ä¸æ°æ®åºå¼ºä¸è´\n * ç¼ºç¹ï¼æä»£ç ä¾µå¥ï¼è¦ååº¦é«ï¼\n * åºæ¯ï¼å¯¹ä¸è´æ§ãæ¶ææ§è¦æ±è¾é«çç¼å­æ°æ®\n\n**å¼æ­¥éç¥ï¼**ä¿®æ¹æ°æ®åºæ¶åéäºä»¶éç¥ï¼ç¸å³æå¡çå¬å°éç¥åä¿®æ¹ç¼å­æ°æ®\n\n * ä¼å¿ï¼ä½è¦åï¼å¯ä»¥åæ¶éç¥å¤ä¸ªç¼å­æå¡\n * ç¼ºç¹ï¼æ¶ææ§ä¸è¬ï¼å¯è½å­å¨ä¸­é´ä¸ä¸è´ç¶æ\n * åºæ¯ï¼æ¶ææ§è¦æ±ä¸è¬ï¼æå¤ä¸ªæå¡éè¦åæ­¥\n\nèå¼æ­¥å®ç°åå¯ä»¥åºäºmqæècanalæ¥å®ç°ï¼\n\n1ï¼åºäºmqçå¼æ­¥éç¥ï¼\n\n\n\nè§£è¯»ï¼\n\n * ååæå¡å®æå¯¹æ°æ®çä¿®æ¹åï¼åªéè¦åéä¸æ¡æ¶æ¯å°mqä¸­ã\n * ç¼å­æå¡çå¬mqæ¶æ¯ï¼ç¶åå®æå¯¹ç¼å­çæ´æ°\n\nä¾ç¶æå°éçä»£ç ä¾µå¥ã\n\n2ï¼åºäºcanalçéç¥\n\n\n\nè§£è¯»ï¼\n\n * ååæå¡å®æååä¿®æ¹åï¼ä¸å¡ç´æ¥ç»æï¼æ²¡æä»»ä½ä»£ç ä¾µå¥\n * canalçå¬mysqlååï¼å½åç°åååï¼ç«å³éç¥ç¼å­æå¡\n * ç¼å­æå¡æ¥æ¶å°canaléç¥ï¼æ´æ°ç¼å­\n\nä»£ç é¶ä¾µå¥",charsets:{cjk:!0}},{title:"å¸¸è§é¢è¯é¢",frontmatter:{title:"å¸¸è§é¢è¯é¢",date:"2023-03-02T15:18:04.000Z",permalink:"/pages/78eabe/"},regularPath:"/01.Java/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/05.%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"01.Java/03.å¾®æå¡/05.å¸¸è§é¢è¯é¢.md",key:"v-ec24f742",path:"/pages/78eabe/",headers:[{level:2,title:"1.1.SpringCloudå¸¸è§ç»ä»¶æåªäºï¼",slug:"_1-1-springcloudå¸¸è§ç»ä»¶æåªäº",normalizedTitle:"1.1.springcloudå¸¸è§ç»ä»¶æåªäºï¼",charIndex:23},{level:2,title:"1.2.Nacosçæå¡æ³¨åè¡¨ç»ææ¯ææ ·çï¼",slug:"_1-2-nacosçæå¡æ³¨åè¡¨ç»ææ¯ææ ·ç",normalizedTitle:"1.2.nacosçæå¡æ³¨åè¡¨ç»ææ¯ææ ·çï¼",charIndex:281},{level:2,title:"1.3.Nacoså¦ä½æ¯æé¿éåé¨æ°åä¸æå¡æ³¨åååï¼",slug:"_1-3-nacoså¦ä½æ¯æé¿éåé¨æ°åä¸æå¡æ³¨ååå",normalizedTitle:"1.3.nacoså¦ä½æ¯æé¿éåé¨æ°åä¸æå¡æ³¨åååï¼",charIndex:730},{level:2,title:"1.4.Nacoså¦ä½é¿åå¹¶åè¯»åå²çªé®é¢ï¼",slug:"_1-4-nacoså¦ä½é¿åå¹¶åè¯»åå²çªé®é¢",normalizedTitle:"1.4.nacoså¦ä½é¿åå¹¶åè¯»åå²çªé®é¢ï¼",charIndex:892},{level:2,title:"1.5.Nacosä¸Eurekaçåºå«æåªäºï¼",slug:"_1-5-nacosä¸eurekaçåºå«æåªäº",normalizedTitle:"1.5.nacosä¸eurekaçåºå«æåªäºï¼",charIndex:1075},{level:2,title:"1.6.Sentinelçéæµä¸Gatewayçéæµæä»ä¹å·®å«ï¼",slug:"_1-6-sentinelçéæµä¸gatewayçéæµæä»ä¹å·®å«",normalizedTitle:"1.6.sentinelçéæµä¸gatewayçéæµæä»ä¹å·®å«ï¼",charIndex:1385},{level:2,title:"1.7.Sentinelççº¿ç¨éç¦»ä¸Hystixççº¿ç¨éç¦»æä»ä¹å·®å«?",slug:"_1-7-sentinelççº¿ç¨éç¦»ä¸hystixççº¿ç¨éç¦»æä»ä¹å·®å«",normalizedTitle:"1.7.sentinelççº¿ç¨éç¦»ä¸hystixççº¿ç¨éç¦»æä»ä¹å·®å«?",charIndex:1597},{level:2,title:"2.1.ä½ ä»¬ä¸ºä»ä¹éæ©äºRabbitMQèä¸æ¯å¶å®çMQï¼",slug:"_2-1-ä½ ä»¬ä¸ºä»ä¹éæ©äºrabbitmqèä¸æ¯å¶å®çmq",normalizedTitle:"2.1.ä½ ä»¬ä¸ºä»ä¹éæ©äºrabbitmqèä¸æ¯å¶å®çmqï¼",charIndex:1809},{level:2,title:"2.2.RabbitMQå¦ä½ç¡®ä¿æ¶æ¯çä¸ä¸¢å¤±ï¼",slug:"_2-2-rabbitmqå¦ä½ç¡®ä¿æ¶æ¯çä¸ä¸¢å¤±",normalizedTitle:"2.2.rabbitmqå¦ä½ç¡®ä¿æ¶æ¯çä¸ä¸¢å¤±ï¼",charIndex:2202},{level:2,title:"2.3.RabbitMQå¦ä½é¿åæ¶æ¯å ç§¯ï¼",slug:"_2-3-rabbitmqå¦ä½é¿åæ¶æ¯å ç§¯",normalizedTitle:"2.3.rabbitmqå¦ä½é¿åæ¶æ¯å ç§¯ï¼",charIndex:3343},{level:2,title:"2.4.RabbitMQå¦ä½ä¿è¯æ¶æ¯çæåºæ§ï¼",slug:"_2-4-rabbitmqå¦ä½ä¿è¯æ¶æ¯çæåºæ§",normalizedTitle:"2.4.rabbitmqå¦ä½ä¿è¯æ¶æ¯çæåºæ§ï¼",charIndex:3898},{level:2,title:"2.5.å¦ä½é²æ­¢MQæ¶æ¯è¢«éå¤æ¶è´¹ï¼",slug:"_2-5-å¦ä½é²æ­¢mqæ¶æ¯è¢«éå¤æ¶è´¹",normalizedTitle:"2.5.å¦ä½é²æ­¢mqæ¶æ¯è¢«éå¤æ¶è´¹ï¼",charIndex:4116},{level:2,title:"2.6.å¦ä½ä¿è¯RabbitMQçé«å¯ç¨ï¼",slug:"_2-6-å¦ä½ä¿è¯rabbitmqçé«å¯ç¨",normalizedTitle:"2.6.å¦ä½ä¿è¯rabbitmqçé«å¯ç¨ï¼",charIndex:4391},{level:2,title:"2.7.ä½¿ç¨MQå¯ä»¥è§£å³é£äºé®é¢ï¼",slug:"_2-7-ä½¿ç¨mqå¯ä»¥è§£å³é£äºé®é¢",normalizedTitle:"2.7.ä½¿ç¨mqå¯ä»¥è§£å³é£äºé®é¢ï¼",charIndex:4512},{level:2,title:"3.1.Redisä¸Memcacheçåºå«ï¼",slug:"_3-1-redisä¸memcacheçåºå«",normalizedTitle:"3.1.redisä¸memcacheçåºå«ï¼",charIndex:4764},{level:2,title:"3.2.Redisçåçº¿ç¨é®é¢",slug:"_3-2-redisçåçº¿ç¨é®é¢",normalizedTitle:"3.2.redisçåçº¿ç¨é®é¢",charIndex:5119},{level:2,title:"3.2.Redisçæä¹åæ¹æ¡ç±åªäºï¼",slug:"_3-2-redisçæä¹åæ¹æ¡ç±åªäº",normalizedTitle:"3.2.redisçæä¹åæ¹æ¡ç±åªäºï¼",charIndex:5373},{level:2,title:"3.3.Redisçéç¾¤æ¹å¼æåªäºï¼",slug:"_3-3-redisçéç¾¤æ¹å¼æåªäº",normalizedTitle:"3.3.redisçéç¾¤æ¹å¼æåªäºï¼",charIndex:7732},{level:2,title:"3.4.Redisçå¸¸ç¨æ°æ®ç±»åæåªäºï¼",slug:"_3-4-redisçå¸¸ç¨æ°æ®ç±»åæåªäº",normalizedTitle:"3.4.redisçå¸¸ç¨æ°æ®ç±»åæåªäºï¼",charIndex:8682},{level:2,title:"3.5.èä¸ä¸Redisäºå¡æºå¶",slug:"_3-5-èä¸ä¸redisäºå¡æºå¶",normalizedTitle:"3.5.èä¸ä¸redisäºå¡æºå¶",charIndex:8881},{level:2,title:"3.6.RedisçKeyè¿æç­ç¥",slug:"_3-6-redisçkeyè¿æç­ç¥",normalizedTitle:"3.6.redisçkeyè¿æç­ç¥",charIndex:10303},{level:3,title:"åèèµæï¼",slug:"åèèµæ",normalizedTitle:"åèèµæï¼",charIndex:10325},{level:4,title:"ä¸ºä»ä¹éè¦åå­åæ¶ï¼",slug:"ä¸ºä»ä¹éè¦åå­åæ¶",normalizedTitle:"ä¸ºä»ä¹éè¦åå­åæ¶ï¼",charIndex:10334},{level:4,title:"è¿æå é¤ç­ç¥",slug:"è¿æå é¤ç­ç¥",normalizedTitle:"è¿æå é¤ç­ç¥",charIndex:10542},{level:4,title:"åå­æ·æ±°ç­ç¥",slug:"åå­æ·æ±°ç­ç¥",normalizedTitle:"åå­æ·æ±°ç­ç¥",charIndex:10549},{level:3,title:"é¢è¯è¯æ¯ï¼",slug:"é¢è¯è¯æ¯",normalizedTitle:"é¢è¯è¯æ¯ï¼",charIndex:5161},{level:2,title:"3.7.Rediså¨é¡¹ç®ä¸­çåªäºå°æ¹æç¨å°?",slug:"_3-7-rediså¨é¡¹ç®ä¸­çåªäºå°æ¹æç¨å°",normalizedTitle:"3.7.rediså¨é¡¹ç®ä¸­çåªäºå°æ¹æç¨å°?",charIndex:12481},{level:2,title:"3.8.Redisçç¼å­å»ç©¿ãç¼å­éªå´©ãç¼å­ç©¿é",slug:"_3-8-redisçç¼å­å»ç©¿ãç¼å­éªå´©ãç¼å­ç©¿é",normalizedTitle:"3.8.redisçç¼å­å»ç©¿ãç¼å­éªå´©ãç¼å­ç©¿é",charIndex:12890},{level:3,title:"1ï¼ç¼å­ç©¿é",slug:"_1-ç¼å­ç©¿é",normalizedTitle:"1ï¼ç¼å­ç©¿é",charIndex:12919},{level:3,title:"2ï¼ç¼å­å»ç©¿",slug:"_2-ç¼å­å»ç©¿",normalizedTitle:"2ï¼ç¼å­å»ç©¿",charIndex:13706},{level:3,title:"3ï¼ç¼å­éªå´©",slug:"_3-ç¼å­éªå´©",normalizedTitle:"3ï¼ç¼å­éªå´©",charIndex:14378},{level:2,title:"3.9.ç¼å­å·ç­æ°æ®åç¦»",slug:"_3-9-ç¼å­å·ç­æ°æ®åç¦»",normalizedTitle:"3.9.ç¼å­å·ç­æ°æ®åç¦»",charIndex:14746},{level:2,title:"3.10.Rediså®ç°åå¸å¼é",slug:"_3-10-rediså®ç°åå¸å¼é",normalizedTitle:"3.10.rediså®ç°åå¸å¼é",charIndex:15253},{level:3,title:"1ï¼æåºæ¬çåå¸å¼éï¼",slug:"_1-æåºæ¬çåå¸å¼é",normalizedTitle:"1ï¼æåºæ¬çåå¸å¼éï¼",charIndex:15400},{level:3,title:"2ï¼å¯éå¥åå¸å¼é",slug:"_2-å¯éå¥åå¸å¼é",normalizedTitle:"2ï¼å¯éå¥åå¸å¼é",charIndex:15914},{level:3,title:"3ï¼é«å¯ç¨çé",slug:"_3-é«å¯ç¨çé",normalizedTitle:"3ï¼é«å¯ç¨çé",charIndex:17597},{level:2,title:"3.11.å¦ä½å®ç°æ°æ®åºä¸ç¼å­æ°æ®ä¸è´ï¼",slug:"_3-11-å¦ä½å®ç°æ°æ®åºä¸ç¼å­æ°æ®ä¸è´",normalizedTitle:"3.11.å¦ä½å®ç°æ°æ®åºä¸ç¼å­æ°æ®ä¸è´ï¼",charIndex:18568}],headersStr:"1.1.SpringCloudå¸¸è§ç»ä»¶æåªäºï¼ 1.2.Nacosçæå¡æ³¨åè¡¨ç»ææ¯ææ ·çï¼ 1.3.Nacoså¦ä½æ¯æé¿éåé¨æ°åä¸æå¡æ³¨åååï¼ 1.4.Nacoså¦ä½é¿åå¹¶åè¯»åå²çªé®é¢ï¼ 1.5.Nacosä¸Eurekaçåºå«æåªäºï¼ 1.6.Sentinelçéæµä¸Gatewayçéæµæä»ä¹å·®å«ï¼ 1.7.Sentinelççº¿ç¨éç¦»ä¸Hystixççº¿ç¨éç¦»æä»ä¹å·®å«? 2.1.ä½ ä»¬ä¸ºä»ä¹éæ©äºRabbitMQèä¸æ¯å¶å®çMQï¼ 2.2.RabbitMQå¦ä½ç¡®ä¿æ¶æ¯çä¸ä¸¢å¤±ï¼ 2.3.RabbitMQå¦ä½é¿åæ¶æ¯å ç§¯ï¼ 2.4.RabbitMQå¦ä½ä¿è¯æ¶æ¯çæåºæ§ï¼ 2.5.å¦ä½é²æ­¢MQæ¶æ¯è¢«éå¤æ¶è´¹ï¼ 2.6.å¦ä½ä¿è¯RabbitMQçé«å¯ç¨ï¼ 2.7.ä½¿ç¨MQå¯ä»¥è§£å³é£äºé®é¢ï¼ 3.1.Redisä¸Memcacheçåºå«ï¼ 3.2.Redisçåçº¿ç¨é®é¢ 3.2.Redisçæä¹åæ¹æ¡ç±åªäºï¼ 3.3.Redisçéç¾¤æ¹å¼æåªäºï¼ 3.4.Redisçå¸¸ç¨æ°æ®ç±»åæåªäºï¼ 3.5.èä¸ä¸Redisäºå¡æºå¶ 3.6.RedisçKeyè¿æç­ç¥ åèèµæï¼ ä¸ºä»ä¹éè¦åå­åæ¶ï¼ è¿æå é¤ç­ç¥ åå­æ·æ±°ç­ç¥ é¢è¯è¯æ¯ï¼ 3.7.Rediså¨é¡¹ç®ä¸­çåªäºå°æ¹æç¨å°? 3.8.Redisçç¼å­å»ç©¿ãç¼å­éªå´©ãç¼å­ç©¿é 1ï¼ç¼å­ç©¿é 2ï¼ç¼å­å»ç©¿ 3ï¼ç¼å­éªå´© 3.9.ç¼å­å·ç­æ°æ®åç¦» 3.10.Rediså®ç°åå¸å¼é 1ï¼æåºæ¬çåå¸å¼éï¼ 2ï¼å¯éå¥åå¸å¼é 3ï¼é«å¯ç¨çé 3.11.å¦ä½å®ç°æ°æ®åºä¸ç¼å­æ°æ®ä¸è´ï¼",content:"# å¸¸è§é¢è¯é¢\n\n\n# 1.å¾®æå¡ç¯\n\n\n# 1.1.SpringCloudå¸¸è§ç»ä»¶æåªäºï¼\n\né®é¢è¯´æï¼è¿ä¸ªé¢ç®ä¸»è¦èå¯å¯¹SpringCloudçç»ä»¶åºæ¬äºè§£\n\né¾æç¨åº¦ï¼ç®å\n\nåèè¯æ¯ï¼\n\nSpringCloudåå«çç»ä»¶å¾å¤ï¼æå¾å¤åè½æ¯éå¤çãå¶ä¸­æå¸¸ç¨ç»ä»¶åæ¬ï¼\n\nâ¢æ³¨åä¸­å¿ç»ä»¶ï¼EurekaãNacosç­\n\nâ¢è´è½½åè¡¡ç»ä»¶ï¼Ribbon\n\nâ¢è¿ç¨è°ç¨ç»ä»¶ï¼OpenFeign\n\nâ¢ç½å³ç»ä»¶ï¼ZuulãGateway\n\nâ¢æå¡ä¿æ¤ç»ä»¶ï¼HystrixãSentinel\n\nâ¢æå¡éç½®ç®¡çç»ä»¶ï¼SpringCloudConfigãNacos\n\n\n# 1.2.Nacosçæå¡æ³¨åè¡¨ç»ææ¯ææ ·çï¼\n\né®é¢è¯´æï¼èå¯å¯¹Nacosæ°æ®åçº§ç»æçäºè§£ï¼ä»¥åNacosæºç çææ¡æåµ\n\né¾æç¨åº¦ï¼ä¸è¬\n\nåèè¯æ¯ï¼\n\nNacoséç¨äºæ°æ®çåçº§å­å¨æ¨¡åï¼æå¤å±æ¯Namespaceï¼ç¨æ¥éç¦»ç¯å¢ãç¶åæ¯Groupï¼ç¨æ¥å¯¹æå¡åç»ãæ¥ä¸æ¥å°±æ¯æå¡ï¼Serviceï¼äºï¼ä¸ä¸ªæå¡åå«å¤ä¸ªå®ä¾ï¼ä½æ¯å¯è½å¤äºä¸åæºæ¿ï¼å æ­¤Serviceä¸æå¤ä¸ªéç¾¤ï¼Clusterï¼ï¼Clusterä¸æ¯ä¸åçå®ä¾ï¼Instanceï¼ã\n\nå¯¹åºå°Javaä»£ç ä¸­ï¼Nacoséç¨äºä¸ä¸ªå¤å±çMapæ¥è¡¨ç¤ºãç»æä¸ºMap<String, Map<String, Service>>ï¼å¶ä¸­æå¤å±Mapçkeyå°±æ¯namespaceIdï¼å¼æ¯ä¸ä¸ªMapãåå±Mapçkeyæ¯groupæ¼æ¥serviceNameï¼å¼æ¯Serviceå¯¹è±¡ãServiceå¯¹è±¡åé¨åæ¯ä¸ä¸ªMapï¼keyæ¯éç¾¤åç§°ï¼å¼æ¯Clusterå¯¹è±¡ãèClusterå¯¹è±¡åé¨ç»´æ¤äºInstanceçéåã\n\nå¦å¾ï¼\n\n\n\n\n# 1.3.Nacoså¦ä½æ¯æé¿éåé¨æ°åä¸æå¡æ³¨åååï¼\n\né®é¢è¯´æï¼èå¯å¯¹Nacosæºç çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\nNacosåé¨æ¥æ¶å°æ³¨åçè¯·æ±æ¶ï¼ä¸ä¼ç«å³åæ°æ®ï¼èæ¯å°æå¡æ³¨åçä»»å¡æ¾å¥ä¸ä¸ªé»å¡éåå°±ç«å³ååºç»å®¢æ·ç«¯ãç¶åå©ç¨çº¿ç¨æ± è¯»åé»å¡éåä¸­çä»»å¡ï¼å¼æ­¥æ¥å®æå®ä¾æ´æ°ï¼ä»èæé«å¹¶ååè½åã\n\n\n# 1.4.Nacoså¦ä½é¿åå¹¶åè¯»åå²çªé®é¢ï¼\n\né®é¢è¯´æï¼èå¯å¯¹Nacosæºç çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\nNacoså¨æ´æ°å®ä¾åè¡¨æ¶ï¼ä¼éç¨CopyOnWriteææ¯ï¼é¦åå°æ§çå®ä¾åè¡¨æ·è´ä¸ä»½ï¼ç¶åæ´æ°æ·è´çå®ä¾åè¡¨ï¼åç¨æ´æ°åçå®ä¾åè¡¨æ¥è¦çæ§çå®ä¾åè¡¨ã\n\nè¿æ ·å¨æ´æ°çè¿ç¨ä¸­ï¼å°±ä¸ä¼å¯¹è¯»å®ä¾åè¡¨çè¯·æ±äº§çå½±åï¼ä¹ä¸ä¼åºç°èè¯»é®é¢äºã\n\n\n# 1.5.Nacosä¸Eurekaçåºå«æåªäºï¼\n\né®é¢è¯´æï¼èå¯å¯¹NacosãEurekaçåºå±å®ç°çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\nNacosä¸Eurekaæç¸åç¹ï¼ä¹æä¸åä¹å¤ï¼å¯ä»¥ä»ä»¥ä¸å ç¹æ¥æè¿°ï¼\n\n * æ¥å£æ¹å¼ï¼Nacosä¸Eurekaé½å¯¹å¤æ´é²äºResté£æ ¼çAPIæ¥å£ï¼ç¨æ¥å®ç°æå¡æ³¨åãåç°ç­åè½\n * å®ä¾ç±»åï¼Nacosçå®ä¾ææ°¸ä¹åä¸´æ¶å®ä¾ä¹åï¼èEurekaåªæ¯æä¸´æ¶å®ä¾\n * å¥åº·æ£æµï¼Nacoså¯¹ä¸´æ¶å®ä¾éç¨å¿è·³æ¨¡å¼æ£æµï¼å¯¹æ°¸ä¹å®ä¾éç¨ä¸»å¨è¯·æ±æ¥æ£æµï¼Eurekaåªæ¯æå¿è·³æ¨¡å¼\n * æå¡åç°ï¼Nacosæ¯æå®æ¶æååè®¢éæ¨éä¸¤ç§æ¨¡å¼ï¼Eurekaåªæ¯æå®æ¶æåæ¨¡å¼\n\n\n# 1.6.Sentinelçéæµä¸Gatewayçéæµæä»ä¹å·®å«ï¼\n\né®é¢è¯´æï¼èå¯å¯¹éæµç®æ³çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\néæµç®æ³å¸¸è§çæä¸ç§å®ç°ï¼æ»å¨æ¶é´çªå£ãä»¤çæ¡¶ç®æ³ãæ¼æ¡¶ç®æ³ãGatewayåéç¨äºåºäºRediså®ç°çä»¤çæ¡¶ç®æ³ã\n\nèSentinelåé¨å´æ¯è¾å¤æï¼\n\n * é»è®¤éæµæ¨¡å¼æ¯åºäºæ»å¨æ¶é´çªå£ç®æ³\n * æéç­å¾çéæµæ¨¡å¼ååºäºæ¼æ¡¶ç®æ³\n * èç­ç¹åæ°éæµåæ¯åºäºä»¤çæ¡¶ç®æ³\n\n\n# 1.7.Sentinelççº¿ç¨éç¦»ä¸Hystixççº¿ç¨éç¦»æä»ä¹å·®å«?\n\né®é¢è¯´æï¼èå¯å¯¹çº¿ç¨éç¦»æ¹æ¡çææ¡æåµ\n\né¾æç¨åº¦ï¼ä¸è¬\n\nåèè¯æ¯ï¼\n\nHystixé»è®¤æ¯åºäºçº¿ç¨æ± å®ç°ççº¿ç¨éç¦»ï¼æ¯ä¸ä¸ªè¢«éç¦»çä¸å¡é½è¦åå»ºä¸ä¸ªç¬ç«ççº¿ç¨æ± ï¼çº¿ç¨è¿å¤ä¼å¸¦æ¥é¢å¤çCPUå¼éï¼æ§è½ä¸è¬ï¼ä½æ¯éç¦»æ§æ´å¼ºã\n\nSentinelæ¯åºäºä¿¡å·éï¼è®¡æ°å¨ï¼å®ç°ççº¿ç¨éç¦»ï¼ä¸ç¨åå»ºçº¿ç¨æ± ï¼æ§è½è¾å¥½ï¼ä½æ¯éç¦»æ§ä¸è¬ã\n\n\n# 2.MQç¯\n\n\n# 2.1.ä½ ä»¬ä¸ºä»ä¹éæ©äºRabbitMQèä¸æ¯å¶å®çMQï¼\n\nå¦å¾ï¼\n\n\n\nè¯æ¯ï¼\n\nkafkaæ¯ä»¥ååéé«èé»åï¼ä¸è¿å¶æ°æ®ç¨³å®æ§ä¸è¬ï¼èä¸æ æ³ä¿è¯æ¶æ¯æåºæ§ãæä»¬å¬å¸çæ¥å¿æ¶éä¹æä½¿ç¨ï¼ä¸å¡æ¨¡åä¸­åä½¿ç¨çRabbitMQã\n\né¿éå·´å·´çRocketMQåºäºKafkaçåçï¼å¼¥è¡¥äºKafkaçç¼ºç¹ï¼ç»§æ¿äºå¶é«ååçä¼å¿ï¼å¶å®¢æ·ç«¯ç®åä»¥Javaä¸ºä¸»ãä½æ¯æä»¬æå¿é¿éå·´å·´å¼æºäº§åçç¨³å®æ§ï¼æä»¥å°±æ²¡æä½¿ç¨ã\n\nRabbitMQåºäºé¢åå¹¶åçè¯­è¨Erlangå¼åï¼ååéä¸å¦Kafkaï¼ä½æ¯å¯¹æä»¬å¬å¸æ¥è®²å¤ç¨äºãèä¸æ¶æ¯å¯é æ§è¾å¥½ï¼å¹¶ä¸æ¶æ¯å»¶è¿æä½ï¼éç¾¤æ­å»ºæ¯è¾æ¹ä¾¿ãæ¯æå¤ç§åè®®ï¼å¹¶ä¸æåç§è¯­è¨çå®¢æ·ç«¯ï¼æ¯è¾çµæ´»ãSpringå¯¹RabbitMQçæ¯æä¹æ¯è¾å¥½ï¼ä½¿ç¨èµ·æ¥æ¯è¾æ¹ä¾¿ï¼æ¯è¾ç¬¦åæä»¬å¬å¸çéæ±ã\n\nç»¼åèèæä»¬å¬å¸çå¹¶åéæ±ä»¥åç¨³å®æ§éæ±ï¼æä»¬éæ©äºRabbitMQã\n\n\n# 2.2.RabbitMQå¦ä½ç¡®ä¿æ¶æ¯çä¸ä¸¢å¤±ï¼\n\nè¯æ¯ï¼\n\nRabbitMQéå¯¹æ¶æ¯ä¼ éè¿ç¨ä¸­å¯è½åçé®é¢çåä¸ªå°æ¹ï¼ç»åºäºéå¯¹æ§çè§£å³æ¹æ¡ï¼\n\n * çäº§èåéæ¶æ¯æ¶å¯è½å ä¸ºç½ç»é®é¢å¯¼è´æ¶æ¯æ²¡æå°è¾¾äº¤æ¢æºï¼\n   * RabbitMQæä¾äºpublisher confirmæºå¶\n     * çäº§èåéæ¶æ¯åï¼å¯ä»¥ç¼åConfirmCallbackå½æ°\n     * æ¶æ¯æåå°è¾¾äº¤æ¢æºåï¼RabbitMQä¼è°ç¨ConfirmCallbackéç¥æ¶æ¯çåéèï¼è¿åACK\n     * æ¶æ¯å¦ææªå°è¾¾äº¤æ¢æºï¼RabbitMQä¹ä¼è°ç¨ConfirmCallbackéç¥æ¶æ¯çåéèï¼è¿åNACK\n     * æ¶æ¯è¶æ¶æªåéæåä¹ä¼æåºå¼å¸¸\n * æ¶æ¯å°è¾¾äº¤æ¢æºåï¼å¦ææªè½å°è¾¾éåï¼ä¹ä¼å¯¼è´æ¶æ¯ä¸¢å¤±ï¼\n   * RabbitMQæä¾äºpublisher returnæºå¶\n     * çäº§èå¯ä»¥å®ä¹ReturnCallbackå½æ°\n     * æ¶æ¯å°è¾¾äº¤æ¢æºï¼æªå°è¾¾éåï¼RabbitMQä¼è°ç¨ReturnCallbackéç¥åéèï¼åç¥å¤±è´¥åå \n * æ¶æ¯å°è¾¾éååï¼MQå®æºä¹å¯è½å¯¼è´ä¸¢å¤±æ¶æ¯ï¼\n   * RabbitMQæä¾äºæä¹ååè½ï¼éç¾¤çä¸»ä»å¤ä»½åè½\n     * æ¶æ¯æä¹åï¼RabbitMQä¼å°äº¤æ¢æºãéåãæ¶æ¯æä¹åå°ç£çï¼å®æºéå¯å¯ä»¥æ¢å¤æ¶æ¯\n     * éåéç¾¤ï¼ä»²è£éåï¼é½å¯ä»¥æä¾ä¸»ä»å¤ä»½åè½ï¼ä¸»èç¹å®æºï¼ä»èç¹ä¼èªå¨åæ¢ä¸ºä¸»ï¼æ°æ®ä¾ç¶å¨\n * æ¶æ¯æéç»æ¶è´¹èåï¼å¦ææ¶è´¹èå¤çä¸å½ï¼ä¹å¯è½å¯¼è´æ¶æ¯ä¸¢å¤±\n   * SpringAMQPåºäºRabbitMQæä¾äºæ¶è´¹èç¡®è®¤æºå¶ãæ¶è´¹èéè¯æºå¶ï¼æ¶è´¹èå¤±è´¥å¤çç­ç¥ï¼\n     * æ¶è´¹èçç¡®è®¤æºå¶ï¼\n       * æ¶è´¹èå¤çæ¶æ¯æåï¼æªåºç°å¼å¸¸æ¶ï¼Springè¿åACKç»RabbitMQï¼æ¶æ¯æè¢«ç§»é¤\n       * æ¶è´¹èå¤çæ¶æ¯å¤±è´¥ï¼æåºå¼å¸¸ï¼å®æºï¼Springè¿åNACKæèä¸è¿åç»æï¼æ¶æ¯ä¸è¢«å¼å¸¸\n     * æ¶è´¹èéè¯æºå¶ï¼\n       * é»è®¤æåµä¸ï¼æ¶è´¹èå¤çå¤±è´¥æ¶ï¼æ¶æ¯ä¼åæ¬¡åå°MQéåï¼ç¶åæéç»å¶å®æ¶è´¹èãSpringæä¾çæ¶è´¹èéè¯æºå¶ï¼åæ¯å¨å¤çå¤±è´¥åä¸è¿åNACKï¼èæ¯ç´æ¥å¨æ¶è´¹èæ¬å°éè¯ãå¤æ¬¡éè¯é½å¤±è´¥åï¼åæç§æ¶è´¹èå¤±è´¥å¤çç­ç¥æ¥å¤çæ¶æ¯ãé¿åäºæ¶æ¯é¢ç¹å¥éå¸¦æ¥çé¢å¤ååã\n     * æ¶è´¹èå¤±è´¥ç­ç¥ï¼\n       * å½æ¶è´¹èå¤æ¬¡æ¬å°éè¯å¤±è´¥æ¶ï¼æ¶æ¯é»è®¤ä¼ä¸¢å¼ã\n       * Springæä¾äºRepublishç­ç¥ï¼å¨å¤æ¬¡éè¯é½å¤±è´¥ï¼èå°½éè¯æ¬¡æ°åï¼å°æ¶æ¯éæ°æéç»æå®çå¼å¸¸äº¤æ¢æºï¼å¹¶ä¸ä¼æºå¸¦ä¸å¼å¸¸æ ä¿¡æ¯ï¼å¸®å©å®ä½é®é¢ã\n\n\n# 2.3.RabbitMQå¦ä½é¿åæ¶æ¯å ç§¯ï¼\n\nè¯æ¯ï¼\n\næ¶æ¯å ç§¯é®é¢äº§ççåå å¾å¾æ¯å ä¸ºæ¶æ¯åéçéåº¦è¶è¿äºæ¶è´¹èæ¶æ¯å¤ççéåº¦ãå æ­¤è§£å³æ¹æ¡æ å¤ä¹ä»¥ä¸ä¸ç¹ï¼\n\n * æé«æ¶è´¹èå¤çéåº¦\n * å¢å æ´å¤æ¶è´¹è\n * å¢å éåæ¶æ¯å­å¨ä¸é\n\n1ï¼æé«æ¶è´¹èå¤çéåº¦\n\næ¶è´¹èå¤çéåº¦æ¯ç±ä¸å¡ä»£ç å³å®çï¼æä»¥æä»¬è½åçäºæåæ¬ï¼\n\n * å°½å¯è½ä¼åä¸å¡ä»£ç ï¼æé«ä¸å¡æ§è½\n * æ¥æ¶å°æ¶æ¯åï¼å¼å¯çº¿ç¨æ± ï¼å¹¶åå¤çå¤ä¸ªæ¶æ¯\n\nä¼ç¹ï¼ææ¬ä½ï¼æ¹æ¹ä»£ç å³å¯\n\nç¼ºç¹ï¼å¼å¯çº¿ç¨æ± ä¼å¸¦æ¥é¢å¤çæ§è½å¼éï¼å¯¹äºé«é¢ãä½æ¶å»¶çä»»å¡ä¸åéãæ¨èä»»å¡æ§è¡å¨æè¾é¿çä¸å¡ã\n\n2ï¼å¢å æ´å¤æ¶è´¹è\n\nä¸ä¸ªéåç»å®å¤ä¸ªæ¶è´¹èï¼å±åäºæ¢ä»»å¡ï¼èªç¶å¯ä»¥æä¾æ¶æ¯å¤ççéåº¦ã\n\nä¼ç¹ï¼è½ç¨é±è§£å³çé®é¢é½ä¸æ¯é®é¢ãå®ç°ç®åç²æ´\n\nç¼ºç¹ï¼é®é¢æ¯æ²¡æé±ãææ¬å¤ªé«\n\n3ï¼å¢å éåæ¶æ¯å­å¨ä¸é\n\nå¨RabbitMQç1.8çæ¬åï¼å å¥äºæ°çéåæ¨¡å¼ï¼Lazy Queue\n\nè¿ç§éåä¸ä¼å°æ¶æ¯ä¿å­å¨åå­ä¸­ï¼èæ¯å¨æ¶å°æ¶æ¯åç´æ¥åå¥ç£çä¸­ï¼çè®ºä¸æ²¡æå­å¨ä¸éãå¯ä»¥è§£å³æ¶æ¯å ç§¯é®é¢ã\n\nä¼ç¹ï¼ç£çå­å¨æ´å®å¨ï¼å­å¨æ ä¸éï¼é¿ååå­å­å¨å¸¦æ¥çPage Outé®é¢ï¼æ§è½æ´ç¨³å®ï¼\n\nç¼ºç¹ï¼ç£çå­å¨åå°IOæ§è½çéå¶ï¼æ¶æ¯æ¶ææ§ä¸å¦åå­æ¨¡å¼ï¼ä½å½±åä¸å¤§ã\n\n\n# 2.4.RabbitMQå¦ä½ä¿è¯æ¶æ¯çæåºæ§ï¼\n\nè¯æ¯ï¼\n\nå¶å®RabbitMQæ¯éåå­å¨ï¼å¤©ç¶å·å¤åè¿ååºçç¹ç¹ï¼åªè¦æ¶æ¯çåéæ¯æåºçï¼é£ä¹çè®ºä¸æ¥æ¶ä¹æ¯æåºçãä¸è¿å½ä¸ä¸ªéåç»å®äºå¤ä¸ªæ¶è´¹èæ¶ï¼å¯è½åºç°æ¶æ¯è½®è¯¢æéç»æ¶è´¹èçæåµï¼èæ¶è´¹èçå¤çé¡ºåºå°±æ æ³ä¿è¯äºã\n\nå æ­¤ï¼è¦ä¿è¯æ¶æ¯çæåºæ§ï¼éè¦åçä¸é¢å ç¹ï¼\n\n * ä¿è¯æ¶æ¯åéçæåºæ§\n * ä¿è¯ä¸ç»æåºçæ¶æ¯é½åéå°åä¸ä¸ªéå\n * ä¿è¯ä¸ä¸ªéååªåå«ä¸ä¸ªæ¶è´¹è\n\n\n# 2.5.å¦ä½é²æ­¢MQæ¶æ¯è¢«éå¤æ¶è´¹ï¼\n\nè¯æ¯ï¼\n\næ¶æ¯éå¤æ¶è´¹çåå å¤ç§å¤æ ·ï¼ä¸å¯é¿åãæä»¥åªè½ä»æ¶è´¹èç«¯å¥æï¼åªè¦è½ä¿è¯æ¶æ¯å¤ççå¹ç­æ§å°±å¯ä»¥ç¡®ä¿æ¶æ¯ä¸è¢«éå¤æ¶è´¹ã\n\nèå¹ç­æ§çä¿è¯åæå¾å¤æ¹æ¡ï¼\n\n * ç»æ¯ä¸æ¡æ¶æ¯é½æ·»å ä¸ä¸ªå¯ä¸idï¼å¨æ¬å°è®°å½æ¶æ¯è¡¨åæ¶æ¯ç¶æï¼å¤çæ¶æ¯æ¶åºäºæ°æ®åºè¡¨çidå¯ä¸æ§åå¤æ­\n * åæ ·æ¯è®°å½æ¶æ¯è¡¨ï¼å©ç¨æ¶æ¯ç¶æå­æ®µå®ç°åºäºä¹è§éçå¤æ­ï¼ä¿è¯å¹ç­\n * åºäºä¸å¡æ¬èº«çå¹ç­æ§ãæ¯å¦æ ¹æ®idçå é¤ãæ¥è¯¢ä¸å¡å¤©çå¹ç­ï¼æ°å¢ãä¿®æ¹ç­ä¸å¡å¯ä»¥èèåºäºæ°æ®åºidå¯ä¸æ§ãæèä¹è§éæºå¶ç¡®ä¿å¹ç­ãæ¬è´¨ä¸æ¶æ¯è¡¨æ¹æ¡ç±»ä¼¼ã\n\n\n# 2.6.å¦ä½ä¿è¯RabbitMQçé«å¯ç¨ï¼\n\nè¯æ¯ï¼\n\nè¦å®ç°RabbitMQçé«å¯ç¨æ å¤ä¹ä¸é¢ä¸¤ç¹ï¼\n\n * åå¥½äº¤æ¢æºãéåãæ¶æ¯çæä¹å\n * æ­å»ºRabbitMQçéåéç¾¤ï¼åå¥½ä¸»ä»å¤ä»½ãå½ç¶ä¹å¯ä»¥ä½¿ç¨ä»²è£éåä»£æ¿éåéç¾¤ã\n\n\n# 2.7.ä½¿ç¨MQå¯ä»¥è§£å³é£äºé®é¢ï¼\n\nè¯æ¯ï¼\n\nRabbitMQè½è§£å³çé®é¢å¾å¤ï¼ä¾å¦ï¼\n\n * è§£è¦åï¼å°å ä¸ªä¸å¡å³èçå¾®æå¡è°ç¨ä¿®æ¹ä¸ºåºäºMQçå¼æ­¥éç¥ï¼å¯ä»¥è§£é¤å¾®æå¡ä¹é´çä¸å¡è¦åãåæ¶è¿æé«äºä¸å¡æ§è½ã\n * æµéåå³°ï¼å°çªåçä¸å¡è¯·æ±æ¾å¥MQä¸­ï¼ä½ä¸ºç¼å²åºãåç«¯çä¸å¡æ ¹æ®èªå·±çå¤çè½åä»MQä¸­è·åæ¶æ¯ï¼éä¸ªå¤çä»»å¡ãæµéæ²çº¿åçå¹³æ»å¾å¤\n * å»¶è¿éåï¼åºäºRabbitMQçæ­»ä¿¡éåæèDelayExchangeæä»¶ï¼å¯ä»¥å®ç°æ¶æ¯åéåï¼å»¶è¿æ¥æ¶çææã\n\n\n# 3.Redisç¯\n\n\n# 3.1.Redisä¸Memcacheçåºå«ï¼\n\n * redisæ¯ææ´ä¸°å¯çæ°æ®ç±»åï¼æ¯ææ´å¤æçåºç¨åºæ¯ï¼ï¼Redisä¸ä»ä»æ¯æç®åçk/vç±»åçæ°æ®ï¼åæ¶è¿æä¾listï¼setï¼zsetï¼hashç­æ°æ®ç»æçå­å¨ãmemcacheæ¯æç®åçæ°æ®ç±»åï¼Stringã\n * Redisæ¯ææ°æ®çæä¹åï¼å¯ä»¥å°åå­ä¸­çæ°æ®ä¿æå¨ç£çä¸­ï¼éå¯çæ¶åå¯ä»¥åæ¬¡å è½½è¿è¡ä½¿ç¨,èMemecacheææ°æ®å¨é¨å­å¨åå­ä¹ä¸­ã\n * éç¾¤æ¨¡å¼ï¼memcachedæ²¡æåççéç¾¤æ¨¡å¼ï¼éè¦ä¾é å®¢æ·ç«¯æ¥å®ç°å¾éç¾¤ä¸­åçåå¥æ°æ®ï¼ä½æ¯ redis ç®åæ¯åçæ¯æ cluster æ¨¡å¼ç.\n * Redisä½¿ç¨åçº¿ç¨ï¼Memcachedæ¯å¤çº¿ç¨ï¼éé»å¡IOå¤ç¨çç½ç»æ¨¡åï¼Redisä½¿ç¨åçº¿ç¨çå¤è·¯ IO å¤ç¨æ¨¡åã\n\n\n\n\n# 3.2.Redisçåçº¿ç¨é®é¢\n\né¢è¯å®ï¼Rediséç¨åçº¿ç¨ï¼å¦ä½ä¿è¯é«å¹¶åï¼\n\né¢è¯è¯æ¯ï¼\n\nRediså¿«çä¸»è¦åå æ¯ï¼\n\n 1. å®å¨åºäºåå­\n 2. æ°æ®ç»æç®åï¼å¯¹æ°æ®æä½ä¹ç®å\n 3. ä½¿ç¨å¤è·¯ I/O å¤ç¨æ¨¡åï¼ååå©ç¨CPUèµæº\n\né¢è¯å®ï¼è¿æ ·åçå¥½å¤æ¯ä»ä¹ï¼\n\né¢è¯è¯æ¯ï¼\n\nåçº¿ç¨ä¼å¿æä¸é¢å ç¹ï¼\n\n * ä»£ç æ´æ¸æ°ï¼å¤çé»è¾æ´ç®å\n * ä¸ç¨å»èèåç§éçé®é¢ï¼ä¸å­å¨å ééæ¾éæä½ï¼æ²¡æå ä¸ºéèå¯¼è´çæ§è½æ¶è\n * ä¸å­å¨å¤è¿ç¨æèå¤çº¿ç¨å¯¼è´çCPUåæ¢ï¼ååå©ç¨CPUèµæº\n\n\n# 3.2.Redisçæä¹åæ¹æ¡ç±åªäºï¼\n\nç¸å³èµæï¼\n\n1ï¼RDB æä¹å\n\nRDBæä¹åå¯ä»¥ä½¿ç¨saveæbgsaveï¼ä¸ºäºä¸é»å¡ä¸»è¿ç¨ä¸å¡ï¼ä¸è¬é½ä½¿ç¨bgsaveï¼æµç¨ï¼\n\n * Redis è¿ç¨ä¼ fork åºä¸ä¸ªå­è¿ç¨ï¼ä¸ç¶è¿ç¨åå­æ°æ®ä¸è´ï¼ã\n * ç¶è¿ç¨ç»§ç»­å¤çå®¢æ·ç«¯è¯·æ±å½ä»¤\n * ç±å­è¿ç¨å°åå­ä¸­çæææ°æ®åå¥å°ä¸ä¸ªä¸´æ¶ç RDB æä»¶ä¸­ã\n * å®æåå¥æä½ä¹åï¼æ§ç RDB æä»¶ä¼è¢«æ°ç RDB æä»¶æ¿æ¢æã\n\nä¸é¢æ¯ä¸äºå RDB æä¹åç¸å³çéç½®ï¼\n\n * save 60 10000ï¼å¦æå¨ 60 ç§åæ 10000 ä¸ª key åçæ¹åï¼é£å°±æ§è¡ RDB æä¹åã\n * stop-writes-on-bgsave-error yesï¼å¦æ Redis æ§è¡ RDB æä¹åå¤±è´¥ï¼å¸¸è§äºæä½ç³»ç»åå­ä¸è¶³ï¼ï¼é£ä¹ Redis å°ä¸åæ¥å client åå¥æ°æ®çè¯·æ±ã\n * rdbcompression yesï¼å½çæ RDB æä»¶æ¶ï¼åæ¶è¿è¡åç¼©ã\n * dbfilename dump.rdbï¼å° RDB æä»¶å½åä¸º dump.rdbã\n * dir /var/lib/redisï¼å° RDB æä»¶ä¿å­å¨/var/lib/redisç®å½ä¸ã\n\nå½ç¶å¨å®è·µä¸­ï¼æä»¬éå¸¸ä¼å°stop-writes-on-bgsave-errorè®¾ç½®ä¸ºfalseï¼åæ¶è®©çæ§ç³»ç»å¨ Redis æ§è¡ RDB æä¹åå¤±è´¥æ¶åéåè­¦ï¼ä»¥ä¾¿äººå·¥ä»å¥è§£å³ï¼èä¸æ¯ç²æ´å°æç» client çåå¥è¯·æ±ã\n\nRDBæä¹åçä¼ç¹ï¼\n\n * RDBæä¹åæä»¶å°ï¼Redisæ°æ®æ¢å¤æ¶éåº¦å¿«\n * å­è¿ç¨ä¸å½±åç¶è¿ç¨ï¼ç¶è¿ç¨å¯ä»¥æç»­å¤çå®¢æ·ç«¯å½ä»¤\n * å­è¿ç¨forkæ¶éç¨copy-on-writeæ¹å¼ï¼å¤§å¤æ°æåµä¸ï¼æ²¡æå¤ªå¤çåå­æ¶èï¼æçæ¯è¾å¥½ã\n\nRDB æä¹åçç¼ºç¹ï¼\n\n * å­è¿ç¨forkæ¶éç¨copy-on-writeæ¹å¼ï¼å¦æRedisæ­¤æ¶åæä½è¾å¤ï¼å¯è½å¯¼è´é¢å¤çåå­å ç¨ï¼çè³åå­æº¢åº\n * RDBæä»¶åç¼©ä¼åå°æä»¶ä½ç§¯ï¼ä½éè¿æ¶ä¼å¯¹CPUæé¢å¤çæ¶è\n * å¦æä¸å¡åºæ¯å¾çéæ°æ®çæä¹æ§ (durability)ï¼é£ä¹ä¸åºè¯¥éç¨ RDB æä¹åãè­¬å¦è¯´ï¼å¦æ Redis æ¯ 5 åéæ§è¡ä¸æ¬¡ RDB æä¹åï¼è¦æ¯ Redis æå¤å¥æºäºï¼é£ä¹æå¤ä¼ä¸¢å¤± 5 åéçæ°æ®ã\n\n2ï¼AOF æä¹å\n\nå¯ä»¥ä½¿ç¨appendonly yeséç½®é¡¹æ¥å¼å¯ AOF æä¹åãRedis æ§è¡ AOF æä¹åæ¶ï¼ä¼å°æ¥æ¶å°çåå½ä»¤è¿½å å° AOF æä»¶çæ«å°¾ï¼å æ­¤ Redis åªè¦å¯¹ AOF æä»¶ä¸­çå½ä»¤è¿è¡åæ¾ï¼å°±å¯ä»¥å°æ°æ®åºè¿åå°ååçç¶æã ããä¸ RDB æä¹åç¸æ¯ï¼AOF æä¹åçä¸ä¸ªææ¾ä¼å¿å°±æ¯ï¼å®å¯ä»¥æé«æ°æ®çæä¹æ§ (durability)ãå ä¸ºå¨ AOF æ¨¡å¼ä¸ï¼Redis æ¯æ¬¡æ¥æ¶å° client çåå½ä»¤ï¼å°±ä¼å°å½ä»¤write()å° AOF æä»¶æ«å°¾ã ããç¶èï¼å¨ Linux ä¸­ï¼å°æ°æ®write()å°æä»¶åï¼æ°æ®å¹¶ä¸ä¼ç«å³å·æ°å°ç£çï¼èä¼åæå­å¨ OS çæä»¶ç³»ç»ç¼å²åºãå¨åéçæ¶æºï¼OS æä¼å°ç¼å²åºçæ°æ®å·æ°å°ç£çï¼å¦æéè¦å°æä»¶åå®¹å·æ°å°ç£çï¼å¯ä»¥è°ç¨fsync()æfdatasync()ï¼ã ããéè¿appendfsyncéç½®é¡¹ï¼å¯ä»¥æ§å¶ Redis å°å½ä»¤åæ­¥å°ç£ççé¢çï¼\n\n * alwaysï¼æ¯æ¬¡ Redis å°å½ä»¤write()å° AOF æä»¶æ¶ï¼é½ä¼è°ç¨fsync()ï¼å°å½ä»¤å·æ°å°ç£çãè¿å¯ä»¥ä¿è¯æå¥½çæ°æ®æä¹æ§ï¼ä½å´ä¼ç»ç³»ç»å¸¦æ¥æå¤§çå¼éã\n * noï¼Redis åªå°å½ä»¤write()å° AOF æä»¶ãè¿ä¼è®© OS å³å®ä½æ¶å°å½ä»¤å·æ°å°ç£çã\n * everysecï¼é¤äºå°å½ä»¤write()å° AOF æä»¶ï¼Redis è¿ä¼æ¯ç§æ§è¡ä¸æ¬¡fsync()ãå¨å®è·µä¸­ï¼æ¨èä½¿ç¨è¿ç§è®¾ç½®ï¼ä¸å®ç¨åº¦ä¸å¯ä»¥ä¿è¯æ°æ®æä¹æ§ï¼åä¸ä¼ææ¾éä½ Redis æ§è½ã\n\nç¶èï¼AOF æä¹åå¹¶ä¸æ¯æ²¡æç¼ºç¹çï¼Redis ä¼ä¸æ­å°æ¥æ¶å°çåå½ä»¤è¿½å å° AOF æä»¶ä¸­ï¼å¯¼è´ AOF æä»¶è¶æ¥è¶å¤§ãè¿å¤§ç AOF æä»¶ä¼æ¶èç£çç©ºé´ï¼å¹¶ä¸å¯¼è´ Redis éå¯æ¶æ´å ç¼æ¢ãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼å¨éå½æåµä¸ï¼Redis ä¼å¯¹ AOF æä»¶è¿è¡éåï¼å»é¤æä»¶ä¸­åä½çå½ä»¤ï¼ä»¥åå° AOF æä»¶çä½ç§¯ãå¨éå AOF æä»¶æé´ï¼ Redis ä¼å¯å¨ä¸ä¸ªå­è¿ç¨ï¼ç±å­è¿ç¨è´è´£å¯¹ AOF æä»¶è¿è¡éåã ããå¯ä»¥éè¿ä¸é¢ä¸¤ä¸ªéç½®é¡¹ï¼æ§å¶ Redis éå AOF æä»¶çé¢çï¼\n\n * auto-aof-rewrite-min-size 64mb\n * auto-aof-rewrite-percentage 100\n\nä¸é¢ä¸¤ä¸ªéç½®çä½ç¨ï¼å½ AOF æä»¶çä½ç§¯å¤§äº 64MBï¼å¹¶ä¸ AOF æä»¶çä½ç§¯æ¯ä¸ä¸æ¬¡éåä¹åçä½ç§¯å¤§äºè³å°ä¸åï¼é£ä¹ Redis å°±ä¼æ§è¡ AOF éåã\n\nä¼ç¹ï¼\n\n * æä¹åé¢çé«ï¼æ°æ®å¯é æ§é«\n * æ²¡æé¢å¤çåå­æCPUæ¶è\n\nç¼ºç¹ï¼\n\n * æä»¶ä½ç§¯å¤§\n * æä»¶å¤§å¯¼è´æå¡æ°æ®æ¢å¤æ¶æçè¾ä½\n\né¢è¯è¯æ¯ï¼\n\nRedis æä¾äºä¸¤ç§æ°æ®æä¹åçæ¹å¼ï¼ä¸ç§æ¯ RDBï¼å¦ä¸ç§æ¯ AOFãé»è®¤æåµä¸ï¼Redis ä½¿ç¨çæ¯ RDB æä¹åã\n\nRDBæä¹åæä»¶ä½ç§¯è¾å°ï¼ä½æ¯ä¿å­æ°æ®çé¢çä¸è¬è¾ä½ï¼å¯é æ§å·®ï¼å®¹æä¸¢å¤±æ°æ®ãå¦å¤RDBåæ°æ®æ¶ä¼éç¨Forkå½æ°æ·è´ä¸»è¿ç¨ï¼å¯è½æé¢å¤çåå­æ¶èï¼æä»¶åç¼©ä¹ä¼æé¢å¤çCPUæ¶èã\n\nROFæä¹åå¯ä»¥åå°æ¯ç§éæä¹åä¸æ¬¡ï¼å¯é æ§é«ãä½æ¯æä¹åæä»¶ä½ç§¯è¾å¤§ï¼å¯¼è´æ°æ®æ¢å¤æ¶è¯»åæä»¶æ¶é´è¾é¿ï¼æçç¥ä½\n\n\n# 3.3.Redisçéç¾¤æ¹å¼æåªäºï¼\n\né¢è¯è¯æ¯ï¼\n\nRediséç¾¤å¯ä»¥åä¸ºä¸»ä»éç¾¤ååçéç¾¤ä¸¤ç±»ã\n\nä¸»ä»éç¾¤ä¸è¬ä¸ä¸»å¤ä»ï¼ä¸»åºç¨æ¥åæ°æ®ï¼ä»åºç¨æ¥è¯»æ°æ®ãç»åå¨åµï¼å¯ä»¥åä¸»åºå®æºæ¶ä»æ°éä¸»ï¼ç®çæ¯ä¿è¯Redisçé«å¯ç¨ã\n\nåçéç¾¤æ¯æ°æ®åçï¼æä»¬ä¼è®©å¤ä¸ªRedisèç¹ç»æéç¾¤ï¼å¹¶å°16383ä¸ªææ§½åå°ä¸åçèç¹ä¸ãå­å¨æ°æ®æ¶å©ç¨å¯¹keyåhashè¿ç®ï¼å¾å°ææ§½å¼åå­å¨å°å¯¹åºçèç¹å³å¯ãå ä¸ºå­å¨æ°æ®é¢åçæ¯ææ§½èéèç¹æ¬èº«ï¼å æ­¤å¯ä»¥åå°éç¾¤å¨æä¼¸ç¼©ãç®çæ¯è®©Redisè½å­å¨æ´å¤æ°æ®ã\n\n1ï¼ä¸»ä»éç¾¤\n\nä¸»ä»éç¾¤ï¼ä¹æ¯è¯»ååç¦»éç¾¤ãä¸è¬é½æ¯ä¸ä¸»å¤ä»æ¹å¼ã\n\nRedis çå¤å¶ï¼replicationï¼åè½åè®¸ç¨æ·æ ¹æ®ä¸ä¸ª Redis æå¡å¨æ¥åå»ºä»»æå¤ä¸ªè¯¥æå¡å¨çå¤å¶åï¼å¶ä¸­è¢«å¤å¶çæå¡å¨ä¸ºä¸»æå¡å¨ï¼masterï¼ï¼èéè¿å¤å¶åå»ºåºæ¥çæå¡å¨å¤å¶ååä¸ºä»æå¡å¨ï¼slaveï¼ã\n\nåªè¦ä¸»ä»æå¡å¨ä¹é´çç½ç»è¿æ¥æ­£å¸¸ï¼ä¸»ä»æå¡å¨ä¸¤èä¼å·æç¸åçæ°æ®ï¼ä¸»æå¡å¨å°±ä¼ä¸ç´å°åçå¨èªå·±èº«ä¸çæ°æ®æ´æ°åæ­¥ ç»ä»æå¡å¨ï¼ä»èä¸ç´ä¿è¯ä¸»ä»æå¡å¨çæ°æ®ç¸åã\n\n * åæ°æ®æ¶åªè½éè¿ä¸»èç¹å®æ\n * è¯»æ°æ®å¯ä»¥ä»ä»»ä½èç¹å®æ\n * å¦æéç½®äºå¨åµèç¹ï¼å½masterå®æºæ¶ï¼å¨åµä¼ä»salveèç¹éåºä¸ä¸ªæ°çä¸»ã\n\nä¸»ä»éç¾¤åä¸¤ç§ï¼\n\n\n\nå¸¦æå¨åµçéç¾¤ï¼\n\n\n\n2ï¼åçéç¾¤\n\nä¸»ä»éç¾¤ä¸­ï¼æ¯ä¸ªèç¹é½è¦ä¿å­ææä¿¡æ¯ï¼å®¹æå½¢ææ¨æ¡¶æåºãå¹¶ä¸å½æ°æ®éè¾å¤§æ¶ï¼åä¸ªæºå¨æ æ³æ»¡è¶³éæ±ãæ­¤æ¶æä»¬å°±è¦ä½¿ç¨åçéç¾¤äºã\n\n\n\néç¾¤ç¹å¾ï¼\n\n * æ¯ä¸ªèç¹é½ä¿å­ä¸åæ°æ®\n\n * ææçredisèç¹å½¼æ­¤äºè(PING-PONGæºå¶),åé¨ä½¿ç¨äºè¿å¶åè®®ä¼åä¼ è¾éåº¦åå¸¦å®½.\n\n * èç¹çfailæ¯éè¿éç¾¤ä¸­è¶è¿åæ°çèç¹æ£æµå¤±ææ¶æçæ.\n\n * å®¢æ·ç«¯ä¸redisèç¹ç´è¿,ä¸éè¦ä¸­é´proxyå±è¿æ¥éç¾¤ä¸­ä»»ä½ä¸ä¸ªå¯ç¨èç¹é½å¯ä»¥è®¿é®å°æ°æ®\n\n * redis-clusteræææçç©çèç¹æ å°å°[0-16383]slotï¼ææ§½ï¼ä¸ï¼å®ç°å¨æä¼¸ç¼©\n\nä¸ºäºä¿è¯Redisä¸­æ¯ä¸ªèç¹çé«å¯ç¨ï¼æä»¬è¿å¯ä»¥ç»æ¯ä¸ªèç¹åå»ºreplicationï¼slaveèç¹ï¼ï¼å¦å¾ï¼\n\n\n\nåºç°æéæ¶ï¼ä¸»ä»å¯ä»¥åæ¶åæ¢ï¼\n\n\n\n\n# 3.4.Redisçå¸¸ç¨æ°æ®ç±»åæåªäºï¼\n\næ¯æå¤ç§ç±»åçæ°æ®ç»æï¼ä¸»è¦åºå«æ¯valueå­å¨çæ°æ®æ ¼å¼ä¸åï¼\n\n * stringï¼æåºæ¬çæ°æ®ç±»åï¼äºè¿å¶å®å¨çå­ç¬¦ä¸²ï¼æå¤§512Mã\n\n * listï¼æç§æ·»å é¡ºåºä¿æé¡ºåºçå­ç¬¦ä¸²åè¡¨ã\n\n * setï¼æ åºçå­ç¬¦ä¸²éåï¼ä¸å­å¨éå¤çåç´ ã\n\n * sorted setï¼å·²æåºçå­ç¬¦ä¸²éåã\n\n * hashï¼key-valueå¯¹æ ¼å¼\n\n\n# 3.5.èä¸ä¸Redisäºå¡æºå¶\n\nç¸å³èµæï¼\n\nåèï¼http://redisdoc.com/topic/transaction.html\n\nRedisäºå¡åè½æ¯éè¿MULTIãEXECãDISCARDåWATCH åä¸ªåè¯­å®ç°çãRedisä¼å°ä¸ä¸ªäºå¡ä¸­çææå½ä»¤åºååï¼ç¶åæé¡ºåºæ§è¡ãä½æ¯Redisäºå¡ä¸æ¯æåæ»æä½ï¼å½ä»¤è¿è¡åºéåï¼æ­£ç¡®çå½ä»¤ä¼ç»§ç»­æ§è¡ã\n\n * MULTI: ç¨äºå¼å¯ä¸ä¸ªäºå¡ï¼å®æ»æ¯è¿åOKã MULTIæ§è¡ä¹åï¼å®¢æ·ç«¯å¯ä»¥ç»§ç»­åæå¡å¨åéä»»æå¤æ¡å½ä»¤ï¼è¿äºå½ä»¤ä¸ä¼ç«å³è¢«æ§è¡ï¼èæ¯è¢«æ¾å°ä¸ä¸ªå¾æ§è¡å½ä»¤éåä¸­\n * EXECï¼æé¡ºåºæ§è¡å½ä»¤éååçææå½ä»¤ãè¿åææå½ä»¤çè¿åå¼ãäºå¡æ§è¡è¿ç¨ä¸­ï¼Redisä¸ä¼æ§è¡å¶å®äºå¡çå½ä»¤ã\n * DISCARDï¼æ¸ç©ºå½ä»¤éåï¼å¹¶æ¾å¼æ§è¡äºå¡ï¼ å¹¶ä¸å®¢æ·ç«¯ä¼ä»äºå¡ç¶æä¸­éåº\n * WATCHï¼Redisçä¹è§éæºå¶ï¼å©ç¨compare-and-setï¼CASï¼åçï¼å¯ä»¥çæ§ä¸ä¸ªæå¤ä¸ªé®ï¼ä¸æ¦å¶ä¸­æä¸ä¸ªé®è¢«ä¿®æ¹ï¼ä¹åçäºå¡å°±ä¸ä¼æ§è¡\n\nä½¿ç¨äºå¡æ¶å¯è½ä¼éä¸ä»¥ä¸ä¸¤ç§éè¯¯ï¼\n\n * æ§è¡ EXEC ä¹åï¼å¥éçå½ä»¤å¯è½ä¼åºéãæ¯å¦è¯´ï¼å½ä»¤å¯è½ä¼äº§çè¯­æ³éè¯¯ï¼åæ°æ°ééè¯¯ï¼åæ°åéè¯¯ï¼ç­ç­ï¼ï¼æèå¶ä»æ´ä¸¥éçéè¯¯ï¼æ¯å¦åå­ä¸è¶³ï¼å¦ææå¡å¨ä½¿ç¨ maxmemory è®¾ç½®äºæå¤§åå­éå¶çè¯ï¼ã\n   * Redis 2.6.5 å¼å§ï¼æå¡å¨ä¼å¯¹å½ä»¤å¥éå¤±è´¥çæåµè¿è¡è®°å½ï¼å¹¶å¨å®¢æ·ç«¯è°ç¨ EXEC å½ä»¤æ¶ï¼æç»æ§è¡å¹¶èªå¨æ¾å¼è¿ä¸ªäºå¡ã\n * å½ä»¤å¯è½å¨ EXEC è°ç¨ä¹åå¤±è´¥ãä¸¾ä¸ªä¾å­ï¼äºå¡ä¸­çå½ä»¤å¯è½å¤çäºéè¯¯ç±»åçé®ï¼æ¯å¦å°åè¡¨å½ä»¤ç¨å¨äºå­ç¬¦ä¸²é®ä¸é¢ï¼è¯¸å¦æ­¤ç±»ã\n   * å³ä½¿äºå¡ä¸­ææä¸ª/æäºå½ä»¤å¨æ§è¡æ¶äº§çäºéè¯¯ï¼ äºå¡ä¸­çå¶ä»å½ä»¤ä»ç¶ä¼ç»§ç»­æ§è¡ï¼ä¸ä¼åæ»ã\n\nä¸ºä»ä¹ Redis ä¸æ¯æåæ»ï¼roll backï¼ï¼\n\nä»¥ä¸æ¯è¿ç§åæ³çä¼ç¹ï¼\n\n * Redis å½ä»¤åªä¼å ä¸ºéè¯¯çè¯­æ³èå¤±è´¥ï¼å¹¶ä¸è¿äºé®é¢ä¸è½å¨å¥éæ¶åç°ï¼ï¼ææ¯å½ä»¤ç¨å¨äºéè¯¯ç±»åçé®ä¸é¢ï¼è¿ä¹å°±æ¯è¯´ï¼ä»å®ç¨æ§çè§åº¦æ¥è¯´ï¼å¤±è´¥çå½ä»¤æ¯ç±ç¼ç¨éè¯¯é æçï¼èè¿äºéè¯¯åºè¯¥å¨å¼åçè¿ç¨ä¸­è¢«åç°ï¼èä¸åºè¯¥åºç°å¨çäº§ç¯å¢ä¸­ã\n * å ä¸ºä¸éè¦å¯¹åæ»è¿è¡æ¯æï¼æä»¥ Redis çåé¨å¯ä»¥ä¿æç®åä¸å¿«éã\n\né´äºæ²¡æä»»ä½æºå¶è½é¿åç¨åºåèªå·±é æçéè¯¯ï¼ å¹¶ä¸è¿ç±»éè¯¯éå¸¸ä¸ä¼å¨çäº§ç¯å¢ä¸­åºç°ï¼ æä»¥ Redis éæ©äºæ´ç®åãæ´å¿«éçæ åæ»æ¹å¼æ¥å¤çäºå¡ã\n\né¢è¯è¯æ¯ï¼\n\nRedisäºå¡å¶å®æ¯æä¸ç³»åRediså½ä»¤æ¾å¥éåï¼ç¶åæ¹éæ§è¡ï¼æ§è¡è¿ç¨ä¸­ä¸ä¼æå¶å®äºå¡æ¥ææ­ãä¸è¿ä¸å³ç³»åæ°æ®åºçäºå¡ä¸åï¼Redisäºå¡ä¸æ¯æåæ»æä½ï¼äºå¡ä¸­æä¸ªå½ä»¤æ§è¡å¤±è´¥ï¼å¶å®å½ä»¤ä¾ç¶ä¼æ§è¡ã\n\nä¸ºäºå¼¥è¡¥ä¸è½åæ»çé®é¢ï¼Redisä¼å¨äºå¡å¥éæ¶å°±æ£æ¥å½ä»¤ï¼å¦æå½ä»¤å¼å¸¸åä¼æ¾å¼æ´ä¸ªäºå¡ã\n\nå æ­¤ï¼åªè¦ç¨åºåç¼ç¨æ¯æ­£ç¡®çï¼çè®ºä¸è¯´Redisä¼æ­£ç¡®æ§è¡ææäºå¡ï¼æ éåæ»ã\n\né¢è¯å®ï¼å¦æäºå¡æ§è¡ä¸åçæ¶åRediså®æºæä¹åï¼\n\nRedisææä¹åæºå¶ï¼å ä¸ºå¯é æ§é®é¢ï¼æä»¬ä¸è¬ä½¿ç¨AOFæä¹åãäºå¡çææå½ä»¤ä¹ä¼åå¥AOFæä»¶ï¼ä½æ¯å¦æå¨æ§è¡EXECå½ä»¤ä¹åï¼Rediså·²ç»å®æºï¼åAOFæä»¶ä¸­äºå¡ä¸å®æ´ãä½¿ç¨ redis-check-aof ç¨åºå¯ä»¥ç§»é¤ AOF æä»¶ä¸­ä¸å®æ´äºå¡çä¿¡æ¯ï¼ç¡®ä¿æå¡å¨å¯ä»¥é¡ºå©å¯å¨ã\n\n\n# 3.6.RedisçKeyè¿æç­ç¥\n\n\n# åèèµæï¼\n\n# ä¸ºä»ä¹éè¦åå­åæ¶ï¼\n\n * 1ãå¨Redisä¸­ï¼setæä»¤å¯ä»¥æå®keyçè¿ææ¶é´ï¼å½è¿ææ¶é´å°è¾¾ä»¥åï¼keyå°±å¤±æäºï¼\n * 2ãRedisæ¯åºäºåå­æä½çï¼ææçæ°æ®é½æ¯ä¿å­å¨åå­ä¸­ï¼ä¸å°æºå¨çåå­æ¯æéä¸å¾å®è´µçã\n\nåºäºä»¥ä¸ä¸¤ç¹ï¼ä¸ºäºä¿è¯Redisè½ç»§ç»­æä¾å¯é çæå¡ï¼Rediséè¦ä¸ç§æºå¶æ¸çæä¸å¸¸ç¨çãæ æçãå¤ä½çæ°æ®ï¼å¤±æåçæ°æ®éè¦åæ¶æ¸çï¼è¿å°±éè¦åå­åæ¶äºã\n\nRedisçåå­åæ¶ä¸»è¦åä¸ºè¿æå é¤ç­ç¥ååå­æ·æ±°ç­ç¥ä¸¤é¨åã\n\n# è¿æå é¤ç­ç¥\n\nå é¤è¾¾å°è¿ææ¶é´çkeyã\n\n * 1ï¼å®æ¶å é¤\n\nå¯¹äºæ¯ä¸ä¸ªè®¾ç½®äºè¿ææ¶é´çkeyé½ä¼åå»ºä¸ä¸ªå®æ¶å¨ï¼ä¸æ¦å°è¾¾è¿ææ¶é´å°±ç«å³å é¤ãè¯¥ç­ç¥å¯ä»¥ç«å³æ¸é¤è¿æçæ°æ®ï¼å¯¹åå­è¾åå¥½ï¼ä½æ¯ç¼ºç¹æ¯å ç¨äºå¤§éçCPUèµæºå»å¤çè¿æçæ°æ®ï¼ä¼å½±åRedisçååéåååºæ¶é´ã\n\n * 2ï¼æ°æ§å é¤\n\nå½è®¿é®ä¸ä¸ªkeyæ¶ï¼æå¤æ­è¯¥keyæ¯å¦è¿æï¼è¿æåå é¤ãè¯¥ç­ç¥è½æå¤§éåº¦å°èçCPUèµæºï¼ä½æ¯å¯¹åå­å´ååä¸åå¥½ãæä¸ç§æç«¯çæåµæ¯å¯è½åºç°å¤§éçè¿ækeyæ²¡æè¢«åæ¬¡è®¿é®ï¼å æ­¤ä¸ä¼è¢«æ¸é¤ï¼å¯¼è´å ç¨äºå¤§éçåå­ã\n\n> å¨è®¡ç®æºç§å­¦ä¸­ï¼ææ°å é¤ï¼è±æï¼lazy deletionï¼æçæ¯ä»ä¸ä¸ªæ£åè¡¨ï¼ä¹ç§°åå¸è¡¨ï¼ä¸­å é¤åç´ çä¸ç§æ¹æ³ãå¨è¿ä¸ªæ¹æ³ä¸­ï¼å é¤ä»ä»æ¯ææ è®°ä¸ä¸ªåç´ è¢«å é¤ï¼èä¸æ¯æ´ä¸ªæ¸é¤å®ãè¢«å é¤çä½ç¹å¨æå¥æ¶è¢«å½ä½ç©ºåç´ ï¼å¨æç´¢ä¹æ¶è¢«å½ä½å·²å æ®ã\n\n * 3ï¼å®æå é¤\n\næ¯éä¸æ®µæ¶é´ï¼æ«æRedisä¸­è¿ækeyå­å¸ï¼å¹¶æ¸é¤é¨åè¿æçkeyãè¯¥ç­ç¥æ¯åä¸¤èçä¸ä¸ªæä¸­æ¹æ¡ï¼è¿å¯ä»¥éè¿è°æ´å®æ¶æ«æçæ¶é´é´éåæ¯æ¬¡æ«æçéå®èæ¶ï¼å¨ä¸åæåµä¸ä½¿å¾CPUååå­èµæºè¾¾å°æä¼çå¹³è¡¡ææã\n\nå¨Redisä¸­ï¼åæ¶ä½¿ç¨äºå®æå é¤åæ°æ§å é¤ãä¸è¿Rediså®æå é¤éç¨çæ¯éæºæ½åçæ¹å¼å é¤é¨åKeyï¼å æ­¤ä¸è½ä¿è¯è¿ækey 100%çå é¤ã\n\nRedisç»åäºå®æå é¤åæ°æ§å é¤ï¼åºæ¬ä¸è½å¾å¥½çå¤çè¿ææ°æ®çæ¸çï¼ä½æ¯å®éä¸è¿æ¯æç¹é®é¢çï¼å¦æè¿ækeyè¾å¤ï¼å®æå é¤æ¼æäºä¸é¨åï¼èä¸ä¹æ²¡æåæ¶å»æ¥ï¼å³æ²¡æèµ°æ°æ§å é¤ï¼é£ä¹å°±ä¼æå¤§éçè¿ækeyå ç§¯å¨åå­ä¸­ï¼å¯¼è´redisåå­èå°½ï¼å½åå­èå°½ä¹åï¼ææ°çkeyå°æ¥ä¼åçä»ä¹äºå¢ï¼æ¯ç´æ¥æå¼è¿æ¯å¶ä»æªæ½å¢ï¼æä»ä¹åæ³å¯ä»¥æ¥åæ´å¤çkeyï¼\n\n# åå­æ·æ±°ç­ç¥\n\nRedisçåå­æ·æ±°ç­ç¥ï¼æ¯æåå­è¾¾å°maxmemoryæéæ¶ï¼ä½¿ç¨æç§ç®æ³æ¥å³å®æ¸çæåªäºæ°æ®ï¼ä»¥ä¿è¯æ°æ°æ®çå­å¥ã\n\nRedisçåå­æ·æ±°æºå¶åæ¬ï¼\n\n * noeviction: å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼æ°åå¥æä½ä¼æ¥éã\n * allkeys-lruï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ï¼server.db[i].dictï¼ä¸­ï¼ç§»é¤æè¿æå°ä½¿ç¨ç keyï¼è¿ä¸ªæ¯æå¸¸ç¨çï¼ã\n * allkeys-randomï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ï¼server.db[i].dictï¼ä¸­ï¼éæºç§»é¤æä¸ª keyã\n * volatile-lruï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨è®¾ç½®äºè¿ææ¶é´çé®ç©ºé´ï¼server.db[i].expiresï¼ä¸­ï¼ç§»é¤æè¿æå°ä½¿ç¨ç keyã\n * volatile-randomï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨è®¾ç½®äºè¿ææ¶é´çé®ç©ºé´ï¼server.db[i].expiresï¼ä¸­ï¼éæºç§»é¤æä¸ª keyã\n * volatile-ttlï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨è®¾ç½®äºè¿ææ¶é´çé®ç©ºé´ï¼server.db[i].expiresï¼ä¸­ï¼ææ´æ©è¿ææ¶é´ç key ä¼åç§»é¤ã\n\n> å¨éç½®æä»¶ä¸­ï¼éè¿maxmemory-policyå¯ä»¥éç½®è¦ä½¿ç¨åªä¸ä¸ªæ·æ±°æºå¶ã\n\nä»ä¹æ¶åä¼è¿è¡æ·æ±°ï¼\n\nRedisä¼å¨æ¯ä¸æ¬¡å¤çå½ä»¤çæ¶åï¼processCommandå½æ°è°ç¨freeMemoryIfNeededï¼å¤æ­å½åredisæ¯å¦è¾¾å°äºåå­çæå¤§éå¶ï¼å¦æè¾¾å°éå¶ï¼åä½¿ç¨å¯¹åºçç®æ³å»å¤çéè¦å é¤çkeyã\n\nå¨æ·æ±°keyæ¶ï¼Redisé»è®¤æå¸¸ç¨çæ¯LRUç®æ³ï¼Latest Recently Usedï¼ãRediséè¿å¨æ¯ä¸ä¸ªredisObjectä¿å­lruå±æ§æ¥ä¿å­keyæè¿çè®¿é®æ¶é´ï¼å¨å®ç°LRUç®æ³æ¶ç´æ¥è¯»åkeyçlruå±æ§ã\n\nå·ä½å®ç°æ¶ï¼Rediséåæ¯ä¸ä¸ªdbï¼ä»æ¯ä¸ä¸ªdbä¸­éæºæ½åä¸æ¹æ ·æ¬keyï¼é»è®¤æ¯3ä¸ªkeyï¼åä»è¿3ä¸ªkeyä¸­ï¼å é¤æè¿æå°ä½¿ç¨çkeyã\n\n\n# é¢è¯è¯æ¯ï¼\n\nRedisè¿æç­ç¥åå«å®æå é¤åæ°æ§å é¤ä¸¤é¨åãå®æå é¤æ¯å¨Redisåé¨æä¸ä¸ªå®æ¶ä»»å¡ï¼ä¼å®æå é¤ä¸äºè¿æçkeyãæ°æ§å é¤æ¯å½ç¨æ·æ¥è¯¢æä¸ªKeyæ¶ï¼ä¼æ£æ¥è¿ä¸ªKeyæ¯å¦å·²ç»è¿æï¼å¦ææ²¡è¿æåè¿åç¨æ·ï¼å¦æè¿æåå é¤ã\n\nä½æ¯è¿ä¸¤ä¸ªç­ç¥é½æ æ³ä¿è¯è¿ækeyä¸å®å é¤ï¼æ¼ç½ä¹é±¼è¶æ¥è¶å¤ï¼è¿å¯è½å¯¼è´åå­æº¢åºãå½åçåå­ä¸è¶³é®é¢æ¶ï¼Redisè¿ä¼ååå­åæ¶ãåå­åæ¶éç¨LRUç­ç¥ï¼å°±æ¯æè¿æå°ä½¿ç¨ãå¶åçå°±æ¯è®°å½æ¯ä¸ªKeyçæè¿ä½¿ç¨æ¶é´ï¼åå­åæ¶æ¶ï¼éæºæ½åä¸äºKeyï¼æ¯è¾å¶ä½¿ç¨æ¶é´ï¼ææèçå ä¸ªå é¤ã\n\nRedisçé»è¾æ¯ï¼æè¿ä½¿ç¨è¿çï¼å¾å¯è½åæ¬¡è¢«ä½¿ç¨\n\n\n# 3.7.Rediså¨é¡¹ç®ä¸­çåªäºå°æ¹æç¨å°?\n\nï¼1ï¼å±äº«session\n\nå¨åå¸å¼ç³»ç»ä¸ï¼æå¡ä¼é¨ç½²å¨ä¸åçtomcatï¼å æ­¤å¤ä¸ªtomcatçsessionæ æ³å±äº«ï¼ä»¥åå­å¨å¨sessionä¸­çæ°æ®æ æ³å®ç°å±äº«ï¼å¯ä»¥ç¨redisä»£æ¿sessionï¼è§£å³åå¸å¼ç³»ç»é´æ°æ®å±äº«é®é¢ã\n\nï¼2ï¼æ°æ®ç¼å­\n\nRediséç¨åå­å­å¨ï¼è¯»åæçè¾é«ãæä»¬å¯ä»¥ææ°æ®åºçè®¿é®é¢çé«çç­ç¹æ°æ®å­å¨å°redisä¸­ï¼è¿æ ·ç¨æ·è¯·æ±æ¶ä¼åä»redisä¸­è¯»åï¼åå°æ°æ®åºååï¼æé«å¹¶åè½åã\n\nï¼3ï¼å¼æ­¥éå\n\nReidså¨åå­å­å¨å¼æé¢åçä¸å¤§ä¼ç¹æ¯æä¾ list å set æä½ï¼è¿ä½¿å¾Redisè½ä½ä¸ºä¸ä¸ªå¾å¥½çæ¶æ¯éåå¹³å°æ¥ä½¿ç¨ãèä¸Redisä¸­è¿æpub/subè¿æ ·çä¸ç¨ç»æï¼ç¨äº1å¯¹Nçæ¶æ¯éä¿¡æ¨¡å¼ã\n\nï¼4ï¼åå¸å¼é\n\nRedisä¸­çä¹è§éæºå¶ï¼å¯ä»¥å¸®å©æä»¬å®ç°åå¸å¼éçææï¼ç¨äºè§£å³åå¸å¼ç³»ç»ä¸çå¤çº¿ç¨å®å¨é®é¢\n\n\n# 3.8.Redisçç¼å­å»ç©¿ãç¼å­éªå´©ãç¼å­ç©¿é\n\n\n# 1ï¼ç¼å­ç©¿é\n\nåèèµæï¼\n\n * ä»ä¹æ¯ç¼å­ç©¿é\n   \n   * æ­£å¸¸æåµä¸ï¼æä»¬å»æ¥è¯¢æ°æ®é½æ¯å­å¨ãé£ä¹è¯·æ±å»æ¥è¯¢ä¸æ¡åæ ¹å¿æ°æ®åºä¸­æ ¹æ¬å°±ä¸å­å¨çæ°æ®ï¼ä¹å°±æ¯ç¼å­åæ°æ®åºé½æ¥è¯¢ä¸å°è¿æ¡æ°æ®ï¼ä½æ¯è¯·æ±æ¯æ¬¡é½ä¼æå°æ°æ®åºä¸é¢å»ãè¿ç§æ¥è¯¢ä¸å­å¨æ°æ®çç°è±¡æä»¬ç§°ä¸ºç¼å­ç©¿éã\n\n * ç©¿éå¸¦æ¥çé®é¢\n   \n   * è¯æ³ä¸ä¸ï¼å¦ææé»å®¢ä¼å¯¹ä½ çç³»ç»è¿è¡æ»å»ï¼æ¿ä¸ä¸ªä¸å­å¨çid å»æ¥è¯¢æ°æ®ï¼ä¼äº§çå¤§éçè¯·æ±å°æ°æ®åºå»æ¥è¯¢ãå¯è½ä¼å¯¼è´ä½ çæ°æ®åºç±äºååè¿å¤§èå®æã\n\n * è§£å³åæ³\n   \n   * ç¼å­ç©ºå¼ï¼ä¹æä»¥ä¼åçç©¿éï¼å°±æ¯å ä¸ºç¼å­ä¸­æ²¡æå­å¨è¿äºç©ºæ°æ®çkeyãä»èå¯¼è´æ¯æ¬¡æ¥è¯¢é½å°æ°æ®åºå»äºãé£ä¹æä»¬å°±å¯ä»¥ä¸ºè¿äºkeyå¯¹åºçå¼è®¾ç½®ä¸ºnull ä¸¢å°ç¼å­éé¢å»ãåé¢ååºç°æ¥è¯¢è¿ä¸ªkey çè¯·æ±çæ¶åï¼ç´æ¥è¿ånull ãè¿æ ·ï¼å°±ä¸ç¨å¨å°æ°æ®åºä¸­å»èµ°ä¸åäºï¼ä½æ¯å«å¿äºè®¾ç½®è¿ææ¶é´ã\n   * BloomFilterï¼å¸éè¿æ»¤ï¼ï¼å°ææå¯è½å­å¨çæ°æ®åå¸å°ä¸ä¸ªè¶³å¤å¤§çbitmapä¸­ï¼ä¸ä¸ªä¸å®ä¸å­å¨çæ°æ®ä¼è¢« è¿ä¸ªbitmapæ¦æªæï¼ä»èé¿åäºå¯¹åºå±å­å¨ç³»ç»çæ¥è¯¢ååãå¨ç¼å­ä¹åå¨å ä¸å± BloomFilter ï¼å¨æ¥è¯¢çæ¶ååå» BloomFilter å»æ¥è¯¢ key æ¯å¦å­å¨ï¼å¦æä¸å­å¨å°±ç´æ¥è¿åï¼å­å¨åèµ°æ¥ç¼å­ -> æ¥ DBã\n\nè¯æ¯ï¼\n\nç¼å­ç©¿éæä¸¤ç§è§£å³æ¹æ¡ï¼å¶ä¸æ¯æä¸å­å¨çkeyè®¾ç½®nullå¼å°ç¼å­ä¸­ãå¶äºæ¯ä½¿ç¨å¸éè¿æ»¤å¨ï¼å¨æ¥è¯¢ç¼å­ååéè¿å¸éè¿æ»¤å¨å¤æ­keyæ¯å¦å­å¨ï¼å­å¨åå»æ¥è¯¢ç¼å­ã\n\nè®¾ç½®nullå¼å¯è½è¢«æ¶æéå¯¹ï¼æ»å»èä½¿ç¨å¤§éä¸å­å¨çä¸éå¤key ï¼é£ä¹æ¹æ¡ä¸å°±ä¼ç¼å­å¤§éä¸å­å¨keyæ°æ®ãæ­¤æ¶æä»¬è¿å¯ä»¥å¯¹Keyè§å®æ ¼å¼æ¨¡æ¿ï¼ç¶åå¯¹ä¸å­å¨çkeyåæ­£åè§èå¹éï¼å¦æå®å¨ä¸ç¬¦åå°±ä¸ç¨å­nullå¼å°redisï¼èæ¯ç´æ¥è¿åéè¯¯ã\n\n\n# 2ï¼ç¼å­å»ç©¿\n\nç¸å³èµæï¼\n\n * ä»ä¹æ¯ç¼å­å»ç©¿ï¼\n\nkeyå¯è½ä¼å¨æäºæ¶é´ç¹è¢«è¶é«å¹¶åå°è®¿é®ï¼æ¯ä¸ç§éå¸¸âç­ç¹âçæ°æ®ãè¿ä¸ªæ¶åï¼éè¦èèä¸ä¸ªé®é¢ï¼ç¼å­è¢«âå»ç©¿âçé®é¢ã\n\nå½è¿ä¸ªkeyå¨å¤±æçç¬é´ï¼redisæ¥è¯¢å¤±è´¥ï¼æç»­çå¤§å¹¶åå°±ç©¿ç ´ç¼å­ï¼ç´æ¥è¯·æ±æ°æ®åºï¼å°±åå¨ä¸ä¸ªå±éä¸å¿å¼äºä¸ä¸ªæ´ã\n\n * è§£å³æ¹æ¡ï¼\n   * ä½¿ç¨äºæ¥é(mutex key)ï¼mutexï¼å°±æ¯äºæ¥ãç®åå°æ¥è¯´ï¼å°±æ¯å¨ç¼å­å¤±æçæ¶åï¼å¤æ­æ¿åºæ¥çå¼ä¸ºç©ºï¼ï¼ä¸æ¯ç«å³å»load dbï¼èæ¯åä½¿ç¨RedisçSETNXå»setä¸ä¸ªäºæ¥keyï¼å½æä½è¿åæåæ¶ï¼åè¿è¡load dbçæä½å¹¶åè®¾ç¼å­ï¼å¦åï¼å°±éè¯æ´ä¸ªgetç¼å­çæ¹æ³ãSETNXï¼æ¯ãSET if Not eXistsãçç¼©åï¼ä¹å°±æ¯åªæä¸å­å¨çæ¶åæè®¾ç½®ï¼å¯ä»¥å©ç¨å®æ¥å®ç°äºæ¥çææã\n   * è½¯è¿æï¼ä¹å°±æ¯é»è¾è¿æï¼ä¸ä½¿ç¨redisæä¾çè¿ææ¶é´ï¼èæ¯ä¸å¡å±å¨æ°æ®ä¸­å­å¨è¿ææ¶é´ä¿¡æ¯ãæ¥è¯¢æ¶ç±ä¸å¡ç¨åºå¤æ­æ¯å¦è¿æï¼å¦ææ°æ®å³å°è¿ææ¶ï¼å°ç¼å­çæ¶æå»¶é¿ï¼ç¨åºå¯ä»¥æ´¾é£ä¸ä¸ªçº¿ç¨å»æ°æ®åºä¸­è·åææ°çæ°æ®ï¼å¶ä»çº¿ç¨è¿æ¶çå°å»¶é¿äºçè¿ææ¶é´ï¼å°±ä¼ç»§ç»­ä½¿ç¨æ§æ°æ®ï¼ç­æ´¾é£ççº¿ç¨è·åææ°æ°æ®ååæ´æ°ç¼å­ã\n\næ¨èä½¿ç¨äºæ¥éï¼å ä¸ºè½¯è¿æä¼æä¸å¡é»è¾ä¾µå¥åé¢å¤çå¤æ­ã\n\né¢è¯è¯æ¯ï¼\n\nç¼å­å»ç©¿ä¸»è¦æå¿çæ¯æä¸ªKeyè¿æï¼æ´æ°ç¼å­æ¶å¼èµ·å¯¹æ°æ®åºççªåé«å¹¶åè®¿é®ãå æ­¤æä»¬å¯ä»¥å¨æ´æ°ç¼å­æ¶éç¨äºæ¥éæ§å¶ï¼åªåè®¸ä¸ä¸ªçº¿ç¨å»æ´æ°ç¼å­ï¼å¶å®çº¿ç¨ç­å¾å¹¶éæ°è¯»åç¼å­ãä¾å¦Redisçsetnxå½ä»¤å°±è½å®ç°äºæ¥ææã\n\n\n# 3ï¼ç¼å­éªå´©\n\nç¸å³èµæï¼\n\nç¼å­éªå´©ï¼æ¯æå¨æä¸ä¸ªæ¶é´æ®µï¼ç¼å­éä¸­è¿æå¤±æãå¯¹è¿æ¹æ°æ®çè®¿é®æ¥è¯¢ï¼é½è½å°äºæ°æ®åºä¸ï¼å¯¹äºæ°æ®åºèè¨ï¼å°±ä¼äº§çå¨ææ§çååæ³¢å³°ã\n\nè§£å³æ¹æ¡ï¼\n\n * æ°æ®åç±»åæ¹å¤çï¼éåä¸ååç±»æ°æ®ï¼ç¼å­ä¸åå¨æ\n * ç¸ååç±»æ°æ®ï¼éç¨åºå®æ¶é¿å éæºæ°æ¹å¼è®¾ç½®ç¼å­\n * ç­ç¹æ°æ®ç¼å­æ¶é´é¿ä¸äºï¼å·é¨æ°æ®ç¼å­æ¶é´ç­ä¸äº\n * é¿åredisèç¹å®æºå¼èµ·éªå´©ï¼æ­å»ºä¸»ä»éç¾¤ï¼ä¿è¯é«å¯ç¨\n\né¢è¯è¯æ¯ï¼\n\nè§£å³ç¼å­éªå´©é®é¢çå³é®æ¯è®©ç¼å­Keyçè¿ææ¶é´åæ£ãå æ­¤æä»¬å¯ä»¥ææ°æ®æç§ä¸å¡åç±»ï¼ç¶åè®¾ç½®ä¸åè¿ææ¶é´ãç¸åä¸å¡ç±»åçkeyï¼è®¾ç½®åºå®æ¶é¿å éæºæ°ãå°½å¯è½ä¿è¯æ¯ä¸ªKeyçè¿ææ¶é´é½ä¸ç¸åã\n\nå¦å¤ï¼Rediså®æºä¹å¯è½å¯¼è´ç¼å­éªå´©ï¼å æ­¤æä»¬è¿è¦æ­å»ºRedisä¸»ä»éç¾¤åå¨åµçæ§ï¼ä¿è¯Redisçé«å¯ç¨ã\n\n\n# 3.9.ç¼å­å·ç­æ°æ®åç¦»\n\nèæ¯èµæï¼\n\nRedisä½¿ç¨çæ¯åå­å­å¨ï¼å½éè¦æµ·éæ°æ®å­å¨æ¶ï¼ææ¬éå¸¸é«ã\n\nç»è¿è°ç åç°ï¼å½åä¸»æµDDR3åå­åä¸»æµSATA SSDçåä½ææ¬ä»·æ ¼å·®è·å¤§æ¦å¨20åå·¦å³ï¼ä¸ºäºä¼åredisæºå¨ç»¼åææ¬ï¼æä»¬èèå®ç°åºäºç­åº¦ç»è®¡ çæ°æ®åçº§å­å¨åæ°æ®å¨RAM/FLASHä¹é´çå¨æäº¤æ¢ï¼ä»èå¤§å¹åº¦éä½ææ¬ï¼è¾¾å°æ§è½ä¸ææ¬çé«å¹³è¡¡ã\n\nåºæ¬æè·¯ï¼åºäºkeyè®¿é®æ¬¡æ°(LFU)çç­åº¦ç»è®¡ç®æ³è¯å«åºç­ç¹æ°æ®ï¼å¹¶å°ç­ç¹æ°æ®ä¿çå¨redisä¸­ï¼å¯¹äºæ è®¿é®/è®¿é®æ¬¡æ°å°çæ°æ®åè½¬å­å°SSDä¸ï¼å¦æSSDä¸çkeyåæ¬¡åç­ï¼åéæ°å°å¶å è½½å°redisåå­ä¸­ã\n\nç®åæµè¡çé«æ§è½ç£çå­å¨ï¼å¹¶ä¸éµå¾ªRedisåè®®çæ¹æ¡åæ¬ï¼\n\n * SSDBï¼http://ssdb.io/zh_cn/\n * RocksDBï¼https://rocksdb.org.cn/\n\nå æ­¤ï¼æä»¬å°±éè¦å¨åºç¨ç¨åºä¸ç¼å­æå¡ä¹é´å¼å¥ä»£çï¼å®ç°RedisåSSDä¹é´çåæ¢ï¼å¦å¾ï¼\n\n\n\nè¿æ ·çä»£çæ¹æ¡é¿éäºæä¾çå°±æãå½ç¶ä¹æä¸äºå¼æºæ¹æ¡ï¼ä¾å¦ï¼https://github.com/JingchengLi/swapdb\n\n\n# 3.10.Rediså®ç°åå¸å¼é\n\nåå¸å¼éè¦æ»¡è¶³çæ¡ä»¶ï¼\n\n * å¤è¿ç¨äºæ¥ï¼åä¸æ¶å»ï¼åªæä¸ä¸ªè¿ç¨å¯ä»¥è·åé\n * ä¿è¯éå¯ä»¥éæ¾ï¼ä»»å¡ç»ææåºç°å¼å¸¸ï¼éä¸å®è¦éæ¾ï¼é¿åæ­»é\n * é»å¡éï¼å¯éï¼ï¼è·åéå¤±è´¥æ¶å¯å¦éè¯\n * éå¥éï¼å¯éï¼ï¼è·åéçä»£ç éå½è°ç¨æ¶ï¼ä¾ç¶å¯ä»¥è·åé\n\n\n# 1ï¼æåºæ¬çåå¸å¼éï¼\n\nå©ç¨Redisçsetnxå½ä»¤ï¼è¿ä¸ªå½ä»¤çç¹å¾æ¶å¦æå¤æ¬¡æ§è¡ï¼åªæç¬¬ä¸æ¬¡æ§è¡ä¼æåï¼å¯ä»¥å®ç°äºæ¥çææãä½æ¯ä¸ºäºä¿è¯æå¡å®æºæ¶ä¹å¯ä»¥éæ¾éï¼éè¦å©ç¨expireå½ä»¤ç»éè®¾ç½®ä¸ä¸ªæææ\n\nsetnx lock thread-01 # å°è¯è·åé\nexpire lock 10 # è®¾ç½®æææ\n\n\né¢è¯å®é®é¢1ï¼å¦æexpireä¹åæå¡å®æºæä¹åï¼\n\nè¦ä¿è¯setnxåexpireå½ä»¤çåå­æ§ãredisçsetå½ä»¤å¯ä»¥æ»¡è¶³ï¼\n\nset key value [NX] [EX time] \n\n\néè¦æ·»å nxåexçéé¡¹ï¼\n\n * NXï¼ä¸setnxä¸è´ï¼ç¬¬ä¸æ¬¡æ§è¡æå\n * EXï¼è®¾ç½®è¿ææ¶é´\n\né¢è¯å®é®é¢2ï¼éæ¾éçæ¶åï¼å¦æèªå·±çéå·²ç»è¿æäºï¼æ­¤æ¶ä¼åºç°å®å¨æ¼æ´ï¼å¦ä½è§£å³ï¼\n\nå¨éä¸­å­å¨å½åè¿ç¨åçº¿ç¨æ è¯ï¼éæ¾éæ¶å¯¹éçæ è¯å¤æ­ï¼å¦ææ¯èªå·±çåå é¤ï¼ä¸æ¯åæ¾å¼æä½ã\n\nä½æ¯è¿ä¸¤æ­¥æä½è¦ä¿è¯åå­æ§ï¼éè¦éè¿Luaèæ¬æ¥å®ç°ã\n\nif redis.call(\"get\",KEYS[1]) == ARGV[1] then\n    redis.call(\"del\",KEYS[1])\nend\n\n\n\n# 2ï¼å¯éå¥åå¸å¼é\n\nå¦ææéå¥çéæ±ï¼åé¤äºå¨éä¸­è®°å½è¿ç¨æ è¯ï¼è¿è¦è®°å½éè¯æ¬¡æ°ï¼æµç¨å¦ä¸ï¼\n\n\n\nä¸é¢æä»¬åè®¾éçkeyä¸ºâlockâï¼hashKeyæ¯å½åçº¿ç¨çidï¼âthreadIdâï¼éèªå¨éæ¾æ¶é´åè®¾ä¸º20\n\nè·åéçæ­¥éª¤ï¼\n\n * 1ãå¤æ­lockæ¯å¦å­å¨ EXISTS lock\n   * å­å¨ï¼è¯´ææäººè·åéäºï¼ä¸é¢å¤æ­æ¯ä¸æ¯èªå·±çé\n     * å¤æ­å½åçº¿ç¨idä½ä¸ºhashKeyæ¯å¦å­å¨ï¼HEXISTS lock threadId\n       * ä¸å­å¨ï¼è¯´æéå·²ç»æäºï¼ä¸ä¸æ¯èªå·±è·åçï¼éè·åå¤±è´¥ï¼end\n       * å­å¨ï¼è¯´ææ¯èªå·±è·åçéï¼éå¥æ¬¡æ°+1ï¼HINCRBY lock threadId 1ï¼å»å°æ­¥éª¤3\n   * 2ãä¸å­å¨ï¼è¯´æå¯ä»¥è·åéï¼HSET key threadId 1\n   * 3ãè®¾ç½®éèªå¨éæ¾æ¶é´ï¼EXPIRE lock 20\n\néæ¾éçæ­¥éª¤ï¼\n\n * 1ãå¤æ­å½åçº¿ç¨idä½ä¸ºhashKeyæ¯å¦å­å¨ï¼HEXISTS lock threadId\n   * ä¸å­å¨ï¼è¯´æéå·²ç»å¤±æï¼ä¸ç¨ç®¡äº\n   * å­å¨ï¼è¯´æéè¿å¨ï¼éå¥æ¬¡æ°å1ï¼HINCRBY lock threadId -1ï¼è·åæ°çéå¥æ¬¡æ°\n * 2ãå¤æ­éå¥æ¬¡æ°æ¯å¦ä¸º0ï¼\n   * ä¸º0ï¼è¯´æéå¨é¨éæ¾ï¼å é¤keyï¼DEL lock\n   * å¤§äº0ï¼è¯´æéè¿å¨ä½¿ç¨ï¼éç½®æææ¶é´ï¼EXPIRE lock 20\n\nå¯¹åºçLuaèæ¬å¦ä¸ï¼\n\né¦åæ¯è·åéï¼\n\nlocal key = KEYS[1]; -- éçkey\nlocal threadId = ARGV[1]; -- çº¿ç¨å¯ä¸æ è¯\nlocal releaseTime = ARGV[2]; -- éçèªå¨éæ¾æ¶é´\n\nif(redis.call('exists', key) == 0) then -- å¤æ­æ¯å¦å­å¨\n\tredis.call('hset', key, threadId, '1'); -- ä¸å­å¨, è·åé\n\tredis.call('expire', key, releaseTime); -- è®¾ç½®æææ\n\treturn 1; -- è¿åç»æ\nend;\n\nif(redis.call('hexists', key, threadId) == 1) then -- éå·²ç»å­å¨ï¼å¤æ­threadIdæ¯å¦æ¯èªå·±\t\n\tredis.call('hincrby', key, threadId, '1'); -- ä¸å­å¨, è·åéï¼éå¥æ¬¡æ°+1\n\tredis.call('expire', key, releaseTime); -- è®¾ç½®æææ\n\treturn 1; -- è¿åç»æ\nend;\nreturn 0; -- ä»£ç èµ°å°è¿é,è¯´æè·åéçä¸æ¯èªå·±ï¼è·åéå¤±è´¥\n\n\nç¶åæ¯éæ¾éï¼\n\nlocal key = KEYS[1]; -- éçkey\nlocal threadId = ARGV[1]; -- çº¿ç¨å¯ä¸æ è¯\nlocal releaseTime = ARGV[2]; -- éçèªå¨éæ¾æ¶é´\n\nif (redis.call('HEXISTS', key, threadId) == 0) then -- å¤æ­å½åéæ¯å¦è¿æ¯è¢«èªå·±ææ\n    return nil; -- å¦æå·²ç»ä¸æ¯èªå·±ï¼åç´æ¥è¿å\nend;\nlocal count = redis.call('HINCRBY', key, threadId, -1); -- æ¯èªå·±çéï¼åéå¥æ¬¡æ°-1\n\nif (count > 0) then -- å¤æ­æ¯å¦éå¥æ¬¡æ°æ¯å¦å·²ç»ä¸º0\n    redis.call('EXPIRE', key, releaseTime); -- å¤§äº0è¯´æä¸è½éæ¾éï¼éç½®æææç¶åè¿å\n    return nil;\nelse\n    redis.call('DEL', key); -- ç­äº0è¯´æå¯ä»¥éæ¾éï¼ç´æ¥å é¤\n    return nil;\nend;\n\n\n\n# 3ï¼é«å¯ç¨çé\n\né¢è¯å®é®é¢ï¼redisåå¸å¼éä¾èµä¸redisï¼å¦ærediså®æºåéå¤±æãå¦ä½è§£å³ï¼\n\næ­¤æ¶å¤§å¤æ°åå­¦ä¼åç­è¯´ï¼æ­å»ºä¸»ä»éç¾¤ï¼åæ°æ®å¤ä»½ã\n\nè¿æ ·å°±è¿å¥äºé·é±ï¼å ä¸ºé¢è¯å®çä¸ä¸ä¸ªé®é¢å°±æ¥äºï¼\n\né¢è¯å®é®é¢ï¼å¦ææ­å»ºä¸»ä»éç¾¤åæ°æ®å¤ä»½æ¶ï¼è¿ç¨Aè·åéï¼masterè¿æ²¡æææ°æ®å¤ä»½å°slaveï¼masterå®æºï¼slaveåçº§ä¸ºmasterï¼æ­¤æ¶åæ¥éå¤±æï¼å¶å®è¿ç¨ä¹å¯ä»¥è·åéï¼åºç°å®å¨é®é¢ãå¦ä½è§£å³ï¼\n\nå³äºè¿ä¸ªé®é¢ï¼Rediså®ç½ç»åºäºè§£å³æ¹æ¡ï¼ä½¿ç¨RedLockæè·¯å¯ä»¥è§£å³ï¼\n\n> å¨Redisçåå¸å¼ç¯å¢ä¸­ï¼æä»¬åè®¾æNä¸ªRedis masterãè¿äºèç¹å®å¨äºç¸ç¬ç«ï¼ä¸å­å¨ä¸»ä»å¤å¶æèå¶ä»éç¾¤åè°æºå¶ãä¹åæä»¬å·²ç»æè¿°äºå¨Redisåå®ä¾ä¸æä¹å®å¨å°è·ååéæ¾éãæä»¬ç¡®ä¿å°å¨æ¯ï¼N)ä¸ªå®ä¾ä¸ä½¿ç¨æ­¤æ¹æ³è·ååéæ¾éãå¨è¿ä¸ªæ ·ä¾ä¸­ï¼æä»¬åè®¾æ5ä¸ªRedis masterèç¹ï¼è¿æ¯ä¸ä¸ªæ¯è¾åççè®¾ç½®ï¼æä»¥æä»¬éè¦å¨5å°æºå¨ä¸é¢æè5å°èææºä¸é¢è¿è¡è¿äºå®ä¾ï¼è¿æ ·ä¿è¯ä»ä»¬ä¸ä¼åæ¶é½å®æã\n> \n> ä¸ºäºåå°éï¼å®¢æ·ç«¯åºè¯¥æ§è¡ä»¥ä¸æä½:\n> \n>  1. è·åå½åUnixæ¶é´ï¼ä»¥æ¯«ç§ä¸ºåä½ã\n>  2. ä¾æ¬¡å°è¯ä»Nä¸ªå®ä¾ï¼ä½¿ç¨ç¸åçkeyåéæºå¼è·åéãå¨æ­¥éª¤2ï¼å½åRedisè®¾ç½®éæ¶,å®¢æ·ç«¯åºè¯¥è®¾ç½®ä¸ä¸ªç½ç»è¿æ¥åååºè¶æ¶æ¶é´ï¼è¿ä¸ªè¶æ¶æ¶é´åºè¯¥å°äºéçå¤±ææ¶é´ãä¾å¦ä½ çéèªå¨å¤±ææ¶é´ä¸º10ç§ï¼åè¶æ¶æ¶é´åºè¯¥å¨5-50æ¯«ç§ä¹é´ãè¿æ ·å¯ä»¥é¿åæå¡å¨ç«¯Rediså·²ç»ææçæåµä¸ï¼å®¢æ·ç«¯è¿å¨æ­»æ­»å°ç­å¾ååºç»æãå¦ææå¡å¨ç«¯æ²¡æå¨è§å®æ¶é´åååºï¼å®¢æ·ç«¯åºè¯¥å°½å¿«å°è¯å¦å¤ä¸ä¸ªRediså®ä¾ã\n>  3. å®¢æ·ç«¯ä½¿ç¨å½åæ¶é´åå»å¼å§è·åéæ¶é´ï¼æ­¥éª¤1è®°å½çæ¶é´ï¼å°±å¾å°è·åéä½¿ç¨çæ¶é´ãå½ä¸ä»å½ä»å¤§å¤æ°ï¼è¿éæ¯3ä¸ªèç¹ï¼çRedisèç¹é½åå°éï¼å¹¶ä¸ä½¿ç¨çæ¶é´å°äºéå¤±ææ¶é´æ¶ï¼éæç®è·åæåã\n>  4. å¦æåå°äºéï¼keyççæ­£æææ¶é´ç­äºæææ¶é´åå»è·åéæä½¿ç¨çæ¶é´ï¼æ­¥éª¤3è®¡ç®çç»æï¼ã\n>  5. å¦æå ä¸ºæäºåå ï¼è·åéå¤±è´¥ï¼æ²¡æå¨è³å°N/2+1ä¸ªRediså®ä¾åå°éæèåéæ¶é´å·²ç»è¶è¿äºæææ¶é´ï¼ï¼å®¢æ·ç«¯åºè¯¥å¨ææçRediså®ä¾ä¸è¿è¡è§£éï¼å³ä¾¿æäºRediså®ä¾æ ¹æ¬å°±æ²¡æå éæåï¼ã\n\n\n# 3.11.å¦ä½å®ç°æ°æ®åºä¸ç¼å­æ°æ®ä¸è´ï¼\n\né¢è¯è¯æ¯ï¼\n\nå®ç°æ¹æ¡æä¸é¢å ç§ï¼\n\n * æ¬å°ç¼å­åæ­¥ï¼å½åå¾®æå¡çæ°æ®åºæ°æ®ä¸ç¼å­æ°æ®åæ­¥ï¼å¯ä»¥ç´æ¥å¨æ°æ®åºä¿®æ¹æ¶å å¥å¯¹Redisçä¿®æ¹é»è¾ï¼ä¿è¯ä¸è´ã\n * è·¨æå¡ç¼å­åæ­¥ï¼æå¡Aè°ç¨äºæå¡Bï¼å¹¶å¯¹æ¥è¯¢ç»æç¼å­ãæå¡Bæ°æ®åºä¿®æ¹ï¼å¯ä»¥éè¿MQéç¥æå¡Aï¼æå¡Aä¿®æ¹Redisç¼å­æ°æ®\n * éç¨æ¹æ¡ï¼ä½¿ç¨Canalæ¡æ¶ï¼ä¼ªè£æMySQLçsalveèç¹ï¼çå¬MySQLçbinLogååï¼ç¶åä¿®æ¹Redisç¼å­æ°æ®",normalizedContent:"# å¸¸è§é¢è¯é¢\n\n\n# 1.å¾®æå¡ç¯\n\n\n# 1.1.springcloudå¸¸è§ç»ä»¶æåªäºï¼\n\né®é¢è¯´æï¼è¿ä¸ªé¢ç®ä¸»è¦èå¯å¯¹springcloudçç»ä»¶åºæ¬äºè§£\n\né¾æç¨åº¦ï¼ç®å\n\nåèè¯æ¯ï¼\n\nspringcloudåå«çç»ä»¶å¾å¤ï¼æå¾å¤åè½æ¯éå¤çãå¶ä¸­æå¸¸ç¨ç»ä»¶åæ¬ï¼\n\nâ¢æ³¨åä¸­å¿ç»ä»¶ï¼eurekaãnacosç­\n\nâ¢è´è½½åè¡¡ç»ä»¶ï¼ribbon\n\nâ¢è¿ç¨è°ç¨ç»ä»¶ï¼openfeign\n\nâ¢ç½å³ç»ä»¶ï¼zuulãgateway\n\nâ¢æå¡ä¿æ¤ç»ä»¶ï¼hystrixãsentinel\n\nâ¢æå¡éç½®ç®¡çç»ä»¶ï¼springcloudconfigãnacos\n\n\n# 1.2.nacosçæå¡æ³¨åè¡¨ç»ææ¯ææ ·çï¼\n\né®é¢è¯´æï¼èå¯å¯¹nacosæ°æ®åçº§ç»æçäºè§£ï¼ä»¥ånacosæºç çææ¡æåµ\n\né¾æç¨åº¦ï¼ä¸è¬\n\nåèè¯æ¯ï¼\n\nnacoséç¨äºæ°æ®çåçº§å­å¨æ¨¡åï¼æå¤å±æ¯namespaceï¼ç¨æ¥éç¦»ç¯å¢ãç¶åæ¯groupï¼ç¨æ¥å¯¹æå¡åç»ãæ¥ä¸æ¥å°±æ¯æå¡ï¼serviceï¼äºï¼ä¸ä¸ªæå¡åå«å¤ä¸ªå®ä¾ï¼ä½æ¯å¯è½å¤äºä¸åæºæ¿ï¼å æ­¤serviceä¸æå¤ä¸ªéç¾¤ï¼clusterï¼ï¼clusterä¸æ¯ä¸åçå®ä¾ï¼instanceï¼ã\n\nå¯¹åºå°javaä»£ç ä¸­ï¼nacoséç¨äºä¸ä¸ªå¤å±çmapæ¥è¡¨ç¤ºãç»æä¸ºmap<string, map<string, service>>ï¼å¶ä¸­æå¤å±mapçkeyå°±æ¯namespaceidï¼å¼æ¯ä¸ä¸ªmapãåå±mapçkeyæ¯groupæ¼æ¥servicenameï¼å¼æ¯serviceå¯¹è±¡ãserviceå¯¹è±¡åé¨åæ¯ä¸ä¸ªmapï¼keyæ¯éç¾¤åç§°ï¼å¼æ¯clusterå¯¹è±¡ãèclusterå¯¹è±¡åé¨ç»´æ¤äºinstanceçéåã\n\nå¦å¾ï¼\n\n\n\n\n# 1.3.nacoså¦ä½æ¯æé¿éåé¨æ°åä¸æå¡æ³¨åååï¼\n\né®é¢è¯´æï¼èå¯å¯¹nacosæºç çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\nnacosåé¨æ¥æ¶å°æ³¨åçè¯·æ±æ¶ï¼ä¸ä¼ç«å³åæ°æ®ï¼èæ¯å°æå¡æ³¨åçä»»å¡æ¾å¥ä¸ä¸ªé»å¡éåå°±ç«å³ååºç»å®¢æ·ç«¯ãç¶åå©ç¨çº¿ç¨æ± è¯»åé»å¡éåä¸­çä»»å¡ï¼å¼æ­¥æ¥å®æå®ä¾æ´æ°ï¼ä»èæé«å¹¶ååè½åã\n\n\n# 1.4.nacoså¦ä½é¿åå¹¶åè¯»åå²çªé®é¢ï¼\n\né®é¢è¯´æï¼èå¯å¯¹nacosæºç çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\nnacoså¨æ´æ°å®ä¾åè¡¨æ¶ï¼ä¼éç¨copyonwriteææ¯ï¼é¦åå°æ§çå®ä¾åè¡¨æ·è´ä¸ä»½ï¼ç¶åæ´æ°æ·è´çå®ä¾åè¡¨ï¼åç¨æ´æ°åçå®ä¾åè¡¨æ¥è¦çæ§çå®ä¾åè¡¨ã\n\nè¿æ ·å¨æ´æ°çè¿ç¨ä¸­ï¼å°±ä¸ä¼å¯¹è¯»å®ä¾åè¡¨çè¯·æ±äº§çå½±åï¼ä¹ä¸ä¼åºç°èè¯»é®é¢äºã\n\n\n# 1.5.nacosä¸eurekaçåºå«æåªäºï¼\n\né®é¢è¯´æï¼èå¯å¯¹nacosãeurekaçåºå±å®ç°çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\nnacosä¸eurekaæç¸åç¹ï¼ä¹æä¸åä¹å¤ï¼å¯ä»¥ä»ä»¥ä¸å ç¹æ¥æè¿°ï¼\n\n * æ¥å£æ¹å¼ï¼nacosä¸eurekaé½å¯¹å¤æ´é²äºresté£æ ¼çapiæ¥å£ï¼ç¨æ¥å®ç°æå¡æ³¨åãåç°ç­åè½\n * å®ä¾ç±»åï¼nacosçå®ä¾ææ°¸ä¹åä¸´æ¶å®ä¾ä¹åï¼èeurekaåªæ¯æä¸´æ¶å®ä¾\n * å¥åº·æ£æµï¼nacoså¯¹ä¸´æ¶å®ä¾éç¨å¿è·³æ¨¡å¼æ£æµï¼å¯¹æ°¸ä¹å®ä¾éç¨ä¸»å¨è¯·æ±æ¥æ£æµï¼eurekaåªæ¯æå¿è·³æ¨¡å¼\n * æå¡åç°ï¼nacosæ¯æå®æ¶æååè®¢éæ¨éä¸¤ç§æ¨¡å¼ï¼eurekaåªæ¯æå®æ¶æåæ¨¡å¼\n\n\n# 1.6.sentinelçéæµä¸gatewayçéæµæä»ä¹å·®å«ï¼\n\né®é¢è¯´æï¼èå¯å¯¹éæµç®æ³çææ¡æåµ\n\né¾æç¨åº¦ï¼é¾\n\nåèè¯æ¯ï¼\n\néæµç®æ³å¸¸è§çæä¸ç§å®ç°ï¼æ»å¨æ¶é´çªå£ãä»¤çæ¡¶ç®æ³ãæ¼æ¡¶ç®æ³ãgatewayåéç¨äºåºäºrediså®ç°çä»¤çæ¡¶ç®æ³ã\n\nèsentinelåé¨å´æ¯è¾å¤æï¼\n\n * é»è®¤éæµæ¨¡å¼æ¯åºäºæ»å¨æ¶é´çªå£ç®æ³\n * æéç­å¾çéæµæ¨¡å¼ååºäºæ¼æ¡¶ç®æ³\n * èç­ç¹åæ°éæµåæ¯åºäºä»¤çæ¡¶ç®æ³\n\n\n# 1.7.sentinelççº¿ç¨éç¦»ä¸hystixççº¿ç¨éç¦»æä»ä¹å·®å«?\n\né®é¢è¯´æï¼èå¯å¯¹çº¿ç¨éç¦»æ¹æ¡çææ¡æåµ\n\né¾æç¨åº¦ï¼ä¸è¬\n\nåèè¯æ¯ï¼\n\nhystixé»è®¤æ¯åºäºçº¿ç¨æ± å®ç°ççº¿ç¨éç¦»ï¼æ¯ä¸ä¸ªè¢«éç¦»çä¸å¡é½è¦åå»ºä¸ä¸ªç¬ç«ççº¿ç¨æ± ï¼çº¿ç¨è¿å¤ä¼å¸¦æ¥é¢å¤çcpuå¼éï¼æ§è½ä¸è¬ï¼ä½æ¯éç¦»æ§æ´å¼ºã\n\nsentinelæ¯åºäºä¿¡å·éï¼è®¡æ°å¨ï¼å®ç°ççº¿ç¨éç¦»ï¼ä¸ç¨åå»ºçº¿ç¨æ± ï¼æ§è½è¾å¥½ï¼ä½æ¯éç¦»æ§ä¸è¬ã\n\n\n# 2.mqç¯\n\n\n# 2.1.ä½ ä»¬ä¸ºä»ä¹éæ©äºrabbitmqèä¸æ¯å¶å®çmqï¼\n\nå¦å¾ï¼\n\n\n\nè¯æ¯ï¼\n\nkafkaæ¯ä»¥ååéé«èé»åï¼ä¸è¿å¶æ°æ®ç¨³å®æ§ä¸è¬ï¼èä¸æ æ³ä¿è¯æ¶æ¯æåºæ§ãæä»¬å¬å¸çæ¥å¿æ¶éä¹æä½¿ç¨ï¼ä¸å¡æ¨¡åä¸­åä½¿ç¨çrabbitmqã\n\né¿éå·´å·´çrocketmqåºäºkafkaçåçï¼å¼¥è¡¥äºkafkaçç¼ºç¹ï¼ç»§æ¿äºå¶é«ååçä¼å¿ï¼å¶å®¢æ·ç«¯ç®åä»¥javaä¸ºä¸»ãä½æ¯æä»¬æå¿é¿éå·´å·´å¼æºäº§åçç¨³å®æ§ï¼æä»¥å°±æ²¡æä½¿ç¨ã\n\nrabbitmqåºäºé¢åå¹¶åçè¯­è¨erlangå¼åï¼ååéä¸å¦kafkaï¼ä½æ¯å¯¹æä»¬å¬å¸æ¥è®²å¤ç¨äºãèä¸æ¶æ¯å¯é æ§è¾å¥½ï¼å¹¶ä¸æ¶æ¯å»¶è¿æä½ï¼éç¾¤æ­å»ºæ¯è¾æ¹ä¾¿ãæ¯æå¤ç§åè®®ï¼å¹¶ä¸æåç§è¯­è¨çå®¢æ·ç«¯ï¼æ¯è¾çµæ´»ãspringå¯¹rabbitmqçæ¯æä¹æ¯è¾å¥½ï¼ä½¿ç¨èµ·æ¥æ¯è¾æ¹ä¾¿ï¼æ¯è¾ç¬¦åæä»¬å¬å¸çéæ±ã\n\nç»¼åèèæä»¬å¬å¸çå¹¶åéæ±ä»¥åç¨³å®æ§éæ±ï¼æä»¬éæ©äºrabbitmqã\n\n\n# 2.2.rabbitmqå¦ä½ç¡®ä¿æ¶æ¯çä¸ä¸¢å¤±ï¼\n\nè¯æ¯ï¼\n\nrabbitmqéå¯¹æ¶æ¯ä¼ éè¿ç¨ä¸­å¯è½åçé®é¢çåä¸ªå°æ¹ï¼ç»åºäºéå¯¹æ§çè§£å³æ¹æ¡ï¼\n\n * çäº§èåéæ¶æ¯æ¶å¯è½å ä¸ºç½ç»é®é¢å¯¼è´æ¶æ¯æ²¡æå°è¾¾äº¤æ¢æºï¼\n   * rabbitmqæä¾äºpublisher confirmæºå¶\n     * çäº§èåéæ¶æ¯åï¼å¯ä»¥ç¼åconfirmcallbackå½æ°\n     * æ¶æ¯æåå°è¾¾äº¤æ¢æºåï¼rabbitmqä¼è°ç¨confirmcallbackéç¥æ¶æ¯çåéèï¼è¿åack\n     * æ¶æ¯å¦ææªå°è¾¾äº¤æ¢æºï¼rabbitmqä¹ä¼è°ç¨confirmcallbackéç¥æ¶æ¯çåéèï¼è¿ånack\n     * æ¶æ¯è¶æ¶æªåéæåä¹ä¼æåºå¼å¸¸\n * æ¶æ¯å°è¾¾äº¤æ¢æºåï¼å¦ææªè½å°è¾¾éåï¼ä¹ä¼å¯¼è´æ¶æ¯ä¸¢å¤±ï¼\n   * rabbitmqæä¾äºpublisher returnæºå¶\n     * çäº§èå¯ä»¥å®ä¹returncallbackå½æ°\n     * æ¶æ¯å°è¾¾äº¤æ¢æºï¼æªå°è¾¾éåï¼rabbitmqä¼è°ç¨returncallbackéç¥åéèï¼åç¥å¤±è´¥åå \n * æ¶æ¯å°è¾¾éååï¼mqå®æºä¹å¯è½å¯¼è´ä¸¢å¤±æ¶æ¯ï¼\n   * rabbitmqæä¾äºæä¹ååè½ï¼éç¾¤çä¸»ä»å¤ä»½åè½\n     * æ¶æ¯æä¹åï¼rabbitmqä¼å°äº¤æ¢æºãéåãæ¶æ¯æä¹åå°ç£çï¼å®æºéå¯å¯ä»¥æ¢å¤æ¶æ¯\n     * éåéç¾¤ï¼ä»²è£éåï¼é½å¯ä»¥æä¾ä¸»ä»å¤ä»½åè½ï¼ä¸»èç¹å®æºï¼ä»èç¹ä¼èªå¨åæ¢ä¸ºä¸»ï¼æ°æ®ä¾ç¶å¨\n * æ¶æ¯æéç»æ¶è´¹èåï¼å¦ææ¶è´¹èå¤çä¸å½ï¼ä¹å¯è½å¯¼è´æ¶æ¯ä¸¢å¤±\n   * springamqpåºäºrabbitmqæä¾äºæ¶è´¹èç¡®è®¤æºå¶ãæ¶è´¹èéè¯æºå¶ï¼æ¶è´¹èå¤±è´¥å¤çç­ç¥ï¼\n     * æ¶è´¹èçç¡®è®¤æºå¶ï¼\n       * æ¶è´¹èå¤çæ¶æ¯æåï¼æªåºç°å¼å¸¸æ¶ï¼springè¿åackç»rabbitmqï¼æ¶æ¯æè¢«ç§»é¤\n       * æ¶è´¹èå¤çæ¶æ¯å¤±è´¥ï¼æåºå¼å¸¸ï¼å®æºï¼springè¿ånackæèä¸è¿åç»æï¼æ¶æ¯ä¸è¢«å¼å¸¸\n     * æ¶è´¹èéè¯æºå¶ï¼\n       * é»è®¤æåµä¸ï¼æ¶è´¹èå¤çå¤±è´¥æ¶ï¼æ¶æ¯ä¼åæ¬¡åå°mqéåï¼ç¶åæéç»å¶å®æ¶è´¹èãspringæä¾çæ¶è´¹èéè¯æºå¶ï¼åæ¯å¨å¤çå¤±è´¥åä¸è¿ånackï¼èæ¯ç´æ¥å¨æ¶è´¹èæ¬å°éè¯ãå¤æ¬¡éè¯é½å¤±è´¥åï¼åæç§æ¶è´¹èå¤±è´¥å¤çç­ç¥æ¥å¤çæ¶æ¯ãé¿åäºæ¶æ¯é¢ç¹å¥éå¸¦æ¥çé¢å¤ååã\n     * æ¶è´¹èå¤±è´¥ç­ç¥ï¼\n       * å½æ¶è´¹èå¤æ¬¡æ¬å°éè¯å¤±è´¥æ¶ï¼æ¶æ¯é»è®¤ä¼ä¸¢å¼ã\n       * springæä¾äºrepublishç­ç¥ï¼å¨å¤æ¬¡éè¯é½å¤±è´¥ï¼èå°½éè¯æ¬¡æ°åï¼å°æ¶æ¯éæ°æéç»æå®çå¼å¸¸äº¤æ¢æºï¼å¹¶ä¸ä¼æºå¸¦ä¸å¼å¸¸æ ä¿¡æ¯ï¼å¸®å©å®ä½é®é¢ã\n\n\n# 2.3.rabbitmqå¦ä½é¿åæ¶æ¯å ç§¯ï¼\n\nè¯æ¯ï¼\n\næ¶æ¯å ç§¯é®é¢äº§ççåå å¾å¾æ¯å ä¸ºæ¶æ¯åéçéåº¦è¶è¿äºæ¶è´¹èæ¶æ¯å¤ççéåº¦ãå æ­¤è§£å³æ¹æ¡æ å¤ä¹ä»¥ä¸ä¸ç¹ï¼\n\n * æé«æ¶è´¹èå¤çéåº¦\n * å¢å æ´å¤æ¶è´¹è\n * å¢å éåæ¶æ¯å­å¨ä¸é\n\n1ï¼æé«æ¶è´¹èå¤çéåº¦\n\næ¶è´¹èå¤çéåº¦æ¯ç±ä¸å¡ä»£ç å³å®çï¼æä»¥æä»¬è½åçäºæåæ¬ï¼\n\n * å°½å¯è½ä¼åä¸å¡ä»£ç ï¼æé«ä¸å¡æ§è½\n * æ¥æ¶å°æ¶æ¯åï¼å¼å¯çº¿ç¨æ± ï¼å¹¶åå¤çå¤ä¸ªæ¶æ¯\n\nä¼ç¹ï¼ææ¬ä½ï¼æ¹æ¹ä»£ç å³å¯\n\nç¼ºç¹ï¼å¼å¯çº¿ç¨æ± ä¼å¸¦æ¥é¢å¤çæ§è½å¼éï¼å¯¹äºé«é¢ãä½æ¶å»¶çä»»å¡ä¸åéãæ¨èä»»å¡æ§è¡å¨æè¾é¿çä¸å¡ã\n\n2ï¼å¢å æ´å¤æ¶è´¹è\n\nä¸ä¸ªéåç»å®å¤ä¸ªæ¶è´¹èï¼å±åäºæ¢ä»»å¡ï¼èªç¶å¯ä»¥æä¾æ¶æ¯å¤ççéåº¦ã\n\nä¼ç¹ï¼è½ç¨é±è§£å³çé®é¢é½ä¸æ¯é®é¢ãå®ç°ç®åç²æ´\n\nç¼ºç¹ï¼é®é¢æ¯æ²¡æé±ãææ¬å¤ªé«\n\n3ï¼å¢å éåæ¶æ¯å­å¨ä¸é\n\nå¨rabbitmqç1.8çæ¬åï¼å å¥äºæ°çéåæ¨¡å¼ï¼lazy queue\n\nè¿ç§éåä¸ä¼å°æ¶æ¯ä¿å­å¨åå­ä¸­ï¼èæ¯å¨æ¶å°æ¶æ¯åç´æ¥åå¥ç£çä¸­ï¼çè®ºä¸æ²¡æå­å¨ä¸éãå¯ä»¥è§£å³æ¶æ¯å ç§¯é®é¢ã\n\nä¼ç¹ï¼ç£çå­å¨æ´å®å¨ï¼å­å¨æ ä¸éï¼é¿ååå­å­å¨å¸¦æ¥çpage outé®é¢ï¼æ§è½æ´ç¨³å®ï¼\n\nç¼ºç¹ï¼ç£çå­å¨åå°ioæ§è½çéå¶ï¼æ¶æ¯æ¶ææ§ä¸å¦åå­æ¨¡å¼ï¼ä½å½±åä¸å¤§ã\n\n\n# 2.4.rabbitmqå¦ä½ä¿è¯æ¶æ¯çæåºæ§ï¼\n\nè¯æ¯ï¼\n\nå¶å®rabbitmqæ¯éåå­å¨ï¼å¤©ç¶å·å¤åè¿ååºçç¹ç¹ï¼åªè¦æ¶æ¯çåéæ¯æåºçï¼é£ä¹çè®ºä¸æ¥æ¶ä¹æ¯æåºçãä¸è¿å½ä¸ä¸ªéåç»å®äºå¤ä¸ªæ¶è´¹èæ¶ï¼å¯è½åºç°æ¶æ¯è½®è¯¢æéç»æ¶è´¹èçæåµï¼èæ¶è´¹èçå¤çé¡ºåºå°±æ æ³ä¿è¯äºã\n\nå æ­¤ï¼è¦ä¿è¯æ¶æ¯çæåºæ§ï¼éè¦åçä¸é¢å ç¹ï¼\n\n * ä¿è¯æ¶æ¯åéçæåºæ§\n * ä¿è¯ä¸ç»æåºçæ¶æ¯é½åéå°åä¸ä¸ªéå\n * ä¿è¯ä¸ä¸ªéååªåå«ä¸ä¸ªæ¶è´¹è\n\n\n# 2.5.å¦ä½é²æ­¢mqæ¶æ¯è¢«éå¤æ¶è´¹ï¼\n\nè¯æ¯ï¼\n\næ¶æ¯éå¤æ¶è´¹çåå å¤ç§å¤æ ·ï¼ä¸å¯é¿åãæä»¥åªè½ä»æ¶è´¹èç«¯å¥æï¼åªè¦è½ä¿è¯æ¶æ¯å¤ççå¹ç­æ§å°±å¯ä»¥ç¡®ä¿æ¶æ¯ä¸è¢«éå¤æ¶è´¹ã\n\nèå¹ç­æ§çä¿è¯åæå¾å¤æ¹æ¡ï¼\n\n * ç»æ¯ä¸æ¡æ¶æ¯é½æ·»å ä¸ä¸ªå¯ä¸idï¼å¨æ¬å°è®°å½æ¶æ¯è¡¨åæ¶æ¯ç¶æï¼å¤çæ¶æ¯æ¶åºäºæ°æ®åºè¡¨çidå¯ä¸æ§åå¤æ­\n * åæ ·æ¯è®°å½æ¶æ¯è¡¨ï¼å©ç¨æ¶æ¯ç¶æå­æ®µå®ç°åºäºä¹è§éçå¤æ­ï¼ä¿è¯å¹ç­\n * åºäºä¸å¡æ¬èº«çå¹ç­æ§ãæ¯å¦æ ¹æ®idçå é¤ãæ¥è¯¢ä¸å¡å¤©çå¹ç­ï¼æ°å¢ãä¿®æ¹ç­ä¸å¡å¯ä»¥èèåºäºæ°æ®åºidå¯ä¸æ§ãæèä¹è§éæºå¶ç¡®ä¿å¹ç­ãæ¬è´¨ä¸æ¶æ¯è¡¨æ¹æ¡ç±»ä¼¼ã\n\n\n# 2.6.å¦ä½ä¿è¯rabbitmqçé«å¯ç¨ï¼\n\nè¯æ¯ï¼\n\nè¦å®ç°rabbitmqçé«å¯ç¨æ å¤ä¹ä¸é¢ä¸¤ç¹ï¼\n\n * åå¥½äº¤æ¢æºãéåãæ¶æ¯çæä¹å\n * æ­å»ºrabbitmqçéåéç¾¤ï¼åå¥½ä¸»ä»å¤ä»½ãå½ç¶ä¹å¯ä»¥ä½¿ç¨ä»²è£éåä»£æ¿éåéç¾¤ã\n\n\n# 2.7.ä½¿ç¨mqå¯ä»¥è§£å³é£äºé®é¢ï¼\n\nè¯æ¯ï¼\n\nrabbitmqè½è§£å³çé®é¢å¾å¤ï¼ä¾å¦ï¼\n\n * è§£è¦åï¼å°å ä¸ªä¸å¡å³èçå¾®æå¡è°ç¨ä¿®æ¹ä¸ºåºäºmqçå¼æ­¥éç¥ï¼å¯ä»¥è§£é¤å¾®æå¡ä¹é´çä¸å¡è¦åãåæ¶è¿æé«äºä¸å¡æ§è½ã\n * æµéåå³°ï¼å°çªåçä¸å¡è¯·æ±æ¾å¥mqä¸­ï¼ä½ä¸ºç¼å²åºãåç«¯çä¸å¡æ ¹æ®èªå·±çå¤çè½åä»mqä¸­è·åæ¶æ¯ï¼éä¸ªå¤çä»»å¡ãæµéæ²çº¿åçå¹³æ»å¾å¤\n * å»¶è¿éåï¼åºäºrabbitmqçæ­»ä¿¡éåæèdelayexchangeæä»¶ï¼å¯ä»¥å®ç°æ¶æ¯åéåï¼å»¶è¿æ¥æ¶çææã\n\n\n# 3.redisç¯\n\n\n# 3.1.redisä¸memcacheçåºå«ï¼\n\n * redisæ¯ææ´ä¸°å¯çæ°æ®ç±»åï¼æ¯ææ´å¤æçåºç¨åºæ¯ï¼ï¼redisä¸ä»ä»æ¯æç®åçk/vç±»åçæ°æ®ï¼åæ¶è¿æä¾listï¼setï¼zsetï¼hashç­æ°æ®ç»æçå­å¨ãmemcacheæ¯æç®åçæ°æ®ç±»åï¼stringã\n * redisæ¯ææ°æ®çæä¹åï¼å¯ä»¥å°åå­ä¸­çæ°æ®ä¿æå¨ç£çä¸­ï¼éå¯çæ¶åå¯ä»¥åæ¬¡å è½½è¿è¡ä½¿ç¨,èmemecacheææ°æ®å¨é¨å­å¨åå­ä¹ä¸­ã\n * éç¾¤æ¨¡å¼ï¼memcachedæ²¡æåççéç¾¤æ¨¡å¼ï¼éè¦ä¾é å®¢æ·ç«¯æ¥å®ç°å¾éç¾¤ä¸­åçåå¥æ°æ®ï¼ä½æ¯ redis ç®åæ¯åçæ¯æ cluster æ¨¡å¼ç.\n * redisä½¿ç¨åçº¿ç¨ï¼memcachedæ¯å¤çº¿ç¨ï¼éé»å¡ioå¤ç¨çç½ç»æ¨¡åï¼redisä½¿ç¨åçº¿ç¨çå¤è·¯ io å¤ç¨æ¨¡åã\n\n\n\n\n# 3.2.redisçåçº¿ç¨é®é¢\n\né¢è¯å®ï¼rediséç¨åçº¿ç¨ï¼å¦ä½ä¿è¯é«å¹¶åï¼\n\né¢è¯è¯æ¯ï¼\n\nrediså¿«çä¸»è¦åå æ¯ï¼\n\n 1. å®å¨åºäºåå­\n 2. æ°æ®ç»æç®åï¼å¯¹æ°æ®æä½ä¹ç®å\n 3. ä½¿ç¨å¤è·¯ i/o å¤ç¨æ¨¡åï¼ååå©ç¨cpuèµæº\n\né¢è¯å®ï¼è¿æ ·åçå¥½å¤æ¯ä»ä¹ï¼\n\né¢è¯è¯æ¯ï¼\n\nåçº¿ç¨ä¼å¿æä¸é¢å ç¹ï¼\n\n * ä»£ç æ´æ¸æ°ï¼å¤çé»è¾æ´ç®å\n * ä¸ç¨å»èèåç§éçé®é¢ï¼ä¸å­å¨å ééæ¾éæä½ï¼æ²¡æå ä¸ºéèå¯¼è´çæ§è½æ¶è\n * ä¸å­å¨å¤è¿ç¨æèå¤çº¿ç¨å¯¼è´çcpuåæ¢ï¼ååå©ç¨cpuèµæº\n\n\n# 3.2.redisçæä¹åæ¹æ¡ç±åªäºï¼\n\nç¸å³èµæï¼\n\n1ï¼rdb æä¹å\n\nrdbæä¹åå¯ä»¥ä½¿ç¨saveæbgsaveï¼ä¸ºäºä¸é»å¡ä¸»è¿ç¨ä¸å¡ï¼ä¸è¬é½ä½¿ç¨bgsaveï¼æµç¨ï¼\n\n * redis è¿ç¨ä¼ fork åºä¸ä¸ªå­è¿ç¨ï¼ä¸ç¶è¿ç¨åå­æ°æ®ä¸è´ï¼ã\n * ç¶è¿ç¨ç»§ç»­å¤çå®¢æ·ç«¯è¯·æ±å½ä»¤\n * ç±å­è¿ç¨å°åå­ä¸­çæææ°æ®åå¥å°ä¸ä¸ªä¸´æ¶ç rdb æä»¶ä¸­ã\n * å®æåå¥æä½ä¹åï¼æ§ç rdb æä»¶ä¼è¢«æ°ç rdb æä»¶æ¿æ¢æã\n\nä¸é¢æ¯ä¸äºå rdb æä¹åç¸å³çéç½®ï¼\n\n * save 60 10000ï¼å¦æå¨ 60 ç§åæ 10000 ä¸ª key åçæ¹åï¼é£å°±æ§è¡ rdb æä¹åã\n * stop-writes-on-bgsave-error yesï¼å¦æ redis æ§è¡ rdb æä¹åå¤±è´¥ï¼å¸¸è§äºæä½ç³»ç»åå­ä¸è¶³ï¼ï¼é£ä¹ redis å°ä¸åæ¥å client åå¥æ°æ®çè¯·æ±ã\n * rdbcompression yesï¼å½çæ rdb æä»¶æ¶ï¼åæ¶è¿è¡åç¼©ã\n * dbfilename dump.rdbï¼å° rdb æä»¶å½åä¸º dump.rdbã\n * dir /var/lib/redisï¼å° rdb æä»¶ä¿å­å¨/var/lib/redisç®å½ä¸ã\n\nå½ç¶å¨å®è·µä¸­ï¼æä»¬éå¸¸ä¼å°stop-writes-on-bgsave-errorè®¾ç½®ä¸ºfalseï¼åæ¶è®©çæ§ç³»ç»å¨ redis æ§è¡ rdb æä¹åå¤±è´¥æ¶åéåè­¦ï¼ä»¥ä¾¿äººå·¥ä»å¥è§£å³ï¼èä¸æ¯ç²æ´å°æç» client çåå¥è¯·æ±ã\n\nrdbæä¹åçä¼ç¹ï¼\n\n * rdbæä¹åæä»¶å°ï¼redisæ°æ®æ¢å¤æ¶éåº¦å¿«\n * å­è¿ç¨ä¸å½±åç¶è¿ç¨ï¼ç¶è¿ç¨å¯ä»¥æç»­å¤çå®¢æ·ç«¯å½ä»¤\n * å­è¿ç¨forkæ¶éç¨copy-on-writeæ¹å¼ï¼å¤§å¤æ°æåµä¸ï¼æ²¡æå¤ªå¤çåå­æ¶èï¼æçæ¯è¾å¥½ã\n\nrdb æä¹åçç¼ºç¹ï¼\n\n * å­è¿ç¨forkæ¶éç¨copy-on-writeæ¹å¼ï¼å¦æredisæ­¤æ¶åæä½è¾å¤ï¼å¯è½å¯¼è´é¢å¤çåå­å ç¨ï¼çè³åå­æº¢åº\n * rdbæä»¶åç¼©ä¼åå°æä»¶ä½ç§¯ï¼ä½éè¿æ¶ä¼å¯¹cpuæé¢å¤çæ¶è\n * å¦æä¸å¡åºæ¯å¾çéæ°æ®çæä¹æ§ (durability)ï¼é£ä¹ä¸åºè¯¥éç¨ rdb æä¹åãè­¬å¦è¯´ï¼å¦æ redis æ¯ 5 åéæ§è¡ä¸æ¬¡ rdb æä¹åï¼è¦æ¯ redis æå¤å¥æºäºï¼é£ä¹æå¤ä¼ä¸¢å¤± 5 åéçæ°æ®ã\n\n2ï¼aof æä¹å\n\nå¯ä»¥ä½¿ç¨appendonly yeséç½®é¡¹æ¥å¼å¯ aof æä¹åãredis æ§è¡ aof æä¹åæ¶ï¼ä¼å°æ¥æ¶å°çåå½ä»¤è¿½å å° aof æä»¶çæ«å°¾ï¼å æ­¤ redis åªè¦å¯¹ aof æä»¶ä¸­çå½ä»¤è¿è¡åæ¾ï¼å°±å¯ä»¥å°æ°æ®åºè¿åå°ååçç¶æã ããä¸ rdb æä¹åç¸æ¯ï¼aof æä¹åçä¸ä¸ªææ¾ä¼å¿å°±æ¯ï¼å®å¯ä»¥æé«æ°æ®çæä¹æ§ (durability)ãå ä¸ºå¨ aof æ¨¡å¼ä¸ï¼redis æ¯æ¬¡æ¥æ¶å° client çåå½ä»¤ï¼å°±ä¼å°å½ä»¤write()å° aof æä»¶æ«å°¾ã ããç¶èï¼å¨ linux ä¸­ï¼å°æ°æ®write()å°æä»¶åï¼æ°æ®å¹¶ä¸ä¼ç«å³å·æ°å°ç£çï¼èä¼åæå­å¨ os çæä»¶ç³»ç»ç¼å²åºãå¨åéçæ¶æºï¼os æä¼å°ç¼å²åºçæ°æ®å·æ°å°ç£çï¼å¦æéè¦å°æä»¶åå®¹å·æ°å°ç£çï¼å¯ä»¥è°ç¨fsync()æfdatasync()ï¼ã ããéè¿appendfsyncéç½®é¡¹ï¼å¯ä»¥æ§å¶ redis å°å½ä»¤åæ­¥å°ç£ççé¢çï¼\n\n * alwaysï¼æ¯æ¬¡ redis å°å½ä»¤write()å° aof æä»¶æ¶ï¼é½ä¼è°ç¨fsync()ï¼å°å½ä»¤å·æ°å°ç£çãè¿å¯ä»¥ä¿è¯æå¥½çæ°æ®æä¹æ§ï¼ä½å´ä¼ç»ç³»ç»å¸¦æ¥æå¤§çå¼éã\n * noï¼redis åªå°å½ä»¤write()å° aof æä»¶ãè¿ä¼è®© os å³å®ä½æ¶å°å½ä»¤å·æ°å°ç£çã\n * everysecï¼é¤äºå°å½ä»¤write()å° aof æä»¶ï¼redis è¿ä¼æ¯ç§æ§è¡ä¸æ¬¡fsync()ãå¨å®è·µä¸­ï¼æ¨èä½¿ç¨è¿ç§è®¾ç½®ï¼ä¸å®ç¨åº¦ä¸å¯ä»¥ä¿è¯æ°æ®æä¹æ§ï¼åä¸ä¼ææ¾éä½ redis æ§è½ã\n\nç¶èï¼aof æä¹åå¹¶ä¸æ¯æ²¡æç¼ºç¹çï¼redis ä¼ä¸æ­å°æ¥æ¶å°çåå½ä»¤è¿½å å° aof æä»¶ä¸­ï¼å¯¼è´ aof æä»¶è¶æ¥è¶å¤§ãè¿å¤§ç aof æä»¶ä¼æ¶èç£çç©ºé´ï¼å¹¶ä¸å¯¼è´ redis éå¯æ¶æ´å ç¼æ¢ãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼å¨éå½æåµä¸ï¼redis ä¼å¯¹ aof æä»¶è¿è¡éåï¼å»é¤æä»¶ä¸­åä½çå½ä»¤ï¼ä»¥åå° aof æä»¶çä½ç§¯ãå¨éå aof æä»¶æé´ï¼ redis ä¼å¯å¨ä¸ä¸ªå­è¿ç¨ï¼ç±å­è¿ç¨è´è´£å¯¹ aof æä»¶è¿è¡éåã ããå¯ä»¥éè¿ä¸é¢ä¸¤ä¸ªéç½®é¡¹ï¼æ§å¶ redis éå aof æä»¶çé¢çï¼\n\n * auto-aof-rewrite-min-size 64mb\n * auto-aof-rewrite-percentage 100\n\nä¸é¢ä¸¤ä¸ªéç½®çä½ç¨ï¼å½ aof æä»¶çä½ç§¯å¤§äº 64mbï¼å¹¶ä¸ aof æä»¶çä½ç§¯æ¯ä¸ä¸æ¬¡éåä¹åçä½ç§¯å¤§äºè³å°ä¸åï¼é£ä¹ redis å°±ä¼æ§è¡ aof éåã\n\nä¼ç¹ï¼\n\n * æä¹åé¢çé«ï¼æ°æ®å¯é æ§é«\n * æ²¡æé¢å¤çåå­æcpuæ¶è\n\nç¼ºç¹ï¼\n\n * æä»¶ä½ç§¯å¤§\n * æä»¶å¤§å¯¼è´æå¡æ°æ®æ¢å¤æ¶æçè¾ä½\n\né¢è¯è¯æ¯ï¼\n\nredis æä¾äºä¸¤ç§æ°æ®æä¹åçæ¹å¼ï¼ä¸ç§æ¯ rdbï¼å¦ä¸ç§æ¯ aofãé»è®¤æåµä¸ï¼redis ä½¿ç¨çæ¯ rdb æä¹åã\n\nrdbæä¹åæä»¶ä½ç§¯è¾å°ï¼ä½æ¯ä¿å­æ°æ®çé¢çä¸è¬è¾ä½ï¼å¯é æ§å·®ï¼å®¹æä¸¢å¤±æ°æ®ãå¦å¤rdbåæ°æ®æ¶ä¼éç¨forkå½æ°æ·è´ä¸»è¿ç¨ï¼å¯è½æé¢å¤çåå­æ¶èï¼æä»¶åç¼©ä¹ä¼æé¢å¤çcpuæ¶èã\n\nrofæä¹åå¯ä»¥åå°æ¯ç§éæä¹åä¸æ¬¡ï¼å¯é æ§é«ãä½æ¯æä¹åæä»¶ä½ç§¯è¾å¤§ï¼å¯¼è´æ°æ®æ¢å¤æ¶è¯»åæä»¶æ¶é´è¾é¿ï¼æçç¥ä½\n\n\n# 3.3.redisçéç¾¤æ¹å¼æåªäºï¼\n\né¢è¯è¯æ¯ï¼\n\nrediséç¾¤å¯ä»¥åä¸ºä¸»ä»éç¾¤ååçéç¾¤ä¸¤ç±»ã\n\nä¸»ä»éç¾¤ä¸è¬ä¸ä¸»å¤ä»ï¼ä¸»åºç¨æ¥åæ°æ®ï¼ä»åºç¨æ¥è¯»æ°æ®ãç»åå¨åµï¼å¯ä»¥åä¸»åºå®æºæ¶ä»æ°éä¸»ï¼ç®çæ¯ä¿è¯redisçé«å¯ç¨ã\n\nåçéç¾¤æ¯æ°æ®åçï¼æä»¬ä¼è®©å¤ä¸ªredisèç¹ç»æéç¾¤ï¼å¹¶å°16383ä¸ªææ§½åå°ä¸åçèç¹ä¸ãå­å¨æ°æ®æ¶å©ç¨å¯¹keyåhashè¿ç®ï¼å¾å°ææ§½å¼åå­å¨å°å¯¹åºçèç¹å³å¯ãå ä¸ºå­å¨æ°æ®é¢åçæ¯ææ§½èéèç¹æ¬èº«ï¼å æ­¤å¯ä»¥åå°éç¾¤å¨æä¼¸ç¼©ãç®çæ¯è®©redisè½å­å¨æ´å¤æ°æ®ã\n\n1ï¼ä¸»ä»éç¾¤\n\nä¸»ä»éç¾¤ï¼ä¹æ¯è¯»ååç¦»éç¾¤ãä¸è¬é½æ¯ä¸ä¸»å¤ä»æ¹å¼ã\n\nredis çå¤å¶ï¼replicationï¼åè½åè®¸ç¨æ·æ ¹æ®ä¸ä¸ª redis æå¡å¨æ¥åå»ºä»»æå¤ä¸ªè¯¥æå¡å¨çå¤å¶åï¼å¶ä¸­è¢«å¤å¶çæå¡å¨ä¸ºä¸»æå¡å¨ï¼masterï¼ï¼èéè¿å¤å¶åå»ºåºæ¥çæå¡å¨å¤å¶ååä¸ºä»æå¡å¨ï¼slaveï¼ã\n\nåªè¦ä¸»ä»æå¡å¨ä¹é´çç½ç»è¿æ¥æ­£å¸¸ï¼ä¸»ä»æå¡å¨ä¸¤èä¼å·æç¸åçæ°æ®ï¼ä¸»æå¡å¨å°±ä¼ä¸ç´å°åçå¨èªå·±èº«ä¸çæ°æ®æ´æ°åæ­¥ ç»ä»æå¡å¨ï¼ä»èä¸ç´ä¿è¯ä¸»ä»æå¡å¨çæ°æ®ç¸åã\n\n * åæ°æ®æ¶åªè½éè¿ä¸»èç¹å®æ\n * è¯»æ°æ®å¯ä»¥ä»ä»»ä½èç¹å®æ\n * å¦æéç½®äºå¨åµèç¹ï¼å½masterå®æºæ¶ï¼å¨åµä¼ä»salveèç¹éåºä¸ä¸ªæ°çä¸»ã\n\nä¸»ä»éç¾¤åä¸¤ç§ï¼\n\n\n\nå¸¦æå¨åµçéç¾¤ï¼\n\n\n\n2ï¼åçéç¾¤\n\nä¸»ä»éç¾¤ä¸­ï¼æ¯ä¸ªèç¹é½è¦ä¿å­ææä¿¡æ¯ï¼å®¹æå½¢ææ¨æ¡¶æåºãå¹¶ä¸å½æ°æ®éè¾å¤§æ¶ï¼åä¸ªæºå¨æ æ³æ»¡è¶³éæ±ãæ­¤æ¶æä»¬å°±è¦ä½¿ç¨åçéç¾¤äºã\n\n\n\néç¾¤ç¹å¾ï¼\n\n * æ¯ä¸ªèç¹é½ä¿å­ä¸åæ°æ®\n\n * ææçredisèç¹å½¼æ­¤äºè(ping-pongæºå¶),åé¨ä½¿ç¨äºè¿å¶åè®®ä¼åä¼ è¾éåº¦åå¸¦å®½.\n\n * èç¹çfailæ¯éè¿éç¾¤ä¸­è¶è¿åæ°çèç¹æ£æµå¤±ææ¶æçæ.\n\n * å®¢æ·ç«¯ä¸redisèç¹ç´è¿,ä¸éè¦ä¸­é´proxyå±è¿æ¥éç¾¤ä¸­ä»»ä½ä¸ä¸ªå¯ç¨èç¹é½å¯ä»¥è®¿é®å°æ°æ®\n\n * redis-clusteræææçç©çèç¹æ å°å°[0-16383]slotï¼ææ§½ï¼ä¸ï¼å®ç°å¨æä¼¸ç¼©\n\nä¸ºäºä¿è¯redisä¸­æ¯ä¸ªèç¹çé«å¯ç¨ï¼æä»¬è¿å¯ä»¥ç»æ¯ä¸ªèç¹åå»ºreplicationï¼slaveèç¹ï¼ï¼å¦å¾ï¼\n\n\n\nåºç°æéæ¶ï¼ä¸»ä»å¯ä»¥åæ¶åæ¢ï¼\n\n\n\n\n# 3.4.redisçå¸¸ç¨æ°æ®ç±»åæåªäºï¼\n\næ¯æå¤ç§ç±»åçæ°æ®ç»æï¼ä¸»è¦åºå«æ¯valueå­å¨çæ°æ®æ ¼å¼ä¸åï¼\n\n * stringï¼æåºæ¬çæ°æ®ç±»åï¼äºè¿å¶å®å¨çå­ç¬¦ä¸²ï¼æå¤§512mã\n\n * listï¼æç§æ·»å é¡ºåºä¿æé¡ºåºçå­ç¬¦ä¸²åè¡¨ã\n\n * setï¼æ åºçå­ç¬¦ä¸²éåï¼ä¸å­å¨éå¤çåç´ ã\n\n * sorted setï¼å·²æåºçå­ç¬¦ä¸²éåã\n\n * hashï¼key-valueå¯¹æ ¼å¼\n\n\n# 3.5.èä¸ä¸redisäºå¡æºå¶\n\nç¸å³èµæï¼\n\nåèï¼http://redisdoc.com/topic/transaction.html\n\nredisäºå¡åè½æ¯éè¿multiãexecãdiscardåwatch åä¸ªåè¯­å®ç°çãredisä¼å°ä¸ä¸ªäºå¡ä¸­çææå½ä»¤åºååï¼ç¶åæé¡ºåºæ§è¡ãä½æ¯redisäºå¡ä¸æ¯æåæ»æä½ï¼å½ä»¤è¿è¡åºéåï¼æ­£ç¡®çå½ä»¤ä¼ç»§ç»­æ§è¡ã\n\n * multi: ç¨äºå¼å¯ä¸ä¸ªäºå¡ï¼å®æ»æ¯è¿åokã multiæ§è¡ä¹åï¼å®¢æ·ç«¯å¯ä»¥ç»§ç»­åæå¡å¨åéä»»æå¤æ¡å½ä»¤ï¼è¿äºå½ä»¤ä¸ä¼ç«å³è¢«æ§è¡ï¼èæ¯è¢«æ¾å°ä¸ä¸ªå¾æ§è¡å½ä»¤éåä¸­\n * execï¼æé¡ºåºæ§è¡å½ä»¤éååçææå½ä»¤ãè¿åææå½ä»¤çè¿åå¼ãäºå¡æ§è¡è¿ç¨ä¸­ï¼redisä¸ä¼æ§è¡å¶å®äºå¡çå½ä»¤ã\n * discardï¼æ¸ç©ºå½ä»¤éåï¼å¹¶æ¾å¼æ§è¡äºå¡ï¼ å¹¶ä¸å®¢æ·ç«¯ä¼ä»äºå¡ç¶æä¸­éåº\n * watchï¼redisçä¹è§éæºå¶ï¼å©ç¨compare-and-setï¼casï¼åçï¼å¯ä»¥çæ§ä¸ä¸ªæå¤ä¸ªé®ï¼ä¸æ¦å¶ä¸­æä¸ä¸ªé®è¢«ä¿®æ¹ï¼ä¹åçäºå¡å°±ä¸ä¼æ§è¡\n\nä½¿ç¨äºå¡æ¶å¯è½ä¼éä¸ä»¥ä¸ä¸¤ç§éè¯¯ï¼\n\n * æ§è¡ exec ä¹åï¼å¥éçå½ä»¤å¯è½ä¼åºéãæ¯å¦è¯´ï¼å½ä»¤å¯è½ä¼äº§çè¯­æ³éè¯¯ï¼åæ°æ°ééè¯¯ï¼åæ°åéè¯¯ï¼ç­ç­ï¼ï¼æèå¶ä»æ´ä¸¥éçéè¯¯ï¼æ¯å¦åå­ä¸è¶³ï¼å¦ææå¡å¨ä½¿ç¨ maxmemory è®¾ç½®äºæå¤§åå­éå¶çè¯ï¼ã\n   * redis 2.6.5 å¼å§ï¼æå¡å¨ä¼å¯¹å½ä»¤å¥éå¤±è´¥çæåµè¿è¡è®°å½ï¼å¹¶å¨å®¢æ·ç«¯è°ç¨ exec å½ä»¤æ¶ï¼æç»æ§è¡å¹¶èªå¨æ¾å¼è¿ä¸ªäºå¡ã\n * å½ä»¤å¯è½å¨ exec è°ç¨ä¹åå¤±è´¥ãä¸¾ä¸ªä¾å­ï¼äºå¡ä¸­çå½ä»¤å¯è½å¤çäºéè¯¯ç±»åçé®ï¼æ¯å¦å°åè¡¨å½ä»¤ç¨å¨äºå­ç¬¦ä¸²é®ä¸é¢ï¼è¯¸å¦æ­¤ç±»ã\n   * å³ä½¿äºå¡ä¸­ææä¸ª/æäºå½ä»¤å¨æ§è¡æ¶äº§çäºéè¯¯ï¼ äºå¡ä¸­çå¶ä»å½ä»¤ä»ç¶ä¼ç»§ç»­æ§è¡ï¼ä¸ä¼åæ»ã\n\nä¸ºä»ä¹ redis ä¸æ¯æåæ»ï¼roll backï¼ï¼\n\nä»¥ä¸æ¯è¿ç§åæ³çä¼ç¹ï¼\n\n * redis å½ä»¤åªä¼å ä¸ºéè¯¯çè¯­æ³èå¤±è´¥ï¼å¹¶ä¸è¿äºé®é¢ä¸è½å¨å¥éæ¶åç°ï¼ï¼ææ¯å½ä»¤ç¨å¨äºéè¯¯ç±»åçé®ä¸é¢ï¼è¿ä¹å°±æ¯è¯´ï¼ä»å®ç¨æ§çè§åº¦æ¥è¯´ï¼å¤±è´¥çå½ä»¤æ¯ç±ç¼ç¨éè¯¯é æçï¼èè¿äºéè¯¯åºè¯¥å¨å¼åçè¿ç¨ä¸­è¢«åç°ï¼èä¸åºè¯¥åºç°å¨çäº§ç¯å¢ä¸­ã\n * å ä¸ºä¸éè¦å¯¹åæ»è¿è¡æ¯æï¼æä»¥ redis çåé¨å¯ä»¥ä¿æç®åä¸å¿«éã\n\né´äºæ²¡æä»»ä½æºå¶è½é¿åç¨åºåèªå·±é æçéè¯¯ï¼ å¹¶ä¸è¿ç±»éè¯¯éå¸¸ä¸ä¼å¨çäº§ç¯å¢ä¸­åºç°ï¼ æä»¥ redis éæ©äºæ´ç®åãæ´å¿«éçæ åæ»æ¹å¼æ¥å¤çäºå¡ã\n\né¢è¯è¯æ¯ï¼\n\nredisäºå¡å¶å®æ¯æä¸ç³»årediså½ä»¤æ¾å¥éåï¼ç¶åæ¹éæ§è¡ï¼æ§è¡è¿ç¨ä¸­ä¸ä¼æå¶å®äºå¡æ¥ææ­ãä¸è¿ä¸å³ç³»åæ°æ®åºçäºå¡ä¸åï¼redisäºå¡ä¸æ¯æåæ»æä½ï¼äºå¡ä¸­æä¸ªå½ä»¤æ§è¡å¤±è´¥ï¼å¶å®å½ä»¤ä¾ç¶ä¼æ§è¡ã\n\nä¸ºäºå¼¥è¡¥ä¸è½åæ»çé®é¢ï¼redisä¼å¨äºå¡å¥éæ¶å°±æ£æ¥å½ä»¤ï¼å¦æå½ä»¤å¼å¸¸åä¼æ¾å¼æ´ä¸ªäºå¡ã\n\nå æ­¤ï¼åªè¦ç¨åºåç¼ç¨æ¯æ­£ç¡®çï¼çè®ºä¸è¯´redisä¼æ­£ç¡®æ§è¡ææäºå¡ï¼æ éåæ»ã\n\né¢è¯å®ï¼å¦æäºå¡æ§è¡ä¸åçæ¶årediså®æºæä¹åï¼\n\nredisææä¹åæºå¶ï¼å ä¸ºå¯é æ§é®é¢ï¼æä»¬ä¸è¬ä½¿ç¨aofæä¹åãäºå¡çææå½ä»¤ä¹ä¼åå¥aofæä»¶ï¼ä½æ¯å¦æå¨æ§è¡execå½ä»¤ä¹åï¼rediså·²ç»å®æºï¼åaofæä»¶ä¸­äºå¡ä¸å®æ´ãä½¿ç¨ redis-check-aof ç¨åºå¯ä»¥ç§»é¤ aof æä»¶ä¸­ä¸å®æ´äºå¡çä¿¡æ¯ï¼ç¡®ä¿æå¡å¨å¯ä»¥é¡ºå©å¯å¨ã\n\n\n# 3.6.redisçkeyè¿æç­ç¥\n\n\n# åèèµæï¼\n\n# ä¸ºä»ä¹éè¦åå­åæ¶ï¼\n\n * 1ãå¨redisä¸­ï¼setæä»¤å¯ä»¥æå®keyçè¿ææ¶é´ï¼å½è¿ææ¶é´å°è¾¾ä»¥åï¼keyå°±å¤±æäºï¼\n * 2ãredisæ¯åºäºåå­æä½çï¼ææçæ°æ®é½æ¯ä¿å­å¨åå­ä¸­ï¼ä¸å°æºå¨çåå­æ¯æéä¸å¾å®è´µçã\n\nåºäºä»¥ä¸ä¸¤ç¹ï¼ä¸ºäºä¿è¯redisè½ç»§ç»­æä¾å¯é çæå¡ï¼rediséè¦ä¸ç§æºå¶æ¸çæä¸å¸¸ç¨çãæ æçãå¤ä½çæ°æ®ï¼å¤±æåçæ°æ®éè¦åæ¶æ¸çï¼è¿å°±éè¦åå­åæ¶äºã\n\nredisçåå­åæ¶ä¸»è¦åä¸ºè¿æå é¤ç­ç¥ååå­æ·æ±°ç­ç¥ä¸¤é¨åã\n\n# è¿æå é¤ç­ç¥\n\nå é¤è¾¾å°è¿ææ¶é´çkeyã\n\n * 1ï¼å®æ¶å é¤\n\nå¯¹äºæ¯ä¸ä¸ªè®¾ç½®äºè¿ææ¶é´çkeyé½ä¼åå»ºä¸ä¸ªå®æ¶å¨ï¼ä¸æ¦å°è¾¾è¿ææ¶é´å°±ç«å³å é¤ãè¯¥ç­ç¥å¯ä»¥ç«å³æ¸é¤è¿æçæ°æ®ï¼å¯¹åå­è¾åå¥½ï¼ä½æ¯ç¼ºç¹æ¯å ç¨äºå¤§éçcpuèµæºå»å¤çè¿æçæ°æ®ï¼ä¼å½±åredisçååéåååºæ¶é´ã\n\n * 2ï¼æ°æ§å é¤\n\nå½è®¿é®ä¸ä¸ªkeyæ¶ï¼æå¤æ­è¯¥keyæ¯å¦è¿æï¼è¿æåå é¤ãè¯¥ç­ç¥è½æå¤§éåº¦å°èçcpuèµæºï¼ä½æ¯å¯¹åå­å´ååä¸åå¥½ãæä¸ç§æç«¯çæåµæ¯å¯è½åºç°å¤§éçè¿ækeyæ²¡æè¢«åæ¬¡è®¿é®ï¼å æ­¤ä¸ä¼è¢«æ¸é¤ï¼å¯¼è´å ç¨äºå¤§éçåå­ã\n\n> å¨è®¡ç®æºç§å­¦ä¸­ï¼ææ°å é¤ï¼è±æï¼lazy deletionï¼æçæ¯ä»ä¸ä¸ªæ£åè¡¨ï¼ä¹ç§°åå¸è¡¨ï¼ä¸­å é¤åç´ çä¸ç§æ¹æ³ãå¨è¿ä¸ªæ¹æ³ä¸­ï¼å é¤ä»ä»æ¯ææ è®°ä¸ä¸ªåç´ è¢«å é¤ï¼èä¸æ¯æ´ä¸ªæ¸é¤å®ãè¢«å é¤çä½ç¹å¨æå¥æ¶è¢«å½ä½ç©ºåç´ ï¼å¨æç´¢ä¹æ¶è¢«å½ä½å·²å æ®ã\n\n * 3ï¼å®æå é¤\n\næ¯éä¸æ®µæ¶é´ï¼æ«æredisä¸­è¿ækeyå­å¸ï¼å¹¶æ¸é¤é¨åè¿æçkeyãè¯¥ç­ç¥æ¯åä¸¤èçä¸ä¸ªæä¸­æ¹æ¡ï¼è¿å¯ä»¥éè¿è°æ´å®æ¶æ«æçæ¶é´é´éåæ¯æ¬¡æ«æçéå®èæ¶ï¼å¨ä¸åæåµä¸ä½¿å¾cpuååå­èµæºè¾¾å°æä¼çå¹³è¡¡ææã\n\nå¨redisä¸­ï¼åæ¶ä½¿ç¨äºå®æå é¤åæ°æ§å é¤ãä¸è¿rediså®æå é¤éç¨çæ¯éæºæ½åçæ¹å¼å é¤é¨åkeyï¼å æ­¤ä¸è½ä¿è¯è¿ækey 100%çå é¤ã\n\nredisç»åäºå®æå é¤åæ°æ§å é¤ï¼åºæ¬ä¸è½å¾å¥½çå¤çè¿ææ°æ®çæ¸çï¼ä½æ¯å®éä¸è¿æ¯æç¹é®é¢çï¼å¦æè¿ækeyè¾å¤ï¼å®æå é¤æ¼æäºä¸é¨åï¼èä¸ä¹æ²¡æåæ¶å»æ¥ï¼å³æ²¡æèµ°æ°æ§å é¤ï¼é£ä¹å°±ä¼æå¤§éçè¿ækeyå ç§¯å¨åå­ä¸­ï¼å¯¼è´redisåå­èå°½ï¼å½åå­èå°½ä¹åï¼ææ°çkeyå°æ¥ä¼åçä»ä¹äºå¢ï¼æ¯ç´æ¥æå¼è¿æ¯å¶ä»æªæ½å¢ï¼æä»ä¹åæ³å¯ä»¥æ¥åæ´å¤çkeyï¼\n\n# åå­æ·æ±°ç­ç¥\n\nredisçåå­æ·æ±°ç­ç¥ï¼æ¯æåå­è¾¾å°maxmemoryæéæ¶ï¼ä½¿ç¨æç§ç®æ³æ¥å³å®æ¸çæåªäºæ°æ®ï¼ä»¥ä¿è¯æ°æ°æ®çå­å¥ã\n\nredisçåå­æ·æ±°æºå¶åæ¬ï¼\n\n * noeviction: å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼æ°åå¥æä½ä¼æ¥éã\n * allkeys-lruï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ï¼server.db[i].dictï¼ä¸­ï¼ç§»é¤æè¿æå°ä½¿ç¨ç keyï¼è¿ä¸ªæ¯æå¸¸ç¨çï¼ã\n * allkeys-randomï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ï¼server.db[i].dictï¼ä¸­ï¼éæºç§»é¤æä¸ª keyã\n * volatile-lruï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨è®¾ç½®äºè¿ææ¶é´çé®ç©ºé´ï¼server.db[i].expiresï¼ä¸­ï¼ç§»é¤æè¿æå°ä½¿ç¨ç keyã\n * volatile-randomï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨è®¾ç½®äºè¿ææ¶é´çé®ç©ºé´ï¼server.db[i].expiresï¼ä¸­ï¼éæºç§»é¤æä¸ª keyã\n * volatile-ttlï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨è®¾ç½®äºè¿ææ¶é´çé®ç©ºé´ï¼server.db[i].expiresï¼ä¸­ï¼ææ´æ©è¿ææ¶é´ç key ä¼åç§»é¤ã\n\n> å¨éç½®æä»¶ä¸­ï¼éè¿maxmemory-policyå¯ä»¥éç½®è¦ä½¿ç¨åªä¸ä¸ªæ·æ±°æºå¶ã\n\nä»ä¹æ¶åä¼è¿è¡æ·æ±°ï¼\n\nredisä¼å¨æ¯ä¸æ¬¡å¤çå½ä»¤çæ¶åï¼processcommandå½æ°è°ç¨freememoryifneededï¼å¤æ­å½åredisæ¯å¦è¾¾å°äºåå­çæå¤§éå¶ï¼å¦æè¾¾å°éå¶ï¼åä½¿ç¨å¯¹åºçç®æ³å»å¤çéè¦å é¤çkeyã\n\nå¨æ·æ±°keyæ¶ï¼redisé»è®¤æå¸¸ç¨çæ¯lruç®æ³ï¼latest recently usedï¼ãrediséè¿å¨æ¯ä¸ä¸ªredisobjectä¿å­lruå±æ§æ¥ä¿å­keyæè¿çè®¿é®æ¶é´ï¼å¨å®ç°lruç®æ³æ¶ç´æ¥è¯»åkeyçlruå±æ§ã\n\nå·ä½å®ç°æ¶ï¼rediséåæ¯ä¸ä¸ªdbï¼ä»æ¯ä¸ä¸ªdbä¸­éæºæ½åä¸æ¹æ ·æ¬keyï¼é»è®¤æ¯3ä¸ªkeyï¼åä»è¿3ä¸ªkeyä¸­ï¼å é¤æè¿æå°ä½¿ç¨çkeyã\n\n\n# é¢è¯è¯æ¯ï¼\n\nredisè¿æç­ç¥åå«å®æå é¤åæ°æ§å é¤ä¸¤é¨åãå®æå é¤æ¯å¨redisåé¨æä¸ä¸ªå®æ¶ä»»å¡ï¼ä¼å®æå é¤ä¸äºè¿æçkeyãæ°æ§å é¤æ¯å½ç¨æ·æ¥è¯¢æä¸ªkeyæ¶ï¼ä¼æ£æ¥è¿ä¸ªkeyæ¯å¦å·²ç»è¿æï¼å¦ææ²¡è¿æåè¿åç¨æ·ï¼å¦æè¿æåå é¤ã\n\nä½æ¯è¿ä¸¤ä¸ªç­ç¥é½æ æ³ä¿è¯è¿ækeyä¸å®å é¤ï¼æ¼ç½ä¹é±¼è¶æ¥è¶å¤ï¼è¿å¯è½å¯¼è´åå­æº¢åºãå½åçåå­ä¸è¶³é®é¢æ¶ï¼redisè¿ä¼ååå­åæ¶ãåå­åæ¶éç¨lruç­ç¥ï¼å°±æ¯æè¿æå°ä½¿ç¨ãå¶åçå°±æ¯è®°å½æ¯ä¸ªkeyçæè¿ä½¿ç¨æ¶é´ï¼åå­åæ¶æ¶ï¼éæºæ½åä¸äºkeyï¼æ¯è¾å¶ä½¿ç¨æ¶é´ï¼ææèçå ä¸ªå é¤ã\n\nredisçé»è¾æ¯ï¼æè¿ä½¿ç¨è¿çï¼å¾å¯è½åæ¬¡è¢«ä½¿ç¨\n\n\n# 3.7.rediså¨é¡¹ç®ä¸­çåªäºå°æ¹æç¨å°?\n\nï¼1ï¼å±äº«session\n\nå¨åå¸å¼ç³»ç»ä¸ï¼æå¡ä¼é¨ç½²å¨ä¸åçtomcatï¼å æ­¤å¤ä¸ªtomcatçsessionæ æ³å±äº«ï¼ä»¥åå­å¨å¨sessionä¸­çæ°æ®æ æ³å®ç°å±äº«ï¼å¯ä»¥ç¨redisä»£æ¿sessionï¼è§£å³åå¸å¼ç³»ç»é´æ°æ®å±äº«é®é¢ã\n\nï¼2ï¼æ°æ®ç¼å­\n\nrediséç¨åå­å­å¨ï¼è¯»åæçè¾é«ãæä»¬å¯ä»¥ææ°æ®åºçè®¿é®é¢çé«çç­ç¹æ°æ®å­å¨å°redisä¸­ï¼è¿æ ·ç¨æ·è¯·æ±æ¶ä¼åä»redisä¸­è¯»åï¼åå°æ°æ®åºååï¼æé«å¹¶åè½åã\n\nï¼3ï¼å¼æ­¥éå\n\nreidså¨åå­å­å¨å¼æé¢åçä¸å¤§ä¼ç¹æ¯æä¾ list å set æä½ï¼è¿ä½¿å¾redisè½ä½ä¸ºä¸ä¸ªå¾å¥½çæ¶æ¯éåå¹³å°æ¥ä½¿ç¨ãèä¸redisä¸­è¿æpub/subè¿æ ·çä¸ç¨ç»æï¼ç¨äº1å¯¹nçæ¶æ¯éä¿¡æ¨¡å¼ã\n\nï¼4ï¼åå¸å¼é\n\nredisä¸­çä¹è§éæºå¶ï¼å¯ä»¥å¸®å©æä»¬å®ç°åå¸å¼éçææï¼ç¨äºè§£å³åå¸å¼ç³»ç»ä¸çå¤çº¿ç¨å®å¨é®é¢\n\n\n# 3.8.redisçç¼å­å»ç©¿ãç¼å­éªå´©ãç¼å­ç©¿é\n\n\n# 1ï¼ç¼å­ç©¿é\n\nåèèµæï¼\n\n * ä»ä¹æ¯ç¼å­ç©¿é\n   \n   * æ­£å¸¸æåµä¸ï¼æä»¬å»æ¥è¯¢æ°æ®é½æ¯å­å¨ãé£ä¹è¯·æ±å»æ¥è¯¢ä¸æ¡åæ ¹å¿æ°æ®åºä¸­æ ¹æ¬å°±ä¸å­å¨çæ°æ®ï¼ä¹å°±æ¯ç¼å­åæ°æ®åºé½æ¥è¯¢ä¸å°è¿æ¡æ°æ®ï¼ä½æ¯è¯·æ±æ¯æ¬¡é½ä¼æå°æ°æ®åºä¸é¢å»ãè¿ç§æ¥è¯¢ä¸å­å¨æ°æ®çç°è±¡æä»¬ç§°ä¸ºç¼å­ç©¿éã\n\n * ç©¿éå¸¦æ¥çé®é¢\n   \n   * è¯æ³ä¸ä¸ï¼å¦ææé»å®¢ä¼å¯¹ä½ çç³»ç»è¿è¡æ»å»ï¼æ¿ä¸ä¸ªä¸å­å¨çid å»æ¥è¯¢æ°æ®ï¼ä¼äº§çå¤§éçè¯·æ±å°æ°æ®åºå»æ¥è¯¢ãå¯è½ä¼å¯¼è´ä½ çæ°æ®åºç±äºååè¿å¤§èå®æã\n\n * è§£å³åæ³\n   \n   * ç¼å­ç©ºå¼ï¼ä¹æä»¥ä¼åçç©¿éï¼å°±æ¯å ä¸ºç¼å­ä¸­æ²¡æå­å¨è¿äºç©ºæ°æ®çkeyãä»èå¯¼è´æ¯æ¬¡æ¥è¯¢é½å°æ°æ®åºå»äºãé£ä¹æä»¬å°±å¯ä»¥ä¸ºè¿äºkeyå¯¹åºçå¼è®¾ç½®ä¸ºnull ä¸¢å°ç¼å­éé¢å»ãåé¢ååºç°æ¥è¯¢è¿ä¸ªkey çè¯·æ±çæ¶åï¼ç´æ¥è¿ånull ãè¿æ ·ï¼å°±ä¸ç¨å¨å°æ°æ®åºä¸­å»èµ°ä¸åäºï¼ä½æ¯å«å¿äºè®¾ç½®è¿ææ¶é´ã\n   * bloomfilterï¼å¸éè¿æ»¤ï¼ï¼å°ææå¯è½å­å¨çæ°æ®åå¸å°ä¸ä¸ªè¶³å¤å¤§çbitmapä¸­ï¼ä¸ä¸ªä¸å®ä¸å­å¨çæ°æ®ä¼è¢« è¿ä¸ªbitmapæ¦æªæï¼ä»èé¿åäºå¯¹åºå±å­å¨ç³»ç»çæ¥è¯¢ååãå¨ç¼å­ä¹åå¨å ä¸å± bloomfilter ï¼å¨æ¥è¯¢çæ¶ååå» bloomfilter å»æ¥è¯¢ key æ¯å¦å­å¨ï¼å¦æä¸å­å¨å°±ç´æ¥è¿åï¼å­å¨åèµ°æ¥ç¼å­ -> æ¥ dbã\n\nè¯æ¯ï¼\n\nç¼å­ç©¿éæä¸¤ç§è§£å³æ¹æ¡ï¼å¶ä¸æ¯æä¸å­å¨çkeyè®¾ç½®nullå¼å°ç¼å­ä¸­ãå¶äºæ¯ä½¿ç¨å¸éè¿æ»¤å¨ï¼å¨æ¥è¯¢ç¼å­ååéè¿å¸éè¿æ»¤å¨å¤æ­keyæ¯å¦å­å¨ï¼å­å¨åå»æ¥è¯¢ç¼å­ã\n\nè®¾ç½®nullå¼å¯è½è¢«æ¶æéå¯¹ï¼æ»å»èä½¿ç¨å¤§éä¸å­å¨çä¸éå¤key ï¼é£ä¹æ¹æ¡ä¸å°±ä¼ç¼å­å¤§éä¸å­å¨keyæ°æ®ãæ­¤æ¶æä»¬è¿å¯ä»¥å¯¹keyè§å®æ ¼å¼æ¨¡æ¿ï¼ç¶åå¯¹ä¸å­å¨çkeyåæ­£åè§èå¹éï¼å¦æå®å¨ä¸ç¬¦åå°±ä¸ç¨å­nullå¼å°redisï¼èæ¯ç´æ¥è¿åéè¯¯ã\n\n\n# 2ï¼ç¼å­å»ç©¿\n\nç¸å³èµæï¼\n\n * ä»ä¹æ¯ç¼å­å»ç©¿ï¼\n\nkeyå¯è½ä¼å¨æäºæ¶é´ç¹è¢«è¶é«å¹¶åå°è®¿é®ï¼æ¯ä¸ç§éå¸¸âç­ç¹âçæ°æ®ãè¿ä¸ªæ¶åï¼éè¦èèä¸ä¸ªé®é¢ï¼ç¼å­è¢«âå»ç©¿âçé®é¢ã\n\nå½è¿ä¸ªkeyå¨å¤±æçç¬é´ï¼redisæ¥è¯¢å¤±è´¥ï¼æç»­çå¤§å¹¶åå°±ç©¿ç ´ç¼å­ï¼ç´æ¥è¯·æ±æ°æ®åºï¼å°±åå¨ä¸ä¸ªå±éä¸å¿å¼äºä¸ä¸ªæ´ã\n\n * è§£å³æ¹æ¡ï¼\n   * ä½¿ç¨äºæ¥é(mutex key)ï¼mutexï¼å°±æ¯äºæ¥ãç®åå°æ¥è¯´ï¼å°±æ¯å¨ç¼å­å¤±æçæ¶åï¼å¤æ­æ¿åºæ¥çå¼ä¸ºç©ºï¼ï¼ä¸æ¯ç«å³å»load dbï¼èæ¯åä½¿ç¨redisçsetnxå»setä¸ä¸ªäºæ¥keyï¼å½æä½è¿åæåæ¶ï¼åè¿è¡load dbçæä½å¹¶åè®¾ç¼å­ï¼å¦åï¼å°±éè¯æ´ä¸ªgetç¼å­çæ¹æ³ãsetnxï¼æ¯ãset if not existsãçç¼©åï¼ä¹å°±æ¯åªæä¸å­å¨çæ¶åæè®¾ç½®ï¼å¯ä»¥å©ç¨å®æ¥å®ç°äºæ¥çææã\n   * è½¯è¿æï¼ä¹å°±æ¯é»è¾è¿æï¼ä¸ä½¿ç¨redisæä¾çè¿ææ¶é´ï¼èæ¯ä¸å¡å±å¨æ°æ®ä¸­å­å¨è¿ææ¶é´ä¿¡æ¯ãæ¥è¯¢æ¶ç±ä¸å¡ç¨åºå¤æ­æ¯å¦è¿æï¼å¦ææ°æ®å³å°è¿ææ¶ï¼å°ç¼å­çæ¶æå»¶é¿ï¼ç¨åºå¯ä»¥æ´¾é£ä¸ä¸ªçº¿ç¨å»æ°æ®åºä¸­è·åææ°çæ°æ®ï¼å¶ä»çº¿ç¨è¿æ¶çå°å»¶é¿äºçè¿ææ¶é´ï¼å°±ä¼ç»§ç»­ä½¿ç¨æ§æ°æ®ï¼ç­æ´¾é£ççº¿ç¨è·åææ°æ°æ®ååæ´æ°ç¼å­ã\n\næ¨èä½¿ç¨äºæ¥éï¼å ä¸ºè½¯è¿æä¼æä¸å¡é»è¾ä¾µå¥åé¢å¤çå¤æ­ã\n\né¢è¯è¯æ¯ï¼\n\nç¼å­å»ç©¿ä¸»è¦æå¿çæ¯æä¸ªkeyè¿æï¼æ´æ°ç¼å­æ¶å¼èµ·å¯¹æ°æ®åºççªåé«å¹¶åè®¿é®ãå æ­¤æä»¬å¯ä»¥å¨æ´æ°ç¼å­æ¶éç¨äºæ¥éæ§å¶ï¼åªåè®¸ä¸ä¸ªçº¿ç¨å»æ´æ°ç¼å­ï¼å¶å®çº¿ç¨ç­å¾å¹¶éæ°è¯»åç¼å­ãä¾å¦redisçsetnxå½ä»¤å°±è½å®ç°äºæ¥ææã\n\n\n# 3ï¼ç¼å­éªå´©\n\nç¸å³èµæï¼\n\nç¼å­éªå´©ï¼æ¯æå¨æä¸ä¸ªæ¶é´æ®µï¼ç¼å­éä¸­è¿æå¤±æãå¯¹è¿æ¹æ°æ®çè®¿é®æ¥è¯¢ï¼é½è½å°äºæ°æ®åºä¸ï¼å¯¹äºæ°æ®åºèè¨ï¼å°±ä¼äº§çå¨ææ§çååæ³¢å³°ã\n\nè§£å³æ¹æ¡ï¼\n\n * æ°æ®åç±»åæ¹å¤çï¼éåä¸ååç±»æ°æ®ï¼ç¼å­ä¸åå¨æ\n * ç¸ååç±»æ°æ®ï¼éç¨åºå®æ¶é¿å éæºæ°æ¹å¼è®¾ç½®ç¼å­\n * ç­ç¹æ°æ®ç¼å­æ¶é´é¿ä¸äºï¼å·é¨æ°æ®ç¼å­æ¶é´ç­ä¸äº\n * é¿åredisèç¹å®æºå¼èµ·éªå´©ï¼æ­å»ºä¸»ä»éç¾¤ï¼ä¿è¯é«å¯ç¨\n\né¢è¯è¯æ¯ï¼\n\nè§£å³ç¼å­éªå´©é®é¢çå³é®æ¯è®©ç¼å­keyçè¿ææ¶é´åæ£ãå æ­¤æä»¬å¯ä»¥ææ°æ®æç§ä¸å¡åç±»ï¼ç¶åè®¾ç½®ä¸åè¿ææ¶é´ãç¸åä¸å¡ç±»åçkeyï¼è®¾ç½®åºå®æ¶é¿å éæºæ°ãå°½å¯è½ä¿è¯æ¯ä¸ªkeyçè¿ææ¶é´é½ä¸ç¸åã\n\nå¦å¤ï¼rediså®æºä¹å¯è½å¯¼è´ç¼å­éªå´©ï¼å æ­¤æä»¬è¿è¦æ­å»ºredisä¸»ä»éç¾¤åå¨åµçæ§ï¼ä¿è¯redisçé«å¯ç¨ã\n\n\n# 3.9.ç¼å­å·ç­æ°æ®åç¦»\n\nèæ¯èµæï¼\n\nredisä½¿ç¨çæ¯åå­å­å¨ï¼å½éè¦æµ·éæ°æ®å­å¨æ¶ï¼ææ¬éå¸¸é«ã\n\nç»è¿è°ç åç°ï¼å½åä¸»æµddr3åå­åä¸»æµsata ssdçåä½ææ¬ä»·æ ¼å·®è·å¤§æ¦å¨20åå·¦å³ï¼ä¸ºäºä¼åredisæºå¨ç»¼åææ¬ï¼æä»¬èèå®ç°åºäºç­åº¦ç»è®¡ çæ°æ®åçº§å­å¨åæ°æ®å¨ram/flashä¹é´çå¨æäº¤æ¢ï¼ä»èå¤§å¹åº¦éä½ææ¬ï¼è¾¾å°æ§è½ä¸ææ¬çé«å¹³è¡¡ã\n\nåºæ¬æè·¯ï¼åºäºkeyè®¿é®æ¬¡æ°(lfu)çç­åº¦ç»è®¡ç®æ³è¯å«åºç­ç¹æ°æ®ï¼å¹¶å°ç­ç¹æ°æ®ä¿çå¨redisä¸­ï¼å¯¹äºæ è®¿é®/è®¿é®æ¬¡æ°å°çæ°æ®åè½¬å­å°ssdä¸ï¼å¦æssdä¸çkeyåæ¬¡åç­ï¼åéæ°å°å¶å è½½å°redisåå­ä¸­ã\n\nç®åæµè¡çé«æ§è½ç£çå­å¨ï¼å¹¶ä¸éµå¾ªredisåè®®çæ¹æ¡åæ¬ï¼\n\n * ssdbï¼http://ssdb.io/zh_cn/\n * rocksdbï¼https://rocksdb.org.cn/\n\nå æ­¤ï¼æä»¬å°±éè¦å¨åºç¨ç¨åºä¸ç¼å­æå¡ä¹é´å¼å¥ä»£çï¼å®ç°redisåssdä¹é´çåæ¢ï¼å¦å¾ï¼\n\n\n\nè¿æ ·çä»£çæ¹æ¡é¿éäºæä¾çå°±æãå½ç¶ä¹æä¸äºå¼æºæ¹æ¡ï¼ä¾å¦ï¼https://github.com/jingchengli/swapdb\n\n\n# 3.10.rediså®ç°åå¸å¼é\n\nåå¸å¼éè¦æ»¡è¶³çæ¡ä»¶ï¼\n\n * å¤è¿ç¨äºæ¥ï¼åä¸æ¶å»ï¼åªæä¸ä¸ªè¿ç¨å¯ä»¥è·åé\n * ä¿è¯éå¯ä»¥éæ¾ï¼ä»»å¡ç»ææåºç°å¼å¸¸ï¼éä¸å®è¦éæ¾ï¼é¿åæ­»é\n * é»å¡éï¼å¯éï¼ï¼è·åéå¤±è´¥æ¶å¯å¦éè¯\n * éå¥éï¼å¯éï¼ï¼è·åéçä»£ç éå½è°ç¨æ¶ï¼ä¾ç¶å¯ä»¥è·åé\n\n\n# 1ï¼æåºæ¬çåå¸å¼éï¼\n\nå©ç¨redisçsetnxå½ä»¤ï¼è¿ä¸ªå½ä»¤çç¹å¾æ¶å¦æå¤æ¬¡æ§è¡ï¼åªæç¬¬ä¸æ¬¡æ§è¡ä¼æåï¼å¯ä»¥å®ç°äºæ¥çææãä½æ¯ä¸ºäºä¿è¯æå¡å®æºæ¶ä¹å¯ä»¥éæ¾éï¼éè¦å©ç¨expireå½ä»¤ç»éè®¾ç½®ä¸ä¸ªæææ\n\nsetnx lock thread-01 # å°è¯è·åé\nexpire lock 10 # è®¾ç½®æææ\n\n\né¢è¯å®é®é¢1ï¼å¦æexpireä¹åæå¡å®æºæä¹åï¼\n\nè¦ä¿è¯setnxåexpireå½ä»¤çåå­æ§ãredisçsetå½ä»¤å¯ä»¥æ»¡è¶³ï¼\n\nset key value [nx] [ex time] \n\n\néè¦æ·»å nxåexçéé¡¹ï¼\n\n * nxï¼ä¸setnxä¸è´ï¼ç¬¬ä¸æ¬¡æ§è¡æå\n * exï¼è®¾ç½®è¿ææ¶é´\n\né¢è¯å®é®é¢2ï¼éæ¾éçæ¶åï¼å¦æèªå·±çéå·²ç»è¿æäºï¼æ­¤æ¶ä¼åºç°å®å¨æ¼æ´ï¼å¦ä½è§£å³ï¼\n\nå¨éä¸­å­å¨å½åè¿ç¨åçº¿ç¨æ è¯ï¼éæ¾éæ¶å¯¹éçæ è¯å¤æ­ï¼å¦ææ¯èªå·±çåå é¤ï¼ä¸æ¯åæ¾å¼æä½ã\n\nä½æ¯è¿ä¸¤æ­¥æä½è¦ä¿è¯åå­æ§ï¼éè¦éè¿luaèæ¬æ¥å®ç°ã\n\nif redis.call(\"get\",keys[1]) == argv[1] then\n    redis.call(\"del\",keys[1])\nend\n\n\n\n# 2ï¼å¯éå¥åå¸å¼é\n\nå¦ææéå¥çéæ±ï¼åé¤äºå¨éä¸­è®°å½è¿ç¨æ è¯ï¼è¿è¦è®°å½éè¯æ¬¡æ°ï¼æµç¨å¦ä¸ï¼\n\n\n\nä¸é¢æä»¬åè®¾éçkeyä¸ºâlockâï¼hashkeyæ¯å½åçº¿ç¨çidï¼âthreadidâï¼éèªå¨éæ¾æ¶é´åè®¾ä¸º20\n\nè·åéçæ­¥éª¤ï¼\n\n * 1ãå¤æ­lockæ¯å¦å­å¨ exists lock\n   * å­å¨ï¼è¯´ææäººè·åéäºï¼ä¸é¢å¤æ­æ¯ä¸æ¯èªå·±çé\n     * å¤æ­å½åçº¿ç¨idä½ä¸ºhashkeyæ¯å¦å­å¨ï¼hexists lock threadid\n       * ä¸å­å¨ï¼è¯´æéå·²ç»æäºï¼ä¸ä¸æ¯èªå·±è·åçï¼éè·åå¤±è´¥ï¼end\n       * å­å¨ï¼è¯´ææ¯èªå·±è·åçéï¼éå¥æ¬¡æ°+1ï¼hincrby lock threadid 1ï¼å»å°æ­¥éª¤3\n   * 2ãä¸å­å¨ï¼è¯´æå¯ä»¥è·åéï¼hset key threadid 1\n   * 3ãè®¾ç½®éèªå¨éæ¾æ¶é´ï¼expire lock 20\n\néæ¾éçæ­¥éª¤ï¼\n\n * 1ãå¤æ­å½åçº¿ç¨idä½ä¸ºhashkeyæ¯å¦å­å¨ï¼hexists lock threadid\n   * ä¸å­å¨ï¼è¯´æéå·²ç»å¤±æï¼ä¸ç¨ç®¡äº\n   * å­å¨ï¼è¯´æéè¿å¨ï¼éå¥æ¬¡æ°å1ï¼hincrby lock threadid -1ï¼è·åæ°çéå¥æ¬¡æ°\n * 2ãå¤æ­éå¥æ¬¡æ°æ¯å¦ä¸º0ï¼\n   * ä¸º0ï¼è¯´æéå¨é¨éæ¾ï¼å é¤keyï¼del lock\n   * å¤§äº0ï¼è¯´æéè¿å¨ä½¿ç¨ï¼éç½®æææ¶é´ï¼expire lock 20\n\nå¯¹åºçluaèæ¬å¦ä¸ï¼\n\né¦åæ¯è·åéï¼\n\nlocal key = keys[1]; -- éçkey\nlocal threadid = argv[1]; -- çº¿ç¨å¯ä¸æ è¯\nlocal releasetime = argv[2]; -- éçèªå¨éæ¾æ¶é´\n\nif(redis.call('exists', key) == 0) then -- å¤æ­æ¯å¦å­å¨\n\tredis.call('hset', key, threadid, '1'); -- ä¸å­å¨, è·åé\n\tredis.call('expire', key, releasetime); -- è®¾ç½®æææ\n\treturn 1; -- è¿åç»æ\nend;\n\nif(redis.call('hexists', key, threadid) == 1) then -- éå·²ç»å­å¨ï¼å¤æ­threadidæ¯å¦æ¯èªå·±\t\n\tredis.call('hincrby', key, threadid, '1'); -- ä¸å­å¨, è·åéï¼éå¥æ¬¡æ°+1\n\tredis.call('expire', key, releasetime); -- è®¾ç½®æææ\n\treturn 1; -- è¿åç»æ\nend;\nreturn 0; -- ä»£ç èµ°å°è¿é,è¯´æè·åéçä¸æ¯èªå·±ï¼è·åéå¤±è´¥\n\n\nç¶åæ¯éæ¾éï¼\n\nlocal key = keys[1]; -- éçkey\nlocal threadid = argv[1]; -- çº¿ç¨å¯ä¸æ è¯\nlocal releasetime = argv[2]; -- éçèªå¨éæ¾æ¶é´\n\nif (redis.call('hexists', key, threadid) == 0) then -- å¤æ­å½åéæ¯å¦è¿æ¯è¢«èªå·±ææ\n    return nil; -- å¦æå·²ç»ä¸æ¯èªå·±ï¼åç´æ¥è¿å\nend;\nlocal count = redis.call('hincrby', key, threadid, -1); -- æ¯èªå·±çéï¼åéå¥æ¬¡æ°-1\n\nif (count > 0) then -- å¤æ­æ¯å¦éå¥æ¬¡æ°æ¯å¦å·²ç»ä¸º0\n    redis.call('expire', key, releasetime); -- å¤§äº0è¯´æä¸è½éæ¾éï¼éç½®æææç¶åè¿å\n    return nil;\nelse\n    redis.call('del', key); -- ç­äº0è¯´æå¯ä»¥éæ¾éï¼ç´æ¥å é¤\n    return nil;\nend;\n\n\n\n# 3ï¼é«å¯ç¨çé\n\né¢è¯å®é®é¢ï¼redisåå¸å¼éä¾èµä¸redisï¼å¦ærediså®æºåéå¤±æãå¦ä½è§£å³ï¼\n\næ­¤æ¶å¤§å¤æ°åå­¦ä¼åç­è¯´ï¼æ­å»ºä¸»ä»éç¾¤ï¼åæ°æ®å¤ä»½ã\n\nè¿æ ·å°±è¿å¥äºé·é±ï¼å ä¸ºé¢è¯å®çä¸ä¸ä¸ªé®é¢å°±æ¥äºï¼\n\né¢è¯å®é®é¢ï¼å¦ææ­å»ºä¸»ä»éç¾¤åæ°æ®å¤ä»½æ¶ï¼è¿ç¨aè·åéï¼masterè¿æ²¡æææ°æ®å¤ä»½å°slaveï¼masterå®æºï¼slaveåçº§ä¸ºmasterï¼æ­¤æ¶åæ¥éå¤±æï¼å¶å®è¿ç¨ä¹å¯ä»¥è·åéï¼åºç°å®å¨é®é¢ãå¦ä½è§£å³ï¼\n\nå³äºè¿ä¸ªé®é¢ï¼rediså®ç½ç»åºäºè§£å³æ¹æ¡ï¼ä½¿ç¨redlockæè·¯å¯ä»¥è§£å³ï¼\n\n> å¨redisçåå¸å¼ç¯å¢ä¸­ï¼æä»¬åè®¾ænä¸ªredis masterãè¿äºèç¹å®å¨äºç¸ç¬ç«ï¼ä¸å­å¨ä¸»ä»å¤å¶æèå¶ä»éç¾¤åè°æºå¶ãä¹åæä»¬å·²ç»æè¿°äºå¨redisåå®ä¾ä¸æä¹å®å¨å°è·ååéæ¾éãæä»¬ç¡®ä¿å°å¨æ¯ï¼n)ä¸ªå®ä¾ä¸ä½¿ç¨æ­¤æ¹æ³è·ååéæ¾éãå¨è¿ä¸ªæ ·ä¾ä¸­ï¼æä»¬åè®¾æ5ä¸ªredis masterèç¹ï¼è¿æ¯ä¸ä¸ªæ¯è¾åççè®¾ç½®ï¼æä»¥æä»¬éè¦å¨5å°æºå¨ä¸é¢æè5å°èææºä¸é¢è¿è¡è¿äºå®ä¾ï¼è¿æ ·ä¿è¯ä»ä»¬ä¸ä¼åæ¶é½å®æã\n> \n> ä¸ºäºåå°éï¼å®¢æ·ç«¯åºè¯¥æ§è¡ä»¥ä¸æä½:\n> \n>  1. è·åå½åunixæ¶é´ï¼ä»¥æ¯«ç§ä¸ºåä½ã\n>  2. ä¾æ¬¡å°è¯ä»nä¸ªå®ä¾ï¼ä½¿ç¨ç¸åçkeyåéæºå¼è·åéãå¨æ­¥éª¤2ï¼å½åredisè®¾ç½®éæ¶,å®¢æ·ç«¯åºè¯¥è®¾ç½®ä¸ä¸ªç½ç»è¿æ¥åååºè¶æ¶æ¶é´ï¼è¿ä¸ªè¶æ¶æ¶é´åºè¯¥å°äºéçå¤±ææ¶é´ãä¾å¦ä½ çéèªå¨å¤±ææ¶é´ä¸º10ç§ï¼åè¶æ¶æ¶é´åºè¯¥å¨5-50æ¯«ç§ä¹é´ãè¿æ ·å¯ä»¥é¿åæå¡å¨ç«¯rediså·²ç»ææçæåµä¸ï¼å®¢æ·ç«¯è¿å¨æ­»æ­»å°ç­å¾ååºç»æãå¦ææå¡å¨ç«¯æ²¡æå¨è§å®æ¶é´åååºï¼å®¢æ·ç«¯åºè¯¥å°½å¿«å°è¯å¦å¤ä¸ä¸ªrediså®ä¾ã\n>  3. å®¢æ·ç«¯ä½¿ç¨å½åæ¶é´åå»å¼å§è·åéæ¶é´ï¼æ­¥éª¤1è®°å½çæ¶é´ï¼å°±å¾å°è·åéä½¿ç¨çæ¶é´ãå½ä¸ä»å½ä»å¤§å¤æ°ï¼è¿éæ¯3ä¸ªèç¹ï¼çredisèç¹é½åå°éï¼å¹¶ä¸ä½¿ç¨çæ¶é´å°äºéå¤±ææ¶é´æ¶ï¼éæç®è·åæåã\n>  4. å¦æåå°äºéï¼keyççæ­£æææ¶é´ç­äºæææ¶é´åå»è·åéæä½¿ç¨çæ¶é´ï¼æ­¥éª¤3è®¡ç®çç»æï¼ã\n>  5. å¦æå ä¸ºæäºåå ï¼è·åéå¤±è´¥ï¼æ²¡æå¨è³å°n/2+1ä¸ªrediså®ä¾åå°éæèåéæ¶é´å·²ç»è¶è¿äºæææ¶é´ï¼ï¼å®¢æ·ç«¯åºè¯¥å¨ææçrediså®ä¾ä¸è¿è¡è§£éï¼å³ä¾¿æäºrediså®ä¾æ ¹æ¬å°±æ²¡æå éæåï¼ã\n\n\n# 3.11.å¦ä½å®ç°æ°æ®åºä¸ç¼å­æ°æ®ä¸è´ï¼\n\né¢è¯è¯æ¯ï¼\n\nå®ç°æ¹æ¡æä¸é¢å ç§ï¼\n\n * æ¬å°ç¼å­åæ­¥ï¼å½åå¾®æå¡çæ°æ®åºæ°æ®ä¸ç¼å­æ°æ®åæ­¥ï¼å¯ä»¥ç´æ¥å¨æ°æ®åºä¿®æ¹æ¶å å¥å¯¹redisçä¿®æ¹é»è¾ï¼ä¿è¯ä¸è´ã\n * è·¨æå¡ç¼å­åæ­¥ï¼æå¡aè°ç¨äºæå¡bï¼å¹¶å¯¹æ¥è¯¢ç»æç¼å­ãæå¡bæ°æ®åºä¿®æ¹ï¼å¯ä»¥éè¿mqéç¥æå¡aï¼æå¡aä¿®æ¹redisç¼å­æ°æ®\n * éç¨æ¹æ¡ï¼ä½¿ç¨canalæ¡æ¶ï¼ä¼ªè£æmysqlçsalveèç¹ï¼çå¬mysqlçbinlogååï¼ç¶åä¿®æ¹redisç¼å­æ°æ®",charsets:{cjk:!0}},{title:"Spring",frontmatter:{title:"Spring",date:"2023-03-02T15:16:23.000Z",permalink:"/pages/23ed38/"},regularPath:"/01.Java/04.%E6%A1%86%E6%9E%B6/01.spring.html",relativePath:"01.Java/04.æ¡æ¶/01.spring.md",key:"v-2fe1c292",path:"/pages/23ed38/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Spring Boot èªå¨è£éç®æçè§£",frontmatter:{title:"Spring Boot èªå¨è£éç®æçè§£",date:"2023-03-09T22:22:55.000Z",permalink:"/pages/418390/"},regularPath:"/01.Java/04.%E6%A1%86%E6%9E%B6/03.springbooteasy.html",relativePath:"01.Java/04.æ¡æ¶/03.springbooteasy.md",key:"v-3ad03cd2",path:"/pages/418390/",headers:[{level:2,title:"é¢ç­",slug:"é¢ç­",normalizedTitle:"é¢ç­",charIndex:2},{level:2,title:"åé¢ç­",slug:"åé¢ç­",normalizedTitle:"åé¢ç­",charIndex:1183},{level:3,title:"BeanDefinition",slug:"beandefinition",normalizedTitle:"beandefinition",charIndex:3116},{level:3,title:"BeanDefinitionä¸­çå±æ§",slug:"beandefinitionä¸­çå±æ§",normalizedTitle:"beandefinitionä¸­çå±æ§",charIndex:3220},{level:2,title:"èªå¨è£é",slug:"èªå¨è£é",normalizedTitle:"èªå¨è£é",charIndex:3451},{level:2,title:"ChatGPT",slug:"chatgpt",normalizedTitle:"chatgpt",charIndex:4136},{level:3,title:"springboot èªå¨è£éåç",slug:"springboot-èªå¨è£éåç",normalizedTitle:"springboot èªå¨è£éåç",charIndex:4148},{level:3,title:"springboot èªå¨è£éæºç åæ",slug:"springboot-èªå¨è£éæºç åæ",normalizedTitle:"springboot èªå¨è£éæºç åæ",charIndex:4991},{level:3,title:"springboot ä¸­çBeanDefinitionæä¹çè§£",slug:"springboot-ä¸­çbeandefinitionæä¹çè§£",normalizedTitle:"springboot ä¸­çbeandefinitionæä¹çè§£",charIndex:6132},{level:3,title:"å¦ä½çè§£BeanDefinition ä¸­ç autowireModeå±æ§",slug:"å¦ä½çè§£beandefinition-ä¸­ç-autowiremodeå±æ§",normalizedTitle:"å¦ä½çè§£beandefinition ä¸­ç autowiremodeå±æ§",charIndex:7122},{level:3,title:"BeanDefinitionä¸­çConstructorArgumentValueså±æ§ä½¿ç¨æ¹å¼",slug:"beandefinitionä¸­çconstructorargumentvalueså±æ§ä½¿ç¨æ¹å¼",normalizedTitle:"beandefinitionä¸­çconstructorargumentvalueså±æ§ä½¿ç¨æ¹å¼",charIndex:8079},{level:3,title:"SpringApplicationä¸­çsetListenersæä¹çè§£",slug:"springapplicationä¸­çsetlistenersæä¹çè§£",normalizedTitle:"springapplicationä¸­çsetlistenersæä¹çè§£",charIndex:9494},{level:3,title:"SpringApplicationä¸­çsetInitializersæä¹çè§£",slug:"springapplicationä¸­çsetinitializersæä¹çè§£",normalizedTitle:"springapplicationä¸­çsetinitializersæä¹çè§£",charIndex:10741}],headersStr:"é¢ç­ åé¢ç­ BeanDefinition BeanDefinitionä¸­çå±æ§ èªå¨è£é ChatGPT springboot èªå¨è£éåç springboot èªå¨è£éæºç åæ springboot ä¸­çBeanDefinitionæä¹çè§£ å¦ä½çè§£BeanDefinition ä¸­ç autowireModeå±æ§ BeanDefinitionä¸­çConstructorArgumentValueså±æ§ä½¿ç¨æ¹å¼ SpringApplicationä¸­çsetListenersæä¹çè§£ SpringApplicationä¸­çsetInitializersæä¹çè§£",content:'# é¢ç­\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person {\n    private String name;\n    private Integer age;\n    private Boolean sex;\n}\n\n\néç½®Bean\n\n 1. éè¿éç½®æä»¶ï¼setteræ³¨å¥\n\n\x3c!-- æå¨éç½®beanå¯¹è±¡ --\x3e\n<bean id="person" class="pojo.Person">\n    <property name="name" value="dzzhyk"/>\n    <property name="age" value="20"/>\n    <property name="sex" value="true"/>\n</bean>\n\n\n 2. éè¿éç½®æä»¶ï¼æé å¨æ³¨å¥\n\n\x3c!-- ä½¿ç¨æé å¨ --\x3e\n<bean id="person" class="pojo.Person">\n    <constructor-arg index="0" type="java.lang.String" value="dzzhyk" />\n    <constructor-arg index="1" type="java.lang.Integer" value="20"/>\n    <constructor-arg index="2" type="java.lang.Boolean" value="true"/>\n</bean>\n\n\n 3. éè¿æ³¨è§£ï¼å±æ§æ³¨å¥\n\n@Component\npublic class Person {\n    \n    @Value("dzzhyk")\n    private String name;\n    @Value("20")\n    private Integer age;\n    @Value("true")\n    private Boolean sex;\n}\n\n\næµè¯ä»¥ä¸ä¸ç§æ¹æ¡ï¼é½å¯ä»¥è·å¾Bean\n\npublic class TestVersion {\n    @Test\n    public void test(){\n        ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml");\n        Person person = ac.getBean("person", Person.class);\n        System.out.println(person);\n    }\n}\n\n\nç»æ\n\nPerson(name=dzzhyk, age=20, sex=true)\n\n\n\n# åé¢ç­\n\næ©å±ä¸ä¸è¿ä¸ªç±»\n\npublic class Car {\n    private String brand;\n    private Integer price;\n}\n\npublic class Dog {\n    private String name;\n    private Integer age;\n}\n\npublic class Person {\n    private String name;\n    private Integer age;\n    private Boolean sex;\n    private Dog dog;\n    private Car car;\n}\n\n\n\n1. åºäºXMLéç½®\n\n<bean id="person" class="pojo.Person">\n    <property name="name" value="dzzhyk"/>\n    <property name="age" value="20"/>\n    <property name="sex" value="true"/>\n    <property name="dog" ref="dog"/>\n    <property name="car" ref="car"/>\n</bean>\n\n<bean id="dog" class="pojo.Dog">\n    <property name="name" value="æºè´¢"/>\n    <property name="age" value="5" />\n</bean>\n\n<bean id="car" class="pojo.Car">\n    <property name="brand" value="å¥¥è¿ªåé»"/>\n    <property name="price" value="100000"/>\n</bean>\n\n\n\nä½¿ç¨ClassPathXmlApplicationContextå®¹å¨\n\n/**\n * ä½¿ç¨XMLéç½®\n */\npublic class TestVersion1 {\n    @Test\n    public void test(){\n        ClassPathXmlApplicationContext ca = new ClassPathXmlApplicationContext("applicationContext.xml");\n        Person person = ca.getBean("person", Person.class);\n        System.out.println(person);\n    }\n}\n\n\n\n2. åºäºéç½®ç±»éç½®\n\n@Configuration\n@ComponentScan\npublic class PersonConfig {\n\n    @Bean\n    public Person person(Dog dog, Car car){\n        return new Person("dzzhyk", 20, true, dog, car);\n    }\n\n    @Bean\n    public Dog dog(){\n        return new Dog("æºè´¢", 5);\n    }\n\n    @Bean\n    public Car car(){\n        return new Car("å¥¥è¿ªåé»", 100000);\n    }\n}\n\n\n\nä½¿ç¨AnnotationConfigApplicationContextå®¹å¨\n\n/**\n * ä½¿ç¨JavaConfigéç½®\n */\npublic class TestVersion2 {\n    @Test\n    public void test(){\n        AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(PersonConfig.class);\n        Person person = ac.getBean("person", Person.class);\n        System.out.println(person);\n    }\n}\n\n\n\nç»æ\n\nPerson(name=dzzhyk, age=20, sex=true, dog=Dog(name=æºè´¢, age=5), car=Car(brand=å¥¥è¿ªåé», price=100000))\n\n\n\n# BeanDefinition\n\næ¯æè¿°Spring å®¹å¨ä¸­Beançåæ°æ®å¯¹è±¡ï¼è¢«å­æ¾ä¸ä¸ªmapå®¹å¨ä¸­\n\nBeanDefinitionMap<beanName, BeanDefinition>\n\n\n\n\n\n# BeanDefinitionä¸­çå±æ§\n\n\n\néç¹ä»¥ä¸ä¸ä¸ªæå\n\nprivate volatile Object beanClass;\nprivate int autowireMode = AUTOWIRE_NO;\nprivate ConstructorArgumentValues constructorArgumentValues;\n\n\nBeanClass\n\nè¿ä¸ªå±æ§å®ä¹äºè¿ä¸ªBeanDefinition æ¯å±äºåªä¸ªclass\n\nautowireMode\n\nèªå¨è£éæ¨¡å¼\n\n * AUTOWIRE_NO\n * AUTOWIRE_BY_NAME\n * AUTOWIRE_BY_TYPE\n * AUTOWIRE_CONSTRUCTOR\n\n@Component\npublic class A {\n    @Value("ææ¯AAA")\n    private String name;\n    // AçBeanDefinitionå¼å¯äºèªå¨è£é, æå¯ä»¥ä½¿ç¨è¯¥ä¸ºAæ³¨å¥å±æ§\n    @Autowired\n    private B b;\n}\n\n\nå¨BeanFactoryPostProcessorä¸­åæç« \n\ndefA.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_BY_NAME);\n\n\nconstructorArgumentValues\n\nSpringå¨å®ä¾åå¯¹è±¡æ¶ä½¿ç¨çæ¯å¯¹è±¡çé»è®¤ç©ºåæé å¨\n\nå¨BeanFactoryPostProcessorä¸­åæç« \n\nConstructorArgumentValues args = new ConstructorArgumentValues();\n// å¨BeanDefinitionä¸­è®¾ç½®å®ä¾åå¯¹è±¡æ¶,è°ç¨åªä¸ªæé å½æ°, è®¾ç½®æé å½æ°ä¸­ç¬¬iä¸ªä½ç½®ï¼çå¼\nargs.addIndexedArgumentValue(0, "ææå®çå§å");\nargs.addIndexedArgumentValue(1, 20);\ndefStu.setConstructorArgumentValues(args);\n\n\n\n\n# èªå¨è£é\n\n\n\n\n# ChatGPT\n\n\n# springboot èªå¨è£éåç\n\nSpring Boot èªå¨è£éæ¯åºäº Spring Framework çèªå¨è£éæºå¶ï¼éè¿ä½¿ç¨ @EnableAutoConfiguration æ³¨è§£æ¥å®ç°ã@EnableAutoConfiguration æ³¨è§£ä¼èªå¨æ«æå½åç±»è·¯å¾ä¸çææ jar åï¼æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç Beanï¼å¹¶å°å¶æ³¨å¥å° Spring å®¹å¨ä¸­ã\n\nSpring Boot èªå¨è£éçåçå¯ä»¥æ¦æ¬ä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n 1. Spring Boot å¨å¯å¨æ¶ä¼æ«æææ jar åï¼å¹¶æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç Beanã\n\n 2. Spring Boot ä¼æ ¹æ®å½åé¡¹ç®ä¸­çä¾èµå³ç³»ï¼ä¼åä½¿ç¨é¡¹ç®ä¸­å·²ç»å­å¨ç Beanã\n\n 3. Spring Boot ä¼æ ¹æ®éç½®æä»¶ä¸­çéç½®ï¼è¦çèªå¨éç½®çé»è®¤å¼ã\n\n 4. Spring Boot ä¼æ ¹æ®æ¡ä»¶å¤æ­ï¼å³å®æ¯å¦éè¦èªå¨éç½®æäº Beanã\n\n 5. Spring Boot ä¼å°ææèªå¨éç½®ç Bean æ³¨å¥å° Spring å®¹å¨ä¸­ï¼ä¾å¶ä»ç»ä»¶ä½¿ç¨ã\n\nSpring Boot èªå¨è£éçè§ååæ¡ä»¶æ¯ç± Spring Boot Starter æ¨¡åä¸­ç META-INF/spring.factories æä»¶ä¸­çéç½®æ¥å®ä¹çãè¯¥æä»¶ä¸­å®ä¹äºä¸ä¸ªæå¤ä¸ªèªå¨éç½®ç±»ï¼æ¯ä¸ªèªå¨éç½®ç±»é½ä¼æ ¹æ®ç¹å®çè§ååæ¡ä»¶ï¼èªå¨éç½®ç¸åºç Beanã\n\nå¨èªå¨è£éè¿ç¨ä¸­ï¼å¦æéè¦æå¨éç½®æäº Beanï¼å¯ä»¥ä½¿ç¨ @Configuration æ³¨è§£æ¥å®ä¹ä¸ä¸ªéç½®ç±»ï¼å¹¶ä½¿ç¨ @Bean æ³¨è§£æ¥å®ä¹éè¦æå¨éç½®ç Beanãæå¨éç½®ç Bean ä¼è¦çèªå¨éç½®çé»è®¤å¼ã\n\næ»çæ¥è¯´ï¼Spring Boot èªå¨è£éçåçæ¯å¨ Spring Framework çèªå¨è£éæºå¶çåºç¡ä¸ï¼éè¿çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç Beanï¼å¹¶å°å¶æ³¨å¥å° Spring å®¹å¨ä¸­ï¼ä»èç®åäºåºç¨ç¨åºçå¼ååé¨ç½²ã\n\n\n# springboot èªå¨è£éæºç åæ\n\nSpring Boot èªå¨è£éçæºç åæä¸»è¦æ¶åä»¥ä¸å ä¸ªæ¹é¢ï¼\n\n 1. @EnableAutoConfiguration æ³¨è§£çå®ç°\n\n@EnableAutoConfiguration æ¯ Spring Boot èªå¨è£éçæ ¸å¿æ³¨è§£ï¼å®çä½ç¨æ¯å¼å¯èªå¨è£éåè½ã@EnableAutoConfiguration æ³¨è§£çå®ç°åºäº Spring Framework çèªå¨è£éæºå¶ï¼å®ä¼èªå¨æ«æå½åç±»è·¯å¾ä¸çææ jar åï¼æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç Beanãå·ä½å®ç°å¯ä»¥åè AutoConfigurationImportSelector ç±»ã\n\n 2. èªå¨éç½®ç±»çå®ç°\n\nèªå¨éç½®ç±»æ¯å®ç°èªå¨è£éåè½çå³é®ï¼å®ä»¬æ¯æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç Beanãèªå¨éç½®ç±»éå¸¸ä½¿ç¨ @Configuration æ³¨è§£æ¥æ è¯ï¼å¹¶ä½¿ç¨ @ConditionalOnClassã@ConditionalOnMissingBeanã@ConditionalOnProperty ç­æ¡ä»¶æ³¨è§£æ¥æ§å¶èªå¨éç½®çè¡ä¸ºãå·ä½å®ç°å¯ä»¥åè Spring Boot Starter æ¨¡åä¸­ç META-INF/spring.factories æä»¶ä¸­çéç½®ã\n\n 3. Spring Boot Starter çå®ç°\n\nSpring Boot Starter æ¯ä¸ç§å¯å¤ç¨çãå¯éç½®çä¾èµå³ç³»ï¼å®å¯ä»¥å°å¤ä¸ªç¸å³çä¾èµé¡¹æåæä¸ä¸ªåç¬çæ¨¡åï¼ä»èç®ååºç¨ç¨åºçå¼ååé¨ç½²ãSpring Boot Starter çå®ç°éå¸¸åæ¬ä»¥ä¸å ä¸ªæ¹é¢ï¼èªå¨éç½®ç±»ãä¾èµç®¡çãæä»¶ç®¡çãå±æ§éç½®ç­ãå·ä½å®ç°å¯ä»¥åè Spring Boot Starter æ¨¡åä¸­ç pom.xml æä»¶å META-INF/spring.factories æä»¶ä¸­çéç½®ã\n\n 4. èªå¨è£éçä¼åçº§åé¡ºåº\n\nå¨èªå¨è£éè¿ç¨ä¸­ï¼Spring Boot ä¼æ ¹æ®å½åé¡¹ç®ä¸­çä¾èµå³ç³»ï¼ä¼åä½¿ç¨é¡¹ç®ä¸­å·²ç»å­å¨ç Beanãå¦æå­å¨å¤ä¸ªèªå¨éç½®ç±»å¯ä»¥éç½®åä¸ä¸ª Beanï¼é£ä¹ Spring Boot ä¼æ ¹æ®èªå¨éç½®ç±»çä¼åçº§åé¡ºåºæ¥å³å®ä½¿ç¨åªä¸ªèªå¨éç½®ç±»ãå·ä½å®ç°å¯ä»¥åè AutoConfigurationImportSelector ç±»ä¸­çæ¹æ³ã\n\næ»çæ¥è¯´ï¼Spring Boot èªå¨è£éçæºç åæéè¦æ·±å¥äºè§£ Spring Framework çèªå¨è£éæºå¶åæ¡ä»¶æ³¨è§£çä½¿ç¨æ¹æ³ï¼åæ¶è¿éè¦äºè§£ Spring Boot Starter çå®ç°åèªå¨è£éçä¼åçº§åé¡ºåºãåªæå¨æ·±å¥äºè§£è¿äºåå®¹çåºç¡ä¸ï¼æè½æ´å¥½å°çè§£åä½¿ç¨ Spring Boot èªå¨è£éåè½ã\n\n\n# springboot ä¸­çBeanDefinitionæä¹çè§£\n\nå¨ Spring Boot ä¸­ï¼BeanDefinition æ¯ç¨æ¥æè¿° Spring å®¹å¨ä¸­ Bean çåæ°æ®å¯¹è±¡ãBeanDefinition ä¸­åå«äº Bean çç±»åãå±æ§å¼ãæé å½æ°åæ°å¼ç­ä¿¡æ¯ï¼å®å®ä¹äº Bean çç±»åãä½ç¨åãçå½å¨æç­å±æ§ï¼æ¯ Spring å®¹å¨ä¸­ Bean çéè¦ç»æé¨åã\n\nBeanDefinition å¯ä»¥éè¿ä¸¤ç§æ¹å¼è¿è¡å®ä¹ï¼\n\n 1. éè¿ XML éç½®æä»¶å®ä¹ BeanDefinitionã\n\n 2. éè¿ Java ä»£ç å®ä¹ BeanDefinitionã\n\nå¨ Spring Boot ä¸­ï¼éå¸¸ä½¿ç¨ Java ä»£ç æ¥å®ä¹ BeanDefinitionãå¯ä»¥éè¿ @Bean æ³¨è§£ã@Component æ³¨è§£ã@Configuration æ³¨è§£ç­æ¹å¼æ¥å®ä¹ BeanDefinitionãå¶ä¸­ï¼@Bean æ³¨è§£æ¯æå¸¸ç¨çæ¹å¼ï¼å®å¯ä»¥å¨ä»»ä½ Java ç±»ä¸­å®ä¹ BeanDefinitionï¼å¹¶å°å¶æ³¨å¥å° Spring å®¹å¨ä¸­ã\n\nä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ @Bean æ³¨è§£å®ä¹ BeanDefinition çç¤ºä¾ï¼\n\n@Configuration\npublic class AppConfig {\n    @Bean\n    public UserService userService() {\n        return new UserServiceImpl();\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼@Configuration æ³¨è§£è¡¨ç¤ºè¯¥ç±»æ¯ä¸ä¸ªéç½®ç±»ï¼@Bean æ³¨è§£è¡¨ç¤ºè¯¥æ¹æ³è¿åçå¯¹è±¡æ¯ä¸ä¸ª BeanãSpring Boot ä¼æ ¹æ®è¯¥ Bean çç±»åãä½ç¨åãçå½å¨æç­å±æ§ï¼åå»ºå¯¹åºç BeanDefinitionï¼å¹¶å°å¶æ³¨å¥å° Spring å®¹å¨ä¸­ã\n\næ»çæ¥è¯´ï¼BeanDefinition æ¯æè¿° Spring å®¹å¨ä¸­ Bean çåæ°æ®å¯¹è±¡ï¼å®å®ä¹äº Bean çç±»åãä½ç¨åãçå½å¨æç­å±æ§ï¼å¹¶å¯ä»¥éè¿ @Bean æ³¨è§£ã@Component æ³¨è§£ã@Configuration æ³¨è§£ç­æ¹å¼è¿è¡å®ä¹ãäºè§£ BeanDefinition çæ¦å¿µåå®ä¹æ¹å¼ï¼å¯ä»¥æ´å¥½å°çè§£åä½¿ç¨ Spring Boot ä¸­ç Bean å®¹å¨ã\n\n\n# å¦ä½çè§£BeanDefinition ä¸­ç autowireModeå±æ§\n\nBeanDefinition ä¸­ç autowireMode å±æ§æ¯ç¨æ¥æå®èªå¨è£éæ¨¡å¼çãèªå¨è£éæ¨¡å¼æçæ¯ Spring å®¹å¨å¨è¿è¡èªå¨è£éæ¶ï¼å¦ä½ç¡®å®è¦æ³¨å¥åªä¸ª Beanã\n\nBeanDefinition ä¸­ç autowireMode å±æ§æä»¥ä¸å ä¸ªåå¼ï¼\n\n 1. AUTOWIRE_NOï¼ä¸è¿è¡èªå¨è£éï¼éè¦æå¨æå®ä¾èµå³ç³»ã\n\n 2. AUTOWIRE_BY_NAMEï¼æ ¹æ® Bean çåç§°è¿è¡èªå¨è£éï¼è¦æ±ä¾èµç Bean åç§°å¿é¡»åå±æ§åç§°ä¸è´ã\n\n 3. AUTOWIRE_BY_TYPEï¼æ ¹æ® Bean çç±»åè¿è¡èªå¨è£éï¼è¦æ±ä¾èµç Bean ç±»åå¿é¡»åå±æ§ç±»åä¸è´ã\n\n 4. AUTOWIRE_CONSTRUCTORï¼éè¿æé å½æ°è¿è¡èªå¨è£éï¼è¦æ±ä¾èµç Bean ç±»åå¿é¡»åæé å½æ°åæ°ç±»åä¸è´ã\n\n 5. AUTOWIRE_AUTODETECTï¼èªå¨æ£æµèªå¨è£éæ¨¡å¼ï¼æ ¹æ®å±æ§ç±»åååç§°è¿è¡èªå¨è£éã\n\nä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ @Autowired æ³¨è§£è¿è¡èªå¨è£éçç¤ºä¾ï¼\n\n@Component\npublic class UserController {\n    @Autowired\n    private UserService userService;\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼@Autowired æ³¨è§£è¡¨ç¤ºè¦å¯¹ userService å±æ§è¿è¡èªå¨è£éãå¦æ BeanDefinition ä¸­ç autowireMode å±æ§ä¸º AUTOWIRE_BY_NAMEï¼åéè¦ä¿è¯ UserService çåç§°åå±æ§åç§°ä¸è´ï¼å¦æ BeanDefinition ä¸­ç autowireMode å±æ§ä¸º AUTOWIRE_BY_TYPEï¼åéè¦ä¿è¯ UserService çç±»ååå±æ§ç±»åä¸è´ã\n\næ»çæ¥è¯´ï¼BeanDefinition ä¸­ç autowireMode å±æ§æ¯ç¨æ¥æå®èªå¨è£éæ¨¡å¼çï¼å®å³å®äº Spring å®¹å¨å¨è¿è¡èªå¨è£éæ¶å¦ä½ç¡®å®è¦æ³¨å¥åªä¸ª Beanãäºè§£ autowireMode å±æ§çåå¼åä½ç¨ï¼å¯ä»¥æ´å¥½å°çè§£åä½¿ç¨ Spring Boot ä¸­çèªå¨è£éåè½ã\n\n\n# BeanDefinitionä¸­çConstructorArgumentValueså±æ§ä½¿ç¨æ¹å¼\n\nBeanDefinition ä¸­ç ConstructorArgumentValues å±æ§æ¯ç¨æ¥æå® Bean çæé å½æ°åæ°çãå®å¯ä»¥éè¿ä»¥ä¸ä¸¤ç§æ¹å¼è¿è¡è®¾ç½®ï¼\n\n 1. ä½¿ç¨ index å±æ§æå®æé å½æ°åæ°çä½ç½®ï¼ä½¿ç¨ value å±æ§æå®æé å½æ°åæ°çå¼ãä¾å¦ï¼\n\n<bean id="user" class="com.example.User">\n    <constructor-arg index="0" value="å¼ ä¸"/>\n    <constructor-arg index="1" value="30"/>\n</bean>\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼index å±æ§æå®äºæé å½æ°åæ°çä½ç½®ï¼value å±æ§æå®äºæé å½æ°åæ°çå¼ã\n\n 2. ä½¿ç¨ name å±æ§æå®æé å½æ°åæ°çåç§°ï¼ä½¿ç¨ ref å±æ§æå®æé å½æ°åæ°çå¼ç¨ãä¾å¦ï¼\n\n<bean id="user" class="com.example.User">\n    <constructor-arg name="name" value="å¼ ä¸"/>\n    <constructor-arg name="age" ref="ageBean"/>\n</bean>\n\n<bean id="ageBean" class="java.lang.Integer">\n    <constructor-arg value="30"/>\n</bean>\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼name å±æ§æå®äºæé å½æ°åæ°çåç§°ï¼value å±æ§æå®äºæé å½æ°åæ°çå¼ï¼ref å±æ§æå®äºæé å½æ°åæ°çå¼ç¨ã\n\né¤äº XML éç½®æä»¶ä¹å¤ï¼è¿å¯ä»¥ä½¿ç¨ Java ä»£ç æ¥è®¾ç½® ConstructorArgumentValues å±æ§ãä¾å¦ï¼\n\n@Configuration\npublic class AppConfig {\n    @Bean\n    public User user() {\n        ConstructorArgumentValues constructorArgumentValues = new ConstructorArgumentValues();\n        constructorArgumentValues.addIndexedArgumentValue(0, "å¼ ä¸");\n        constructorArgumentValues.addIndexedArgumentValue(1, 30);\n        return new User(constructorArgumentValues);\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä½¿ç¨ ConstructorArgumentValues å¯¹è±¡æ¥è®¾ç½®æé å½æ°åæ°çå¼ï¼addIndexedArgumentValue() æ¹æ³æå®äºæé å½æ°åæ°çä½ç½®åå¼ã\n\næ»çæ¥è¯´ï¼ConstructorArgumentValues å±æ§æ¯ç¨æ¥æå® Bean çæé å½æ°åæ°çï¼å¯ä»¥éè¿ XML éç½®æä»¶æ Java ä»£ç è¿è¡è®¾ç½®ãäºè§£ ConstructorArgumentValues çä½¿ç¨æ¹å¼ï¼å¯ä»¥æ´å¥½å°çè§£åä½¿ç¨ Spring Boot ä¸­ç Bean å®¹å¨ã\n\n\n# SpringApplicationä¸­çsetListenersæä¹çè§£\n\nSpringApplication ä¸­ç setListeners() æ¹æ³æ¯ç¨æ¥è®¾ç½® Spring Boot åºç¨ç¨åºççå¬å¨çãSpring Boot åºç¨ç¨åºççå¬å¨æ¯ä¸ç§ç¹æ®ç Beanï¼å®å¯ä»¥çå¬ Spring Boot åºç¨ç¨åºççå½å¨æäºä»¶ï¼å¹¶å¨äºä»¶åçæ¶æ§è¡ç¸åºçé»è¾ã\n\nSpring Boot åºç¨ç¨åºççå¬å¨å¯ä»¥åä¸ºä»¥ä¸å ç§ç±»åï¼\n\n 1. ApplicationStartingEvent çå¬å¨ï¼å¨ Spring Boot åºç¨ç¨åºå¯å¨ä¹åæ§è¡ã\n\n 2. ApplicationEnvironmentPreparedEvent çå¬å¨ï¼å¨ Spring Boot åºç¨ç¨åºç¯å¢åå¤å®æä¹åæ§è¡ã\n\n 3. ApplicationPreparedEvent çå¬å¨ï¼å¨ Spring Boot åºç¨ç¨åºåå¤å®æä¹åæ§è¡ã\n\n 4. ApplicationStartedEvent çå¬å¨ï¼å¨ Spring Boot åºç¨ç¨åºå¯å¨å®æä¹åæ§è¡ã\n\n 5. ApplicationReadyEvent çå¬å¨ï¼å¨ Spring Boot åºç¨ç¨åºåå¤å¥½æ¥æ¶è¯·æ±ä¹åæ§è¡ã\n\n 6. ApplicationFailedEvent çå¬å¨ï¼å¨ Spring Boot åºç¨ç¨åºå¯å¨å¤±è´¥æ¶æ§è¡ã\n\nä½¿ç¨ setListeners() æ¹æ³å¯ä»¥å Spring Boot åºç¨ç¨åºæ·»å èªå®ä¹ççå¬å¨ï¼ä»¥å®ç°ä¸äºç¹å®çä¸å¡é»è¾ãä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ setListeners() æ¹æ³æ·»å  ApplicationStartedEvent çå¬å¨çç¤ºä¾ï¼\n\n@SpringBootApplication\npublic class MyApp {\n    public static void main(String[] args) {\n        SpringApplication app = new SpringApplication(MyApp.class);\n        app.setListeners(Collections.singletonList(new MyApplicationStartedEventListener()));\n        app.run(args);\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä½¿ç¨ setListeners() æ¹æ³å Spring Boot åºç¨ç¨åºæ·»å äºä¸ä¸ªèªå®ä¹ç ApplicationStartedEvent çå¬å¨ MyApplicationStartedEventListenerã\n\næ»çæ¥è¯´ï¼setListeners() æ¹æ³æ¯ç¨æ¥è®¾ç½® Spring Boot åºç¨ç¨åºççå¬å¨çãäºè§£ setListeners() æ¹æ³çä½¿ç¨æ¹å¼å Spring Boot åºç¨ç¨åºççå¬å¨ç±»åï¼å¯ä»¥æ´å¥½å°å®ç°ä¸äºç¹å®çä¸å¡é»è¾ã\n\n\n# SpringApplicationä¸­çsetInitializersæä¹çè§£\n\nSpringApplication ä¸­ç setInitializers() æ¹æ³æ¯ç¨æ¥è®¾ç½® Spring Boot åºç¨ç¨åºçåå§åå¨çãSpring Boot åºç¨ç¨åºçåå§åå¨æ¯ä¸ç§ç¹æ®ç Beanï¼å®å¯ä»¥å¨ Spring Boot åºç¨ç¨åºå¯å¨ä¹åæ§è¡ä¸äºåå§åé»è¾ã\n\nSpring Boot åºç¨ç¨åºçåå§åå¨å¯ä»¥åä¸ºä»¥ä¸å ç§ç±»åï¼\n\n 1. ApplicationContextInitializerï¼å¨ Spring åºç¨ç¨åºä¸ä¸æåå»ºä¹åæ§è¡ã\n\n 2. ApplicationListenerï¼å¨ Spring Boot åºç¨ç¨åºå¯å¨ä¹åæ§è¡ã\n\nä½¿ç¨ setInitializers() æ¹æ³ï¼å¯ä»¥å Spring Boot åºç¨ç¨åºæ·»å èªå®ä¹çåå§åå¨ï¼ä»¥å®ç°ä¸äºç¹å®çä¸å¡é»è¾ãä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ setInitializers() æ¹æ³æ·»å  ApplicationContextInitializer çç¤ºä¾ï¼\n\n@SpringBootApplication\npublic class MyApp {\n    public static void main(String[] args) {\n        SpringApplication app = new SpringApplication(MyApp.class);\n        app.setInitializers(Collections.singletonList(new MyApplicationContextInitializer()));\n        app.run(args);\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä½¿ç¨ setInitializers() æ¹æ³å Spring Boot åºç¨ç¨åºæ·»å äºä¸ä¸ªèªå®ä¹ç ApplicationContextInitializerã\n\næ»çæ¥è¯´ï¼setInitializers() æ¹æ³æ¯ç¨æ¥è®¾ç½® Spring Boot åºç¨ç¨åºçåå§åå¨çãäºè§£ setInitializers() æ¹æ³çä½¿ç¨æ¹å¼å Spring Boot åºç¨ç¨åºçåå§åå¨ç±»åï¼å¯ä»¥æ´å¥½å°å®ç°ä¸äºç¹å®çä¸å¡é»è¾ã',normalizedContent:'# é¢ç­\n\n@data\n@noargsconstructor\n@allargsconstructor\npublic class person {\n    private string name;\n    private integer age;\n    private boolean sex;\n}\n\n\néç½®bean\n\n 1. éè¿éç½®æä»¶ï¼setteræ³¨å¥\n\n\x3c!-- æå¨éç½®beanå¯¹è±¡ --\x3e\n<bean id="person" class="pojo.person">\n    <property name="name" value="dzzhyk"/>\n    <property name="age" value="20"/>\n    <property name="sex" value="true"/>\n</bean>\n\n\n 2. éè¿éç½®æä»¶ï¼æé å¨æ³¨å¥\n\n\x3c!-- ä½¿ç¨æé å¨ --\x3e\n<bean id="person" class="pojo.person">\n    <constructor-arg index="0" type="java.lang.string" value="dzzhyk" />\n    <constructor-arg index="1" type="java.lang.integer" value="20"/>\n    <constructor-arg index="2" type="java.lang.boolean" value="true"/>\n</bean>\n\n\n 3. éè¿æ³¨è§£ï¼å±æ§æ³¨å¥\n\n@component\npublic class person {\n    \n    @value("dzzhyk")\n    private string name;\n    @value("20")\n    private integer age;\n    @value("true")\n    private boolean sex;\n}\n\n\næµè¯ä»¥ä¸ä¸ç§æ¹æ¡ï¼é½å¯ä»¥è·å¾bean\n\npublic class testversion {\n    @test\n    public void test(){\n        applicationcontext ac = new classpathxmlapplicationcontext("applicationcontext.xml");\n        person person = ac.getbean("person", person.class);\n        system.out.println(person);\n    }\n}\n\n\nç»æ\n\nperson(name=dzzhyk, age=20, sex=true)\n\n\n\n# åé¢ç­\n\næ©å±ä¸ä¸è¿ä¸ªç±»\n\npublic class car {\n    private string brand;\n    private integer price;\n}\n\npublic class dog {\n    private string name;\n    private integer age;\n}\n\npublic class person {\n    private string name;\n    private integer age;\n    private boolean sex;\n    private dog dog;\n    private car car;\n}\n\n\n\n1. åºäºxmléç½®\n\n<bean id="person" class="pojo.person">\n    <property name="name" value="dzzhyk"/>\n    <property name="age" value="20"/>\n    <property name="sex" value="true"/>\n    <property name="dog" ref="dog"/>\n    <property name="car" ref="car"/>\n</bean>\n\n<bean id="dog" class="pojo.dog">\n    <property name="name" value="æºè´¢"/>\n    <property name="age" value="5" />\n</bean>\n\n<bean id="car" class="pojo.car">\n    <property name="brand" value="å¥¥è¿ªåé»"/>\n    <property name="price" value="100000"/>\n</bean>\n\n\n\nä½¿ç¨classpathxmlapplicationcontextå®¹å¨\n\n/**\n * ä½¿ç¨xmléç½®\n */\npublic class testversion1 {\n    @test\n    public void test(){\n        classpathxmlapplicationcontext ca = new classpathxmlapplicationcontext("applicationcontext.xml");\n        person person = ca.getbean("person", person.class);\n        system.out.println(person);\n    }\n}\n\n\n\n2. åºäºéç½®ç±»éç½®\n\n@configuration\n@componentscan\npublic class personconfig {\n\n    @bean\n    public person person(dog dog, car car){\n        return new person("dzzhyk", 20, true, dog, car);\n    }\n\n    @bean\n    public dog dog(){\n        return new dog("æºè´¢", 5);\n    }\n\n    @bean\n    public car car(){\n        return new car("å¥¥è¿ªåé»", 100000);\n    }\n}\n\n\n\nä½¿ç¨annotationconfigapplicationcontextå®¹å¨\n\n/**\n * ä½¿ç¨javaconfigéç½®\n */\npublic class testversion2 {\n    @test\n    public void test(){\n        annotationconfigapplicationcontext ac = new annotationconfigapplicationcontext(personconfig.class);\n        person person = ac.getbean("person", person.class);\n        system.out.println(person);\n    }\n}\n\n\n\nç»æ\n\nperson(name=dzzhyk, age=20, sex=true, dog=dog(name=æºè´¢, age=5), car=car(brand=å¥¥è¿ªåé», price=100000))\n\n\n\n# beandefinition\n\næ¯æè¿°spring å®¹å¨ä¸­beançåæ°æ®å¯¹è±¡ï¼è¢«å­æ¾ä¸ä¸ªmapå®¹å¨ä¸­\n\nbeandefinitionmap<beanname, beandefinition>\n\n\n\n\n\n# beandefinitionä¸­çå±æ§\n\n\n\néç¹ä»¥ä¸ä¸ä¸ªæå\n\nprivate volatile object beanclass;\nprivate int autowiremode = autowire_no;\nprivate constructorargumentvalues constructorargumentvalues;\n\n\nbeanclass\n\nè¿ä¸ªå±æ§å®ä¹äºè¿ä¸ªbeandefinition æ¯å±äºåªä¸ªclass\n\nautowiremode\n\nèªå¨è£éæ¨¡å¼\n\n * autowire_no\n * autowire_by_name\n * autowire_by_type\n * autowire_constructor\n\n@component\npublic class a {\n    @value("ææ¯aaa")\n    private string name;\n    // açbeandefinitionå¼å¯äºèªå¨è£é, æå¯ä»¥ä½¿ç¨è¯¥ä¸ºaæ³¨å¥å±æ§\n    @autowired\n    private b b;\n}\n\n\nå¨beanfactorypostprocessorä¸­åæç« \n\ndefa.setautowiremode(abstractbeandefinition.autowire_by_name);\n\n\nconstructorargumentvalues\n\nspringå¨å®ä¾åå¯¹è±¡æ¶ä½¿ç¨çæ¯å¯¹è±¡çé»è®¤ç©ºåæé å¨\n\nå¨beanfactorypostprocessorä¸­åæç« \n\nconstructorargumentvalues args = new constructorargumentvalues();\n// å¨beandefinitionä¸­è®¾ç½®å®ä¾åå¯¹è±¡æ¶,è°ç¨åªä¸ªæé å½æ°, è®¾ç½®æé å½æ°ä¸­ç¬¬iä¸ªä½ç½®ï¼çå¼\nargs.addindexedargumentvalue(0, "ææå®çå§å");\nargs.addindexedargumentvalue(1, 20);\ndefstu.setconstructorargumentvalues(args);\n\n\n\n\n# èªå¨è£é\n\n\n\n\n# chatgpt\n\n\n# springboot èªå¨è£éåç\n\nspring boot èªå¨è£éæ¯åºäº spring framework çèªå¨è£éæºå¶ï¼éè¿ä½¿ç¨ @enableautoconfiguration æ³¨è§£æ¥å®ç°ã@enableautoconfiguration æ³¨è§£ä¼èªå¨æ«æå½åç±»è·¯å¾ä¸çææ jar åï¼æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç beanï¼å¹¶å°å¶æ³¨å¥å° spring å®¹å¨ä¸­ã\n\nspring boot èªå¨è£éçåçå¯ä»¥æ¦æ¬ä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n 1. spring boot å¨å¯å¨æ¶ä¼æ«æææ jar åï¼å¹¶æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç beanã\n\n 2. spring boot ä¼æ ¹æ®å½åé¡¹ç®ä¸­çä¾èµå³ç³»ï¼ä¼åä½¿ç¨é¡¹ç®ä¸­å·²ç»å­å¨ç beanã\n\n 3. spring boot ä¼æ ¹æ®éç½®æä»¶ä¸­çéç½®ï¼è¦çèªå¨éç½®çé»è®¤å¼ã\n\n 4. spring boot ä¼æ ¹æ®æ¡ä»¶å¤æ­ï¼å³å®æ¯å¦éè¦èªå¨éç½®æäº beanã\n\n 5. spring boot ä¼å°ææèªå¨éç½®ç bean æ³¨å¥å° spring å®¹å¨ä¸­ï¼ä¾å¶ä»ç»ä»¶ä½¿ç¨ã\n\nspring boot èªå¨è£éçè§ååæ¡ä»¶æ¯ç± spring boot starter æ¨¡åä¸­ç meta-inf/spring.factories æä»¶ä¸­çéç½®æ¥å®ä¹çãè¯¥æä»¶ä¸­å®ä¹äºä¸ä¸ªæå¤ä¸ªèªå¨éç½®ç±»ï¼æ¯ä¸ªèªå¨éç½®ç±»é½ä¼æ ¹æ®ç¹å®çè§ååæ¡ä»¶ï¼èªå¨éç½®ç¸åºç beanã\n\nå¨èªå¨è£éè¿ç¨ä¸­ï¼å¦æéè¦æå¨éç½®æäº beanï¼å¯ä»¥ä½¿ç¨ @configuration æ³¨è§£æ¥å®ä¹ä¸ä¸ªéç½®ç±»ï¼å¹¶ä½¿ç¨ @bean æ³¨è§£æ¥å®ä¹éè¦æå¨éç½®ç beanãæå¨éç½®ç bean ä¼è¦çèªå¨éç½®çé»è®¤å¼ã\n\næ»çæ¥è¯´ï¼spring boot èªå¨è£éçåçæ¯å¨ spring framework çèªå¨è£éæºå¶çåºç¡ä¸ï¼éè¿çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç beanï¼å¹¶å°å¶æ³¨å¥å° spring å®¹å¨ä¸­ï¼ä»èç®åäºåºç¨ç¨åºçå¼ååé¨ç½²ã\n\n\n# springboot èªå¨è£éæºç åæ\n\nspring boot èªå¨è£éçæºç åæä¸»è¦æ¶åä»¥ä¸å ä¸ªæ¹é¢ï¼\n\n 1. @enableautoconfiguration æ³¨è§£çå®ç°\n\n@enableautoconfiguration æ¯ spring boot èªå¨è£éçæ ¸å¿æ³¨è§£ï¼å®çä½ç¨æ¯å¼å¯èªå¨è£éåè½ã@enableautoconfiguration æ³¨è§£çå®ç°åºäº spring framework çèªå¨è£éæºå¶ï¼å®ä¼èªå¨æ«æå½åç±»è·¯å¾ä¸çææ jar åï¼æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç beanãå·ä½å®ç°å¯ä»¥åè autoconfigurationimportselector ç±»ã\n\n 2. èªå¨éç½®ç±»çå®ç°\n\nèªå¨éç½®ç±»æ¯å®ç°èªå¨è£éåè½çå³é®ï¼å®ä»¬æ¯æ ¹æ®çº¦å®çè§ååæ¡ä»¶ï¼èªå¨éç½®éè¦ç beanãèªå¨éç½®ç±»éå¸¸ä½¿ç¨ @configuration æ³¨è§£æ¥æ è¯ï¼å¹¶ä½¿ç¨ @conditionalonclassã@conditionalonmissingbeanã@conditionalonproperty ç­æ¡ä»¶æ³¨è§£æ¥æ§å¶èªå¨éç½®çè¡ä¸ºãå·ä½å®ç°å¯ä»¥åè spring boot starter æ¨¡åä¸­ç meta-inf/spring.factories æä»¶ä¸­çéç½®ã\n\n 3. spring boot starter çå®ç°\n\nspring boot starter æ¯ä¸ç§å¯å¤ç¨çãå¯éç½®çä¾èµå³ç³»ï¼å®å¯ä»¥å°å¤ä¸ªç¸å³çä¾èµé¡¹æåæä¸ä¸ªåç¬çæ¨¡åï¼ä»èç®ååºç¨ç¨åºçå¼ååé¨ç½²ãspring boot starter çå®ç°éå¸¸åæ¬ä»¥ä¸å ä¸ªæ¹é¢ï¼èªå¨éç½®ç±»ãä¾èµç®¡çãæä»¶ç®¡çãå±æ§éç½®ç­ãå·ä½å®ç°å¯ä»¥åè spring boot starter æ¨¡åä¸­ç pom.xml æä»¶å meta-inf/spring.factories æä»¶ä¸­çéç½®ã\n\n 4. èªå¨è£éçä¼åçº§åé¡ºåº\n\nå¨èªå¨è£éè¿ç¨ä¸­ï¼spring boot ä¼æ ¹æ®å½åé¡¹ç®ä¸­çä¾èµå³ç³»ï¼ä¼åä½¿ç¨é¡¹ç®ä¸­å·²ç»å­å¨ç beanãå¦æå­å¨å¤ä¸ªèªå¨éç½®ç±»å¯ä»¥éç½®åä¸ä¸ª beanï¼é£ä¹ spring boot ä¼æ ¹æ®èªå¨éç½®ç±»çä¼åçº§åé¡ºåºæ¥å³å®ä½¿ç¨åªä¸ªèªå¨éç½®ç±»ãå·ä½å®ç°å¯ä»¥åè autoconfigurationimportselector ç±»ä¸­çæ¹æ³ã\n\næ»çæ¥è¯´ï¼spring boot èªå¨è£éçæºç åæéè¦æ·±å¥äºè§£ spring framework çèªå¨è£éæºå¶åæ¡ä»¶æ³¨è§£çä½¿ç¨æ¹æ³ï¼åæ¶è¿éè¦äºè§£ spring boot starter çå®ç°åèªå¨è£éçä¼åçº§åé¡ºåºãåªæå¨æ·±å¥äºè§£è¿äºåå®¹çåºç¡ä¸ï¼æè½æ´å¥½å°çè§£åä½¿ç¨ spring boot èªå¨è£éåè½ã\n\n\n# springboot ä¸­çbeandefinitionæä¹çè§£\n\nå¨ spring boot ä¸­ï¼beandefinition æ¯ç¨æ¥æè¿° spring å®¹å¨ä¸­ bean çåæ°æ®å¯¹è±¡ãbeandefinition ä¸­åå«äº bean çç±»åãå±æ§å¼ãæé å½æ°åæ°å¼ç­ä¿¡æ¯ï¼å®å®ä¹äº bean çç±»åãä½ç¨åãçå½å¨æç­å±æ§ï¼æ¯ spring å®¹å¨ä¸­ bean çéè¦ç»æé¨åã\n\nbeandefinition å¯ä»¥éè¿ä¸¤ç§æ¹å¼è¿è¡å®ä¹ï¼\n\n 1. éè¿ xml éç½®æä»¶å®ä¹ beandefinitionã\n\n 2. éè¿ java ä»£ç å®ä¹ beandefinitionã\n\nå¨ spring boot ä¸­ï¼éå¸¸ä½¿ç¨ java ä»£ç æ¥å®ä¹ beandefinitionãå¯ä»¥éè¿ @bean æ³¨è§£ã@component æ³¨è§£ã@configuration æ³¨è§£ç­æ¹å¼æ¥å®ä¹ beandefinitionãå¶ä¸­ï¼@bean æ³¨è§£æ¯æå¸¸ç¨çæ¹å¼ï¼å®å¯ä»¥å¨ä»»ä½ java ç±»ä¸­å®ä¹ beandefinitionï¼å¹¶å°å¶æ³¨å¥å° spring å®¹å¨ä¸­ã\n\nä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ @bean æ³¨è§£å®ä¹ beandefinition çç¤ºä¾ï¼\n\n@configuration\npublic class appconfig {\n    @bean\n    public userservice userservice() {\n        return new userserviceimpl();\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼@configuration æ³¨è§£è¡¨ç¤ºè¯¥ç±»æ¯ä¸ä¸ªéç½®ç±»ï¼@bean æ³¨è§£è¡¨ç¤ºè¯¥æ¹æ³è¿åçå¯¹è±¡æ¯ä¸ä¸ª beanãspring boot ä¼æ ¹æ®è¯¥ bean çç±»åãä½ç¨åãçå½å¨æç­å±æ§ï¼åå»ºå¯¹åºç beandefinitionï¼å¹¶å°å¶æ³¨å¥å° spring å®¹å¨ä¸­ã\n\næ»çæ¥è¯´ï¼beandefinition æ¯æè¿° spring å®¹å¨ä¸­ bean çåæ°æ®å¯¹è±¡ï¼å®å®ä¹äº bean çç±»åãä½ç¨åãçå½å¨æç­å±æ§ï¼å¹¶å¯ä»¥éè¿ @bean æ³¨è§£ã@component æ³¨è§£ã@configuration æ³¨è§£ç­æ¹å¼è¿è¡å®ä¹ãäºè§£ beandefinition çæ¦å¿µåå®ä¹æ¹å¼ï¼å¯ä»¥æ´å¥½å°çè§£åä½¿ç¨ spring boot ä¸­ç bean å®¹å¨ã\n\n\n# å¦ä½çè§£beandefinition ä¸­ç autowiremodeå±æ§\n\nbeandefinition ä¸­ç autowiremode å±æ§æ¯ç¨æ¥æå®èªå¨è£éæ¨¡å¼çãèªå¨è£éæ¨¡å¼æçæ¯ spring å®¹å¨å¨è¿è¡èªå¨è£éæ¶ï¼å¦ä½ç¡®å®è¦æ³¨å¥åªä¸ª beanã\n\nbeandefinition ä¸­ç autowiremode å±æ§æä»¥ä¸å ä¸ªåå¼ï¼\n\n 1. autowire_noï¼ä¸è¿è¡èªå¨è£éï¼éè¦æå¨æå®ä¾èµå³ç³»ã\n\n 2. autowire_by_nameï¼æ ¹æ® bean çåç§°è¿è¡èªå¨è£éï¼è¦æ±ä¾èµç bean åç§°å¿é¡»åå±æ§åç§°ä¸è´ã\n\n 3. autowire_by_typeï¼æ ¹æ® bean çç±»åè¿è¡èªå¨è£éï¼è¦æ±ä¾èµç bean ç±»åå¿é¡»åå±æ§ç±»åä¸è´ã\n\n 4. autowire_constructorï¼éè¿æé å½æ°è¿è¡èªå¨è£éï¼è¦æ±ä¾èµç bean ç±»åå¿é¡»åæé å½æ°åæ°ç±»åä¸è´ã\n\n 5. autowire_autodetectï¼èªå¨æ£æµèªå¨è£éæ¨¡å¼ï¼æ ¹æ®å±æ§ç±»åååç§°è¿è¡èªå¨è£éã\n\nä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ @autowired æ³¨è§£è¿è¡èªå¨è£éçç¤ºä¾ï¼\n\n@component\npublic class usercontroller {\n    @autowired\n    private userservice userservice;\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼@autowired æ³¨è§£è¡¨ç¤ºè¦å¯¹ userservice å±æ§è¿è¡èªå¨è£éãå¦æ beandefinition ä¸­ç autowiremode å±æ§ä¸º autowire_by_nameï¼åéè¦ä¿è¯ userservice çåç§°åå±æ§åç§°ä¸è´ï¼å¦æ beandefinition ä¸­ç autowiremode å±æ§ä¸º autowire_by_typeï¼åéè¦ä¿è¯ userservice çç±»ååå±æ§ç±»åä¸è´ã\n\næ»çæ¥è¯´ï¼beandefinition ä¸­ç autowiremode å±æ§æ¯ç¨æ¥æå®èªå¨è£éæ¨¡å¼çï¼å®å³å®äº spring å®¹å¨å¨è¿è¡èªå¨è£éæ¶å¦ä½ç¡®å®è¦æ³¨å¥åªä¸ª beanãäºè§£ autowiremode å±æ§çåå¼åä½ç¨ï¼å¯ä»¥æ´å¥½å°çè§£åä½¿ç¨ spring boot ä¸­çèªå¨è£éåè½ã\n\n\n# beandefinitionä¸­çconstructorargumentvalueså±æ§ä½¿ç¨æ¹å¼\n\nbeandefinition ä¸­ç constructorargumentvalues å±æ§æ¯ç¨æ¥æå® bean çæé å½æ°åæ°çãå®å¯ä»¥éè¿ä»¥ä¸ä¸¤ç§æ¹å¼è¿è¡è®¾ç½®ï¼\n\n 1. ä½¿ç¨ index å±æ§æå®æé å½æ°åæ°çä½ç½®ï¼ä½¿ç¨ value å±æ§æå®æé å½æ°åæ°çå¼ãä¾å¦ï¼\n\n<bean id="user" class="com.example.user">\n    <constructor-arg index="0" value="å¼ ä¸"/>\n    <constructor-arg index="1" value="30"/>\n</bean>\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼index å±æ§æå®äºæé å½æ°åæ°çä½ç½®ï¼value å±æ§æå®äºæé å½æ°åæ°çå¼ã\n\n 2. ä½¿ç¨ name å±æ§æå®æé å½æ°åæ°çåç§°ï¼ä½¿ç¨ ref å±æ§æå®æé å½æ°åæ°çå¼ç¨ãä¾å¦ï¼\n\n<bean id="user" class="com.example.user">\n    <constructor-arg name="name" value="å¼ ä¸"/>\n    <constructor-arg name="age" ref="agebean"/>\n</bean>\n\n<bean id="agebean" class="java.lang.integer">\n    <constructor-arg value="30"/>\n</bean>\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼name å±æ§æå®äºæé å½æ°åæ°çåç§°ï¼value å±æ§æå®äºæé å½æ°åæ°çå¼ï¼ref å±æ§æå®äºæé å½æ°åæ°çå¼ç¨ã\n\né¤äº xml éç½®æä»¶ä¹å¤ï¼è¿å¯ä»¥ä½¿ç¨ java ä»£ç æ¥è®¾ç½® constructorargumentvalues å±æ§ãä¾å¦ï¼\n\n@configuration\npublic class appconfig {\n    @bean\n    public user user() {\n        constructorargumentvalues constructorargumentvalues = new constructorargumentvalues();\n        constructorargumentvalues.addindexedargumentvalue(0, "å¼ ä¸");\n        constructorargumentvalues.addindexedargumentvalue(1, 30);\n        return new user(constructorargumentvalues);\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä½¿ç¨ constructorargumentvalues å¯¹è±¡æ¥è®¾ç½®æé å½æ°åæ°çå¼ï¼addindexedargumentvalue() æ¹æ³æå®äºæé å½æ°åæ°çä½ç½®åå¼ã\n\næ»çæ¥è¯´ï¼constructorargumentvalues å±æ§æ¯ç¨æ¥æå® bean çæé å½æ°åæ°çï¼å¯ä»¥éè¿ xml éç½®æä»¶æ java ä»£ç è¿è¡è®¾ç½®ãäºè§£ constructorargumentvalues çä½¿ç¨æ¹å¼ï¼å¯ä»¥æ´å¥½å°çè§£åä½¿ç¨ spring boot ä¸­ç bean å®¹å¨ã\n\n\n# springapplicationä¸­çsetlistenersæä¹çè§£\n\nspringapplication ä¸­ç setlisteners() æ¹æ³æ¯ç¨æ¥è®¾ç½® spring boot åºç¨ç¨åºççå¬å¨çãspring boot åºç¨ç¨åºççå¬å¨æ¯ä¸ç§ç¹æ®ç beanï¼å®å¯ä»¥çå¬ spring boot åºç¨ç¨åºççå½å¨æäºä»¶ï¼å¹¶å¨äºä»¶åçæ¶æ§è¡ç¸åºçé»è¾ã\n\nspring boot åºç¨ç¨åºççå¬å¨å¯ä»¥åä¸ºä»¥ä¸å ç§ç±»åï¼\n\n 1. applicationstartingevent çå¬å¨ï¼å¨ spring boot åºç¨ç¨åºå¯å¨ä¹åæ§è¡ã\n\n 2. applicationenvironmentpreparedevent çå¬å¨ï¼å¨ spring boot åºç¨ç¨åºç¯å¢åå¤å®æä¹åæ§è¡ã\n\n 3. applicationpreparedevent çå¬å¨ï¼å¨ spring boot åºç¨ç¨åºåå¤å®æä¹åæ§è¡ã\n\n 4. applicationstartedevent çå¬å¨ï¼å¨ spring boot åºç¨ç¨åºå¯å¨å®æä¹åæ§è¡ã\n\n 5. applicationreadyevent çå¬å¨ï¼å¨ spring boot åºç¨ç¨åºåå¤å¥½æ¥æ¶è¯·æ±ä¹åæ§è¡ã\n\n 6. applicationfailedevent çå¬å¨ï¼å¨ spring boot åºç¨ç¨åºå¯å¨å¤±è´¥æ¶æ§è¡ã\n\nä½¿ç¨ setlisteners() æ¹æ³å¯ä»¥å spring boot åºç¨ç¨åºæ·»å èªå®ä¹ççå¬å¨ï¼ä»¥å®ç°ä¸äºç¹å®çä¸å¡é»è¾ãä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ setlisteners() æ¹æ³æ·»å  applicationstartedevent çå¬å¨çç¤ºä¾ï¼\n\n@springbootapplication\npublic class myapp {\n    public static void main(string[] args) {\n        springapplication app = new springapplication(myapp.class);\n        app.setlisteners(collections.singletonlist(new myapplicationstartedeventlistener()));\n        app.run(args);\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä½¿ç¨ setlisteners() æ¹æ³å spring boot åºç¨ç¨åºæ·»å äºä¸ä¸ªèªå®ä¹ç applicationstartedevent çå¬å¨ myapplicationstartedeventlistenerã\n\næ»çæ¥è¯´ï¼setlisteners() æ¹æ³æ¯ç¨æ¥è®¾ç½® spring boot åºç¨ç¨åºççå¬å¨çãäºè§£ setlisteners() æ¹æ³çä½¿ç¨æ¹å¼å spring boot åºç¨ç¨åºççå¬å¨ç±»åï¼å¯ä»¥æ´å¥½å°å®ç°ä¸äºç¹å®çä¸å¡é»è¾ã\n\n\n# springapplicationä¸­çsetinitializersæä¹çè§£\n\nspringapplication ä¸­ç setinitializers() æ¹æ³æ¯ç¨æ¥è®¾ç½® spring boot åºç¨ç¨åºçåå§åå¨çãspring boot åºç¨ç¨åºçåå§åå¨æ¯ä¸ç§ç¹æ®ç beanï¼å®å¯ä»¥å¨ spring boot åºç¨ç¨åºå¯å¨ä¹åæ§è¡ä¸äºåå§åé»è¾ã\n\nspring boot åºç¨ç¨åºçåå§åå¨å¯ä»¥åä¸ºä»¥ä¸å ç§ç±»åï¼\n\n 1. applicationcontextinitializerï¼å¨ spring åºç¨ç¨åºä¸ä¸æåå»ºä¹åæ§è¡ã\n\n 2. applicationlistenerï¼å¨ spring boot åºç¨ç¨åºå¯å¨ä¹åæ§è¡ã\n\nä½¿ç¨ setinitializers() æ¹æ³ï¼å¯ä»¥å spring boot åºç¨ç¨åºæ·»å èªå®ä¹çåå§åå¨ï¼ä»¥å®ç°ä¸äºç¹å®çä¸å¡é»è¾ãä¾å¦ï¼ä¸é¢æ¯ä¸ä¸ªä½¿ç¨ setinitializers() æ¹æ³æ·»å  applicationcontextinitializer çç¤ºä¾ï¼\n\n@springbootapplication\npublic class myapp {\n    public static void main(string[] args) {\n        springapplication app = new springapplication(myapp.class);\n        app.setinitializers(collections.singletonlist(new myapplicationcontextinitializer()));\n        app.run(args);\n    }\n}\n\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä½¿ç¨ setinitializers() æ¹æ³å spring boot åºç¨ç¨åºæ·»å äºä¸ä¸ªèªå®ä¹ç applicationcontextinitializerã\n\næ»çæ¥è¯´ï¼setinitializers() æ¹æ³æ¯ç¨æ¥è®¾ç½® spring boot åºç¨ç¨åºçåå§åå¨çãäºè§£ setinitializers() æ¹æ³çä½¿ç¨æ¹å¼å spring boot åºç¨ç¨åºçåå§åå¨ç±»åï¼å¯ä»¥æ´å¥½å°å®ç°ä¸äºç¹å®çä¸å¡é»è¾ã',charsets:{cjk:!0}},{title:"Controlleræ¥æ¶è¯·æ±æ¹å¼",frontmatter:{title:"Controlleræ¥æ¶è¯·æ±æ¹å¼",date:"2023-08-10T10:44:49.000Z",permalink:"/pages/4ce008/"},regularPath:"/01.Java/04.%E6%A1%86%E6%9E%B6/04.Controller.html",relativePath:"01.Java/04.æ¡æ¶/04.Controller.md",key:"v-f8ca3edc",path:"/pages/4ce008/",headers:[{level:2,title:"Get",slug:"get",normalizedTitle:"get",charIndex:2},{level:2,title:"Post",slug:"post",normalizedTitle:"post",charIndex:617},{level:3,title:"form-dataæ°æ®",slug:"form-dataæ°æ®",normalizedTitle:"form-dataæ°æ®",charIndex:626},{level:3,title:"jsonæ°æ®",slug:"jsonæ°æ®",normalizedTitle:"jsonæ°æ®",charIndex:828}],headersStr:"Get Post form-dataæ°æ® jsonæ°æ®",content:'# Get\n\nä½¿ç¨ / æ¼æ¥\n\nhttp://localhost:8088/testGetUrl/2/23\n\n\n@GetMapping("/testGetUrl/{id}/{age}")\npublic String testGetUrl(@PathVariable("id") String id, @PathVariable("age") String age){\n    System.out.println(id);\n    System.out.println(age);\n    return id;\n}\n\n\n----------------------------------------\n\nä½¿ç¨ ï¼æ¼æ¥\n\nhttp://localhost:8088/testGetUrl?id=2&age=23\n\n\n@GetMapping("/testGetUrl")\npublic String testGet1(String id, String age){\n    System.out.println(id);\n    return id;\n}\n\n\n@GetMapping("/testGetUrl")\npublic String testGet2(TestDto testDto){\n    System.out.println(testDto);\n    return testDto.toString();\n}\n\n\n\n# Post\n\n\n# form-dataæ°æ®\n\n\n\n@PostMapping("/testPost")\npublic String testPost(Integer id, Integer age){\n    return "ok";\n}\n\n\n@PostMapping("/testPost")\npublic String testPost(TestDto testDto){\n    return "ok";\n}\n\n\n\n# jsonæ°æ®\n\n\n\n@PostMapping("/testPost")\npublic String testPost(@RequestBody TestDto testDto){\n    return "ok";\n}\n',normalizedContent:'# get\n\nä½¿ç¨ / æ¼æ¥\n\nhttp://localhost:8088/testgeturl/2/23\n\n\n@getmapping("/testgeturl/{id}/{age}")\npublic string testgeturl(@pathvariable("id") string id, @pathvariable("age") string age){\n    system.out.println(id);\n    system.out.println(age);\n    return id;\n}\n\n\n----------------------------------------\n\nä½¿ç¨ ï¼æ¼æ¥\n\nhttp://localhost:8088/testgeturl?id=2&age=23\n\n\n@getmapping("/testgeturl")\npublic string testget1(string id, string age){\n    system.out.println(id);\n    return id;\n}\n\n\n@getmapping("/testgeturl")\npublic string testget2(testdto testdto){\n    system.out.println(testdto);\n    return testdto.tostring();\n}\n\n\n\n# post\n\n\n# form-dataæ°æ®\n\n\n\n@postmapping("/testpost")\npublic string testpost(integer id, integer age){\n    return "ok";\n}\n\n\n@postmapping("/testpost")\npublic string testpost(testdto testdto){\n    return "ok";\n}\n\n\n\n# jsonæ°æ®\n\n\n\n@postmapping("/testpost")\npublic string testpost(@requestbody testdto testdto){\n    return "ok";\n}\n',charsets:{cjk:!0}},{title:"NIO",frontmatter:{title:"NIO",date:"2023-05-05T19:43:35.000Z",permalink:"/pages/533bbc/"},regularPath:"/01.Java/04.%E6%A1%86%E6%9E%B6/10.NIO.html",relativePath:"01.Java/04.æ¡æ¶/10.NIO.md",key:"v-6ab22c04",path:"/pages/533bbc/",headers:[{level:2,title:"Channel",slug:"channel",normalizedTitle:"channel",charIndex:2},{level:2,title:"ByteBuffer",slug:"bytebuffer",normalizedTitle:"bytebuffer",charIndex:93},{level:3,title:"è¯»åæä»¶",slug:"è¯»åæä»¶",normalizedTitle:"è¯»åæä»¶",charIndex:108},{level:3,title:"ByteBufferç»æ",slug:"bytebufferç»æ",normalizedTitle:"bytebufferç»æ",charIndex:722},{level:3,title:"åå»ºByteBuffer",slug:"åå»ºbytebuffer",normalizedTitle:"åå»ºbytebuffer",charIndex:1225},{level:3,title:"è¯»å",slug:"è¯»å",normalizedTitle:"è¯»å",charIndex:29},{level:4,title:"å buffer åå¥æ°æ®",slug:"å-buffer-åå¥æ°æ®",normalizedTitle:"å buffer åå¥æ°æ®",charIndex:1332},{level:4,title:"ä» buffer è¯»åæ°æ®",slug:"ä»-buffer-è¯»åæ°æ®",normalizedTitle:"ä» buffer è¯»åæ°æ®",charIndex:1467},{level:3,title:"ByteBufferä¸å­ç¬¦ä¸²ç¸äºè½¬æ¢",slug:"bytebufferä¸å­ç¬¦ä¸²ç¸äºè½¬æ¢",normalizedTitle:"bytebufferä¸å­ç¬¦ä¸²ç¸äºè½¬æ¢",charIndex:1721},{level:3,title:"é»å&åå",slug:"é»å-åå",normalizedTitle:"é»å&amp;åå",charIndex:null},{level:3,title:"FileChannel",slug:"filechannel",normalizedTitle:"filechannel",charIndex:145},{level:2,title:"ç½ç»ç¼ç¨",slug:"ç½ç»ç¼ç¨",normalizedTitle:"ç½ç»ç¼ç¨",charIndex:2913},{level:3,title:"é»å¡æ¨¡å¼",slug:"é»å¡æ¨¡å¼",normalizedTitle:"é»å¡æ¨¡å¼",charIndex:2922},{level:3,title:"éé»å¡",slug:"éé»å¡",normalizedTitle:"éé»å¡",charIndex:3944},{level:3,title:"Selector",slug:"selector",normalizedTitle:"selector",charIndex:4917},{level:4,title:"åå»º",slug:"åå»º",normalizedTitle:"åå»º",charIndex:1225},{level:4,title:"ç»å®äºä»¶",slug:"ç»å®äºä»¶",normalizedTitle:"ç»å®äºä»¶",charIndex:5007},{level:4,title:"å¤çreadäºä»¶",slug:"å¤çreadäºä»¶",normalizedTitle:"å¤çreadäºä»¶",charIndex:5918},{level:4,title:"å¤çè¾¹çé®é¢",slug:"å¤çè¾¹çé®é¢",normalizedTitle:"å¤çè¾¹çé®é¢",charIndex:7490},{level:4,title:"å¤çwriteäºä»¶",slug:"å¤çwriteäºä»¶",normalizedTitle:"å¤çwriteäºä»¶",charIndex:11052},{level:3,title:"å¤çº¿ç¨ä¼å",slug:"å¤çº¿ç¨ä¼å",normalizedTitle:"å¤çº¿ç¨ä¼å",charIndex:13225}],headersStr:"Channel ByteBuffer è¯»åæä»¶ ByteBufferç»æ åå»ºByteBuffer è¯»å å buffer åå¥æ°æ® ä» buffer è¯»åæ°æ® ByteBufferä¸å­ç¬¦ä¸²ç¸äºè½¬æ¢ é»å&åå FileChannel ç½ç»ç¼ç¨ é»å¡æ¨¡å¼ éé»å¡ Selector åå»º ç»å®äºä»¶ å¤çreadäºä»¶ å¤çè¾¹çé®é¢ å¤çwriteäºä»¶ å¤çº¿ç¨ä¼å",content:'# Channel\n\nChannelç±»ä¼¼äºstreamï¼æ¯è¯»åæ°æ®çååééã\n\ngraph LR\nchannel --\x3e buffer\nbuffer --\x3e channel\n\n\n\n# ByteBuffer\n\n\n# è¯»åæä»¶\n\ndata.txt\n\n1234567890abc\n\n\ntry (FileChannel channel = new FileInputStream("data.txt").getChannel()) {\n    ByteBuffer buffer = ByteBuffer.allocate(10);\n    while (true) {\n        // è¿åè¿æ¬¡è¯»åå°çæ°æ®å­èæ°\n        // channel -> buffer\n        int len = channel.read(buffer);\n        log.debug("è¯»åå°çå­èæ° {}", len);\n        if (len == -1) {\n            break;\n        }\n\n        // åæ¢å°è¯»æ¨¡å¼\n        buffer.flip();\n        while (buffer.hasRemaining()) {\n            byte b = buffer.get();\n            log.debug("å®éå­è {}", (char) b);\n        }\n        // åæ¢å°åæ¨¡å¼\n        buffer.clear();\n    }\n} \ncatch (IOException e) {\n}\n\n\n\n# ByteBufferç»æ\n\nä¸ä¸ªéè¦å±æ§\n\n * Capacity\n * Position\n * Limit\n\nå¼å§æ¶ï¼Positionæåå¼å¤´ï¼LimitåCapacityæåBufferæ«å°¾\n\n\n\n----------------------------------------\n\nåæ¨¡å¼ä¸\n\nPositionæéæåä¸ä¸ä¸ªåçä½ç½®ï¼LimitåCapacityæåBufferæ«å°¾\n\n\n\n----------------------------------------\n\nè¯»æ¨¡å¼ä¸\n\nPositionæåç¬¬ä¸ä¸ªæ°æ®ï¼Limitæåå¯è¯»æ°æ®çæ«å°¾ï¼CapacityæåBufferæ«å°¾\n\n\n\nbuffer.filp()æä½ä»åæ¨¡å¼åæ¢è³è¯»æ¨¡å¼\n\nlimit = position;\nposition = 0;\n\n\nbuffer.clear()æä½ä»è¯»æ¨¡å¼åæ¢è³åæ¨¡å¼\n\nposition = 0;\nlimit = capacity;\n\n\nbuffer.compact()æä½ä»è¯»æ¨¡å¼åæ¢è³åæ¨¡å¼\n\nposition = limit - position;\nlimit = capacity;\n\n\n\n# åå»ºByteBuffer\n\nByteBuffer.allocate(16);\t\t// å¨Javaå åå­ä¸­ç³è¯·åå­\nByteBuffer.AllocateDirect(16);\t// ç´æ¥åå­\n\n\n\n# è¯»å\n\n# å buffer åå¥æ°æ®\n\næä¸¤ç§åæ³\n\n * è°ç¨ channel ç read æ¹æ³\n * è°ç¨ buffer èªå·±ç put æ¹æ³\n\nint readBytes = channel.read(buf);\n\n\nå\n\nbuf.put((byte)127);\n\n\n# ä» buffer è¯»åæ°æ®\n\nåæ ·æä¸¤ç§åæ³\n\n * è°ç¨ channel ç write æ¹æ³\n * è°ç¨ buffer èªå·±ç get æ¹æ³\n\nint writeBytes = channel.write(buf);\n\n\nå\n\nbyte b = buf.get();\n\n\nget æ¹æ³ä¼è®© position è¯»æéååèµ°ï¼å¦ææ³éå¤è¯»åæ°æ®\n\n * å¯ä»¥è°ç¨ rewind æ¹æ³å° position éæ°ç½®ä¸º 0\n * æèè°ç¨ get(int i) æ¹æ³è·åç´¢å¼ i çåå®¹ï¼å®ä¸ä¼ç§»å¨è¯»æé\n\n\n# ByteBufferä¸å­ç¬¦ä¸²ç¸äºè½¬æ¢\n\nå¾è¡¥åã\n\n\n# é»å&åå\n\nç½ç»ä¸æå¤æ¡æ°æ®åéç»æå¡ç«¯ï¼æ°æ®ä¹é´ä½¿ç¨ \\n è¿è¡åé ä½ç±äºæç§åå è¿äºæ°æ®å¨æ¥æ¶æ¶ï¼è¢«è¿è¡äºéæ°ç»åï¼ä¾å¦åå§æ°æ®æ3æ¡ä¸º\n\n * Hello,world\\n\n * I\'m zhangsan\\n\n * How are you?\\n\n\nåæäºä¸é¢çä¸¤ä¸ª byteBuffer (é»åï¼åå)\n\n * Hello,world\\nI\'m zhangsan\\nHo\n * w are you?\\n\n\nåå \n\nå¨ç½ç»éä¿¡ä¸­ï¼æ°æ®çä¼ éå°å¤æ¡æ¶æ¯åå¹¶å¨ä¸åæçæ´é«ï¼æä»¥ä¼å¯¼è´é»åç°è±¡ï¼\n\nåå ä¸ºæå¡å¨ä¸­çbufferå¤§å°ï¼è¶è¿é¨åä¼æªæ­ï¼æä»¥ä¼åºç°ååç°è±¡ã\n\nè§£å³åæ³ï¼æ\\nåéæ°æ®\n\npublic static void main(String[] args) {\n    ByteBuffer source = ByteBuffer.allocate(32);\n    //                     11            24\n    source.put("Hello,world\\nI\'m zhangsan\\nHo".getBytes());\n    split(source);\n\n    source.put("w are you?\\nhaha!\\n".getBytes());\n    split(source);\n}\n\nprivate static void split(ByteBuffer source) {\n    source.flip();\n    int oldLimit = source.limit();\n    for (int i = 0; i < oldLimit; i++) {\n        if (source.get(i) == \'\\n\') {\n            System.out.println(i);\n            ByteBuffer target = ByteBuffer.allocate(i + 1 - source.position());\n            // 0 ~ limit\n            source.limit(i + 1);\n            target.put(source); // ä»source è¯»ï¼å target å\n            debugAll(target);\n            source.limit(oldLimit);\n        }\n    }\n    source.compact();\n}\n\n\n\n# FileChannel\n\né¶æ·è´ transferTo(position, size, target);\n\n\n# ç½ç»ç¼ç¨\n\n\n# é»å¡æ¨¡å¼\n\næå¡å¨ç«¯\n\n// ä½¿ç¨ nio æ¥çè§£é»å¡æ¨¡å¼, åçº¿ç¨\n// 0. ByteBuffer\nByteBuffer buffer = ByteBuffer.allocate(16);\n// 1. åå»ºäºæå¡å¨\nServerSocketChannel ssc = ServerSocketChannel.open();\n\n// 2. ç»å®çå¬ç«¯å£ \nssc.bind(new InetSocketAddress(8080));\n\n// 3. è¿æ¥éå\nList<SocketChannel> channels = new ArrayList<>();\nwhile (true) {\n    // 4. accept å»ºç«ä¸å®¢æ·ç«¯è¿æ¥ï¼ SocketChannel ç¨æ¥ä¸å®¢æ·ç«¯ä¹é´éä¿¡\n    log.debug("connecting...");\n    SocketChannel sc = ssc.accept(); // é»å¡æ¹æ³ï¼çº¿ç¨åæ­¢è¿è¡\n    log.debug("connected... {}", sc);\n    channels.add(sc);\n    for (SocketChannel channel : channels) {\n        // 5. æ¥æ¶å®¢æ·ç«¯åéçæ°æ®\n        log.debug("before read... {}", channel);\n        channel.read(buffer); // é»å¡æ¹æ³ï¼çº¿ç¨åæ­¢è¿è¡\n        buffer.flip();\n        debugRead(buffer);\n        buffer.clear();\n        log.debug("after read...{}", channel);\n    }\n}\n\n\nå®¢æ·ç«¯\n\nSocketChannel sc = SocketChannel.open();\nsc.connect(new InetSocketAddress("localhost", 8080));\nSystem.out.println("waiting...");\n\n\né®é¢\n\nwhileå¾ªç¯ä¸­æ¯æ¬¡å¾ªç¯å¼å§é»å¡å¨ç­å¾æ°è¿æ¥ï¼\n\nè¿æ¥å»ºç«å®æåï¼é»å¡å¨readæ°æ®ï¼\n\nç­å¾æ°è¿æ¥è¿ç¨ä¸­ï¼ä¸è½è¯»åå·²ç»å»ºç«è¿æ¥çå®¢æ·ç«¯åè¿æ¥çæ°æ®\n\nç­å¾è¯»åæ°æ®æ¶ï¼ä¸è½å»ºç«æ°è¿æ¥\n\n\n# éé»å¡\n\n// ä½¿ç¨ nio æ¥çè§£éé»å¡æ¨¡å¼, åçº¿ç¨\n// 0. ByteBuffer\nByteBuffer buffer = ByteBuffer.allocate(16);\n// 1. åå»ºäºæå¡å¨\nServerSocketChannel ssc = ServerSocketChannel.open();\nssc.configureBlocking(false); // éé»å¡æ¨¡å¼\n// 2. ç»å®çå¬ç«¯å£\nssc.bind(new InetSocketAddress(8080));\n// 3. è¿æ¥éå\nList<SocketChannel> channels = new ArrayList<>();\nwhile (true) {\n    // 4. accept å»ºç«ä¸å®¢æ·ç«¯è¿æ¥ï¼ SocketChannel ç¨æ¥ä¸å®¢æ·ç«¯ä¹é´éä¿¡\n    SocketChannel sc = ssc.accept(); // éé»å¡ï¼çº¿ç¨è¿ä¼ç»§ç»­è¿è¡ï¼å¦ææ²¡æè¿æ¥å»ºç«ï¼ä½scæ¯null\n    if (sc != null) {\n        log.debug("connected... {}", sc);\n        sc.configureBlocking(false); // éé»å¡æ¨¡å¼\n        channels.add(sc);\n    }\n    for (SocketChannel channel : channels) {\n        // 5. æ¥æ¶å®¢æ·ç«¯åéçæ°æ®\n        int read = channel.read(buffer);// éé»å¡ï¼çº¿ç¨ä»ç¶ä¼ç»§ç»­è¿è¡ï¼å¦ææ²¡æè¯»å°æ°æ®ï¼read è¿å 0\n        if (read > 0) {\n            buffer.flip();\n            debugRead(buffer);\n            buffer.clear();\n            log.debug("after read...{}", channel);\n        }\n    }\n}\n\n\nç­å¾è¿æ¥åè¯»åæ°æ®äºä¸å¹²æ°\n\nå¨æ¯æ¬¡å¾ªç¯ä¸­æ²¡æé»å¡æ¹æ³è®©CPUåä¸æ¥ï¼åå¤æ§è¡\n\nCPUåäºå¾å¤æ ç¨å\n\n\n# Selector\n\nä¸ä¸ªçº¿ç¨å°±å¯ä»¥çæ§å¤ä¸ªchannelçäºä»¶ï¼äºä»¶åçæ¶æå»å¤ç\n\n# åå»º\n\nSelector selector = Selector.open();\n\n\n# ç»å®äºä»¶\n\nchannel.configureBlocking(false);\nSelectionKey key = channel.register(selector, ç»å®äºä»¶);\n\n\n * channel å¿é¡»å·¥ä½å¨éé»å¡æ¨¡å¼\n * FileChannel æ²¡æéé»å¡æ¨¡å¼ï¼å æ­¤ä¸è½éå selector ä¸èµ·ä½¿ç¨\n * ç»å®çäºä»¶ç±»åå¯ä»¥æ\n   * connect - å®¢æ·ç«¯è¿æ¥æåæ¶è§¦å\n   * accept - æå¡å¨ç«¯æåæ¥åè¿æ¥æ¶è§¦å\n   * read - æ°æ®å¯è¯»å¥æ¶è§¦åï¼æå ä¸ºæ¥æ¶è½åå¼±ï¼æ°æ®æä¸è½è¯»å¥çæåµ\n   * write - æ°æ®å¯ååºæ¶è§¦åï¼æå ä¸ºåéè½åå¼±ï¼æ°æ®æä¸è½ååºçæåµ\n\nSelector selector = Selector.open();\nServerSocketChannel ssc = ServerSocketChannel.open();\nchannel.configureBlocking(false);\n\nSelectionKey sscKey = ssc.register(selector, 0, null);\n// åªå³æ³¨acceptäºä»¶\nsscKey.interestOps(SelectionKey.OP_ACCEPT);\n\nssc.bind(new InetSocketAddress(8080));\nwhile(true){\n    // æ²¡æäºä»¶åçæ¶é»å¡\n\tselector.select();\n    Iterator<SelectionKey> iter = selector.selectedKeys().iterator();\n    while(iter.hasNext()){\n        SelectionKey key = iter.next();\n        ServerSocketChannel channel = (ServerSocketChannel)key.channel();\n        SocketChannel sc = channel.accept();\n    }\n}\n\n\n# å¤çreadäºä»¶\n\ntry (ServerSocketChannel channel = ServerSocketChannel.open()) {\n    channel.bind(new InetSocketAddress(7070));\n    System.out.println(channel);\n    Selector selector = Selector.open();\n    channel.configureBlocking(false);\n    channel.register(selector, SelectionKey.OP_ACCEPT);\n\n    while (true) {\n        int count = selector.select();\n        log.debug("select count: {}", count);\n        // è·åææäºä»¶\n        Set<SelectionKey> keys = selector.selectedKeys();\n\n        // éåææäºä»¶ï¼éä¸å¤ç\n        Iterator<SelectionKey> iter = keys.iterator();\n        while (iter.hasNext()) {\n            SelectionKey key = iter.next();\n            // å¤æ­äºä»¶ç±»å\n            if (key.isAcceptable()) {\n                ServerSocketChannel c = (ServerSocketChannel) key.channel();\n                // å¿é¡»å¤ç\n                SocketChannel sc = c.accept();\n                sc.configureBlocking(false);\n                sc.register(selector, SelectionKey.OP_READ);\n                log.debug("è¿æ¥å·²å»ºç«: {}", sc);\n            } else if (key.isReadable()) {\n                SocketChannel sc = (SocketChannel) key.channel();\n                ByteBuffer buffer = ByteBuffer.allocate(128);\n                int read = sc.read(buffer);\n                if(read == -1) {\n                    key.cancel();\n                    sc.close();\n                } else {\n                    buffer.flip();\n                    debugAll(buffer);\n                }\n            }\n            // å¤çå®æ¯ï¼å¿é¡»å°äºä»¶ç§»é¤\n            iter.remove();\n        }\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n\næ­å¼è¿æ¥ä¼è§¦åreadäºä»¶\n\n# å¤çè¾¹çé®é¢\n\nç¼å²åºå¤§å°å°äºchannelä¸­çæ°æ®å¤§å°ï¼é£ä¹å°ä¼è¯»åå¤æ¬¡ï¼å¦æé½æ¯å¾ä¸ä¸ªbufferéå­ï¼é£ä¹åé¢è¯»çå°±ä¼è¦çåé¢è¯»çã\n\nè§£å³åæ³\n\nçº¦å®ä¸æ¡æ¶æ¯çæ«å°¾ä¸º\\nï¼åªæè¯»åå°\\næ¶ï¼æå°bufferä¸­çæ°æ®è¯»ååºæ¥ã\n\nå¨åæ¨¡å¼æåµä¸ï¼å¦æpositionålimitç¸ç­ï¼é£ä¹ä»£è¡¨è¿ä¸ªbufferæ²¡æè¯»å°ä¸ä¸ªå®æ´çæ¶æ¯ã\n\nè¿æ¶éè¦å°å¶bufferæ©å®¹ï¼ç¶åç¨è¿ä¸ªbufferåå»è¯»channelä¸­çæ°æ®ã\n\nprivate static void split(ByteBuffer source) {\n    source.flip();\n    for (int i = 0; i < source.limit(); i++) {\n        // æ¾å°ä¸æ¡å®æ´æ¶æ¯\n        if (source.get(i) == \'\\n\') {\n            int length = i + 1 - source.position();\n            // æè¿æ¡å®æ´æ¶æ¯å­å¥æ°ç ByteBuffer\n            ByteBuffer target = ByteBuffer.allocate(length);\n            // ä» source è¯»ï¼å target å\n            for (int j = 0; j < length; j++) {\n                target.put(source.get());\n            }\n            debugAll(target);\n        }\n    }\n    source.compact(); // 0123456789abcdef  position 16 limit 16\n}\n\npublic static void main(String[] args) throws IOException {\n    // 1. åå»º selector, ç®¡çå¤ä¸ª channel\n    Selector selector = Selector.open();\n    ServerSocketChannel ssc = ServerSocketChannel.open();\n    ssc.configureBlocking(false);\n    // 2. å»ºç« selector å channel çèç³»ï¼æ³¨åï¼\n    // SelectionKey å°±æ¯å°æ¥äºä»¶åçåï¼éè¿å®å¯ä»¥ç¥éäºä»¶ååªä¸ªchannelçäºä»¶\n    SelectionKey sscKey = ssc.register(selector, 0, null);\n    // key åªå³æ³¨ accept äºä»¶\n    sscKey.interestOps(SelectionKey.OP_ACCEPT);\n    log.debug("sscKey:{}", sscKey);\n    ssc.bind(new InetSocketAddress(8080));\n    while (true) {\n        // 3. select æ¹æ³, æ²¡æäºä»¶åçï¼çº¿ç¨é»å¡ï¼æäºä»¶ï¼çº¿ç¨æä¼æ¢å¤è¿è¡\n        // select å¨äºä»¶æªå¤çæ¶ï¼å®ä¸ä¼é»å¡, äºä»¶åçåè¦ä¹å¤çï¼è¦ä¹åæ¶ï¼ä¸è½ç½®ä¹ä¸ç\n        selector.select();\n        // 4. å¤çäºä»¶, selectedKeys åé¨åå«äºææåççäºä»¶\n        Iterator<SelectionKey> iter = selector.selectedKeys().iterator(); // accept, read\n        while (iter.hasNext()) {\n            SelectionKey key = iter.next();\n            // å¤çkey æ¶ï¼è¦ä» selectedKeys éåä¸­å é¤ï¼å¦åä¸æ¬¡å¤çå°±ä¼æé®é¢\n            iter.remove();\n            log.debug("key: {}", key);\n            // 5. åºåäºä»¶ç±»å\n            if (key.isAcceptable()) { // å¦ææ¯ accept\n                ServerSocketChannel channel = (ServerSocketChannel) key.channel();\n                SocketChannel sc = channel.accept();\n                sc.configureBlocking(false);\n                ByteBuffer buffer = ByteBuffer.allocate(16); // attachment\n                // å°ä¸ä¸ª byteBuffer ä½ä¸ºéä»¶å³èå° selectionKey ä¸\n                SelectionKey scKey = sc.register(selector, 0, buffer);\n                scKey.interestOps(SelectionKey.OP_READ);\n                log.debug("{}", sc);\n                log.debug("scKey:{}", scKey);\n            } else if (key.isReadable()) { // å¦ææ¯ read\n                try {\n                    SocketChannel channel = (SocketChannel) key.channel(); // æ¿å°è§¦åäºä»¶çchannel\n                    // è·å selectionKey ä¸å³èçéä»¶\n                    ByteBuffer buffer = (ByteBuffer) key.attachment();\n                    int read = channel.read(buffer); // å¦ææ¯æ­£å¸¸æ­å¼ï¼read çæ¹æ³çè¿åå¼æ¯ -1\n                    if(read == -1) {\n                        key.cancel();\n                    } else {\n                        split(buffer);\n                        // éè¦æ©å®¹\n                        if (buffer.position() == buffer.limit()) {\n                            ByteBuffer newBuffer = ByteBuffer.allocate(buffer.capacity() * 2);\n                            buffer.flip();\n                            newBuffer.put(buffer); // 0123456789abcdef3333\\n\n                            key.attach(newBuffer);\n                        }\n                    }\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    key.cancel();  // å ä¸ºå®¢æ·ç«¯æ­å¼äº,å æ­¤éè¦å° key åæ¶ï¼ä» selector ç keys éåä¸­çæ­£å é¤ keyï¼\n                }\n            }\n        }\n    }\n}\n\n\n# å¤çwriteäºä»¶\n\nåºç°ä¸æ¬¡åä¸ä¸çæå½¢ï¼å°æ°æ®éå å°SelectionKeyä¸­ï¼ä»¥ä¾¿äºè¿ä¸ªkeyåæ¬¡è§¦åæ¶ï¼å°å©ä¸çæ°æ®ç»§ç»­åå¥å°channelä¸­ã\n\næç¤º\n\nisWritable()æ¹æ³çä¸åå³äºäºä»¶ï¼åå³äºchannelééä¸­æ¯å¦å¯ä»¥åå¥æ°æ®ãæä»¥å»ºè®®åå®æ°æ®åï¼éè¦å°å¯åäºä»¶åæ¶å³æ³¨ï¼å¦åä¼ä¸ç´è½®è¯¢å¯åäºä»¶ã\n\n\npublic static void main(String[] args) throws IOException {\n    ServerSocketChannel ssc = ServerSocketChannel.open();\n    ssc.configureBlocking(false);\n    ssc.bind(new InetSocketAddress(8080));\n\n    Selector selector = Selector.open();\n    ssc.register(selector, SelectionKey.OP_ACCEPT);\n\n    while(true) {\n        selector.select();\n\n        Iterator<SelectionKey> iter = selector.selectedKeys().iterator();\n        while (iter.hasNext()) {\n            SelectionKey key = iter.next();\n            iter.remove();\n            if (key.isAcceptable()) {\n                SocketChannel sc = ssc.accept();\n                sc.configureBlocking(false);\n                SelectionKey sckey = sc.register(selector, SelectionKey.OP_READ);\n                // 1. åå®¢æ·ç«¯åéåå®¹\n                StringBuilder sb = new StringBuilder();\n                for (int i = 0; i < 3000000; i++) {\n                    sb.append("a");\n                }\n                ByteBuffer buffer = Charset.defaultCharset().encode(sb.toString());\n                int write = sc.write(buffer);\n                // 3. write è¡¨ç¤ºå®éåäºå¤å°å­è\n                System.out.println("å®éåå¥å­è:" + write);\n                // 4. å¦ææå©ä½æªè¯»å­èï¼æéè¦å³æ³¨åäºä»¶\n                if (buffer.hasRemaining()) {\n                    // read 1  write 4\n                    // å¨åæå³æ³¨äºä»¶çåºç¡ä¸ï¼å¤å³æ³¨ åäºä»¶\n                    sckey.interestOps(sckey.interestOps() + SelectionKey.OP_WRITE);\n                    // æ buffer ä½ä¸ºéä»¶å å¥ sckey\n                    sckey.attach(buffer);\n                }\n            } else if (key.isWritable()) {\n                ByteBuffer buffer = (ByteBuffer) key.attachment();\n                SocketChannel sc = (SocketChannel) key.channel();\n                int write = sc.write(buffer);\n                System.out.println("å®éåå¥å­è:" + write);\n                if (!buffer.hasRemaining()) { // åå®äº\n                    key.interestOps(key.interestOps() - SelectionKey.OP_WRITE);\n                    key.attach(null);\n                }\n            }\n        }\n    }\n}\n    \n\n\n\n# å¤çº¿ç¨ä¼å\n\n> å¨åçº¿ç¨ä¸­ï¼ä¸ä¸ªselectorçå¬å¤ä¸ªäºä»¶ï¼ä½æ¯åªè½åæ¶å¤çä¸ä¸ªäºä»¶\n\nåä¸¤ç»éæ©å¨\n\n * å¤çacceptäºä»¶\n * å¤çreadåwriteäºä»¶\n\npublic class ChannelDemo7 {\n    public static void main(String[] args) throws IOException {\n        new BossEventLoop().register();\n    }\n\n\n    @Slf4j\n    static class BossEventLoop implements Runnable {\n        private Selector boss;\n        private WorkerEventLoop[] workers;\n        private volatile boolean start = false;\n        AtomicInteger index = new AtomicInteger();\n\n        public void register() throws IOException {\n            if (!start) {\n                ServerSocketChannel ssc = ServerSocketChannel.open();\n                ssc.bind(new InetSocketAddress(8080));\n                ssc.configureBlocking(false);\n                boss = Selector.open();\n                SelectionKey ssckey = ssc.register(boss, 0, null);\n                ssckey.interestOps(SelectionKey.OP_ACCEPT);\n                workers = initEventLoops();\n                new Thread(this, "boss").start();\n                log.debug("boss start...");\n                start = true;\n            }\n        }\n\n        public WorkerEventLoop[] initEventLoops() {\n//        EventLoop[] eventLoops = new EventLoop[Runtime.getRuntime().availableProcessors()];\n            WorkerEventLoop[] workerEventLoops = new WorkerEventLoop[2];\n            for (int i = 0; i < workerEventLoops.length; i++) {\n                workerEventLoops[i] = new WorkerEventLoop(i);\n            }\n            return workerEventLoops;\n        }\n\n        @Override\n        public void run() {\n            while (true) {\n                try {\n                    boss.select();\n                    Iterator<SelectionKey> iter = boss.selectedKeys().iterator();\n                    while (iter.hasNext()) {\n                        SelectionKey key = iter.next();\n                        iter.remove();\n                        if (key.isAcceptable()) {\n                            ServerSocketChannel c = (ServerSocketChannel) key.channel();\n                            SocketChannel sc = c.accept();\n                            sc.configureBlocking(false);\n                            log.debug("{} connected", sc.getRemoteAddress());\n                            workers[index.getAndIncrement() % workers.length].register(sc);\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    @Slf4j\n    static class WorkerEventLoop implements Runnable {\n        private Selector worker;\n        private volatile boolean start = false;\n        private int index;\n\n        private final ConcurrentLinkedQueue<Runnable> tasks = new ConcurrentLinkedQueue<>();\n\n        public WorkerEventLoop(int index) {\n            this.index = index;\n        }\n\n        public void register(SocketChannel sc) throws IOException {\n            if (!start) {\n                worker = Selector.open();\n                new Thread(this, "worker-" + index).start();\n                start = true;\n            }\n            tasks.add(() -> {\n                try {\n                    SelectionKey sckey = sc.register(worker, 0, null);\n                    sckey.interestOps(SelectionKey.OP_READ);\n                    worker.selectNow();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n            worker.wakeup();\n        }\n\n        @Override\n        public void run() {\n            while (true) {\n                try {\n                    worker.select();\n                    Runnable task = tasks.poll();\n                    if (task != null) {\n                        task.run();\n                    }\n                    Set<SelectionKey> keys = worker.selectedKeys();\n                    Iterator<SelectionKey> iter = keys.iterator();\n                    while (iter.hasNext()) {\n                        SelectionKey key = iter.next();\n                        if (key.isReadable()) {\n                            SocketChannel sc = (SocketChannel) key.channel();\n                            ByteBuffer buffer = ByteBuffer.allocate(128);\n                            try {\n                                int read = sc.read(buffer);\n                                if (read == -1) {\n                                    key.cancel();\n                                    sc.close();\n                                } else {\n                                    buffer.flip();\n                                    log.debug("{} message:", sc.getRemoteAddress());\n                                    debugAll(buffer);\n                                }\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                                key.cancel();\n                                sc.close();\n                            }\n                        }\n                        iter.remove();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n\n\næ³¨æ\n\nç¡®ä¿å¨select()æ¹æ³é»å¡åå·²ç»å³æ³¨å¯¹åºçäºä»¶ï¼å¦åä¼ä¸ç´é»å¡',normalizedContent:'# channel\n\nchannelç±»ä¼¼äºstreamï¼æ¯è¯»åæ°æ®çååééã\n\ngraph lr\nchannel --\x3e buffer\nbuffer --\x3e channel\n\n\n\n# bytebuffer\n\n\n# è¯»åæä»¶\n\ndata.txt\n\n1234567890abc\n\n\ntry (filechannel channel = new fileinputstream("data.txt").getchannel()) {\n    bytebuffer buffer = bytebuffer.allocate(10);\n    while (true) {\n        // è¿åè¿æ¬¡è¯»åå°çæ°æ®å­èæ°\n        // channel -> buffer\n        int len = channel.read(buffer);\n        log.debug("è¯»åå°çå­èæ° {}", len);\n        if (len == -1) {\n            break;\n        }\n\n        // åæ¢å°è¯»æ¨¡å¼\n        buffer.flip();\n        while (buffer.hasremaining()) {\n            byte b = buffer.get();\n            log.debug("å®éå­è {}", (char) b);\n        }\n        // åæ¢å°åæ¨¡å¼\n        buffer.clear();\n    }\n} \ncatch (ioexception e) {\n}\n\n\n\n# bytebufferç»æ\n\nä¸ä¸ªéè¦å±æ§\n\n * capacity\n * position\n * limit\n\nå¼å§æ¶ï¼positionæåå¼å¤´ï¼limitåcapacityæåbufferæ«å°¾\n\n\n\n----------------------------------------\n\nåæ¨¡å¼ä¸\n\npositionæéæåä¸ä¸ä¸ªåçä½ç½®ï¼limitåcapacityæåbufferæ«å°¾\n\n\n\n----------------------------------------\n\nè¯»æ¨¡å¼ä¸\n\npositionæåç¬¬ä¸ä¸ªæ°æ®ï¼limitæåå¯è¯»æ°æ®çæ«å°¾ï¼capacityæåbufferæ«å°¾\n\n\n\nbuffer.filp()æä½ä»åæ¨¡å¼åæ¢è³è¯»æ¨¡å¼\n\nlimit = position;\nposition = 0;\n\n\nbuffer.clear()æä½ä»è¯»æ¨¡å¼åæ¢è³åæ¨¡å¼\n\nposition = 0;\nlimit = capacity;\n\n\nbuffer.compact()æä½ä»è¯»æ¨¡å¼åæ¢è³åæ¨¡å¼\n\nposition = limit - position;\nlimit = capacity;\n\n\n\n# åå»ºbytebuffer\n\nbytebuffer.allocate(16);\t\t// å¨javaå åå­ä¸­ç³è¯·åå­\nbytebuffer.allocatedirect(16);\t// ç´æ¥åå­\n\n\n\n# è¯»å\n\n# å buffer åå¥æ°æ®\n\næä¸¤ç§åæ³\n\n * è°ç¨ channel ç read æ¹æ³\n * è°ç¨ buffer èªå·±ç put æ¹æ³\n\nint readbytes = channel.read(buf);\n\n\nå\n\nbuf.put((byte)127);\n\n\n# ä» buffer è¯»åæ°æ®\n\nåæ ·æä¸¤ç§åæ³\n\n * è°ç¨ channel ç write æ¹æ³\n * è°ç¨ buffer èªå·±ç get æ¹æ³\n\nint writebytes = channel.write(buf);\n\n\nå\n\nbyte b = buf.get();\n\n\nget æ¹æ³ä¼è®© position è¯»æéååèµ°ï¼å¦ææ³éå¤è¯»åæ°æ®\n\n * å¯ä»¥è°ç¨ rewind æ¹æ³å° position éæ°ç½®ä¸º 0\n * æèè°ç¨ get(int i) æ¹æ³è·åç´¢å¼ i çåå®¹ï¼å®ä¸ä¼ç§»å¨è¯»æé\n\n\n# bytebufferä¸å­ç¬¦ä¸²ç¸äºè½¬æ¢\n\nå¾è¡¥åã\n\n\n# é»å&åå\n\nç½ç»ä¸æå¤æ¡æ°æ®åéç»æå¡ç«¯ï¼æ°æ®ä¹é´ä½¿ç¨ \\n è¿è¡åé ä½ç±äºæç§åå è¿äºæ°æ®å¨æ¥æ¶æ¶ï¼è¢«è¿è¡äºéæ°ç»åï¼ä¾å¦åå§æ°æ®æ3æ¡ä¸º\n\n * hello,world\\n\n * i\'m zhangsan\\n\n * how are you?\\n\n\nåæäºä¸é¢çä¸¤ä¸ª bytebuffer (é»åï¼åå)\n\n * hello,world\\ni\'m zhangsan\\nho\n * w are you?\\n\n\nåå \n\nå¨ç½ç»éä¿¡ä¸­ï¼æ°æ®çä¼ éå°å¤æ¡æ¶æ¯åå¹¶å¨ä¸åæçæ´é«ï¼æä»¥ä¼å¯¼è´é»åç°è±¡ï¼\n\nåå ä¸ºæå¡å¨ä¸­çbufferå¤§å°ï¼è¶è¿é¨åä¼æªæ­ï¼æä»¥ä¼åºç°ååç°è±¡ã\n\nè§£å³åæ³ï¼æ\\nåéæ°æ®\n\npublic static void main(string[] args) {\n    bytebuffer source = bytebuffer.allocate(32);\n    //                     11            24\n    source.put("hello,world\\ni\'m zhangsan\\nho".getbytes());\n    split(source);\n\n    source.put("w are you?\\nhaha!\\n".getbytes());\n    split(source);\n}\n\nprivate static void split(bytebuffer source) {\n    source.flip();\n    int oldlimit = source.limit();\n    for (int i = 0; i < oldlimit; i++) {\n        if (source.get(i) == \'\\n\') {\n            system.out.println(i);\n            bytebuffer target = bytebuffer.allocate(i + 1 - source.position());\n            // 0 ~ limit\n            source.limit(i + 1);\n            target.put(source); // ä»source è¯»ï¼å target å\n            debugall(target);\n            source.limit(oldlimit);\n        }\n    }\n    source.compact();\n}\n\n\n\n# filechannel\n\né¶æ·è´ transferto(position, size, target);\n\n\n# ç½ç»ç¼ç¨\n\n\n# é»å¡æ¨¡å¼\n\næå¡å¨ç«¯\n\n// ä½¿ç¨ nio æ¥çè§£é»å¡æ¨¡å¼, åçº¿ç¨\n// 0. bytebuffer\nbytebuffer buffer = bytebuffer.allocate(16);\n// 1. åå»ºäºæå¡å¨\nserversocketchannel ssc = serversocketchannel.open();\n\n// 2. ç»å®çå¬ç«¯å£ \nssc.bind(new inetsocketaddress(8080));\n\n// 3. è¿æ¥éå\nlist<socketchannel> channels = new arraylist<>();\nwhile (true) {\n    // 4. accept å»ºç«ä¸å®¢æ·ç«¯è¿æ¥ï¼ socketchannel ç¨æ¥ä¸å®¢æ·ç«¯ä¹é´éä¿¡\n    log.debug("connecting...");\n    socketchannel sc = ssc.accept(); // é»å¡æ¹æ³ï¼çº¿ç¨åæ­¢è¿è¡\n    log.debug("connected... {}", sc);\n    channels.add(sc);\n    for (socketchannel channel : channels) {\n        // 5. æ¥æ¶å®¢æ·ç«¯åéçæ°æ®\n        log.debug("before read... {}", channel);\n        channel.read(buffer); // é»å¡æ¹æ³ï¼çº¿ç¨åæ­¢è¿è¡\n        buffer.flip();\n        debugread(buffer);\n        buffer.clear();\n        log.debug("after read...{}", channel);\n    }\n}\n\n\nå®¢æ·ç«¯\n\nsocketchannel sc = socketchannel.open();\nsc.connect(new inetsocketaddress("localhost", 8080));\nsystem.out.println("waiting...");\n\n\né®é¢\n\nwhileå¾ªç¯ä¸­æ¯æ¬¡å¾ªç¯å¼å§é»å¡å¨ç­å¾æ°è¿æ¥ï¼\n\nè¿æ¥å»ºç«å®æåï¼é»å¡å¨readæ°æ®ï¼\n\nç­å¾æ°è¿æ¥è¿ç¨ä¸­ï¼ä¸è½è¯»åå·²ç»å»ºç«è¿æ¥çå®¢æ·ç«¯åè¿æ¥çæ°æ®\n\nç­å¾è¯»åæ°æ®æ¶ï¼ä¸è½å»ºç«æ°è¿æ¥\n\n\n# éé»å¡\n\n// ä½¿ç¨ nio æ¥çè§£éé»å¡æ¨¡å¼, åçº¿ç¨\n// 0. bytebuffer\nbytebuffer buffer = bytebuffer.allocate(16);\n// 1. åå»ºäºæå¡å¨\nserversocketchannel ssc = serversocketchannel.open();\nssc.configureblocking(false); // éé»å¡æ¨¡å¼\n// 2. ç»å®çå¬ç«¯å£\nssc.bind(new inetsocketaddress(8080));\n// 3. è¿æ¥éå\nlist<socketchannel> channels = new arraylist<>();\nwhile (true) {\n    // 4. accept å»ºç«ä¸å®¢æ·ç«¯è¿æ¥ï¼ socketchannel ç¨æ¥ä¸å®¢æ·ç«¯ä¹é´éä¿¡\n    socketchannel sc = ssc.accept(); // éé»å¡ï¼çº¿ç¨è¿ä¼ç»§ç»­è¿è¡ï¼å¦ææ²¡æè¿æ¥å»ºç«ï¼ä½scæ¯null\n    if (sc != null) {\n        log.debug("connected... {}", sc);\n        sc.configureblocking(false); // éé»å¡æ¨¡å¼\n        channels.add(sc);\n    }\n    for (socketchannel channel : channels) {\n        // 5. æ¥æ¶å®¢æ·ç«¯åéçæ°æ®\n        int read = channel.read(buffer);// éé»å¡ï¼çº¿ç¨ä»ç¶ä¼ç»§ç»­è¿è¡ï¼å¦ææ²¡æè¯»å°æ°æ®ï¼read è¿å 0\n        if (read > 0) {\n            buffer.flip();\n            debugread(buffer);\n            buffer.clear();\n            log.debug("after read...{}", channel);\n        }\n    }\n}\n\n\nç­å¾è¿æ¥åè¯»åæ°æ®äºä¸å¹²æ°\n\nå¨æ¯æ¬¡å¾ªç¯ä¸­æ²¡æé»å¡æ¹æ³è®©cpuåä¸æ¥ï¼åå¤æ§è¡\n\ncpuåäºå¾å¤æ ç¨å\n\n\n# selector\n\nä¸ä¸ªçº¿ç¨å°±å¯ä»¥çæ§å¤ä¸ªchannelçäºä»¶ï¼äºä»¶åçæ¶æå»å¤ç\n\n# åå»º\n\nselector selector = selector.open();\n\n\n# ç»å®äºä»¶\n\nchannel.configureblocking(false);\nselectionkey key = channel.register(selector, ç»å®äºä»¶);\n\n\n * channel å¿é¡»å·¥ä½å¨éé»å¡æ¨¡å¼\n * filechannel æ²¡æéé»å¡æ¨¡å¼ï¼å æ­¤ä¸è½éå selector ä¸èµ·ä½¿ç¨\n * ç»å®çäºä»¶ç±»åå¯ä»¥æ\n   * connect - å®¢æ·ç«¯è¿æ¥æåæ¶è§¦å\n   * accept - æå¡å¨ç«¯æåæ¥åè¿æ¥æ¶è§¦å\n   * read - æ°æ®å¯è¯»å¥æ¶è§¦åï¼æå ä¸ºæ¥æ¶è½åå¼±ï¼æ°æ®æä¸è½è¯»å¥çæåµ\n   * write - æ°æ®å¯ååºæ¶è§¦åï¼æå ä¸ºåéè½åå¼±ï¼æ°æ®æä¸è½ååºçæåµ\n\nselector selector = selector.open();\nserversocketchannel ssc = serversocketchannel.open();\nchannel.configureblocking(false);\n\nselectionkey ssckey = ssc.register(selector, 0, null);\n// åªå³æ³¨acceptäºä»¶\nssckey.interestops(selectionkey.op_accept);\n\nssc.bind(new inetsocketaddress(8080));\nwhile(true){\n    // æ²¡æäºä»¶åçæ¶é»å¡\n\tselector.select();\n    iterator<selectionkey> iter = selector.selectedkeys().iterator();\n    while(iter.hasnext()){\n        selectionkey key = iter.next();\n        serversocketchannel channel = (serversocketchannel)key.channel();\n        socketchannel sc = channel.accept();\n    }\n}\n\n\n# å¤çreadäºä»¶\n\ntry (serversocketchannel channel = serversocketchannel.open()) {\n    channel.bind(new inetsocketaddress(7070));\n    system.out.println(channel);\n    selector selector = selector.open();\n    channel.configureblocking(false);\n    channel.register(selector, selectionkey.op_accept);\n\n    while (true) {\n        int count = selector.select();\n        log.debug("select count: {}", count);\n        // è·åææäºä»¶\n        set<selectionkey> keys = selector.selectedkeys();\n\n        // éåææäºä»¶ï¼éä¸å¤ç\n        iterator<selectionkey> iter = keys.iterator();\n        while (iter.hasnext()) {\n            selectionkey key = iter.next();\n            // å¤æ­äºä»¶ç±»å\n            if (key.isacceptable()) {\n                serversocketchannel c = (serversocketchannel) key.channel();\n                // å¿é¡»å¤ç\n                socketchannel sc = c.accept();\n                sc.configureblocking(false);\n                sc.register(selector, selectionkey.op_read);\n                log.debug("è¿æ¥å·²å»ºç«: {}", sc);\n            } else if (key.isreadable()) {\n                socketchannel sc = (socketchannel) key.channel();\n                bytebuffer buffer = bytebuffer.allocate(128);\n                int read = sc.read(buffer);\n                if(read == -1) {\n                    key.cancel();\n                    sc.close();\n                } else {\n                    buffer.flip();\n                    debugall(buffer);\n                }\n            }\n            // å¤çå®æ¯ï¼å¿é¡»å°äºä»¶ç§»é¤\n            iter.remove();\n        }\n    }\n} catch (ioexception e) {\n    e.printstacktrace();\n}\n\n\næ­å¼è¿æ¥ä¼è§¦åreadäºä»¶\n\n# å¤çè¾¹çé®é¢\n\nç¼å²åºå¤§å°å°äºchannelä¸­çæ°æ®å¤§å°ï¼é£ä¹å°ä¼è¯»åå¤æ¬¡ï¼å¦æé½æ¯å¾ä¸ä¸ªbufferéå­ï¼é£ä¹åé¢è¯»çå°±ä¼è¦çåé¢è¯»çã\n\nè§£å³åæ³\n\nçº¦å®ä¸æ¡æ¶æ¯çæ«å°¾ä¸º\\nï¼åªæè¯»åå°\\næ¶ï¼æå°bufferä¸­çæ°æ®è¯»ååºæ¥ã\n\nå¨åæ¨¡å¼æåµä¸ï¼å¦æpositionålimitç¸ç­ï¼é£ä¹ä»£è¡¨è¿ä¸ªbufferæ²¡æè¯»å°ä¸ä¸ªå®æ´çæ¶æ¯ã\n\nè¿æ¶éè¦å°å¶bufferæ©å®¹ï¼ç¶åç¨è¿ä¸ªbufferåå»è¯»channelä¸­çæ°æ®ã\n\nprivate static void split(bytebuffer source) {\n    source.flip();\n    for (int i = 0; i < source.limit(); i++) {\n        // æ¾å°ä¸æ¡å®æ´æ¶æ¯\n        if (source.get(i) == \'\\n\') {\n            int length = i + 1 - source.position();\n            // æè¿æ¡å®æ´æ¶æ¯å­å¥æ°ç bytebuffer\n            bytebuffer target = bytebuffer.allocate(length);\n            // ä» source è¯»ï¼å target å\n            for (int j = 0; j < length; j++) {\n                target.put(source.get());\n            }\n            debugall(target);\n        }\n    }\n    source.compact(); // 0123456789abcdef  position 16 limit 16\n}\n\npublic static void main(string[] args) throws ioexception {\n    // 1. åå»º selector, ç®¡çå¤ä¸ª channel\n    selector selector = selector.open();\n    serversocketchannel ssc = serversocketchannel.open();\n    ssc.configureblocking(false);\n    // 2. å»ºç« selector å channel çèç³»ï¼æ³¨åï¼\n    // selectionkey å°±æ¯å°æ¥äºä»¶åçåï¼éè¿å®å¯ä»¥ç¥éäºä»¶ååªä¸ªchannelçäºä»¶\n    selectionkey ssckey = ssc.register(selector, 0, null);\n    // key åªå³æ³¨ accept äºä»¶\n    ssckey.interestops(selectionkey.op_accept);\n    log.debug("ssckey:{}", ssckey);\n    ssc.bind(new inetsocketaddress(8080));\n    while (true) {\n        // 3. select æ¹æ³, æ²¡æäºä»¶åçï¼çº¿ç¨é»å¡ï¼æäºä»¶ï¼çº¿ç¨æä¼æ¢å¤è¿è¡\n        // select å¨äºä»¶æªå¤çæ¶ï¼å®ä¸ä¼é»å¡, äºä»¶åçåè¦ä¹å¤çï¼è¦ä¹åæ¶ï¼ä¸è½ç½®ä¹ä¸ç\n        selector.select();\n        // 4. å¤çäºä»¶, selectedkeys åé¨åå«äºææåççäºä»¶\n        iterator<selectionkey> iter = selector.selectedkeys().iterator(); // accept, read\n        while (iter.hasnext()) {\n            selectionkey key = iter.next();\n            // å¤çkey æ¶ï¼è¦ä» selectedkeys éåä¸­å é¤ï¼å¦åä¸æ¬¡å¤çå°±ä¼æé®é¢\n            iter.remove();\n            log.debug("key: {}", key);\n            // 5. åºåäºä»¶ç±»å\n            if (key.isacceptable()) { // å¦ææ¯ accept\n                serversocketchannel channel = (serversocketchannel) key.channel();\n                socketchannel sc = channel.accept();\n                sc.configureblocking(false);\n                bytebuffer buffer = bytebuffer.allocate(16); // attachment\n                // å°ä¸ä¸ª bytebuffer ä½ä¸ºéä»¶å³èå° selectionkey ä¸\n                selectionkey sckey = sc.register(selector, 0, buffer);\n                sckey.interestops(selectionkey.op_read);\n                log.debug("{}", sc);\n                log.debug("sckey:{}", sckey);\n            } else if (key.isreadable()) { // å¦ææ¯ read\n                try {\n                    socketchannel channel = (socketchannel) key.channel(); // æ¿å°è§¦åäºä»¶çchannel\n                    // è·å selectionkey ä¸å³èçéä»¶\n                    bytebuffer buffer = (bytebuffer) key.attachment();\n                    int read = channel.read(buffer); // å¦ææ¯æ­£å¸¸æ­å¼ï¼read çæ¹æ³çè¿åå¼æ¯ -1\n                    if(read == -1) {\n                        key.cancel();\n                    } else {\n                        split(buffer);\n                        // éè¦æ©å®¹\n                        if (buffer.position() == buffer.limit()) {\n                            bytebuffer newbuffer = bytebuffer.allocate(buffer.capacity() * 2);\n                            buffer.flip();\n                            newbuffer.put(buffer); // 0123456789abcdef3333\\n\n                            key.attach(newbuffer);\n                        }\n                    }\n\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                    key.cancel();  // å ä¸ºå®¢æ·ç«¯æ­å¼äº,å æ­¤éè¦å° key åæ¶ï¼ä» selector ç keys éåä¸­çæ­£å é¤ keyï¼\n                }\n            }\n        }\n    }\n}\n\n\n# å¤çwriteäºä»¶\n\nåºç°ä¸æ¬¡åä¸ä¸çæå½¢ï¼å°æ°æ®éå å°selectionkeyä¸­ï¼ä»¥ä¾¿äºè¿ä¸ªkeyåæ¬¡è§¦åæ¶ï¼å°å©ä¸çæ°æ®ç»§ç»­åå¥å°channelä¸­ã\n\næç¤º\n\niswritable()æ¹æ³çä¸åå³äºäºä»¶ï¼åå³äºchannelééä¸­æ¯å¦å¯ä»¥åå¥æ°æ®ãæä»¥å»ºè®®åå®æ°æ®åï¼éè¦å°å¯åäºä»¶åæ¶å³æ³¨ï¼å¦åä¼ä¸ç´è½®è¯¢å¯åäºä»¶ã\n\n\npublic static void main(string[] args) throws ioexception {\n    serversocketchannel ssc = serversocketchannel.open();\n    ssc.configureblocking(false);\n    ssc.bind(new inetsocketaddress(8080));\n\n    selector selector = selector.open();\n    ssc.register(selector, selectionkey.op_accept);\n\n    while(true) {\n        selector.select();\n\n        iterator<selectionkey> iter = selector.selectedkeys().iterator();\n        while (iter.hasnext()) {\n            selectionkey key = iter.next();\n            iter.remove();\n            if (key.isacceptable()) {\n                socketchannel sc = ssc.accept();\n                sc.configureblocking(false);\n                selectionkey sckey = sc.register(selector, selectionkey.op_read);\n                // 1. åå®¢æ·ç«¯åéåå®¹\n                stringbuilder sb = new stringbuilder();\n                for (int i = 0; i < 3000000; i++) {\n                    sb.append("a");\n                }\n                bytebuffer buffer = charset.defaultcharset().encode(sb.tostring());\n                int write = sc.write(buffer);\n                // 3. write è¡¨ç¤ºå®éåäºå¤å°å­è\n                system.out.println("å®éåå¥å­è:" + write);\n                // 4. å¦ææå©ä½æªè¯»å­èï¼æéè¦å³æ³¨åäºä»¶\n                if (buffer.hasremaining()) {\n                    // read 1  write 4\n                    // å¨åæå³æ³¨äºä»¶çåºç¡ä¸ï¼å¤å³æ³¨ åäºä»¶\n                    sckey.interestops(sckey.interestops() + selectionkey.op_write);\n                    // æ buffer ä½ä¸ºéä»¶å å¥ sckey\n                    sckey.attach(buffer);\n                }\n            } else if (key.iswritable()) {\n                bytebuffer buffer = (bytebuffer) key.attachment();\n                socketchannel sc = (socketchannel) key.channel();\n                int write = sc.write(buffer);\n                system.out.println("å®éåå¥å­è:" + write);\n                if (!buffer.hasremaining()) { // åå®äº\n                    key.interestops(key.interestops() - selectionkey.op_write);\n                    key.attach(null);\n                }\n            }\n        }\n    }\n}\n    \n\n\n\n# å¤çº¿ç¨ä¼å\n\n> å¨åçº¿ç¨ä¸­ï¼ä¸ä¸ªselectorçå¬å¤ä¸ªäºä»¶ï¼ä½æ¯åªè½åæ¶å¤çä¸ä¸ªäºä»¶\n\nåä¸¤ç»éæ©å¨\n\n * å¤çacceptäºä»¶\n * å¤çreadåwriteäºä»¶\n\npublic class channeldemo7 {\n    public static void main(string[] args) throws ioexception {\n        new bosseventloop().register();\n    }\n\n\n    @slf4j\n    static class bosseventloop implements runnable {\n        private selector boss;\n        private workereventloop[] workers;\n        private volatile boolean start = false;\n        atomicinteger index = new atomicinteger();\n\n        public void register() throws ioexception {\n            if (!start) {\n                serversocketchannel ssc = serversocketchannel.open();\n                ssc.bind(new inetsocketaddress(8080));\n                ssc.configureblocking(false);\n                boss = selector.open();\n                selectionkey ssckey = ssc.register(boss, 0, null);\n                ssckey.interestops(selectionkey.op_accept);\n                workers = initeventloops();\n                new thread(this, "boss").start();\n                log.debug("boss start...");\n                start = true;\n            }\n        }\n\n        public workereventloop[] initeventloops() {\n//        eventloop[] eventloops = new eventloop[runtime.getruntime().availableprocessors()];\n            workereventloop[] workereventloops = new workereventloop[2];\n            for (int i = 0; i < workereventloops.length; i++) {\n                workereventloops[i] = new workereventloop(i);\n            }\n            return workereventloops;\n        }\n\n        @override\n        public void run() {\n            while (true) {\n                try {\n                    boss.select();\n                    iterator<selectionkey> iter = boss.selectedkeys().iterator();\n                    while (iter.hasnext()) {\n                        selectionkey key = iter.next();\n                        iter.remove();\n                        if (key.isacceptable()) {\n                            serversocketchannel c = (serversocketchannel) key.channel();\n                            socketchannel sc = c.accept();\n                            sc.configureblocking(false);\n                            log.debug("{} connected", sc.getremoteaddress());\n                            workers[index.getandincrement() % workers.length].register(sc);\n                        }\n                    }\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n    }\n\n    @slf4j\n    static class workereventloop implements runnable {\n        private selector worker;\n        private volatile boolean start = false;\n        private int index;\n\n        private final concurrentlinkedqueue<runnable> tasks = new concurrentlinkedqueue<>();\n\n        public workereventloop(int index) {\n            this.index = index;\n        }\n\n        public void register(socketchannel sc) throws ioexception {\n            if (!start) {\n                worker = selector.open();\n                new thread(this, "worker-" + index).start();\n                start = true;\n            }\n            tasks.add(() -> {\n                try {\n                    selectionkey sckey = sc.register(worker, 0, null);\n                    sckey.interestops(selectionkey.op_read);\n                    worker.selectnow();\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            });\n            worker.wakeup();\n        }\n\n        @override\n        public void run() {\n            while (true) {\n                try {\n                    worker.select();\n                    runnable task = tasks.poll();\n                    if (task != null) {\n                        task.run();\n                    }\n                    set<selectionkey> keys = worker.selectedkeys();\n                    iterator<selectionkey> iter = keys.iterator();\n                    while (iter.hasnext()) {\n                        selectionkey key = iter.next();\n                        if (key.isreadable()) {\n                            socketchannel sc = (socketchannel) key.channel();\n                            bytebuffer buffer = bytebuffer.allocate(128);\n                            try {\n                                int read = sc.read(buffer);\n                                if (read == -1) {\n                                    key.cancel();\n                                    sc.close();\n                                } else {\n                                    buffer.flip();\n                                    log.debug("{} message:", sc.getremoteaddress());\n                                    debugall(buffer);\n                                }\n                            } catch (ioexception e) {\n                                e.printstacktrace();\n                                key.cancel();\n                                sc.close();\n                            }\n                        }\n                        iter.remove();\n                    }\n                } catch (ioexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }\n    }\n}\n\n\næ³¨æ\n\nç¡®ä¿å¨select()æ¹æ³é»å¡åå·²ç»å³æ³¨å¯¹åºçäºä»¶ï¼å¦åä¼ä¸ç´é»å¡',charsets:{cjk:!0}},{title:"Netty",frontmatter:{title:"Netty",date:"2023-06-07T19:10:18.000Z",permalink:"/pages/20bd69/"},regularPath:"/01.Java/04.%E6%A1%86%E6%9E%B6/11.Netty.html",relativePath:"01.Java/04.æ¡æ¶/11.Netty.md",key:"v-58dee060",path:"/pages/20bd69/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"MySQLå½æ°",frontmatter:{title:"MySQLå½æ°",date:"2023-03-06T09:42:02.000Z",permalink:"/pages/e60c12/"},regularPath:"/01.Java/05.%E6%95%B0%E6%8D%AE%E5%BA%93/03.MySQL%E5%87%BD%E6%95%B0.html",relativePath:"01.Java/05.æ°æ®åº/03.MySQLå½æ°.md",key:"v-6ecce798",path:"/pages/e60c12/",headers:[{level:3,title:"æ°å­¦å½æ°",slug:"æ°å­¦å½æ°",normalizedTitle:"æ°å­¦å½æ°",charIndex:2},{level:3,title:"èåå½æ°",slug:"èåå½æ°",normalizedTitle:"èåå½æ°",charIndex:608},{level:3,title:"å­ç¬¦ä¸²å½æ°",slug:"å­ç¬¦ä¸²å½æ°",normalizedTitle:"å­ç¬¦ä¸²å½æ°",charIndex:843},{level:3,title:"æ¥ææ§å¶å½æ°",slug:"æ¥ææ§å¶å½æ°",normalizedTitle:"æ¥ææ§å¶å½æ°",charIndex:1846},{level:3,title:"æ§å¶æµå½æ°",slug:"æ§å¶æµå½æ°",normalizedTitle:"æ§å¶æµå½æ°",charIndex:3595},{level:3,title:"æ ¼å¼åå½æ°",slug:"æ ¼å¼åå½æ°",normalizedTitle:"æ ¼å¼åå½æ°",charIndex:5765},{level:3,title:"ç±»åè½¬åå½æ°",slug:"ç±»åè½¬åå½æ°",normalizedTitle:"ç±»åè½¬åå½æ°",charIndex:6356},{level:3,title:"ç³»ç»ä¿¡æ¯å½æ°",slug:"ç³»ç»ä¿¡æ¯å½æ°",normalizedTitle:"ç³»ç»ä¿¡æ¯å½æ°",charIndex:6586},{level:3,title:"å¼çªå½æ°",slug:"å¼çªå½æ°",normalizedTitle:"å¼çªå½æ°",charIndex:6996}],headersStr:"æ°å­¦å½æ° èåå½æ° å­ç¬¦ä¸²å½æ° æ¥ææ§å¶å½æ° æ§å¶æµå½æ° æ ¼å¼åå½æ° ç±»åè½¬åå½æ° ç³»ç»ä¿¡æ¯å½æ° å¼çªå½æ°",content:"# æ°å­¦å½æ°\n\nABS(x)         --è¿åxçç»å¯¹å¼ \nBIN(x)         --è¿åxçäºè¿å¶ï¼OCTè¿åå«è¿å¶ï¼HEXè¿ååå­è¿å¶ï¼ \nCEILING(x)     --è¿åå¤§äºxçæå°æ´æ°å¼ \nEXP(x)         --è¿åå¼eï¼èªç¶å¯¹æ°çåºï¼çxæ¬¡æ¹ \nFLOOR(x)       --è¿åå°äºxçæå¤§æ´æ°å¼ \nGREATEST(x1,x2,...,xn) \n                --è¿åéåä¸­æå¤§çå¼ \nLEAST(x1,x2,...,xn)    \n                --è¿åéåä¸­æå°çå¼ \nLN(x)           --è¿åxçèªç¶å¯¹æ° \nLOG(x,y)        --è¿åxçä»¥yä¸ºåºçå¯¹æ° \nMOD(x,y)        --è¿åx/yçæ¨¡ï¼ä½æ°ï¼ \nPI()            --è¿åpiçå¼ï¼åå¨çï¼ \nRAND()          --è¿åï¼å°ï¼åçéæºå¼,å¯ä»¥éè¿æä¾ä¸ä¸ªåæ°(ç§å­)ä½¿RAND()éæºæ°çæå¨çæä¸ä¸ªæå®çå¼ã \nROUND(x,y)      --è¿ååæ°xçåèäºå¥çæyä½å°æ°çå¼ \nSIGN(x)         --è¿åä»£è¡¨æ°å­xçç¬¦å·çå¼ \nSQRT(x)         --è¿åä¸ä¸ªæ°çå¹³æ¹æ ¹ \nTRUNCATE(x,y)   --è¿åæ°å­xæªç­ä¸ºyä½å°æ°çç»æ \n\n\n\n# èåå½æ°\n\nAVG(X)            --è¿åæå®åçå¹³åå¼ \nCOUNT(X)          --è¿åæå®åä¸­éNULLå¼çä¸ªæ° \nMIN(X)            --è¿åæå®åçæå°å¼ \nMAX(X)            --è¿åæå®åçæå¤§å¼ \nSUM(X)            --è¿åæå®åçææå¼ä¹å \nGROUP_CONCAT(X)   --å°group byäº§ççåä¸ä¸ªåç»ä¸­çå¼è¿æ¥èµ·æ¥ï¼è¿åä¸ä¸ªå­ç¬¦ä¸²ç»æãéå¸¸æç¨ \n\n\n\n# å­ç¬¦ä¸²å½æ°\n\nASCII(char)        --è¿åå­ç¬¦çASCIIç å¼ \nBIT_LENGTH(str)    --è¿åå­ç¬¦ä¸²çæ¯ç¹é¿åº¦ \nCONCAT(s1,s2...,sn)  \n                   --å°s1,s2...,snè¿æ¥æå­ç¬¦ä¸² \nCONCAT_WS(sep,s1,s2...,sn) \n                   --å°s1,s2...,snè¿æ¥æå­ç¬¦ä¸²ï¼å¹¶ç¨sepå­ç¬¦é´é \nINSERT(str,x,y,instr)  \n                   --å°å­ç¬¦ä¸²strä»ç¬¬xä½ç½®å¼å§ï¼yä¸ªå­ç¬¦é¿çå­ä¸²æ¿æ¢ä¸ºå­ç¬¦ä¸²instrï¼è¿åç»æ \nFIND_IN_SET(str,list) \n                   --åæéå·åéçliståè¡¨ï¼å¦æåç°strï¼è¿åstrå¨listä¸­çä½ç½® \nLCASE(str)æLOWER(str)  \n                   --è¿åå°å­ç¬¦ä¸²strä¸­ææå­ç¬¦æ¹åä¸ºå°ååçç»æ \nLEFT(str,x)        --è¿åå­ç¬¦ä¸²strä¸­æå·¦è¾¹çxä¸ªå­ç¬¦ \nLENGTH(s)          --è¿åå­ç¬¦ä¸²strä¸­çå­ç¬¦æ° \nLTRIM(str)         --ä»å­ç¬¦ä¸²strä¸­åæå¼å¤´çç©ºæ ¼ \nPOSITION(substr,str)  \n                   --è¿åå­ä¸²substrå¨å­ç¬¦ä¸²strä¸­ç¬¬ä¸æ¬¡åºç°çä½ç½® \nQUOTE(str)         --ç¨åææ è½¬ä¹strä¸­çåå¼å· \nREPEAT(str,srchstr,rplcstr) \n                   --è¿åå­ç¬¦ä¸²stréå¤xæ¬¡çç»æ \nREVERSE(str)       --è¿åé¢ åå­ç¬¦ä¸²strçç»æ \nRIGHT(str,x)       --è¿åå­ç¬¦ä¸²strä¸­æå³è¾¹çxä¸ªå­ç¬¦ \nRTRIM(str)         --è¿åå­ç¬¦ä¸²strå°¾é¨çç©ºæ ¼ \nSTRCMP(s1,s2)      --æ¯è¾å­ç¬¦ä¸²s1ås2 \nTRIM(str)          --å»é¤å­ç¬¦ä¸²é¦é¨åå°¾é¨çææç©ºæ ¼ \nUCASE(str)æUPPER(str)  \n                   --è¿åå°å­ç¬¦ä¸²strä¸­ææå­ç¬¦è½¬åä¸ºå¤§ååçç»æ \n\n\n\n# æ¥ææ§å¶å½æ°\n\nCURDATE()æCURRENT_DATE()  \n                   --è¿åå½åçæ¥æ \nCURTIME()æCURRENT_TIME()  \n                   --è¿åå½åçæ¶é´ \nDATE_ADD(date,INTERVAL int keyword) \n                   --è¿åæ¥ædateå ä¸é´éæ¶é´intçç»æ(intå¿é¡»æç§å³é®å­è¿è¡æ ¼å¼å) \nä¾å¦ \nSELECT DATE_ADD(CURRENT_DATE,INTERVAL 6 MONTH); \n \nDATE_FORMAT(date,fmt)   \n                   --ä¾ç§æå®çfmtæ ¼å¼æ ¼å¼åæ¥ædateå¼ \nDATE_SUB(date,INTERVAL int keyword) \n                   --è¿åæ¥ædateå ä¸é´éæ¶é´intçç»æ(intå¿é¡»æç§å³é®å­è¿è¡æ ¼å¼å) \nä¾å¦ \nSELECT DATE_SUB(CURRENT_DATE,INTERVAL 6 MONTH); \n \nDAYOFWEEK(date)    --è¿ådateæä»£è¡¨çä¸ææä¸­çç¬¬å å¤©(1~7) \nDAYOFMONTH(date)   --è¿ådateæ¯ä¸ä¸ªæçç¬¬å å¤©(1~31) \nDAYOFYEAR(date)    --è¿ådateæ¯ä¸å¹´çç¬¬å å¤©(1~366) \nDAYNAME(date)      --è¿ådateçææåï¼å¦ï¼SELECT DAYNAME(CURRENT_DATE); \nFROM_UNIXTIME(ts,fmt)   \n                   --æ ¹æ®æå®çfmtæ ¼å¼ï¼æ ¼å¼åUNIXæ¶é´æ³ts \nHOUR(time)         --è¿åtimeçå°æ¶å¼(0~23) \nMINUTE(time)       --è¿åtimeçåéå¼(0~59) \nMONTH(date)        --è¿ådateçæä»½å¼(1~12) \nMONTHNAME(date)    --è¿ådateçæä»½åï¼å¦ï¼SELECT MONTHNAME(CURRENT_DATE); \nNOW()              --è¿åå½åçæ¥æåæ¶é´ \nQUARTER(date)      --è¿ådateå¨ä¸å¹´ä¸­çå­£åº¦(1~4) \nä¾å¦ \nSELECT QUARTER(CURRENT_DATE); \n \nWEEK(date)         --è¿åæ¥ædateä¸ºä¸å¹´ä¸­ç¬¬å å¨(0~53) \nYEAR(date)         --è¿åæ¥ædateçå¹´ä»½(1000~9999) \nä¾å¦ï¼è·åå½åç³»ç»æ¶é´ \nSELECT FROM_UNIXTIME(UNIX_TIMESTAMP()); \nSELECT EXTRACT(YEAR_MONTH FROM CURRENT_DATE); \nSELECT EXTRACT(DAY_SECOND FROM CURRENT_DATE); \nSELECT EXTRACT(HOUR_MINUTE FROM CURRENT_DATE); \n \nè¿åä¸¤ä¸ªæ¥æå¼ä¹é´çå·®å¼(ææ°) \nSELECT PERIOD_DIFF(200302,199802); \n \nå¨Mysqlä¸­è®¡ç®å¹´é¾ï¼ \nSELECT DATE_FORMAT(FROM_DAYS(TO_DAYS(NOW())-TO_DAYS(birthday)),'%Y')+0 AS age FROM employee; \nè¿æ ·ï¼å¦æBrithdayæ¯æªæ¥çå¹´ææ¥çè¯ï¼è®¡ç®ç»æä¸º0ã \nä¸é¢çSQLè¯­å¥è®¡ç®åå·¥çç»å¯¹å¹´é¾ï¼å³å½Birthdayæ¯æªæ¥çæ¥ææ¶ï¼å°å¾å°è´å¼ã \nSELECT DATE_FORMAT(NOW(), '%Y')  \n- DATE_FORMAT(birthday, '%Y')  \n-(DATE_FORMAT(NOW(), '00-%m-%d')  \n< DATE_FORMAT(birthday, '00-%m-%d')) AS age from employee \n\n\n\n# æ§å¶æµå½æ°\n\nCASE WHEN [test1] THEN [result1]...ELSE [default] END  \n                    --å¦ætest1æ¯çï¼åè¿åresult1ï¼å¦åè¿ådefault \nCASE [test] WHEN [val1] THEN [result]...ELSE [default] END   \n                    --å¦æteståvalNç¸ç­ï¼åè¿åresultï¼å¦åè¿ådefault \nIF(test,t,f)        --å¦ætestæ¯çï¼è¿åtï¼å¦åè¿åf \nIFNULL(arg1,arg2)   --å¦æarg1ä¸æ¯ç©ºï¼è¿åarg1ï¼å¦åè¿åarg2 \nNULLIF(arg1,arg2)   --å¦æarg1=arg2è¿åNULLï¼å¦åè¿åarg1 \n \nè¿äºå½æ°çç¬¬ä¸ä¸ªæ¯IFNULL()ï¼å®æä¸¤ä¸ªåæ°ï¼å¹¶ä¸å¯¹ç¬¬ä¸ä¸ªåæ°è¿è¡å¤æ­ã \nå¦æç¬¬ä¸ä¸ªåæ°ä¸æ¯NULLï¼å½æ°å°±ä¼åè°ç¨èè¿åç¬¬ä¸ä¸ªåæ°ï¼ \nå¦ææ¯NULL,å°è¿åç¬¬äºä¸ªåæ°ã \nä¾å¦ \nSELECT IFNULL(1,2),  \nIFNULL(NULL,10), \nIFNULL(4*NULL,'false'); \n \nNULLIF()å½æ°å°ä¼æ£éªæä¾çä¸¤ä¸ªåæ°æ¯å¦ç¸ç­ï¼å¦æç¸ç­ï¼åè¿åNULLï¼ \nå¦æä¸ç¸ç­ï¼å°±è¿åç¬¬ä¸ä¸ªåæ°ã \nä¾å¦ \nSELECT  NULLIF(1,1), \n NULLIF('A','B'), \n NULLIF(2+3,4+1); \n \nMySQLçIF()å½æ°ä¹å¯ä»¥å»ºç«ä¸ä¸ªç®åçæ¡ä»¶æµè¯ï¼ \nè¿ä¸ªå½æ°æä¸ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªæ¯è¦è¢«å¤æ­çè¡¨è¾¾å¼ï¼ \nå¦æè¡¨è¾¾å¼ä¸ºçï¼IF()å°ä¼è¿åç¬¬äºä¸ªåæ°ï¼ \nå¦æä¸ºåï¼IF()å°ä¼è¿åç¬¬ä¸ä¸ªåæ°ã \nä¾å¦ \nSELECT IF(1<10,2,3),IF(56>100,'true','false'); \nIF()å½æ°å¨åªæä¸¤ç§å¯è½ç»ææ¶æéåä½¿ç¨ã \nç¶èï¼å¨ç°å®ä¸çä¸­ï¼æä»¬å¯è½åç°å¨æ¡ä»¶æµè¯ä¸­ä¼éè¦å¤ä¸ªåæ¯ã \nå¨è¿ç§æåµä¸ï¼å®åPHPåPerlè¯­è¨çswitch-caseæ¡ä»¶ä¾ç¨ä¸æ ·ã \n \nCASEå½æ°çæ ¼å¼æäºå¤æï¼éå¸¸å¦ä¸æç¤ºï¼ \nCASE [expression to be evaluated] \nWHEN [val 1] THEN [result 1] \nWHEN [val 2] THEN [result 2] \nWHEN [val 3] THEN [result 3] \n...... \nWHEN [val n] THEN [result n] \nELSE [default result] \nEND \nè¿éï¼ç¬¬ä¸ä¸ªåæ°æ¯è¦è¢«å¤æ­çå¼æè¡¨è¾¾å¼ï¼æ¥ä¸æ¥çæ¯ä¸ç³»åçWHEN-THENåï¼ \næ¯ä¸åçç¬¬ä¸ä¸ªåæ°æå®è¦æ¯è¾çå¼ï¼å¦æä¸ºçï¼å°±è¿åç»æã \nææçWHEN-THENåå°ä»¥ELSEåç»æï¼å½ENDç»æäºææå¤é¨çCASEåæ¶ï¼ \nå¦æåé¢çæ¯ä¸ä¸ªåé½ä¸å¹éå°±ä¼è¿åELSEåæå®çé»è®¤ç»æã \nå¦ææ²¡ææå®ELSEåï¼èä¸ææçWHEN-THENæ¯è¾é½ä¸æ¯çï¼MySQLå°ä¼è¿åNULLã \nCASEå½æ°è¿æå¦å¤ä¸ç§å¥æ³ï¼ææ¶ä½¿ç¨èµ·æ¥éå¸¸æ¹ä¾¿ï¼å¦ä¸ï¼ \nCASE \nWHEN [conditional test 1] THEN [result 1] \nWHEN [conditional test 2] THEN [result 2] \nELSE [default result] \nEND \nè¿ç§æ¡ä»¶ä¸ï¼è¿åçç»æåå³äºç¸åºçæ¡ä»¶æµè¯æ¯å¦ä¸ºçã \nä¾å¦ï¼ \nSELECT  CASE 'green' \n      WHEN 'red' THEN 'stop' \n      WHEN 'green' THEN 'go' END; \n \nSELECT CASE  9  \nWHEN 1 THEN 'a' \nWHEN 2 THEN 'b' ELSE 'N/A' END; \n \nSELECT CASE WHEN (2+2)=4 THEN 'OK'  \nWHEN (2+2)<>4 THEN 'not OK' END AS STATUS; \n \nSELECT Name,IF((IsActive = 1),'å·²æ¿æ´»','æªæ¿æ´»') AS RESULT  \nFROM UserLoginInfo; \n \nSELECT fname,lname,(math+sci+lit) AS total, \nCASE WHEN (math+sci+lit) < 50 THEN 'D' \n     WHEN (math+sci+lit) BETWEEN 50 AND 150 THEN 'C' \n     WHEN (math+sci+lit) BETWEEN 151 AND 250 THEN 'B' \nELSE 'A' END AS grade FROM marks ; \n \nSELECT IF(ENCRYPT('sue','ts')=upass,'allow','deny') AS LoginResult \nFROM users WHERE uname = 'sue'; \n\n\n\n# æ ¼å¼åå½æ°\n\nDATE_FORMAT(date,fmt)   \n                  -- ä¾ç§å­ç¬¦ä¸²fmtæ ¼å¼åæ¥ædateå¼ \nFORMAT(x,y)       -- æxæ ¼å¼åä¸ºä»¥éå·éå¼çæ°å­åºåï¼yæ¯ç»æçå°æ°ä½æ° \nINET_ATON(ip)     -- è¿åIPå°åçæ°å­è¡¨ç¤º \nINET_NTOA(num)    -- è¿åæ°å­æä»£è¡¨çIPå°å \nTIME_FORMAT(time,fmt)    \n                  --ä¾ç§å­ç¬¦ä¸²fmtæ ¼å¼åæ¶é´timeå¼ \n-- å¶ä¸­æç®åçæ¯FORMAT()å½æ°ï¼ \n-- å®å¯ä»¥æå¤§çæ°å¼æ ¼å¼åä¸ºä»¥éå·é´éçæè¯»çåºåã \n-- ä¾å¦\nSELECT FORMAT(34234.34323432,3) ; \nSELECT DATE_FORMAT(NOW(),'%W,%D %M %Y %r') ; \nSELECT DATE_FORMAT(NOW(),'%Y-%m-%d') ; \nSELECT DATE_FORMAT(19990330,'%Y-%m-%d') ; \nSELECT DATE_FORMAT(NOW(),'%h:%i %p') ; \nSELECT INET_ATON('10.122.89.47') ; \nSELECT INET_NTOA(175790383) ; \n\n\n\n# ç±»åè½¬åå½æ°\n\n-- ä¸ºäºè¿è¡æ°æ®ç±»åè½¬åï¼MySQLæä¾äºCAST()å½æ°ï¼ \n-- å®å¯ä»¥æä¸ä¸ªå¼è½¬åä¸ºæå®çæ°æ®ç±»åã \n-- ç±»åæï¼BINARY,CHAR,DATE,TIME,DATETIME,SIGNED,UNSIGNED \n-- ä¾å¦ \nSELECT CAST(NOW() AS SIGNED INTEGER),CURDATE()+0; \nSELECT 'f'=BINARY 'F','f'=CAST('F' AS BINARY); \n\n\n\n# ç³»ç»ä¿¡æ¯å½æ°\n\nDATABASE()         --è¿åå½åæ°æ®åºå \nBENCHMARK(count,expr)    \n                   --å°è¡¨è¾¾å¼expréå¤è¿è¡countæ¬¡ \nCONNECTION_ID()    --è¿åå½åå®¢æ·çè¿æ¥ID \nFOUND_ROWS()       --è¿åæåä¸ä¸ªSELECTæ¥è¯¢è¿è¡æ£ç´¢çæ»è¡æ° \nUSER()æSYSTEM_USER()   \n                   --è¿åå½åç»éç¨æ·å \nVERSION()          --è¿åMySQLæå¡å¨ççæ¬ \nä¾å¦ \nSELECT DATABASE(),VERSION(),USER(); \nSELECTBENCHMARK(9999999,LOG(RAND()*PI())); \n--è¯¥ä¾ä¸­,MySQLè®¡ç®LOG(RAND()*PI())è¡¨è¾¾å¼9999999æ¬¡ã \n\n\n\n# å¼çªå½æ°\n\nROW_NUMBER() OVER()  --æåºï¼1,2,3,4 \nRANK() OVER() --æåºï¼1,1,3,3,5 \nDENSE_RANK() OVER()  --æåºï¼1,1,2,2,3,4 \nNTILE() OVER() --å°æåºæ°æ®åä¸ºNç»ï¼è®°å½ç­çº§æ° \nLAG(expr,n) OVER() --è¿åå½åè¡çåNè¡çexprçå¼ \nLEAD(expr,n) OVER()  --è¿åå½åè¡ åNè¡çexprçå¼ \n",normalizedContent:"# æ°å­¦å½æ°\n\nabs(x)         --è¿åxçç»å¯¹å¼ \nbin(x)         --è¿åxçäºè¿å¶ï¼octè¿åå«è¿å¶ï¼hexè¿ååå­è¿å¶ï¼ \nceiling(x)     --è¿åå¤§äºxçæå°æ´æ°å¼ \nexp(x)         --è¿åå¼eï¼èªç¶å¯¹æ°çåºï¼çxæ¬¡æ¹ \nfloor(x)       --è¿åå°äºxçæå¤§æ´æ°å¼ \ngreatest(x1,x2,...,xn) \n                --è¿åéåä¸­æå¤§çå¼ \nleast(x1,x2,...,xn)    \n                --è¿åéåä¸­æå°çå¼ \nln(x)           --è¿åxçèªç¶å¯¹æ° \nlog(x,y)        --è¿åxçä»¥yä¸ºåºçå¯¹æ° \nmod(x,y)        --è¿åx/yçæ¨¡ï¼ä½æ°ï¼ \npi()            --è¿åpiçå¼ï¼åå¨çï¼ \nrand()          --è¿åï¼å°ï¼åçéæºå¼,å¯ä»¥éè¿æä¾ä¸ä¸ªåæ°(ç§å­)ä½¿rand()éæºæ°çæå¨çæä¸ä¸ªæå®çå¼ã \nround(x,y)      --è¿ååæ°xçåèäºå¥çæyä½å°æ°çå¼ \nsign(x)         --è¿åä»£è¡¨æ°å­xçç¬¦å·çå¼ \nsqrt(x)         --è¿åä¸ä¸ªæ°çå¹³æ¹æ ¹ \ntruncate(x,y)   --è¿åæ°å­xæªç­ä¸ºyä½å°æ°çç»æ \n\n\n\n# èåå½æ°\n\navg(x)            --è¿åæå®åçå¹³åå¼ \ncount(x)          --è¿åæå®åä¸­énullå¼çä¸ªæ° \nmin(x)            --è¿åæå®åçæå°å¼ \nmax(x)            --è¿åæå®åçæå¤§å¼ \nsum(x)            --è¿åæå®åçææå¼ä¹å \ngroup_concat(x)   --å°group byäº§ççåä¸ä¸ªåç»ä¸­çå¼è¿æ¥èµ·æ¥ï¼è¿åä¸ä¸ªå­ç¬¦ä¸²ç»æãéå¸¸æç¨ \n\n\n\n# å­ç¬¦ä¸²å½æ°\n\nascii(char)        --è¿åå­ç¬¦çasciiç å¼ \nbit_length(str)    --è¿åå­ç¬¦ä¸²çæ¯ç¹é¿åº¦ \nconcat(s1,s2...,sn)  \n                   --å°s1,s2...,snè¿æ¥æå­ç¬¦ä¸² \nconcat_ws(sep,s1,s2...,sn) \n                   --å°s1,s2...,snè¿æ¥æå­ç¬¦ä¸²ï¼å¹¶ç¨sepå­ç¬¦é´é \ninsert(str,x,y,instr)  \n                   --å°å­ç¬¦ä¸²strä»ç¬¬xä½ç½®å¼å§ï¼yä¸ªå­ç¬¦é¿çå­ä¸²æ¿æ¢ä¸ºå­ç¬¦ä¸²instrï¼è¿åç»æ \nfind_in_set(str,list) \n                   --åæéå·åéçliståè¡¨ï¼å¦æåç°strï¼è¿åstrå¨listä¸­çä½ç½® \nlcase(str)ælower(str)  \n                   --è¿åå°å­ç¬¦ä¸²strä¸­ææå­ç¬¦æ¹åä¸ºå°ååçç»æ \nleft(str,x)        --è¿åå­ç¬¦ä¸²strä¸­æå·¦è¾¹çxä¸ªå­ç¬¦ \nlength(s)          --è¿åå­ç¬¦ä¸²strä¸­çå­ç¬¦æ° \nltrim(str)         --ä»å­ç¬¦ä¸²strä¸­åæå¼å¤´çç©ºæ ¼ \nposition(substr,str)  \n                   --è¿åå­ä¸²substrå¨å­ç¬¦ä¸²strä¸­ç¬¬ä¸æ¬¡åºç°çä½ç½® \nquote(str)         --ç¨åææ è½¬ä¹strä¸­çåå¼å· \nrepeat(str,srchstr,rplcstr) \n                   --è¿åå­ç¬¦ä¸²stréå¤xæ¬¡çç»æ \nreverse(str)       --è¿åé¢ åå­ç¬¦ä¸²strçç»æ \nright(str,x)       --è¿åå­ç¬¦ä¸²strä¸­æå³è¾¹çxä¸ªå­ç¬¦ \nrtrim(str)         --è¿åå­ç¬¦ä¸²strå°¾é¨çç©ºæ ¼ \nstrcmp(s1,s2)      --æ¯è¾å­ç¬¦ä¸²s1ås2 \ntrim(str)          --å»é¤å­ç¬¦ä¸²é¦é¨åå°¾é¨çææç©ºæ ¼ \nucase(str)æupper(str)  \n                   --è¿åå°å­ç¬¦ä¸²strä¸­ææå­ç¬¦è½¬åä¸ºå¤§ååçç»æ \n\n\n\n# æ¥ææ§å¶å½æ°\n\ncurdate()æcurrent_date()  \n                   --è¿åå½åçæ¥æ \ncurtime()æcurrent_time()  \n                   --è¿åå½åçæ¶é´ \ndate_add(date,interval int keyword) \n                   --è¿åæ¥ædateå ä¸é´éæ¶é´intçç»æ(intå¿é¡»æç§å³é®å­è¿è¡æ ¼å¼å) \nä¾å¦ \nselect date_add(current_date,interval 6 month); \n \ndate_format(date,fmt)   \n                   --ä¾ç§æå®çfmtæ ¼å¼æ ¼å¼åæ¥ædateå¼ \ndate_sub(date,interval int keyword) \n                   --è¿åæ¥ædateå ä¸é´éæ¶é´intçç»æ(intå¿é¡»æç§å³é®å­è¿è¡æ ¼å¼å) \nä¾å¦ \nselect date_sub(current_date,interval 6 month); \n \ndayofweek(date)    --è¿ådateæä»£è¡¨çä¸ææä¸­çç¬¬å å¤©(1~7) \ndayofmonth(date)   --è¿ådateæ¯ä¸ä¸ªæçç¬¬å å¤©(1~31) \ndayofyear(date)    --è¿ådateæ¯ä¸å¹´çç¬¬å å¤©(1~366) \ndayname(date)      --è¿ådateçææåï¼å¦ï¼select dayname(current_date); \nfrom_unixtime(ts,fmt)   \n                   --æ ¹æ®æå®çfmtæ ¼å¼ï¼æ ¼å¼åunixæ¶é´æ³ts \nhour(time)         --è¿åtimeçå°æ¶å¼(0~23) \nminute(time)       --è¿åtimeçåéå¼(0~59) \nmonth(date)        --è¿ådateçæä»½å¼(1~12) \nmonthname(date)    --è¿ådateçæä»½åï¼å¦ï¼select monthname(current_date); \nnow()              --è¿åå½åçæ¥æåæ¶é´ \nquarter(date)      --è¿ådateå¨ä¸å¹´ä¸­çå­£åº¦(1~4) \nä¾å¦ \nselect quarter(current_date); \n \nweek(date)         --è¿åæ¥ædateä¸ºä¸å¹´ä¸­ç¬¬å å¨(0~53) \nyear(date)         --è¿åæ¥ædateçå¹´ä»½(1000~9999) \nä¾å¦ï¼è·åå½åç³»ç»æ¶é´ \nselect from_unixtime(unix_timestamp()); \nselect extract(year_month from current_date); \nselect extract(day_second from current_date); \nselect extract(hour_minute from current_date); \n \nè¿åä¸¤ä¸ªæ¥æå¼ä¹é´çå·®å¼(ææ°) \nselect period_diff(200302,199802); \n \nå¨mysqlä¸­è®¡ç®å¹´é¾ï¼ \nselect date_format(from_days(to_days(now())-to_days(birthday)),'%y')+0 as age from employee; \nè¿æ ·ï¼å¦æbrithdayæ¯æªæ¥çå¹´ææ¥çè¯ï¼è®¡ç®ç»æä¸º0ã \nä¸é¢çsqlè¯­å¥è®¡ç®åå·¥çç»å¯¹å¹´é¾ï¼å³å½birthdayæ¯æªæ¥çæ¥ææ¶ï¼å°å¾å°è´å¼ã \nselect date_format(now(), '%y')  \n- date_format(birthday, '%y')  \n-(date_format(now(), '00-%m-%d')  \n< date_format(birthday, '00-%m-%d')) as age from employee \n\n\n\n# æ§å¶æµå½æ°\n\ncase when [test1] then [result1]...else [default] end  \n                    --å¦ætest1æ¯çï¼åè¿åresult1ï¼å¦åè¿ådefault \ncase [test] when [val1] then [result]...else [default] end   \n                    --å¦æteståvalnç¸ç­ï¼åè¿åresultï¼å¦åè¿ådefault \nif(test,t,f)        --å¦ætestæ¯çï¼è¿åtï¼å¦åè¿åf \nifnull(arg1,arg2)   --å¦æarg1ä¸æ¯ç©ºï¼è¿åarg1ï¼å¦åè¿åarg2 \nnullif(arg1,arg2)   --å¦æarg1=arg2è¿ånullï¼å¦åè¿åarg1 \n \nè¿äºå½æ°çç¬¬ä¸ä¸ªæ¯ifnull()ï¼å®æä¸¤ä¸ªåæ°ï¼å¹¶ä¸å¯¹ç¬¬ä¸ä¸ªåæ°è¿è¡å¤æ­ã \nå¦æç¬¬ä¸ä¸ªåæ°ä¸æ¯nullï¼å½æ°å°±ä¼åè°ç¨èè¿åç¬¬ä¸ä¸ªåæ°ï¼ \nå¦ææ¯null,å°è¿åç¬¬äºä¸ªåæ°ã \nä¾å¦ \nselect ifnull(1,2),  \nifnull(null,10), \nifnull(4*null,'false'); \n \nnullif()å½æ°å°ä¼æ£éªæä¾çä¸¤ä¸ªåæ°æ¯å¦ç¸ç­ï¼å¦æç¸ç­ï¼åè¿ånullï¼ \nå¦æä¸ç¸ç­ï¼å°±è¿åç¬¬ä¸ä¸ªåæ°ã \nä¾å¦ \nselect  nullif(1,1), \n nullif('a','b'), \n nullif(2+3,4+1); \n \nmysqlçif()å½æ°ä¹å¯ä»¥å»ºç«ä¸ä¸ªç®åçæ¡ä»¶æµè¯ï¼ \nè¿ä¸ªå½æ°æä¸ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªæ¯è¦è¢«å¤æ­çè¡¨è¾¾å¼ï¼ \nå¦æè¡¨è¾¾å¼ä¸ºçï¼if()å°ä¼è¿åç¬¬äºä¸ªåæ°ï¼ \nå¦æä¸ºåï¼if()å°ä¼è¿åç¬¬ä¸ä¸ªåæ°ã \nä¾å¦ \nselect if(1<10,2,3),if(56>100,'true','false'); \nif()å½æ°å¨åªæä¸¤ç§å¯è½ç»ææ¶æéåä½¿ç¨ã \nç¶èï¼å¨ç°å®ä¸çä¸­ï¼æä»¬å¯è½åç°å¨æ¡ä»¶æµè¯ä¸­ä¼éè¦å¤ä¸ªåæ¯ã \nå¨è¿ç§æåµä¸ï¼å®åphpåperlè¯­è¨çswitch-caseæ¡ä»¶ä¾ç¨ä¸æ ·ã \n \ncaseå½æ°çæ ¼å¼æäºå¤æï¼éå¸¸å¦ä¸æç¤ºï¼ \ncase [expression to be evaluated] \nwhen [val 1] then [result 1] \nwhen [val 2] then [result 2] \nwhen [val 3] then [result 3] \n...... \nwhen [val n] then [result n] \nelse [default result] \nend \nè¿éï¼ç¬¬ä¸ä¸ªåæ°æ¯è¦è¢«å¤æ­çå¼æè¡¨è¾¾å¼ï¼æ¥ä¸æ¥çæ¯ä¸ç³»åçwhen-thenåï¼ \næ¯ä¸åçç¬¬ä¸ä¸ªåæ°æå®è¦æ¯è¾çå¼ï¼å¦æä¸ºçï¼å°±è¿åç»æã \nææçwhen-thenåå°ä»¥elseåç»æï¼å½endç»æäºææå¤é¨çcaseåæ¶ï¼ \nå¦æåé¢çæ¯ä¸ä¸ªåé½ä¸å¹éå°±ä¼è¿åelseåæå®çé»è®¤ç»æã \nå¦ææ²¡ææå®elseåï¼èä¸ææçwhen-thenæ¯è¾é½ä¸æ¯çï¼mysqlå°ä¼è¿ånullã \ncaseå½æ°è¿æå¦å¤ä¸ç§å¥æ³ï¼ææ¶ä½¿ç¨èµ·æ¥éå¸¸æ¹ä¾¿ï¼å¦ä¸ï¼ \ncase \nwhen [conditional test 1] then [result 1] \nwhen [conditional test 2] then [result 2] \nelse [default result] \nend \nè¿ç§æ¡ä»¶ä¸ï¼è¿åçç»æåå³äºç¸åºçæ¡ä»¶æµè¯æ¯å¦ä¸ºçã \nä¾å¦ï¼ \nselect  case 'green' \n      when 'red' then 'stop' \n      when 'green' then 'go' end; \n \nselect case  9  \nwhen 1 then 'a' \nwhen 2 then 'b' else 'n/a' end; \n \nselect case when (2+2)=4 then 'ok'  \nwhen (2+2)<>4 then 'not ok' end as status; \n \nselect name,if((isactive = 1),'å·²æ¿æ´»','æªæ¿æ´»') as result  \nfrom userlogininfo; \n \nselect fname,lname,(math+sci+lit) as total, \ncase when (math+sci+lit) < 50 then 'd' \n     when (math+sci+lit) between 50 and 150 then 'c' \n     when (math+sci+lit) between 151 and 250 then 'b' \nelse 'a' end as grade from marks ; \n \nselect if(encrypt('sue','ts')=upass,'allow','deny') as loginresult \nfrom users where uname = 'sue'; \n\n\n\n# æ ¼å¼åå½æ°\n\ndate_format(date,fmt)   \n                  -- ä¾ç§å­ç¬¦ä¸²fmtæ ¼å¼åæ¥ædateå¼ \nformat(x,y)       -- æxæ ¼å¼åä¸ºä»¥éå·éå¼çæ°å­åºåï¼yæ¯ç»æçå°æ°ä½æ° \ninet_aton(ip)     -- è¿åipå°åçæ°å­è¡¨ç¤º \ninet_ntoa(num)    -- è¿åæ°å­æä»£è¡¨çipå°å \ntime_format(time,fmt)    \n                  --ä¾ç§å­ç¬¦ä¸²fmtæ ¼å¼åæ¶é´timeå¼ \n-- å¶ä¸­æç®åçæ¯format()å½æ°ï¼ \n-- å®å¯ä»¥æå¤§çæ°å¼æ ¼å¼åä¸ºä»¥éå·é´éçæè¯»çåºåã \n-- ä¾å¦\nselect format(34234.34323432,3) ; \nselect date_format(now(),'%w,%d %m %y %r') ; \nselect date_format(now(),'%y-%m-%d') ; \nselect date_format(19990330,'%y-%m-%d') ; \nselect date_format(now(),'%h:%i %p') ; \nselect inet_aton('10.122.89.47') ; \nselect inet_ntoa(175790383) ; \n\n\n\n# ç±»åè½¬åå½æ°\n\n-- ä¸ºäºè¿è¡æ°æ®ç±»åè½¬åï¼mysqlæä¾äºcast()å½æ°ï¼ \n-- å®å¯ä»¥æä¸ä¸ªå¼è½¬åä¸ºæå®çæ°æ®ç±»åã \n-- ç±»åæï¼binary,char,date,time,datetime,signed,unsigned \n-- ä¾å¦ \nselect cast(now() as signed integer),curdate()+0; \nselect 'f'=binary 'f','f'=cast('f' as binary); \n\n\n\n# ç³»ç»ä¿¡æ¯å½æ°\n\ndatabase()         --è¿åå½åæ°æ®åºå \nbenchmark(count,expr)    \n                   --å°è¡¨è¾¾å¼expréå¤è¿è¡countæ¬¡ \nconnection_id()    --è¿åå½åå®¢æ·çè¿æ¥id \nfound_rows()       --è¿åæåä¸ä¸ªselectæ¥è¯¢è¿è¡æ£ç´¢çæ»è¡æ° \nuser()æsystem_user()   \n                   --è¿åå½åç»éç¨æ·å \nversion()          --è¿åmysqlæå¡å¨ççæ¬ \nä¾å¦ \nselect database(),version(),user(); \nselectbenchmark(9999999,log(rand()*pi())); \n--è¯¥ä¾ä¸­,mysqlè®¡ç®log(rand()*pi())è¡¨è¾¾å¼9999999æ¬¡ã \n\n\n\n# å¼çªå½æ°\n\nrow_number() over()  --æåºï¼1,2,3,4 \nrank() over() --æåºï¼1,1,3,3,5 \ndense_rank() over()  --æåºï¼1,1,2,2,3,4 \nntile() over() --å°æåºæ°æ®åä¸ºnç»ï¼è®°å½ç­çº§æ° \nlag(expr,n) over() --è¿åå½åè¡çånè¡çexprçå¼ \nlead(expr,n) over()  --è¿åå½åè¡ ånè¡çexprçå¼ \n",charsets:{cjk:!0}},{title:"MySQLåºç¡",frontmatter:{title:"MySQLåºç¡",date:"2023-03-03T09:39:47.000Z",permalink:"/pages/c7801c/"},regularPath:"/01.Java/05.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MySQL%E5%9F%BA%E7%A1%80.html",relativePath:"01.Java/05.æ°æ®åº/01.MySQLåºç¡.md",key:"v-062906bf",path:"/pages/c7801c/",headers:[{level:2,title:"MySQLæ§è¡æµç¨",slug:"mysqlæ§è¡æµç¨",normalizedTitle:"mysqlæ§è¡æµç¨",charIndex:2},{level:2,title:"å­å¨å¼æ",slug:"å­å¨å¼æ",normalizedTitle:"å­å¨å¼æ",charIndex:163},{level:3,title:"InnoDBåMyISAMå¯¹æ¯",slug:"innodbåmyisamå¯¹æ¯",normalizedTitle:"innodbåmyisamå¯¹æ¯",charIndex:255},{level:3,title:"InnoDB",slug:"innodb",normalizedTitle:"innodb",charIndex:255},{level:4,title:"åå­æ¶æ",slug:"åå­æ¶æ",normalizedTitle:"åå­æ¶æ",charIndex:634},{level:4,title:"ç£çæ¶æ",slug:"ç£çæ¶æ",normalizedTitle:"ç£çæ¶æ",charIndex:1138},{level:2,title:"ç´¢å¼",slug:"ç´¢å¼",normalizedTitle:"ç´¢å¼",charIndex:233},{level:2,title:"æ¥è¯¢æ§è½ä¼å",slug:"æ¥è¯¢æ§è½ä¼å",normalizedTitle:"æ¥è¯¢æ§è½ä¼å",charIndex:1284},{level:2,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:330}],headersStr:"MySQLæ§è¡æµç¨ å­å¨å¼æ InnoDBåMyISAMå¯¹æ¯ InnoDB åå­æ¶æ ç£çæ¶æ ç´¢å¼ æ¥è¯¢æ§è½ä¼å äºå¡",content:"# MySQLæ§è¡æµç¨\n\n\n\n * è¿æ¥å¨ï¼ç®¡çå®¢æ·ç«¯ç»å½ï¼ç¨æ·èº«ä»½éªè¯ï¼\n * ç¼å­ï¼æ§è¡æ¥è¯¢è¯­å¥æ¶åï¼åæ¥è¯¢ç¼å­ï¼\n * åæå¨ï¼ï¼è§£æå¨ï¼å°SQLè¯­å¥ä¸­å³é®å­è¿è¡è§£æï¼çæä¸é¢å¯¹åºçâè¯­æ³æ âï¼æ¥å¤æ­è¯­æ³æ¯å¦æ­£ç¡®ï¼\n * ä¼åå¨ï¼å°è¯­æ³æ è½¬æ¢ææ§è¡è®¡åï¼å¹¶çæMySQLè®¤ä¸ºæå¥½çæ§è¡è®¡åï¼\n * æ§è¡å¨ï¼æ§è¡è¿ç¨ï¼è°ç¨å­å¨å¼ææä¾çapiï¼æ¥æ§è¡æ§è¡è®¡åï¼æ§è¡ä¹åè¿è¡æééªè¯ï¼è¡¨ãæ°æ®åºãæä½æ¯å¦ç¬¦åæéï¼\n * å­å¨å¼æï¼å®ä¹MySQLä¸­æ°æ®çå­å¨æºå¶ãç´¢å¼åéæºå¶ç­ã\n\n\n# å­å¨å¼æ\n\n\n# InnoDBåMyISAMå¯¹æ¯\n\n 1. InnoDB æ¯æè¡çº§å«çéç²åº¦ï¼MyISAM ä¸æ¯æï¼åªæ¯æè¡¨çº§å«çéç²åº¦ã\n 2. MyISAM ä¸æä¾äºå¡æ¯æãInnoDB æä¾äºå¡æ¯æï¼å®ç°äº SQL æ åå®ä¹äºåä¸ªéç¦»çº§å«ã\n 3. MyISAM ä¸æ¯æå¤é®ï¼è InnoDB æ¯æã\n 4. MyISAM ä¸æ¯æ MVVCï¼è InnoDB æ¯æã\n 5. è½ç¶ MyISAM å¼æå InnoDB å¼æé½æ¯ä½¿ç¨ B+Tree ä½ä¸ºç´¢å¼ç»æï¼ä½æ¯ä¸¤èçå®ç°æ¹å¼ä¸å¤ªä¸æ ·ã\n 6. MyISAM ä¸æ¯ææ°æ®åºå¼å¸¸å´©æºåçå®å¨æ¢å¤ï¼è InnoDB æ¯æã\n 7. InnoDB çæ§è½æ¯ MyISAM æ´å¼ºå¤§ã\n\n\n# InnoDB\n\nå­å¨å¼æå³å®äºMySQLä¼ææ ·å­å¨å¼æï¼ææ ·è¯»åååå¥æ°æ®ï¼ä¹å¾å¤§ç¨åº¦å³å®äºMySQLçè¯»åæ§è½åæ°æ®å¯é æ§ã\n\n# åå­æ¶æ\n\n * InnoDB In-Memory Structures\n * InnoDb On-Disk Structures\n\n\n\nBuffer Pool\n\nMySQLä¸ä¼ç´æ¥å»ä¿®æ¹ç£ççæ°æ®ï¼å ä¸ºè¿æ ·åå¤ªæ¢äºï¼MySQLä¼åæ¹åå­ï¼ç¶åè®°å½redo logï¼ç­æç©ºäºåå·ç£çï¼å¦æåå­éæ²¡ææ°æ®ï¼å°±å»ç£çloadã\n\nBuffer Pooléç¨åºäºLRUçç®æ³æ¥ç®¡çåå­ï¼\n\n\n\nChange Buffer\n\nå¦æè¦ä¿®æ¹MySQLçæ°æ®ï¼å¹¶ä¸åå«è¯¥æ°æ®çé¡µä¸å¨åå­ä¸­ï¼é£ä¹åæä¿®æ¹è®°å°ä¸ä¸ªChange Bufferçå°æ¹ï¼åæ¶è®°å½redo logï¼ç¶åå»¶è¿å°é¡µé¢å è½½å°åå­ä¸­\n\n * mergeï¼Change Buffer -> Buffer Pool\n * purgeï¼Buffer Pool -> Disk\n\nAdaptive Hash Index\n\nMySQLç´¢å¼ï¼ä¸ç®¡æ¯åå­çè¿æ¯ç£ççï¼é½æ¯B+æ ï¼B+æ çæ¥æ¾æ¬¡æ°åå³äºæ çæ·±åº¦ãç©ºé´æ¢æ¶é´çæ¹æ³ï¼MySQLä¼èªå¨è¯ä¼°è¿å¼ è¡¨å»ºç«è¿ä¸ªç´¢å¼æ¯å¦å¼å¾ã\n\nLog Buffer\n\nLog Buffer éçredo logï¼ä¼è¢«å·å°ç£çé\n\n# ç£çæ¶æ\n\n\n\nè¡¨ç©ºé´\n\n * The System Tablespace\n * File-Per-Table Tablespaces\n * General Tablespace\n * Undo Tablespaces\n * Temporary Tablespaces\n\n\n# ç´¢å¼\n\n\n# æ¥è¯¢æ§è½ä¼å\n\n\n# äºå¡",normalizedContent:"# mysqlæ§è¡æµç¨\n\n\n\n * è¿æ¥å¨ï¼ç®¡çå®¢æ·ç«¯ç»å½ï¼ç¨æ·èº«ä»½éªè¯ï¼\n * ç¼å­ï¼æ§è¡æ¥è¯¢è¯­å¥æ¶åï¼åæ¥è¯¢ç¼å­ï¼\n * åæå¨ï¼ï¼è§£æå¨ï¼å°sqlè¯­å¥ä¸­å³é®å­è¿è¡è§£æï¼çæä¸é¢å¯¹åºçâè¯­æ³æ âï¼æ¥å¤æ­è¯­æ³æ¯å¦æ­£ç¡®ï¼\n * ä¼åå¨ï¼å°è¯­æ³æ è½¬æ¢ææ§è¡è®¡åï¼å¹¶çæmysqlè®¤ä¸ºæå¥½çæ§è¡è®¡åï¼\n * æ§è¡å¨ï¼æ§è¡è¿ç¨ï¼è°ç¨å­å¨å¼ææä¾çapiï¼æ¥æ§è¡æ§è¡è®¡åï¼æ§è¡ä¹åè¿è¡æééªè¯ï¼è¡¨ãæ°æ®åºãæä½æ¯å¦ç¬¦åæéï¼\n * å­å¨å¼æï¼å®ä¹mysqlä¸­æ°æ®çå­å¨æºå¶ãç´¢å¼åéæºå¶ç­ã\n\n\n# å­å¨å¼æ\n\n\n# innodbåmyisamå¯¹æ¯\n\n 1. innodb æ¯æè¡çº§å«çéç²åº¦ï¼myisam ä¸æ¯æï¼åªæ¯æè¡¨çº§å«çéç²åº¦ã\n 2. myisam ä¸æä¾äºå¡æ¯æãinnodb æä¾äºå¡æ¯æï¼å®ç°äº sql æ åå®ä¹äºåä¸ªéç¦»çº§å«ã\n 3. myisam ä¸æ¯æå¤é®ï¼è innodb æ¯æã\n 4. myisam ä¸æ¯æ mvvcï¼è innodb æ¯æã\n 5. è½ç¶ myisam å¼æå innodb å¼æé½æ¯ä½¿ç¨ b+tree ä½ä¸ºç´¢å¼ç»æï¼ä½æ¯ä¸¤èçå®ç°æ¹å¼ä¸å¤ªä¸æ ·ã\n 6. myisam ä¸æ¯ææ°æ®åºå¼å¸¸å´©æºåçå®å¨æ¢å¤ï¼è innodb æ¯æã\n 7. innodb çæ§è½æ¯ myisam æ´å¼ºå¤§ã\n\n\n# innodb\n\nå­å¨å¼æå³å®äºmysqlä¼ææ ·å­å¨å¼æï¼ææ ·è¯»åååå¥æ°æ®ï¼ä¹å¾å¤§ç¨åº¦å³å®äºmysqlçè¯»åæ§è½åæ°æ®å¯é æ§ã\n\n# åå­æ¶æ\n\n * innodb in-memory structures\n * innodb on-disk structures\n\n\n\nbuffer pool\n\nmysqlä¸ä¼ç´æ¥å»ä¿®æ¹ç£ççæ°æ®ï¼å ä¸ºè¿æ ·åå¤ªæ¢äºï¼mysqlä¼åæ¹åå­ï¼ç¶åè®°å½redo logï¼ç­æç©ºäºåå·ç£çï¼å¦æåå­éæ²¡ææ°æ®ï¼å°±å»ç£çloadã\n\nbuffer pooléç¨åºäºlruçç®æ³æ¥ç®¡çåå­ï¼\n\n\n\nchange buffer\n\nå¦æè¦ä¿®æ¹mysqlçæ°æ®ï¼å¹¶ä¸åå«è¯¥æ°æ®çé¡µä¸å¨åå­ä¸­ï¼é£ä¹åæä¿®æ¹è®°å°ä¸ä¸ªchange bufferçå°æ¹ï¼åæ¶è®°å½redo logï¼ç¶åå»¶è¿å°é¡µé¢å è½½å°åå­ä¸­\n\n * mergeï¼change buffer -> buffer pool\n * purgeï¼buffer pool -> disk\n\nadaptive hash index\n\nmysqlç´¢å¼ï¼ä¸ç®¡æ¯åå­çè¿æ¯ç£ççï¼é½æ¯b+æ ï¼b+æ çæ¥æ¾æ¬¡æ°åå³äºæ çæ·±åº¦ãç©ºé´æ¢æ¶é´çæ¹æ³ï¼mysqlä¼èªå¨è¯ä¼°è¿å¼ è¡¨å»ºç«è¿ä¸ªç´¢å¼æ¯å¦å¼å¾ã\n\nlog buffer\n\nlog buffer éçredo logï¼ä¼è¢«å·å°ç£çé\n\n# ç£çæ¶æ\n\n\n\nè¡¨ç©ºé´\n\n * the system tablespace\n * file-per-table tablespaces\n * general tablespace\n * undo tablespaces\n * temporary tablespaces\n\n\n# ç´¢å¼\n\n\n# æ¥è¯¢æ§è½ä¼å\n\n\n# äºå¡",charsets:{cjk:!0}},{title:"ãMySQLæ¯æä¹è¿è¡çã",frontmatter:{title:"ãMySQLæ¯æä¹è¿è¡çã",date:"2023-03-03T21:28:30.000Z",permalink:"/pages/e0425d/"},regularPath:"/01.Java/05.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84.html",relativePath:"01.Java/05.æ°æ®åº/02.MySQLæ¯æä¹è¿è¡ç.md",key:"v-3f7f455b",path:"/pages/e0425d/",headers:[{level:2,title:"ç¬¬0ç«  æ¥å­",slug:"ç¬¬0ç« -æ¥å­",normalizedTitle:"ç¬¬0ç«  æ¥å­",charIndex:18},{level:2,title:"ç¬¬1ç« \tè£ä½èªå·±æ¯ä¸ªå°ç½",slug:"ç¬¬1ç« è£ä½èªå·±æ¯ä¸ªå°ç½",normalizedTitle:"ç¬¬1ç« \tè£ä½èªå·±æ¯ä¸ªå°ç½",charIndex:null},{level:2,title:"ç¬¬2ç« \tå¯å¨éé¡¹åç³»ç»åé",slug:"ç¬¬2ç« å¯å¨éé¡¹åç³»ç»åé",normalizedTitle:"ç¬¬2ç« \tå¯å¨éé¡¹åç³»ç»åé",charIndex:null},{level:2,title:"ç¬¬3ç« \tå­ç¬¦éåæ¯è¾è§å",slug:"ç¬¬3ç« å­ç¬¦éåæ¯è¾è§å",normalizedTitle:"ç¬¬3ç« \tå­ç¬¦éåæ¯è¾è§å",charIndex:null},{level:2,title:"ç¬¬4ç« \tInnoDBè®°å½å­å¨ç»æ",slug:"ç¬¬4ç« innodbè®°å½å­å¨ç»æ",normalizedTitle:"ç¬¬4ç« \tinnodbè®°å½å­å¨ç»æ",charIndex:null},{level:2,title:"ç¬¬5ç«  InnoDBæ°æ®é¡µç»æ",slug:"ç¬¬5ç« -innodbæ°æ®é¡µç»æ",normalizedTitle:"ç¬¬5ç«  innodbæ°æ®é¡µç»æ",charIndex:970},{level:2,title:"ç¬¬6ç«  B+æ ç´¢å¼",slug:"ç¬¬6ç« -b-æ ç´¢å¼",normalizedTitle:"ç¬¬6ç«  b+æ ç´¢å¼",charIndex:2897},{level:2,title:"ç¬¬7ç«  B+æ ç´¢å¼çåºç¨",slug:"ç¬¬7ç« -b-æ ç´¢å¼çåºç¨",normalizedTitle:"ç¬¬7ç«  b+æ ç´¢å¼çåºç¨",charIndex:3430},{level:2,title:"ç¬¬8ç«  æ°æ®çå®¶",slug:"ç¬¬8ç« -æ°æ®çå®¶",normalizedTitle:"ç¬¬8ç«  æ°æ®çå®¶",charIndex:4194},{level:2,title:"ç¬¬9ç«  InnoDBçè¡¨ç©ºé´",slug:"ç¬¬9ç« -innodbçè¡¨ç©ºé´",normalizedTitle:"ç¬¬9ç«  innodbçè¡¨ç©ºé´",charIndex:4549},{level:2,title:"ç¬¬10ç«  åè¡¨è®¿é®æ¹å¼",slug:"ç¬¬10ç« -åè¡¨è®¿é®æ¹å¼",normalizedTitle:"ç¬¬10ç«  åè¡¨è®¿é®æ¹å¼",charIndex:4568},{level:2,title:"ç¬¬11ç«  è¿æ¥çåç",slug:"ç¬¬11ç« -è¿æ¥çåç",normalizedTitle:"ç¬¬11ç«  è¿æ¥çåç",charIndex:4584},{level:2,title:"ç¬¬12ç«  åºäºææ¬çä¼å",slug:"ç¬¬12ç« -åºäºææ¬çä¼å",normalizedTitle:"ç¬¬12ç«  åºäºææ¬çä¼å",charIndex:4888},{level:3,title:"ææ¬",slug:"ææ¬",normalizedTitle:"ææ¬",charIndex:3872},{level:3,title:"åºäºææ¬çä¼åæ­¥éª¤",slug:"åºäºææ¬çä¼åæ­¥éª¤",normalizedTitle:"åºäºææ¬çä¼åæ­¥éª¤",charIndex:5104},{level:3,title:"åºäºç´¢å¼ç»è®¡æ°æ®çææ¬è®¡ç®",slug:"åºäºç´¢å¼ç»è®¡æ°æ®çææ¬è®¡ç®",normalizedTitle:"åºäºç´¢å¼ç»è®¡æ°æ®çææ¬è®¡ç®",charIndex:5204},{level:3,title:"è¿æ¥æ¥è¯¢çææ¬",slug:"è¿æ¥æ¥è¯¢çææ¬",normalizedTitle:"è¿æ¥æ¥è¯¢çææ¬",charIndex:5397},{level:4,title:"æ¡ä»¶è¿æ»¤",slug:"æ¡ä»¶è¿æ»¤",normalizedTitle:"æ¡ä»¶è¿æ»¤",charIndex:5408},{level:4,title:"ä¸¤è¡¨è¿æ¥çææ¬åæ",slug:"ä¸¤è¡¨è¿æ¥çææ¬åæ",normalizedTitle:"ä¸¤è¡¨è¿æ¥çææ¬åæ",charIndex:5609},{level:4,title:"å¤è¡¨è¿æ¥çææ¬åæ",slug:"å¤è¡¨è¿æ¥çææ¬åæ",normalizedTitle:"å¤è¡¨è¿æ¥çææ¬åæ",charIndex:5730},{level:3,title:"è°èææ¬å¸¸æ°",slug:"è°èææ¬å¸¸æ°",normalizedTitle:"è°èææ¬å¸¸æ°",charIndex:5842},{level:2,title:"ç¬¬13ç«  InnoDBç»è®¡æ°æ®æ¯å¦ä½æ¶éç",slug:"ç¬¬13ç« -innodbç»è®¡æ°æ®æ¯å¦ä½æ¶éç",normalizedTitle:"ç¬¬13ç«  innodbç»è®¡æ°æ®æ¯å¦ä½æ¶éç",charIndex:5938},{level:2,title:"ç¬¬14ç«  åºäºè§åçä¼å",slug:"ç¬¬14ç« -åºäºè§åçä¼å",normalizedTitle:"ç¬¬14ç«  åºäºè§åçä¼å",charIndex:5964},{level:3,title:"ä¸äºç®åçä¼å",slug:"ä¸äºç®åçä¼å",normalizedTitle:"ä¸äºç®åçä¼å",charIndex:5981},{level:3,title:"å¸¸éè¡¨æ£æµ",slug:"å¸¸éè¡¨æ£æµ",normalizedTitle:"å¸¸éè¡¨æ£æµ",charIndex:6160},{level:3,title:"å¤è¿æ¥æ¶é¤",slug:"å¤è¿æ¥æ¶é¤",normalizedTitle:"å¤è¿æ¥æ¶é¤",charIndex:6249},{level:3,title:"å­æ¥è¯¢MySQLæ§è¡è¿ç¨",slug:"å­æ¥è¯¢mysqlæ§è¡è¿ç¨",normalizedTitle:"å­æ¥è¯¢mysqlæ§è¡è¿ç¨",charIndex:6397},{level:4,title:"ä¸ç¸å³æ éå­æ¥è¯¢",slug:"ä¸ç¸å³æ éå­æ¥è¯¢",normalizedTitle:"ä¸ç¸å³æ éå­æ¥è¯¢",charIndex:6413},{level:4,title:"ç¸å³æ éå­æ¥è¯¢",slug:"ç¸å³æ éå­æ¥è¯¢",normalizedTitle:"ç¸å³æ éå­æ¥è¯¢",charIndex:6414},{level:4,title:"INå­æ¥è¯¢çä¼å",slug:"inå­æ¥è¯¢çä¼å",normalizedTitle:"inå­æ¥è¯¢çä¼å",charIndex:6803},{level:4,title:"å°å­æ¥è¯¢è½¬æ¢ä¸ºsemi-join",slug:"å°å­æ¥è¯¢è½¬æ¢ä¸ºsemi-join",normalizedTitle:"å°å­æ¥è¯¢è½¬æ¢ä¸ºsemi-join",charIndex:7169},{level:2,title:"ç¬¬15ç«  EXPLAINè¯¦è§£",slug:"ç¬¬15ç« -explainè¯¦è§£",normalizedTitle:"ç¬¬15ç«  explainè¯¦è§£",charIndex:8540},{level:3,title:"æ§è¡è¾åºä¸­åå",slug:"æ§è¡è¾åºä¸­åå",normalizedTitle:"æ§è¡è¾åºä¸­åå",charIndex:8617},{level:4,title:"table",slug:"table",normalizedTitle:"table",charIndex:4062},{level:4,title:"id",slug:"id",normalizedTitle:"id",charIndex:4514},{level:4,title:"select_type",slug:"select-type",normalizedTitle:"select_type",charIndex:8781},{level:4,title:"type",slug:"type",normalizedTitle:"type",charIndex:2024},{level:4,title:"possible_keysåkey",slug:"possible-keysåkey",normalizedTitle:"possible_keysåkey",charIndex:15798},{level:4,title:"key_len",slug:"key-len",normalizedTitle:"key_len",charIndex:8846},{level:4,title:"ref",slug:"ref",normalizedTitle:"ref",charIndex:8856},{level:4,title:"rows",slug:"rows",normalizedTitle:"rows",charIndex:8863},{level:4,title:"filtered",slug:"filtered",normalizedTitle:"filtered",charIndex:8870},{level:2,title:"ç¬¬16ç«  optimizer traceçç¥å¥åæ",slug:"ç¬¬16ç« -optimizer-traceçç¥å¥åæ",normalizedTitle:"ç¬¬16ç«  optimizer traceçç¥å¥åæ",charIndex:15969},{level:2,title:"ç¬¬17ç«  InnoDBçBuffer Pool",slug:"ç¬¬17ç« -innodbçbuffer-pool",normalizedTitle:"ç¬¬17ç«  innodbçbuffer pool",charIndex:15999},{level:2,title:"ç¬¬18ç«  äºå¡",slug:"ç¬¬18ç« -äºå¡",normalizedTitle:"ç¬¬18ç«  äºå¡",charIndex:16391},{level:2,title:"ç¬¬19ç«  redoæ¥å¿",slug:"ç¬¬19ç« -redoæ¥å¿",normalizedTitle:"ç¬¬19ç«  redoæ¥å¿",charIndex:16425},{level:2,title:"ç¬¬20ç«  undoæ¥å¿",slug:"ç¬¬20ç« -undoæ¥å¿",normalizedTitle:"ç¬¬20ç«  undoæ¥å¿",charIndex:16441},{level:2,title:"ç¬¬21ç«  äºå¡éç¦»çº§å«åMVCC",slug:"ç¬¬21ç« -äºå¡éç¦»çº§å«åmvcc",normalizedTitle:"ç¬¬21ç«  äºå¡éç¦»çº§å«åmvcc",charIndex:16457},{level:2,title:"ç¬¬22ç«  é",slug:"ç¬¬22ç« -é",normalizedTitle:"ç¬¬22ç«  é",charIndex:16478}],headersStr:"ç¬¬0ç«  æ¥å­ ç¬¬1ç« \tè£ä½èªå·±æ¯ä¸ªå°ç½ ç¬¬2ç« \tå¯å¨éé¡¹åç³»ç»åé ç¬¬3ç« \tå­ç¬¦éåæ¯è¾è§å ç¬¬4ç« \tInnoDBè®°å½å­å¨ç»æ ç¬¬5ç«  InnoDBæ°æ®é¡µç»æ ç¬¬6ç«  B+æ ç´¢å¼ ç¬¬7ç«  B+æ ç´¢å¼çåºç¨ ç¬¬8ç«  æ°æ®çå®¶ ç¬¬9ç«  InnoDBçè¡¨ç©ºé´ ç¬¬10ç«  åè¡¨è®¿é®æ¹å¼ ç¬¬11ç«  è¿æ¥çåç ç¬¬12ç«  åºäºææ¬çä¼å ææ¬ åºäºææ¬çä¼åæ­¥éª¤ åºäºç´¢å¼ç»è®¡æ°æ®çææ¬è®¡ç® è¿æ¥æ¥è¯¢çææ¬ æ¡ä»¶è¿æ»¤ ä¸¤è¡¨è¿æ¥çææ¬åæ å¤è¡¨è¿æ¥çææ¬åæ è°èææ¬å¸¸æ° ç¬¬13ç«  InnoDBç»è®¡æ°æ®æ¯å¦ä½æ¶éç ç¬¬14ç«  åºäºè§åçä¼å ä¸äºç®åçä¼å å¸¸éè¡¨æ£æµ å¤è¿æ¥æ¶é¤ å­æ¥è¯¢MySQLæ§è¡è¿ç¨ ä¸ç¸å³æ éå­æ¥è¯¢ ç¸å³æ éå­æ¥è¯¢ INå­æ¥è¯¢çä¼å å°å­æ¥è¯¢è½¬æ¢ä¸ºsemi-join ç¬¬15ç«  EXPLAINè¯¦è§£ æ§è¡è¾åºä¸­åå table id select_type type possible_keysåkey key_len ref rows filtered ç¬¬16ç«  optimizer traceçç¥å¥åæ ç¬¬17ç«  InnoDBçBuffer Pool ç¬¬18ç«  äºå¡ ç¬¬19ç«  redoæ¥å¿ ç¬¬20ç«  undoæ¥å¿ ç¬¬21ç«  äºå¡éç¦»çº§å«åMVCC ç¬¬22ç«  é",content:"é½è¯´è¿æ¬ä¹¦å¥½ï¼æåè¦å»çç\n\n\n# ç¬¬0ç«  æ¥å­\n\nå«æéç« å­¦ä¹ ï¼ä¸è¦è·³çéè¯»\n\n\n# ç¬¬1ç«  è£ä½èªå·±æ¯ä¸ªå°ç½\n\nä»ç»äºä¸çªMySQLå®¢æ·ç«¯ï¼æå¡å¨æ¨¡å¼ï¼å®¢æ·ç«¯è¿æ¥æå¡å¨æ¹å¼ã\n\næå¡å¨å¤çå®¢æ·ç«¯è¯·æ±ï¼å·ä½æ­¥éª¤åMySQLæ§è¡è¿ç¨ä¸æ ·ãMySQLæ§è¡æµç¨\n\n\n# ç¬¬2ç«  å¯å¨éé¡¹åç³»ç»åé\n\næ²¡ç\n\n\n# ç¬¬3ç«  å­ç¬¦éåæ¯è¾è§å\n\nå­ç¬¦é\n\næä»¬ç¥éï¼è®¡ç®æºä¸­å®éå­å¨çæ¯äºè¿å¶æ°æ®ï¼é£å®æ¯æä¹å­å¨å­ç¬¦ä¸²å¢ï¼å½ç¶æ¯å»ºç«å­ç¬¦ä¸äºè¿å¶æ°æ®çæ å°å³ç³»äºã\n\n * æåªäºå­ç¬¦æ å°æäºè¿å¶æ°æ®\n * å­ç¬¦æ å°å°äºè¿å¶æ°æ®å«ç¼ç ï¼åä¹å«è§£ç \n\næ¯è¾è§å\n\nä¸åºåå¤§å°åï¼å¨é¨è½¬ä¸ºå¤§åæèå°å\n\nMySQLä¸­çå­ç¬¦é\n\n * utf8mb3: âéå²âè¿çutf8ï¼ä½¿ç¨1-3å­èè¡¨ç¤ºå­ç¬¦ï¼\n * utf8ub4: æ­£å®çutf8ï¼ä½¿ç¨1-4å­èè¡¨ç¤ºå­ç¬¦ã\n\nMySQLä¸­çæ¯è¾è§å\n\n * utf8_general_ci: ciï¼case insensitiveï¼ä¸åºåå¤§å°åã\n\n\n# ç¬¬4ç«  InnoDBè®°å½å­å¨ç»æ\n\né¡µæ¯InnoDBä¸­ç£çååå­äº¤äºçåºæ¬åä½ï¼ä¹æ¯InnoDBç®¡çå­å¨ç©ºé´çåºæ¬åä½ï¼é»è®¤å¤§å°ä¸º16KBãä¹å°±æ¯è¯´ï¼ä¸æ¬¡ä»ç£çä¸­è¯»ååå®¹å°åå­ä¸­æ¯16KBï¼ä»åå®¹åå°ç£çï¼ä¹æ¯16KBã\n\nCOMPACTè¡æ ¼å¼ï¼é¢å¤ä¿¡æ¯ï¼çå®æ°æ®ï¼\n\n      åé¿å­æ®µé¿åº¦åè¡¨   NULLå¼åè¡¨   è®°å½å¤´ä¿¡æ¯   å1çå¼   å2çå¼   ...   åNçå¼\nè®°å½1   01 03 04   00                                    \nè®°å½2   03 04      06                                    \n\nåé¿å­æ®µé¿åº¦åè¡¨\n\nåå   å­å¨åå®¹     åå®¹é¿åº¦ï¼åå­è¿å¶ï¼\nc1   'aaaa'   0x04\nc3   'bbb'    0x03\nc4   'd'      0x01\n\né£ä¹å°±éåºå­å¨åé¿å­æ®µçé¿åº¦\n\nNULLå¼åè¡¨\n\nå¦æä¸ä¸ªè¡¨ä¸­æ9ä¸ªå¼åè®¸ä¸ºNULLçåï¼åè¿ä¸ªè®°å½çNULLå¼åè¡¨é¨åéè¦2ä¸ªå­èè¡¨ç¤ºï¼è¿ä¸ªæ°æ®ä¸­çæ¯ä¸ä½ä»£è¡¨çå®æ°æ®æ¯å¦ä¸ºNULLã\n\nå¦c3, c4ä½NULLï¼åå¼ä½0x110 ä¹å°±æ¯06ã\n\n\n# ç¬¬5ç«  InnoDBæ°æ®é¡µç»æ\n\né¡µæ¯InnoDBç®¡çå­å¨ç©ºé´çåºæ¬åä½ï¼ä¸ä¸ªé¡µçå¤§å°ä¸è¬æ¯16KBãInnoDBä¸ºäºä¸åçç®çè®¾è®¡äºå¤ç§ä¸åç±»åçé¡µï¼è¿éä»ç»å­æ¾è®°å½çé¡µï¼æ°æ®é¡µï¼ç´¢å¼é¡µï¼ã\n\nInnoDBæ°æ®é¡µç»æ\n\nåç§°                   ä¸­æå             å ç¨ç©ºé´å¤§å°   ç®åæè¿°\nFile Header          æä»¶å¤´é¨            38å­è     é¡µçä¸äºéç¨ä¿¡æ¯\nPage Header          é¡µé¢å¤´é¨            56å­è     æ°æ®é¡µä¸æçä¸äºä¿¡æ¯\nInfimum + Supremum   é¡µé¢ä¸­çæå°è®°å½åæå¤§è®°å½   26å­è     ä¸¤ä¸ªèæçè®°å½\nUser Records         ç¨æ·è®°å½            ä¸ç¡®å®      ç¨æ·å­å¨çè®°å½åå®¹\nFree Space           ç©ºé²ç©ºé´            ä¸ç¡®å®      é¡µä¸­å°æªä½¿ç¨çç©ºé´\nPage Directory       é¡µç®å½             ä¸ç¡®å®      é¡µä¸­æäºè®°å½çç¸å¯¹ä½ç½®\nFile Trailer         æä»¶å°¾é¨            8å­è      æ ¡éªé¡µæ¯å¦å®æ´\n\nç¨æ·è®°å½\n\næä»¬èªå·±å­å¨çæ°æ®ä¸å¼å§å¨Free Spaceé¨åï¼éåå°è¿é¨åååå°User Recordsä¸­ï¼å½Free Spaceå¨é¨ç¨å®æ¶ï¼ä»£è¡¨è¿ä¸ªé¡µä½¿ç¨å®äºãå¦æææ°çè®°å½æå¥ï¼å°±éè¦å»ç³è¯·æ°çé¡µäºã\n\nä¸ä¸ç« çè¡è®°å½æ ¼å¼ä¸­ç è®°å½å¤´ä¿¡æ¯\n\n\n\nè®°å½å¤´ä¿¡æ¯\n\nåç§°             å¤§å°(æ¯ç¹ã   æè¿°\né¢çä½ 1          1        æ²¡æä½¿ç¨\né¢çä½ 2          1        æ²¡æä½¿ç¨\ndeleted_flag   1        æ è®°è¯¥è®°å½æ¯å¦è¢«å é¤\nmin_rec_flag   1        B+ æ ä¸­æ¯å±éå¶å­èç¹ä¸­ç æå°çç®å½é¡¹è®°å½é½ä¼æ·»å è¯¥æ è®°\nn_owned        4        ä¸ä¸ªé¡µé¢ä¸­çè®°å½ä¼è¢«åæè¥å¹²ä¸ªç»,æ¯ä¸ªç»ä¸­æä¸ä¸ªè®°å½æ¯\"å¸¦å¤´å¤§å¥å¶ä½çè®°å½é½æ¯\"å°å¼\"ï¼\"å¸¦å¤´å¤§å¥\"è®°å½ç\n                        n_ownedå¼ä»£è¡¨è¯¥ç»ä¸­ææçè®°å½æ¡æ°ï¼\"å°å¼\"è®°å½ç n_owned å¼é½ä¸º 0\nheap_no        13       è¡¨ç¤ºå½åè®°å½å¨é¡µé¢å ä¸­çç¸å¯¹ä½ç½®\nrecord_type    3        è¡¨ç¤ºå½åè®°å½çç±»å ã0 è¡¨ç¤ºæ®éè®°å½ï¼1 è¡¨ç¤º B+ æ éå¶èç¹çç®å½é¡¹è®°å½ . 2 è¡¨ç¤º Infimum è®°å½ ï¼3\n                        è¡¨ç¤º Supremum è®°å½\nnext record    16       è¡¨ç¤ºä¸ä¸æ¡è®°å½çç¸å¯¹ä½ç½®\n\né¡µç®å½\n\n\n\nè¦æ¾ä¸»é®å¼ä¸ºxçè®°å½ï¼éè¿äºåæ³ç¡®å®è¯¥è®°å½æå¨åç»å¯¹åºçæ§½ï¼ç¶åæ¾å°è¯¥æ§½æå¨åç»ä¸­ä¸»é®å¼æå°çé£æ¡è®°å½ï¼ç¶åéè¿è®°å½çnext_recordå±æ§éåè¯¥æ§½æå¨çç»ä¸­çåä¸ªè®°å½ã\n\né¡µé¢çå¤´é¨\n\nå­å¨æ°æ®é¡µä¸­çè®°å½ç¶æä¿¡æ¯ï¼æ¯å¦æ°æ®é¡µä¸­å·²ç»å­å¨äºå¤å°æ¡è®°å½ãFree Spaceå¨é¡µé¢ä¸­çå°ååç§»éãé¡µç®å½ä¸­å­å¨äºå¤å°ä¸ªæ§½ç­ã\n\næä»¶å¤´é¨\n\nå­æ¾åç§é¡µçä¿¡æ¯ï¼æ¯å¦è¿ä¸ªé¡µçç¼å·æ¯å¤å°ï¼ä¸ä¸é¡µä¸ä¸é¡µæ¯è°ã\n\næä»¶å°¾é¨\n\n * å4å­èä»£è¡¨é¡µçæ ¡éªåï¼éªè¯è¯¥é¡µæ¯å¦å®æ´\n * å4å­èä»£è¡¨é¡µé¢è¢«æåä¿®æ¹æ¶å¯¹åºçLSNçå4å­è\n\næ»ç»\n\næ¯ä¸ªè®°å½çå¤´ä¿¡æ¯ä¸­é½æä¸ä¸ª next record å±æ§ ,ä»èå¯ä»¥ ä½¿é¡µ ä¸­ç ææè®°å½ä¸²èæä¸ä¸ªååé¾è¡¨.\n\nlnnoDB ä¼æé¡µä¸­çè®°å½ååä¸ºè¥å¹²ä¸ªç»,æ¯ä¸ªç»çæåä¸ä¸ªè®°å½çå°ååç§»éä½ä¸ºä¸ä¸ªæ§½,å­æ¾å¨ Page Directory ä¸­ä¸ä¸ªæ§½å ç¨ 2 å­è.å¨ä¸ä¸ªé¡µä¸­æ ¹æ®ä¸»é®æ¥æ¾è®°å½æ¯éå¸¸å¿«ç,åä¸ºä¸¤æ­¥.\n\n 1. éè¿ äºåæ³ç¡®å®è¯¥è®°å½æå¨å ç»å¯¹åºçæ§½,å¹¶æ¾å°è¯¥ç³æå¨åç»ä¸­ä¸»é®å¼æå°çé£æ¡è®°å½ã\n\n 2. éè¿è®°å½ç next record å±æ§éåè¯¥æ§½æå¨çç»ä¸­ çåä¸ªè®°å½.æ¯ä¸ªæ°æ®é¡µç File Header é¨å é½æä¸ ä¸ä¸ªé¡µåä¸ä¸ä¸ªé¡µçç¼å·,æä»¥ææçæ°æ®é¡µä¼ç»æä¸ä¸ªååé¾è¡¨ã\n\nå¨å°é¡µä»åå­å·æ°å°ç£çæ¶ , ä¸ºäºä¿è¯é¡µçå®æ´æ§ ,é¡µé¦ å **é¡µå°¾ **é½ä¼å­å¨é¡µä¸­æ°æ®çæ ¡éªåï¼ä»¥åé¡µé¢æ åä¿®æ¹æ¶å¯¹åº ç LSN å¼ (é¡µå°¾åªä¼å­ å¨ LSN å¼çå 4 å­è) . å¦æé¡µé¦åé¡µå°¾çæ ¡éªåä»¥å LSN å¼æ ¡éªä¸æå , å°±è¯´æå·æ°æé´åºç°äºé®é¢ã\n\n\n# ç¬¬6ç«  B+æ ç´¢å¼\n\nåä¸ªæ°æ®é¡µå¯ä»¥ç»æä¸ä¸ªååé¾è¡¨ï¼æ°æ®é¡µä¸­æ¯æ¡è®°å½ä¼æç§ä¸»é®å¼ä»å°å°å¤§ç»æä¸ä¸ªååé¾è¡¨ãæ¯ä¸ªæ°æ®é¡µä¼çæä¸ä¸ªé¡µç®å½ï¼éè¿é¡µç®å½äºåæ³æ¾å°å¯¹åºçæ§½ï¼åå»é¡ºåºéåæ§½å¯¹åºçåç»ä¸­çè®°å½ã\n\n\n\nå­æ¾é¡µç®å½çé¡µï¼å¤ç¨åæ¥çæ°æ®é¡µï¼æä»¥è®°å½ä¸­çè®°å½å¤´ä¿¡æ¯record_typeï¼ç¨æ¥æ è®°æ¯ç¨æ·è®°å½è¿æ¯ç®å½é¡¹ãå­æ¾é¡µç®å½çé¡µï¼ä¸­çè®°å½åªå­æ¾ä¸¤ä¸ªå¼ï¼ä¸»é®å¼ä¸å¯¹åºçé¡µå·ã\n\n\n\nèç°ç´¢å¼\n\nä½¿ç¨è®°å½ä¸»é®å¼çå¤§å°è¿è¡è®°å½åé¡µçæåº\n\n 1. é¡µåçèç¹æç§ä¸»é®å¼å¤§å°ææä¸ä¸ªååé¾è¡¨ï¼é¡µåçèç¹åæè¥å¹²ä¸ªç»ï¼æ¯ç»ä¸­æå¤§ä¸»é®å¼å½æä¸ä¸ªæ§½ï¼\n 2. å­æ¾é¡µç®å½çé¡µï¼æ ¹æ®ä¸»é®å¼å¤§å°ææååé¾è¡¨ï¼\n 3. å­æ¾ç¨æ·è®°å½çé¡µï¼æ ¹æ®ä¸»é®å¼å¤§å°ææååé¾è¡¨ï¼\n\nB+æ çå¶å­èç¹å­å¨çæ¯å®æ´çç¨æ·è®°å½ã\n\näºçº§ç´¢å¼\n\nå­æ¾é¡µç®å½çé¡µä¸­çè®°å½åªå­æ¾å¤ä¸ªå¼ï¼ä¸»é®å¼ï¼ç´¢å¼å¼ä¸å¯¹åºçé¡µå·ãå¶å­èç¹åå«ç´¢å¼å¼ä¸ä¸»é®å¼ï¼åçæä¸é¢B+æ ï¼ä½å¶å­èç¹ä¸åå«å®æ´è®°å½ï¼æ¾å°å¶å­èç¹å¯¹åºçä¸»é®å¼ï¼åå°ä¸»é®ç´¢å¼ä¸­æ¥æ¾å®æ´è®°å½ï¼éè¦è¿è¡ä¸æ¬¡åè¡¨æä½ï¼\n\nèåç´¢å¼\n\nå­æ¾é¡µç®å½çé¡µä¸­çè®°å½åªå­æ¾å¤ä¸ªå¼ï¼ä¸»é®å¼ï¼nä¸ªç´¢å¼å¼ä¸å¯¹åºçé¡µå·ã\n\nMyISAMä¸­çç´¢å¼ï¼é½æ¯äºçº§ç´¢å¼ï¼å¶å®ç±»ä¼¼ã\n\n\n# ç¬¬7ç«  B+æ ç´¢å¼çåºç¨\n\næ¯ä¸ªç´¢å¼é½å¯¹åºä¸é¢B+æ ãB+æ åä¸ºå¥½å¤å±ï¼æä¸è¾¹ä¸å±æ¯å¶å­èç¹ï¼å¶ä½æ¯åèç¹ãææç¨æ·è®°å½é½å­å¨å¨B+æ çå¶å­ç»ç¹ï¼ææç®å½é¡¹è®°å½é½å­å¨å¨åèç¹ã\n\nInnoDBå­å¨å¼æä¼èªå¨ä¸ºä¸»é®ç®åèç°ç´¢å¼ï¼èç°ç´¢å¼çå¶å­èç¹åå«å®æ´çç¨æ·è®°å½ãä½æ¯å»ºç«çäºçº§ç´¢å¼ä¸­çå¶å­èç¹åªåå«ä¸»é®åç´¢å¼åï¼è¥éè¦æ¥æ¾å°éç´¢å¼åï¼åéè¦æ¿å°ä¸»é®å¼ï¼å°èç°ç´¢å¼ä¸­åæ¥æ¾ä¸æ¬¡ï¼ç®ç§°åè¡¨ã\n\nèç°ç´¢å¼åäºçº§ç´¢å¼ç¤ºæå¾\n\n\n\n\n\næ«æåºé´åè¾¹çæ¡ä»¶åæ\n\nç´¢å¼å¨ç©ºé´åæ¶é´ä¸é½ä¼âæåè¿â\n\n * ç©ºé´ä¸çä»£ä»·\n\næ¯å»ºç«ä¸ä¸ªç´¢å¼ï¼é½è¦ä¸ºå®å»ºç«ä¸é¢B+æ ãæ¯ä¸é¢B+æ çæ¯ä¸ä¸ªèç¹é½æ¯ä¸ä¸ªæ°æ®é¡µï¼ä¸ä¸ªèç¹ä¸­åå«å¤æ¡è®°å½ï¼è¿åå«ä¸äºå¶å®ä¿¡æ¯ï¼ã\n\n * æ¶é´ä¸çä»£ä»·\n   \n   å ä¸ºç´¢å¼åçå¼æ¯æåºçå³ç³»ï¼å¦ææ°æå¥çæ°æ®ï¼æå¯è½ä¼é æé¡µé¢åè£ãé¡µé¢åæ¶ãè¿è¦ç»´æ¤ç´¢å¼åä¸­çæåºå³ç³»ã\n   \n   å¨æ§è¡æ¥è¯¢è¯­å¥åï¼é¦åè¦çæä¸ä¸ªæ§è¡è®¡åãMySQLä¼åæä½¿ç¨ä¸åç´¢å¼æ§è¡æ¥è¯¢æéè¦çææ¬ï¼ç´¢å¼è¶å¤åæçæ¶é´è¶é¿ã\n\næ«æåºé´åè¾¹çåæ\n\nå»ç¿»ä¹¦å§ã\n\næ´å¥½çåå»ºç´¢å¼åä½¿ç¨ç´¢å¼\n\n 1. åªä¸ºç¨äºæç´¢ãæåºæåç»çååå»ºç´¢å¼\n 2. èèç´¢å¼åä¸­ä¸éå¤å¼çä¸ªæ°\n 3. ç´¢å¼åçç±»åå°½éå°\n 4. ä¸ºååç¼å»ºç«ç´¢å¼ï¼èçç©ºé´\n 5. ç´¢å¼è¦çï¼åªæ¥è¯¢ç´¢å¼åï¼é¿ååè¡¨\n 6. è®©ç´¢å¼åä»¥ååçå½¢å¼å¨æç´¢æ¡ä»¶ä¸­åç¬åºç°\n\nselect * from single_table where key2 * 2 < 4;  #ä¸éç¨ç´¢å¼ï¼å¨è¡¨æ«æ\nselect * from single_table where key2  < 4/2;   \n\n\n 7. æ°æå¥è®°å½æ¶ä¸»é®å¤§å°å¯¹æççå½±åï¼å¿½å¤§å¿½å°çæå¥å¯è½ä¼é æé¡µé¢åè£\n\n\n# ç¬¬8ç«  æ°æ®çå®¶\n\nMySQL æå¡å¨ç¨åºå¨å¯å¨æ¶ä¼å°æ°æ®ç®å½ä¸­å è½½æ°æ®,è¿è¡è¿ç¨ä¸­äº§ççæ°æ®ä¹ä¼è¢«å­å¨å°æ°æ®ç®å½ä¸­ç³»ç»åéä¹æ­æ²è¡¨æäºæ°æ®ç®å½çè·¯å¾ã\n\næ¯ä¸ªæ°æ®åºé½å¯¹åºçæ°æ®ç®å½ä¸çä¸ä¸ªå­ç®å½ï¼è¯¥å­ç®å½ä¸­åå«ä¸ä¸ªåä¸º db.opt çæä»¶è¿ä¸ªæä»¶åå«äºè¯¥æ°æ®åºçä¸äºå±æ§ï¼æ¯å¦è¯¥æ°æ®åºçå­ç¬¦éåæ¯è¾è§åç­ã\n\nå¯¹äºInnoDB å­å¨å¼ææ¥è¯´ :\n\n * å¦æä½¿ç¨ç³»ç»è¡¨ç©ºé´å­å¨è¡¨ä¸­çæ°æ®,é£ä¹åªä¼å¨è¯¥è¡¨æå¨æ°æ®åºå¯¹åºçå­ç®å½ä¸åå»ºä¸ä¸ªåä¸º\"è¡¨å frm\" çæä»¶,è¡¨ä¸­çæ°æ®ä¼å­å¨å¨ç³»ç»è¡¨ç©ºé´å¯¹åºçæä»¶ä¸­ï¼\n * å¦æä½¿ç¨ç¬ç«è¡¨ç©ºé´å­å¨è¡¨ä¸­çæ°æ®ï¼é£ä¹ä¼å¨è¯¥è¡¨æå¨æ°æ®åºå¯¹åºçå­ç®å½ä¸åå»ºä¸ä¸ªåä¸º\"è¡¨å.frm\"çæä»¶åä¸ä¸ªåä¸º\"è¡¨å.idb\"çæä»¶ï¼è¡¨ä¸­çæ°æ®ä¼å­å¨è¿ä¸ª\"è¡¨å.idb\"æä»¶ä¸­ã\n\n\n# ç¬¬9ç«  InnoDBçè¡¨ç©ºé´\n\n\n# ç¬¬10ç«  åè¡¨è®¿é®æ¹å¼\n\n\n# ç¬¬11ç«  è¿æ¥çåç\n\nä»æ¬è´¨ä¸è¯´ï¼è¿æ¥å°±æ¯å°å¤ä¸ªè¡¨çæ°æ®æ¥è¯¢åºæ¥ä¾æ¬¡å¹éï¼ç»æä¸ä¸ªç»æéè¿åãå¦ææ²¡æè¿æ»¤æ¡ä»¶ï¼äº§ççç»æéé£ä¹å°±æ¯ç¬å¡å°ç§¯ã\n\nMySQLä¸­åä¸ºåè¿æ¥åå¤è¿æ¥ï¼åè¿æ¥ä¹å°±æ¯åå¹éä¸­çäº¤éï¼å¤è¿æ¥å°±æ¯ï¼è¢«é©±å¨è¡¨ä¸­ææ²¡ææ°æ®å¹éä¸é©±å¨è¡¨å¹éï¼é½ä¿çé©±å¨è¡¨ä¸­çæ°æ®ï¼åè¿æ¥åä¸ä¿å­ã\n\nåµå¥å¾ªç¯è¿æ¥ç®æ³æ¯å¼é©±å¨è¡¨åªè®¿é®ä¸æ¬¡ï¼å¯¹äºæ¯ä¸æ¡é©±å¨è¡¨ä¸­çæ°æ®ï¼é½ä¼è®¿é®ä¸æ¬¡è¢«é©±å¨è¡¨ãå æ­¤è®¾è®¡äºJoin Bufferï¼è¿æ¥ç¼å²åºï¼å­æ¾äºåå­ï¼æé©±å¨è¡¨ä¸­æ¥è¯¢åºæ¥çæ°æ®æ¾å°ç¼å²åºä¸­ï¼ç¶åå¯¹äºæ¥è¯¢è¢«é©±å¨è¡¨ä¸­çæ¯ä¸æ¡æ°æ®ï¼é½ä¸ç¼å²åºä¸­çæ°æ®è¿è¡å¹éãè¿æ ·ï¼å°±åå¦ç¼å²åºè¶³å¤å¤§ï¼é£ä¹åªéè®¿é®ä¸æ¬¡è¢«é©±å¨è¡¨ã\n\n\n# ç¬¬12ç«  åºäºææ¬çä¼å\n\n\n# ææ¬\n\n * I/Oææ¬ï¼å½æ¥è¯¢è¡¨ä¸­çè®°å½æ¶ï¼éè¦ææ°æ®æèç´¢å¼å è½½å°åå­ä¸­ï¼ç¶ååè¿è¡æä½ãè¿ä¸ªä»ç£çå°åå­çå è½½è¿ç¨æèçæ¶é´æä¸ºI/Oææ¬ã\n * CPUææ¬ï¼è¯»åè®°å½ä»¥åæ£æµè®°å½æ¯å¦æ»¡è¶³å¯¹åºçæç´¢æ¡ä»¶ãå¯¹ç»æéè¿è¡æåºç­è¿äºæä½æèçæ¶é´ç§°ä¸ºCPUææ¬ã\n\nå¯¹äºInnoDBå­å¨å¼ææ¥è¯´ï¼è¯»åä¸ä¸ªé¡µé¢è±è´¹çææ¬é»è®¤æ¯1.0ï¼è¯»åä»¥åæ£æµä¸æ¡è®°å½æ¯å¦ç¬¦åæç´¢æ¡ä»¶çææ¬é»è®¤æ¯0.2ã\n\n\n# åºäºææ¬çä¼åæ­¥éª¤\n\n 1. æ ¹æ®æç´¢æ¡ä»¶ï¼æ¾åºææå¯è½ä½¿ç¨çç´¢å¼\n 2. è®¡ç®å¨è¡¨æ«æçä»£ä»·\n 3. è®¡ç®ä½¿ç¨ä¸åç´¢å¼æ§è¡æ¥è¯¢çä»£ä»·\n 4. å¯¹æ¯åç§æ§è¡æ¹æ¡çä»£ä»·ï¼æ¾åºææ¬æä½çé£ä¸ªæ¹æ¡\n\n\n# åºäºç´¢å¼ç»è®¡æ°æ®çææ¬è®¡ç®\n\næ¯å¼ è¡¨é½æä¸ä¸ªå¯¹åºçç»è®¡è¡¨ï¼æ¥è®°å½è¿å¼ è¡¨çä¿¡æ¯ãæ¯å¦æä¸ªç´¢å¼ç»è®¡æ°æ®ï¼index statisticsï¼show index from è¡¨åï¼ç»è®¡ç´¢å¼åä¸­çåç§ä¿¡æ¯ï¼æä¸ä¸ªæ¯è¾éè¦çä¿¡æ¯ï¼Cardinalityï¼è¡¨ç¤ºè¯¥åä¸­ä¸éå¤å¼çæ°éãæ ¹æ®è¿ä¸ªå±æ§ï¼å¯ä»¥è®¡ç®åºå¨æä¸åä¸­ä¸ä¸ªå¼å¹³ååºç°äºå¤å°æ¬¡ï¼å¤§çº¦éå¤æ¬¡æ°ç­äºå½æ°åä¸Cardinalityå¼ã\n\n\n# è¿æ¥æ¥è¯¢çææ¬\n\n# æ¡ä»¶è¿æ»¤\n\nå ä¸ºå¨è¿æ¥æ¥è¯¢ä¸­ï¼é©±å¨è¡¨ä¼è¢«è®¿é®ä¸æ¬¡ï¼è¢«é©±å¨è¡¨å¯è½ä¼è¢«è®¿é®å¤æ¬¡ãæä»¥ï¼å¯¹äºä¸¤è¡¨è¿æ¥æ¥è¯¢æ¥è¯´ï¼å®çæ¥è¯¢ææ¬ç±ä¸¤é¨åææï¼\n\n * åè¯æ¥è¯¢é©±å¨è¡¨çææ¬\n * å¤æ¬¡æ¥è¯¢è¢«é©±å¨è¡¨çææ¬\n\né©±å¨è¡¨çè®°å½æ¡æ°æä¸ºæåºï¼fanoutï¼ï¼ç¶åå¢ï¼å°±è¦è®¡ç®æåºå¼ã\n\nå¯¹äºé£äºæ¡ä»¶ä¸­æ²¡æä½¿ç¨çç´¢å¼åçæ°æ®ï¼å®å¨é çæµæ¥è®¡ç®ç¬¦åæ¡ä»¶çè®°å½æ¡æ°ï¼å¯¹äºæç´¢å¼åï¼é£ä¹éè¿Cardinalityæ¥çæµæ¡æ°ã\n\n# ä¸¤è¡¨è¿æ¥çææ¬åæ\n\nè¿æ¥æ¥è¯¢çæ»ææ¬=åè¯è®¿é®é©±å¨è¡¨çææ¬ + é©±å¨è¡¨çæåºå¼*åè¯è®¿é®è¢«é©±å¨è¡¨çææ¬\n\næä»¥ä¹éè¦èèæä¼çè¡¨è¿æ¥é¡ºåºï¼ä¼åçéç¹å°±æ¯åé¢é£ä¸ªå¤§å¤´ï¼\n\n * å°½éåå°é©±å¨è¡¨çæåºå¼\n * è®¿é®è¢«é©±å¨è¡¨çææ¬è¦å°½éåº\n\n# å¤è¡¨è¿æ¥çææ¬åæ\n\nnå¼ è¡¨çè¿æ¥æ¹å¼å°±æn!ç§è¿æ¥æ¹å¼ï¼éè¿ä¸äºå¯åå¼è§åæ¥åæå¤è¡¨è¿æ¥çææ¬ï¼æ¯å¦\n\n * æåç»ææç§è¿æ¥é¡ºåºçææ¬è¯ä¼°\n * é²æ­¢æ ç©·æ å°½å°åæåç§è¿æ¥é¡ºåºçææ¬ï¼åªåæå°äºä¸å®çè¿æ¥è¡¨æ°é\n\n\n# è°èææ¬å¸¸æ°\n\næä¸¤å¼ è¡¨ï¼engine_costï¼server_cost\n\nå¨serverå±è¿è¡è¿æ¥ç®¡çãæ¥è¯¢ç¼å­ãè¯­æ³è§£æãæ¥è¯¢ä¼åç­æä½ï¼\n\nå¨å­å¨å¼æå±æ§è¡å·ä½çæ°æ®å­åæä½ã\n\n\n# ç¬¬13ç«  InnoDBç»è®¡æ°æ®æ¯å¦ä½æ¶éç\n\n\n# ç¬¬14ç«  åºäºè§åçä¼å\n\n\n# ä¸äºç®åçä¼å\n\n * ç§»é¤ä¸å¿è¦çæ¬å·\n * å¸¸éä¼ é\n\na = 5 AND b > a\n\n\na = 5 AND b > 5\n\n\n * ç­å¼ä¼ é\n\n * ç§»é¤æ²¡ç¨çæ¡ä»¶\n\n * è¡¨è¾¾å¼è®¡ç®\n\n * HAVINGå­å¥åWHEREå­å¥çåå¹¶ï¼å¦ææ²¡ç¨åºç°SUMãMACç­èéå½æ°ä»¥åGROUP BYå­å¥ï¼ä¼åå¨å°±æHAVINGå­å¥åWHEREå­å¥åå¹¶\n\n\n# å¸¸éè¡¨æ£æµ\n\nè¿ä¸¤ç§æ¥è¯¢è¯è´¹çæ¶é´ç¹å«å°\n\n * æ¥è¯¢çè¡¨ä¸­ä¸æ¡è®°å½æ²¡æï¼æèåªæä¸æ¡è®°å½ï¼æ ¹æ®ç»è®¡ä¿¡æ¯ï¼ä½ä¸åç¡®ï¼ï¼\n * ä½¿ç¨ä¸»é®ç­å¼å¹éæèå¯ä¸äºçº§ç´¢å¼åç­å¼å¹é\n\n\n# å¤è¿æ¥æ¶é¤\n\nå¨è¢«é©±å¨è¡¨ä¸­æ²¡ææ¾å°ç¬¦åæ¡ä»¶çè®°å½ï¼å°±ä¼å å¥ä¸æ¡NULLå¼çè®°å½å°ç»æéä¸­ãå¦æå¨whereæ¡ä»¶ä¸­æç»ç©ºå¼ï¼è¿æ¶åçæ¥è¯¢ç»ææ¯ç­ä»·äºåè¿æ¥çï¼é£ä¹å°±å¯ä»¥å°å¤è¿æ¥è½¬æ¢ä¸ºåè¿æ¥ã\n\nè½¬ä¸ºåè¿æ¥çå¥½å¤æ¯ï¼ä¼åå¨å¯ä»¥è¯ä¼°ä¸åè¿æ¥é¡ºåºçææ¬ï¼è¿èéåºææ¬æä½çé£ç§è¿æ¥é¡ºåºè¿è¡æ¥è¯¢ã\n\n\n# å­æ¥è¯¢MySQLæ§è¡è¿ç¨\n\n# ä¸ç¸å³æ éå­æ¥è¯¢\n\nSELECT * FROM s1 \n    WHERE key1 = (SELECT common_field FROM s2 WHERE key3 = 'a' LIMIT 1);\n\n\n * ååç¬æ§è¡å­æ¥è¯¢SELECT common_field FROM s2 WHERE key3 = 'a' LIMIT 1\n * å°ä¸ä¸æ­¥å­æ¥è¯¢çç»æä½ä¸ºå¤å±å¾ªç¯çæ¡ä»¶\n\n# ç¸å³æ éå­æ¥è¯¢\n\nSELECT * FROM s1 WHERE \n    key1 = (SELECT common_field FROM s2 WHERE s1.key3 = s2.key3 LIMIT 1);\n\n\n * ä»å¤å¾ªç¯ååºä¸æ¡è®°å½\n * è·åä¸ä¸æ­¥çè®°å½æéçåï¼ç¶åæ§è¡å­æ¥è¯¢\n * å¦æç¬¦åæ¡ä»¶ï¼æ¥åºå­æ¥è¯¢çç»æ\n * åå°å­æ¥è¯¢çç»ææ¼æ¥å°å¤å±æ¥è¯¢çWHEREå­å¥ä¸­\n\n# INå­æ¥è¯¢çä¼å\n\nSELECT * FROM s1 \n    WHERE key1 IN (SELECT common_field FROM s2 WHERE key3 = 'a');\n\n\nå°INåé¢çå­æ¥è¯¢ç»æï¼åå¥å°ä¸ä¸ªä¸´æ¶è¡¨ä¸­ï¼ç©åè¡¨ï¼materialized_table\n\né£ä¹å°±ç¸å½äºæä¸¤å¼ è¡¨ï¼å°±æä¸ä¸ä¸¤ç§èè\n\n * ä»åè¡¨s1çè§åº¦çå¾ï¼åè·ås1è¡¨ä¸­çä¸æ¡è®°å½ï¼ç¶åå¤æ­è¿æ¡è®°å½æ¯å¦å­å¨äºç©åè¡¨ä¸­ã\n * ä»ç©åè¡¨çå¾ï¼åè·åç©åè¡¨ä¸­çå¼ï¼ç¶åå¤æ­s1è¡¨ä¸­æ¯å¦æè¿ä¸ªå¼çè®°å½ã\n\nä¹å°±æ¯è¯´ï¼å¯ä»¥ç¸å½äºæ¯ä¸ä¸ªåè¿æ¥ï¼ç­ä»·äº\n\nSELECT s1.* FROM s1 INNER JOIN materialized_table ON key1 = m_val;\n\n\næ¯åè¿æ¥ï¼é£ä¹ä¼åå¨å°±ä¼è¯ä¼°å®ä»¬çè¿æ¥é¡ºåºã\n\n# å°å­æ¥è¯¢è½¬æ¢ä¸ºsemi-join\n\nç´æ¥å°å­æ¥è¯¢è½¬æ¢ä¸ºè¿æ¥ã\n\nå¯¹äºè¿æ ·ä¸ä¸ªæ¥è¯¢\n\nSELECT * FROM s1 \n    WHERE key1 IN (SELECT common_field FROM s2 WHERE key3 = 'a');\n\n\nå°è¯å°å¶è½¬æ¢ä¸ºè¿æ¥\n\nSELECT s1.* FROM s1 INNER JOIN s2 \n    ON s1.key1 = s2.common_field \n    WHERE s2.key3 = 'a';\n\n\nè¿ä¸ªæ¥è¯¢çç»æéæ¯s1çè®°å½ï¼å¦æå¯¹äºè¡¨s1çææ¡è®°å½æ¥è¯´ï¼s2è¡¨ä¸­æå¤æ¡s1.key1=s2.common_fieldï¼é£ä¹s1çè¿æ¡è®°å½ä¼å å¥å¤æ¬¡å°ç»æéä¸­ï¼è¿ä¸ç§æåµä¸åæ¥çæ¥è¯¢ç­ä»·ï¼åæ¥çæ¥è¯¢åªå³å¿æ¯å¦å­å¨è®°å½æ»¡è¶³s1.key1=s2.common_fieldäºä¸å³å¿å·ä½æå¤å°æ¡è®°å½ä¸ä¹å¹éã\n\nåè¿æ¥\n\n * Table pulloutï¼å­æ¥è¯¢ä¸­çè¡¨ä¸æï¼\n   \n   å½å­æ¥è¯¢çæ¥è¯¢åè¡¨æ¯åªæä¸»é®æèå¯ä¸ç´¢å¼åæ¶\n   \n   SELECT * FROM s1 \n       WHERE key2 IN (SELECT key2 FROM s2 WHERE key3 = 'a');\n   \n   \n   å¯ä»¥è½¬æ¢ä¸º\n   \n   SELECT s1.* FROM s1 INNER JOIN s2 \n       ON s1.key2 = s2.key2 \n       WHERE s2.key3 = 'a';\n   \n   \n   å ä¸ºå¯ä¸ç´¢å¼æä¸»é®ä¸å­å¨æå¤æ¡è®°å½ä¸ä¹å¹é\n\n * DuplicateWeedout execution strategy ï¼éå¤å¼æ¶é¤ï¼\n   \n   SELECT * FROM s1 \n       WHERE key1 IN (SELECT common_field FROM s2 WHERE key3 = 'a');\n   \n   \n   å¯ä»¥åå»ºä¸ä¸ªä¸´æ¶è¡¨\n   \n   CREATE TABLE tmp (\n       id PRIMARY KEY\n   );\n   \n   \n   è¿æ ·ï¼å¦æè¦å°s1çææ¡è®°å½å å¥å°ç»æéä¸­ï¼é£åå°è¯¥æ¡è®°å½çidæå¥å°ä¸´æ¶è¡¨ä¸­ï¼å¦ææå¥æåï¼é£å¯ä»¥å°è¯¥æ¡è®°å½å å¥å°ç»æéã\n\nåè¿æ¥éç¨æ¡ä»¶\n\nSELECT ... FROM outer_tables \n    WHERE expr IN (SELECT ... FROM inner_tables ...) AND ...\n\n\nå¦æINå­æ¥è¯¢ä¸ç¬¦åè½¬æ¢ä¸ºsemi-joinçæ¡ä»¶ï¼é£ä¹æ¥è¯¢ä¼åå¨åäºéä¸\n\n * åå°å­æ¥è¯¢ç©åä¹ååæ§è¡æ¥è¯¢\n * æ§è¡IN to EXISTSè½¬æ¢\n\nIN to EXISTSè½¬æ¢\n\nouter_expr IN (SELECT inner_expr FROM ... WHERE subquery_where)\n\n\nè½¬æ¢ä¸º\n\nEXISTS (SELECT inner_expr FROM ... WHERE subquery_where AND outer_expr=inner_expr)\n\n\nè½¬æ¢ä¸ºEXISTSçå¥½å¤æ¯ï¼å­æ¥è¯¢å¯è½å¯ä»¥ç¨ä¸ç´¢å¼\n\nçå°è¿éèå­å¡å¡ç~\n\n\n# ç¬¬15ç«  EXPLAINè¯¦è§£\n\nä¸æ¡æ¥è¯¢è¯­å¥å¨ç»è¿MySQLçæ¥è¯¢ä¼åå¨åï¼ä¼åºäºææ¬æè§åè¿è¡ä¼åï¼å¯ä»¥éEXPLAINæ¥æ¥çå·ä½çæ§è¡è®¡åã\n\n\n# æ§è¡è¾åºä¸­åå\n\nmysql> EXPLAIN SELECT * FROM s1;\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n|  1 | SIMPLE      | s1    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9688 |   100.00 | NULL  |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n\n\n# table\n\næ è®ºæ¥è¯¢è¯­å¥ä¸­åå«å¤å°ä¸ªè¡¨ï¼æç»é½ä¼å¯¹æ¯ä¸ªè¡¨è¿è¡åè¡¨æ¥è¯¢\n\n# id\n\nä¸ä¸ªå¤§çæ¥è¯¢å¯ä»¥æåæå¤ä¸ªSELECTï¼æ¯ä¸ä¸ªSELECTå¯¹åºä¸ä¸ªidã\n\nå¯¹äºè¿æ¥æ¥è¯¢å ä¸ºæ¯åä¸ä¸ªSELECTå­å¥ï¼æä»¥æ¥è¯¢çä¸¤ä¸ªè¡¨æ¯åä¸ä¸ªidå¼ã\n\nmysql> EXPLAIN SELECT * FROM s1 INNER JOIN s2;\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------------+\n| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                                 |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------------+\n|  1 | SIMPLE      | s1    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9688 |   100.00 | NULL                                  |\n|  1 | SIMPLE      | s2    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9954 |   100.00 | Using join buffer (Block Nested Loop) |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------------+\n2 rows in set, 1 warning (0.01 sec)\n\n\nå¯¹äºèåæ¥è¯¢æèå­æ¥è¯¢ï¼åä¼åéå¤ä¸ªå¯ä¸idå¼ã\n\nmysql> EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2) OR key3 = 'a';\n+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n| id | select_type | table | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n|  1 | PRIMARY     | s1    | NULL       | ALL   | idx_key3      | NULL     | NULL    | NULL | 9688 |   100.00 | Using where |\n|  2 | SUBQUERY    | s2    | NULL       | index | idx_key1      | idx_key1 | 303     | NULL | 9954 |   100.00 | Using index |\n+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n2 rows in set, 1 warning (0.02 sec)\n\n\n# select_type\n\nä¸ä¸ªå¤§çSELECTå¯ä»¥æåæå¤ä¸ªå°SELECTï¼å¯¹æ¯ä¸ä¸ª`SELECTåéè§è²ã\n\n * SIMPLE\n\nä¸åå«UNIONæèå­æ¥è¯¢çæ¥è¯¢é½ç®ä½SIMPLEç±»å\n\nmysql> EXPLAIN SELECT * FROM s1;\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n|  1 | SIMPLE      | s1    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9688 |   100.00 | NULL  |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n\n\n * PRIVATE\n\nåå«UNIONï¼æèå­æ¥è¯¢çæ¥è¯¢ï¼å¶ä¸­æå·¦è¾¹çè¡¨å°±æ¯PRIVATE\n\nmysql> EXPLAIN SELECT * FROM s1 UNION SELECT * FROM s2;\n+----+--------------+------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n| id | select_type  | table      | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |\n+----+--------------+------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n|  1 | PRIMARY      | s1         | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9688 |   100.00 | NULL            |\n|  2 | UNION        | s2         | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9954 |   100.00 | NULL            |\n| NULL | UNION RESULT | <union1,2> | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |\n+----+--------------+------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n3 rows in set, 1 warning (0.00 sec)\n\n\n * UNION\n\nä¸è¾¹ï¼é¤äºæå·¦è¾¹çs1ï¼å¶å®é½æ¯UNION\n\n * UNION RESULT\n\nä¸è¾¹ï¼éè¦å°ä¸¤ä¸ªæ¥è¯¢çç»æéåå¹¶ï¼è¿éå°±æ¯å­æ¾å°ä¸ä¸ªä¸´æ¶è¡¨ä¸­ï¼å¹¶å»éã\n\n * SUBQUERY\n\nåå«å­æ¥è¯¢çæ¥è¯¢ï¼ä¸è½è½¬ä¸ºå¯¹åºçsemi-joinï¼å¹¶ä¸æ¯ä¸ç¸å³å­æ¥è¯¢\n\n * DEPENDENT SUBQUERY\n\nç¸å³å­æ¥è¯¢\n\n * DEPENDENT UNION\n * DERIVED\n\næ´¾çè¡¨\n\nmysql> EXPLAIN SELECT * FROM (SELECT key1, count(*) as c FROM s1 GROUP BY key1) AS derived_s1 where c > 1;\n+----+-------------+------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n| id | select_type | table      | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n|  1 | PRIMARY     | <derived2> | NULL       | ALL   | NULL          | NULL     | NULL    | NULL | 9688 |    33.33 | Using where |\n|  2 | DERIVED     | s1         | NULL       | index | idx_key1      | idx_key1 | 303     | NULL | 9688 |   100.00 | Using index |\n+----+-------------+------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n2 rows in set, 1 warning (0.00 sec)\n\n\n * MATERIALIZED\n\nç©åè¡¨\n\nmysql> EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2);\n+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+\n| id | select_type  | table       | partitions | type   | possible_keys | key        | key_len | ref               | rows | filtered | Extra       |\n+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+\n|  1 | SIMPLE       | s1          | NULL       | ALL    | idx_key1      | NULL       | NULL    | NULL              | 9688 |   100.00 | Using where |\n|  1 | SIMPLE       | <subquery2> | NULL       | eq_ref | <auto_key>    | <auto_key> | 303     | xiaohaizi.s1.key1 |    1 |   100.00 | NULL        |\n|  2 | MATERIALIZED | s2          | NULL       | index  | idx_key1      | idx_key1   | 303     | NULL              | 9954 |   100.00 | Using index |\n+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+\n3 rows in set, 1 warning (0.01 sec)\n\n\n# type\n\nTYPE              ç±»å\nsystem            å¯¹äºç»è®¡ç²¾ç¡®çå¼æï¼è¡¨ä¸­ä»å«ä¸æ¡è®°å½\nconst             åè¡¨è®¿é®ï¼ä¸»é®æèå¯ä¸äºçº§ç´¢å¼åä¸ç­å¼å¹é\neq_ref            è¿æ¥æ¥è¯¢ï¼è¢«é©±å¨è¡¨éè¿ä¸»é®æèå¯ä¸äºçº§ç´¢å¼åä¸ç­å¼å¹é\nref               æ®éçäºçº§ç´¢å¼åä¸ç­å¼å¹é\nfulltext          å¨æç´¢å¼\nref_or_null       æ®éçäºçº§ç´¢å¼åä¸ç­å¼å¹éï¼åå«NULL\nindex_merge       ç´¢å¼åå¹¶\nunique_subquery   è¿æ¥æ¥è¯¢ï¼è¢«é©±å¨è¡¨ä½¿ç¨eq_ref\nindex_subquery    è¿æ¥æ¥è¯¢ï¼è¢«é©±å¨è¡¨ä½¿ç¨ref\nrange             ä½¿ç¨ç´¢å¼è·åæäºèå´åºé´\nindex             éè¦æ«æç´¢å¼ä¸çæææ°æ®\nALL               å¨è¡¨æ«æ\n\n# possible_keysåkey\n\nå¯è½ä½¿ç¨å°çç´¢å¼ï¼åå®éç¨å°çç´¢å¼\n\n# key_len\n\n# ref\n\nä½¿ç¨ç´¢å¼åç­å¼å¹éå»æ§è¡æ¥è¯¢æ¶ï¼å±ç¤ºä¸ä»ä¹è¿è¡ç­å¼å¹éï¼ä¸æä¸ªå¸¸æ°constï¼æä¸åï¼æä¸ªå½æ°ã\n\n# rows\n\né¢è®¡éè¦æ«æçè¡æ°\n\n# filtered\n\nè¿æ»¤æ¡ä»¶åï¼è¿å©å¤å°è®°å½ï¼1~100%ã\n\næªå®å¾ç»­ããã\n\n\n# ç¬¬16ç«  optimizer traceçç¥å¥åæ\n\n\n# ç¬¬17ç«  InnoDBçBuffer Pool\n\nç£çå¤ªæ¢ï¼ç¨åå­ä½ä¸ºç¼å­ï¼ä¸è³äºæ¯æ¬¡é½è®¿é®ç£çã\n\nBuffer Pollæ¯åæä½ç³»ç»ç³è¯·çè¿ç»­åå­ï¼ä¸ä¸ªä¸ªçchunkç»æï¼æ¯ä¸ªchunkç±æ§å¶ååç¼å­é¡µç»æï¼æ§å¶åé£è¯å®å°±æ¯å­æ¾ä¸äºç¼å­é¡µçä¿¡æ¯ï¼ä¸ä¸é¡µï¼ä¸ä¸é¡µï¼éå¥çã\n\né£å¨åå­ä¸­å¼äºä¸ä¸ªè¿æ ·çç©æï¼é£è¯å®å°±æè¿äºé®é¢\n\nåç¥éç¼å­ä¸­æ¯å¦å è½½äºæä¸é¡µï¼ä½¿ç¨è¡¨ç©ºé´å· + é¡µå·ä½ä¸ºkeyï¼ç¼å­é¡µä½ä¸ºvalueï¼å»ºç«åå¸è¡¨ã\n\nç¼å­ä¸­ä¿®æ¹äºé¡µï¼èé¡µï¼ï¼å å¥å°flushé¾è¡¨ï¼ç­å¾æ¶æºå·å¥ç£çã\n\nBuffer Pollæ»¡äºæä¹åï¼éç¨LRUé¾è¡¨ï¼LRUé¾è¡¨åä¸ºyoungåºåoldåºï¼æ°å å¥çæ°æ®ï¼æ¾å°LRUçoldå¤´ï¼å¨é´éä¸å®æ¶é´å¤è®¿é®ï¼å°±ä¼å§ä»éå°youngå¤´ãæ²¡æè¶³å¤çç©ºé²ç¼å­é¡µï¼é¦åæ·æ±°oldä¸­çé¡µã\n\nå°äº1Gç¼å­æ°æ®ï¼ä¸å»ºè®®æå¤ä¸ªBuffer Pollã\n\n\n# ç¬¬18ç«  äºå¡\n\nACIDï¼åå­æ§ï¼ä¸è´æ§ï¼éç¦»æ§ï¼æä¹æ§\n\n\n# ç¬¬19ç«  redoæ¥å¿\n\n\n# ç¬¬20ç«  undoæ¥å¿\n\n\n# ç¬¬21ç«  äºå¡éç¦»çº§å«åMVCC\n\n\n# ç¬¬22ç«  é",normalizedContent:"é½è¯´è¿æ¬ä¹¦å¥½ï¼æåè¦å»çç\n\n\n# ç¬¬0ç«  æ¥å­\n\nå«æéç« å­¦ä¹ ï¼ä¸è¦è·³çéè¯»\n\n\n# ç¬¬1ç«  è£ä½èªå·±æ¯ä¸ªå°ç½\n\nä»ç»äºä¸çªmysqlå®¢æ·ç«¯ï¼æå¡å¨æ¨¡å¼ï¼å®¢æ·ç«¯è¿æ¥æå¡å¨æ¹å¼ã\n\næå¡å¨å¤çå®¢æ·ç«¯è¯·æ±ï¼å·ä½æ­¥éª¤åmysqlæ§è¡è¿ç¨ä¸æ ·ãmysqlæ§è¡æµç¨\n\n\n# ç¬¬2ç«  å¯å¨éé¡¹åç³»ç»åé\n\næ²¡ç\n\n\n# ç¬¬3ç«  å­ç¬¦éåæ¯è¾è§å\n\nå­ç¬¦é\n\næä»¬ç¥éï¼è®¡ç®æºä¸­å®éå­å¨çæ¯äºè¿å¶æ°æ®ï¼é£å®æ¯æä¹å­å¨å­ç¬¦ä¸²å¢ï¼å½ç¶æ¯å»ºç«å­ç¬¦ä¸äºè¿å¶æ°æ®çæ å°å³ç³»äºã\n\n * æåªäºå­ç¬¦æ å°æäºè¿å¶æ°æ®\n * å­ç¬¦æ å°å°äºè¿å¶æ°æ®å«ç¼ç ï¼åä¹å«è§£ç \n\næ¯è¾è§å\n\nä¸åºåå¤§å°åï¼å¨é¨è½¬ä¸ºå¤§åæèå°å\n\nmysqlä¸­çå­ç¬¦é\n\n * utf8mb3: âéå²âè¿çutf8ï¼ä½¿ç¨1-3å­èè¡¨ç¤ºå­ç¬¦ï¼\n * utf8ub4: æ­£å®çutf8ï¼ä½¿ç¨1-4å­èè¡¨ç¤ºå­ç¬¦ã\n\nmysqlä¸­çæ¯è¾è§å\n\n * utf8_general_ci: ciï¼case insensitiveï¼ä¸åºåå¤§å°åã\n\n\n# ç¬¬4ç«  innodbè®°å½å­å¨ç»æ\n\né¡µæ¯innodbä¸­ç£çååå­äº¤äºçåºæ¬åä½ï¼ä¹æ¯innodbç®¡çå­å¨ç©ºé´çåºæ¬åä½ï¼é»è®¤å¤§å°ä¸º16kbãä¹å°±æ¯è¯´ï¼ä¸æ¬¡ä»ç£çä¸­è¯»ååå®¹å°åå­ä¸­æ¯16kbï¼ä»åå®¹åå°ç£çï¼ä¹æ¯16kbã\n\ncompactè¡æ ¼å¼ï¼é¢å¤ä¿¡æ¯ï¼çå®æ°æ®ï¼\n\n      åé¿å­æ®µé¿åº¦åè¡¨   nullå¼åè¡¨   è®°å½å¤´ä¿¡æ¯   å1çå¼   å2çå¼   ...   ånçå¼\nè®°å½1   01 03 04   00                                    \nè®°å½2   03 04      06                                    \n\nåé¿å­æ®µé¿åº¦åè¡¨\n\nåå   å­å¨åå®¹     åå®¹é¿åº¦ï¼åå­è¿å¶ï¼\nc1   'aaaa'   0x04\nc3   'bbb'    0x03\nc4   'd'      0x01\n\né£ä¹å°±éåºå­å¨åé¿å­æ®µçé¿åº¦\n\nnullå¼åè¡¨\n\nå¦æä¸ä¸ªè¡¨ä¸­æ9ä¸ªå¼åè®¸ä¸ºnullçåï¼åè¿ä¸ªè®°å½çnullå¼åè¡¨é¨åéè¦2ä¸ªå­èè¡¨ç¤ºï¼è¿ä¸ªæ°æ®ä¸­çæ¯ä¸ä½ä»£è¡¨çå®æ°æ®æ¯å¦ä¸ºnullã\n\nå¦c3, c4ä½nullï¼åå¼ä½0x110 ä¹å°±æ¯06ã\n\n\n# ç¬¬5ç«  innodbæ°æ®é¡µç»æ\n\né¡µæ¯innodbç®¡çå­å¨ç©ºé´çåºæ¬åä½ï¼ä¸ä¸ªé¡µçå¤§å°ä¸è¬æ¯16kbãinnodbä¸ºäºä¸åçç®çè®¾è®¡äºå¤ç§ä¸åç±»åçé¡µï¼è¿éä»ç»å­æ¾è®°å½çé¡µï¼æ°æ®é¡µï¼ç´¢å¼é¡µï¼ã\n\ninnodbæ°æ®é¡µç»æ\n\nåç§°                   ä¸­æå             å ç¨ç©ºé´å¤§å°   ç®åæè¿°\nfile header          æä»¶å¤´é¨            38å­è     é¡µçä¸äºéç¨ä¿¡æ¯\npage header          é¡µé¢å¤´é¨            56å­è     æ°æ®é¡µä¸æçä¸äºä¿¡æ¯\ninfimum + supremum   é¡µé¢ä¸­çæå°è®°å½åæå¤§è®°å½   26å­è     ä¸¤ä¸ªèæçè®°å½\nuser records         ç¨æ·è®°å½            ä¸ç¡®å®      ç¨æ·å­å¨çè®°å½åå®¹\nfree space           ç©ºé²ç©ºé´            ä¸ç¡®å®      é¡µä¸­å°æªä½¿ç¨çç©ºé´\npage directory       é¡µç®å½             ä¸ç¡®å®      é¡µä¸­æäºè®°å½çç¸å¯¹ä½ç½®\nfile trailer         æä»¶å°¾é¨            8å­è      æ ¡éªé¡µæ¯å¦å®æ´\n\nç¨æ·è®°å½\n\næä»¬èªå·±å­å¨çæ°æ®ä¸å¼å§å¨free spaceé¨åï¼éåå°è¿é¨åååå°user recordsä¸­ï¼å½free spaceå¨é¨ç¨å®æ¶ï¼ä»£è¡¨è¿ä¸ªé¡µä½¿ç¨å®äºãå¦æææ°çè®°å½æå¥ï¼å°±éè¦å»ç³è¯·æ°çé¡µäºã\n\nä¸ä¸ç« çè¡è®°å½æ ¼å¼ä¸­ç è®°å½å¤´ä¿¡æ¯\n\n\n\nè®°å½å¤´ä¿¡æ¯\n\nåç§°             å¤§å°(æ¯ç¹ã   æè¿°\né¢çä½ 1          1        æ²¡æä½¿ç¨\né¢çä½ 2          1        æ²¡æä½¿ç¨\ndeleted_flag   1        æ è®°è¯¥è®°å½æ¯å¦è¢«å é¤\nmin_rec_flag   1        b+ æ ä¸­æ¯å±éå¶å­èç¹ä¸­ç æå°çç®å½é¡¹è®°å½é½ä¼æ·»å è¯¥æ è®°\nn_owned        4        ä¸ä¸ªé¡µé¢ä¸­çè®°å½ä¼è¢«åæè¥å¹²ä¸ªç»,æ¯ä¸ªç»ä¸­æä¸ä¸ªè®°å½æ¯\"å¸¦å¤´å¤§å¥å¶ä½çè®°å½é½æ¯\"å°å¼\"ï¼\"å¸¦å¤´å¤§å¥\"è®°å½ç\n                        n_ownedå¼ä»£è¡¨è¯¥ç»ä¸­ææçè®°å½æ¡æ°ï¼\"å°å¼\"è®°å½ç n_owned å¼é½ä¸º 0\nheap_no        13       è¡¨ç¤ºå½åè®°å½å¨é¡µé¢å ä¸­çç¸å¯¹ä½ç½®\nrecord_type    3        è¡¨ç¤ºå½åè®°å½çç±»å ã0 è¡¨ç¤ºæ®éè®°å½ï¼1 è¡¨ç¤º b+ æ éå¶èç¹çç®å½é¡¹è®°å½ . 2 è¡¨ç¤º infimum è®°å½ ï¼3\n                        è¡¨ç¤º supremum è®°å½\nnext record    16       è¡¨ç¤ºä¸ä¸æ¡è®°å½çç¸å¯¹ä½ç½®\n\né¡µç®å½\n\n\n\nè¦æ¾ä¸»é®å¼ä¸ºxçè®°å½ï¼éè¿äºåæ³ç¡®å®è¯¥è®°å½æå¨åç»å¯¹åºçæ§½ï¼ç¶åæ¾å°è¯¥æ§½æå¨åç»ä¸­ä¸»é®å¼æå°çé£æ¡è®°å½ï¼ç¶åéè¿è®°å½çnext_recordå±æ§éåè¯¥æ§½æå¨çç»ä¸­çåä¸ªè®°å½ã\n\né¡µé¢çå¤´é¨\n\nå­å¨æ°æ®é¡µä¸­çè®°å½ç¶æä¿¡æ¯ï¼æ¯å¦æ°æ®é¡µä¸­å·²ç»å­å¨äºå¤å°æ¡è®°å½ãfree spaceå¨é¡µé¢ä¸­çå°ååç§»éãé¡µç®å½ä¸­å­å¨äºå¤å°ä¸ªæ§½ç­ã\n\næä»¶å¤´é¨\n\nå­æ¾åç§é¡µçä¿¡æ¯ï¼æ¯å¦è¿ä¸ªé¡µçç¼å·æ¯å¤å°ï¼ä¸ä¸é¡µä¸ä¸é¡µæ¯è°ã\n\næä»¶å°¾é¨\n\n * å4å­èä»£è¡¨é¡µçæ ¡éªåï¼éªè¯è¯¥é¡µæ¯å¦å®æ´\n * å4å­èä»£è¡¨é¡µé¢è¢«æåä¿®æ¹æ¶å¯¹åºçlsnçå4å­è\n\næ»ç»\n\næ¯ä¸ªè®°å½çå¤´ä¿¡æ¯ä¸­é½æä¸ä¸ª next record å±æ§ ,ä»èå¯ä»¥ ä½¿é¡µ ä¸­ç ææè®°å½ä¸²èæä¸ä¸ªååé¾è¡¨.\n\nlnnodb ä¼æé¡µä¸­çè®°å½ååä¸ºè¥å¹²ä¸ªç»,æ¯ä¸ªç»çæåä¸ä¸ªè®°å½çå°ååç§»éä½ä¸ºä¸ä¸ªæ§½,å­æ¾å¨ page directory ä¸­ä¸ä¸ªæ§½å ç¨ 2 å­è.å¨ä¸ä¸ªé¡µä¸­æ ¹æ®ä¸»é®æ¥æ¾è®°å½æ¯éå¸¸å¿«ç,åä¸ºä¸¤æ­¥.\n\n 1. éè¿ äºåæ³ç¡®å®è¯¥è®°å½æå¨å ç»å¯¹åºçæ§½,å¹¶æ¾å°è¯¥ç³æå¨åç»ä¸­ä¸»é®å¼æå°çé£æ¡è®°å½ã\n\n 2. éè¿è®°å½ç next record å±æ§éåè¯¥æ§½æå¨çç»ä¸­ çåä¸ªè®°å½.æ¯ä¸ªæ°æ®é¡µç file header é¨å é½æä¸ ä¸ä¸ªé¡µåä¸ä¸ä¸ªé¡µçç¼å·,æä»¥ææçæ°æ®é¡µä¼ç»æä¸ä¸ªååé¾è¡¨ã\n\nå¨å°é¡µä»åå­å·æ°å°ç£çæ¶ , ä¸ºäºä¿è¯é¡µçå®æ´æ§ ,é¡µé¦ å **é¡µå°¾ **é½ä¼å­å¨é¡µä¸­æ°æ®çæ ¡éªåï¼ä»¥åé¡µé¢æ åä¿®æ¹æ¶å¯¹åº ç lsn å¼ (é¡µå°¾åªä¼å­ å¨ lsn å¼çå 4 å­è) . å¦æé¡µé¦åé¡µå°¾çæ ¡éªåä»¥å lsn å¼æ ¡éªä¸æå , å°±è¯´æå·æ°æé´åºç°äºé®é¢ã\n\n\n# ç¬¬6ç«  b+æ ç´¢å¼\n\nåä¸ªæ°æ®é¡µå¯ä»¥ç»æä¸ä¸ªååé¾è¡¨ï¼æ°æ®é¡µä¸­æ¯æ¡è®°å½ä¼æç§ä¸»é®å¼ä»å°å°å¤§ç»æä¸ä¸ªååé¾è¡¨ãæ¯ä¸ªæ°æ®é¡µä¼çæä¸ä¸ªé¡µç®å½ï¼éè¿é¡µç®å½äºåæ³æ¾å°å¯¹åºçæ§½ï¼åå»é¡ºåºéåæ§½å¯¹åºçåç»ä¸­çè®°å½ã\n\n\n\nå­æ¾é¡µç®å½çé¡µï¼å¤ç¨åæ¥çæ°æ®é¡µï¼æä»¥è®°å½ä¸­çè®°å½å¤´ä¿¡æ¯record_typeï¼ç¨æ¥æ è®°æ¯ç¨æ·è®°å½è¿æ¯ç®å½é¡¹ãå­æ¾é¡µç®å½çé¡µï¼ä¸­çè®°å½åªå­æ¾ä¸¤ä¸ªå¼ï¼ä¸»é®å¼ä¸å¯¹åºçé¡µå·ã\n\n\n\nèç°ç´¢å¼\n\nä½¿ç¨è®°å½ä¸»é®å¼çå¤§å°è¿è¡è®°å½åé¡µçæåº\n\n 1. é¡µåçèç¹æç§ä¸»é®å¼å¤§å°ææä¸ä¸ªååé¾è¡¨ï¼é¡µåçèç¹åæè¥å¹²ä¸ªç»ï¼æ¯ç»ä¸­æå¤§ä¸»é®å¼å½æä¸ä¸ªæ§½ï¼\n 2. å­æ¾é¡µç®å½çé¡µï¼æ ¹æ®ä¸»é®å¼å¤§å°ææååé¾è¡¨ï¼\n 3. å­æ¾ç¨æ·è®°å½çé¡µï¼æ ¹æ®ä¸»é®å¼å¤§å°ææååé¾è¡¨ï¼\n\nb+æ çå¶å­èç¹å­å¨çæ¯å®æ´çç¨æ·è®°å½ã\n\näºçº§ç´¢å¼\n\nå­æ¾é¡µç®å½çé¡µä¸­çè®°å½åªå­æ¾å¤ä¸ªå¼ï¼ä¸»é®å¼ï¼ç´¢å¼å¼ä¸å¯¹åºçé¡µå·ãå¶å­èç¹åå«ç´¢å¼å¼ä¸ä¸»é®å¼ï¼åçæä¸é¢b+æ ï¼ä½å¶å­èç¹ä¸åå«å®æ´è®°å½ï¼æ¾å°å¶å­èç¹å¯¹åºçä¸»é®å¼ï¼åå°ä¸»é®ç´¢å¼ä¸­æ¥æ¾å®æ´è®°å½ï¼éè¦è¿è¡ä¸æ¬¡åè¡¨æä½ï¼\n\nèåç´¢å¼\n\nå­æ¾é¡µç®å½çé¡µä¸­çè®°å½åªå­æ¾å¤ä¸ªå¼ï¼ä¸»é®å¼ï¼nä¸ªç´¢å¼å¼ä¸å¯¹åºçé¡µå·ã\n\nmyisamä¸­çç´¢å¼ï¼é½æ¯äºçº§ç´¢å¼ï¼å¶å®ç±»ä¼¼ã\n\n\n# ç¬¬7ç«  b+æ ç´¢å¼çåºç¨\n\næ¯ä¸ªç´¢å¼é½å¯¹åºä¸é¢b+æ ãb+æ åä¸ºå¥½å¤å±ï¼æä¸è¾¹ä¸å±æ¯å¶å­èç¹ï¼å¶ä½æ¯åèç¹ãææç¨æ·è®°å½é½å­å¨å¨b+æ çå¶å­ç»ç¹ï¼ææç®å½é¡¹è®°å½é½å­å¨å¨åèç¹ã\n\ninnodbå­å¨å¼æä¼èªå¨ä¸ºä¸»é®ç®åèç°ç´¢å¼ï¼èç°ç´¢å¼çå¶å­èç¹åå«å®æ´çç¨æ·è®°å½ãä½æ¯å»ºç«çäºçº§ç´¢å¼ä¸­çå¶å­èç¹åªåå«ä¸»é®åç´¢å¼åï¼è¥éè¦æ¥æ¾å°éç´¢å¼åï¼åéè¦æ¿å°ä¸»é®å¼ï¼å°èç°ç´¢å¼ä¸­åæ¥æ¾ä¸æ¬¡ï¼ç®ç§°åè¡¨ã\n\nèç°ç´¢å¼åäºçº§ç´¢å¼ç¤ºæå¾\n\n\n\n\n\næ«æåºé´åè¾¹çæ¡ä»¶åæ\n\nç´¢å¼å¨ç©ºé´åæ¶é´ä¸é½ä¼âæåè¿â\n\n * ç©ºé´ä¸çä»£ä»·\n\næ¯å»ºç«ä¸ä¸ªç´¢å¼ï¼é½è¦ä¸ºå®å»ºç«ä¸é¢b+æ ãæ¯ä¸é¢b+æ çæ¯ä¸ä¸ªèç¹é½æ¯ä¸ä¸ªæ°æ®é¡µï¼ä¸ä¸ªèç¹ä¸­åå«å¤æ¡è®°å½ï¼è¿åå«ä¸äºå¶å®ä¿¡æ¯ï¼ã\n\n * æ¶é´ä¸çä»£ä»·\n   \n   å ä¸ºç´¢å¼åçå¼æ¯æåºçå³ç³»ï¼å¦ææ°æå¥çæ°æ®ï¼æå¯è½ä¼é æé¡µé¢åè£ãé¡µé¢åæ¶ãè¿è¦ç»´æ¤ç´¢å¼åä¸­çæåºå³ç³»ã\n   \n   å¨æ§è¡æ¥è¯¢è¯­å¥åï¼é¦åè¦çæä¸ä¸ªæ§è¡è®¡åãmysqlä¼åæä½¿ç¨ä¸åç´¢å¼æ§è¡æ¥è¯¢æéè¦çææ¬ï¼ç´¢å¼è¶å¤åæçæ¶é´è¶é¿ã\n\næ«æåºé´åè¾¹çåæ\n\nå»ç¿»ä¹¦å§ã\n\næ´å¥½çåå»ºç´¢å¼åä½¿ç¨ç´¢å¼\n\n 1. åªä¸ºç¨äºæç´¢ãæåºæåç»çååå»ºç´¢å¼\n 2. èèç´¢å¼åä¸­ä¸éå¤å¼çä¸ªæ°\n 3. ç´¢å¼åçç±»åå°½éå°\n 4. ä¸ºååç¼å»ºç«ç´¢å¼ï¼èçç©ºé´\n 5. ç´¢å¼è¦çï¼åªæ¥è¯¢ç´¢å¼åï¼é¿ååè¡¨\n 6. è®©ç´¢å¼åä»¥ååçå½¢å¼å¨æç´¢æ¡ä»¶ä¸­åç¬åºç°\n\nselect * from single_table where key2 * 2 < 4;  #ä¸éç¨ç´¢å¼ï¼å¨è¡¨æ«æ\nselect * from single_table where key2  < 4/2;   \n\n\n 7. æ°æå¥è®°å½æ¶ä¸»é®å¤§å°å¯¹æççå½±åï¼å¿½å¤§å¿½å°çæå¥å¯è½ä¼é æé¡µé¢åè£\n\n\n# ç¬¬8ç«  æ°æ®çå®¶\n\nmysql æå¡å¨ç¨åºå¨å¯å¨æ¶ä¼å°æ°æ®ç®å½ä¸­å è½½æ°æ®,è¿è¡è¿ç¨ä¸­äº§ççæ°æ®ä¹ä¼è¢«å­å¨å°æ°æ®ç®å½ä¸­ç³»ç»åéä¹æ­æ²è¡¨æäºæ°æ®ç®å½çè·¯å¾ã\n\næ¯ä¸ªæ°æ®åºé½å¯¹åºçæ°æ®ç®å½ä¸çä¸ä¸ªå­ç®å½ï¼è¯¥å­ç®å½ä¸­åå«ä¸ä¸ªåä¸º db.opt çæä»¶è¿ä¸ªæä»¶åå«äºè¯¥æ°æ®åºçä¸äºå±æ§ï¼æ¯å¦è¯¥æ°æ®åºçå­ç¬¦éåæ¯è¾è§åç­ã\n\nå¯¹äºinnodb å­å¨å¼ææ¥è¯´ :\n\n * å¦æä½¿ç¨ç³»ç»è¡¨ç©ºé´å­å¨è¡¨ä¸­çæ°æ®,é£ä¹åªä¼å¨è¯¥è¡¨æå¨æ°æ®åºå¯¹åºçå­ç®å½ä¸åå»ºä¸ä¸ªåä¸º\"è¡¨å frm\" çæä»¶,è¡¨ä¸­çæ°æ®ä¼å­å¨å¨ç³»ç»è¡¨ç©ºé´å¯¹åºçæä»¶ä¸­ï¼\n * å¦æä½¿ç¨ç¬ç«è¡¨ç©ºé´å­å¨è¡¨ä¸­çæ°æ®ï¼é£ä¹ä¼å¨è¯¥è¡¨æå¨æ°æ®åºå¯¹åºçå­ç®å½ä¸åå»ºä¸ä¸ªåä¸º\"è¡¨å.frm\"çæä»¶åä¸ä¸ªåä¸º\"è¡¨å.idb\"çæä»¶ï¼è¡¨ä¸­çæ°æ®ä¼å­å¨è¿ä¸ª\"è¡¨å.idb\"æä»¶ä¸­ã\n\n\n# ç¬¬9ç«  innodbçè¡¨ç©ºé´\n\n\n# ç¬¬10ç«  åè¡¨è®¿é®æ¹å¼\n\n\n# ç¬¬11ç«  è¿æ¥çåç\n\nä»æ¬è´¨ä¸è¯´ï¼è¿æ¥å°±æ¯å°å¤ä¸ªè¡¨çæ°æ®æ¥è¯¢åºæ¥ä¾æ¬¡å¹éï¼ç»æä¸ä¸ªç»æéè¿åãå¦ææ²¡æè¿æ»¤æ¡ä»¶ï¼äº§ççç»æéé£ä¹å°±æ¯ç¬å¡å°ç§¯ã\n\nmysqlä¸­åä¸ºåè¿æ¥åå¤è¿æ¥ï¼åè¿æ¥ä¹å°±æ¯åå¹éä¸­çäº¤éï¼å¤è¿æ¥å°±æ¯ï¼è¢«é©±å¨è¡¨ä¸­ææ²¡ææ°æ®å¹éä¸é©±å¨è¡¨å¹éï¼é½ä¿çé©±å¨è¡¨ä¸­çæ°æ®ï¼åè¿æ¥åä¸ä¿å­ã\n\nåµå¥å¾ªç¯è¿æ¥ç®æ³æ¯å¼é©±å¨è¡¨åªè®¿é®ä¸æ¬¡ï¼å¯¹äºæ¯ä¸æ¡é©±å¨è¡¨ä¸­çæ°æ®ï¼é½ä¼è®¿é®ä¸æ¬¡è¢«é©±å¨è¡¨ãå æ­¤è®¾è®¡äºjoin bufferï¼è¿æ¥ç¼å²åºï¼å­æ¾äºåå­ï¼æé©±å¨è¡¨ä¸­æ¥è¯¢åºæ¥çæ°æ®æ¾å°ç¼å²åºä¸­ï¼ç¶åå¯¹äºæ¥è¯¢è¢«é©±å¨è¡¨ä¸­çæ¯ä¸æ¡æ°æ®ï¼é½ä¸ç¼å²åºä¸­çæ°æ®è¿è¡å¹éãè¿æ ·ï¼å°±åå¦ç¼å²åºè¶³å¤å¤§ï¼é£ä¹åªéè®¿é®ä¸æ¬¡è¢«é©±å¨è¡¨ã\n\n\n# ç¬¬12ç«  åºäºææ¬çä¼å\n\n\n# ææ¬\n\n * i/oææ¬ï¼å½æ¥è¯¢è¡¨ä¸­çè®°å½æ¶ï¼éè¦ææ°æ®æèç´¢å¼å è½½å°åå­ä¸­ï¼ç¶ååè¿è¡æä½ãè¿ä¸ªä»ç£çå°åå­çå è½½è¿ç¨æèçæ¶é´æä¸ºi/oææ¬ã\n * cpuææ¬ï¼è¯»åè®°å½ä»¥åæ£æµè®°å½æ¯å¦æ»¡è¶³å¯¹åºçæç´¢æ¡ä»¶ãå¯¹ç»æéè¿è¡æåºç­è¿äºæä½æèçæ¶é´ç§°ä¸ºcpuææ¬ã\n\nå¯¹äºinnodbå­å¨å¼ææ¥è¯´ï¼è¯»åä¸ä¸ªé¡µé¢è±è´¹çææ¬é»è®¤æ¯1.0ï¼è¯»åä»¥åæ£æµä¸æ¡è®°å½æ¯å¦ç¬¦åæç´¢æ¡ä»¶çææ¬é»è®¤æ¯0.2ã\n\n\n# åºäºææ¬çä¼åæ­¥éª¤\n\n 1. æ ¹æ®æç´¢æ¡ä»¶ï¼æ¾åºææå¯è½ä½¿ç¨çç´¢å¼\n 2. è®¡ç®å¨è¡¨æ«æçä»£ä»·\n 3. è®¡ç®ä½¿ç¨ä¸åç´¢å¼æ§è¡æ¥è¯¢çä»£ä»·\n 4. å¯¹æ¯åç§æ§è¡æ¹æ¡çä»£ä»·ï¼æ¾åºææ¬æä½çé£ä¸ªæ¹æ¡\n\n\n# åºäºç´¢å¼ç»è®¡æ°æ®çææ¬è®¡ç®\n\næ¯å¼ è¡¨é½æä¸ä¸ªå¯¹åºçç»è®¡è¡¨ï¼æ¥è®°å½è¿å¼ è¡¨çä¿¡æ¯ãæ¯å¦æä¸ªç´¢å¼ç»è®¡æ°æ®ï¼index statisticsï¼show index from è¡¨åï¼ç»è®¡ç´¢å¼åä¸­çåç§ä¿¡æ¯ï¼æä¸ä¸ªæ¯è¾éè¦çä¿¡æ¯ï¼cardinalityï¼è¡¨ç¤ºè¯¥åä¸­ä¸éå¤å¼çæ°éãæ ¹æ®è¿ä¸ªå±æ§ï¼å¯ä»¥è®¡ç®åºå¨æä¸åä¸­ä¸ä¸ªå¼å¹³ååºç°äºå¤å°æ¬¡ï¼å¤§çº¦éå¤æ¬¡æ°ç­äºå½æ°åä¸cardinalityå¼ã\n\n\n# è¿æ¥æ¥è¯¢çææ¬\n\n# æ¡ä»¶è¿æ»¤\n\nå ä¸ºå¨è¿æ¥æ¥è¯¢ä¸­ï¼é©±å¨è¡¨ä¼è¢«è®¿é®ä¸æ¬¡ï¼è¢«é©±å¨è¡¨å¯è½ä¼è¢«è®¿é®å¤æ¬¡ãæä»¥ï¼å¯¹äºä¸¤è¡¨è¿æ¥æ¥è¯¢æ¥è¯´ï¼å®çæ¥è¯¢ææ¬ç±ä¸¤é¨åææï¼\n\n * åè¯æ¥è¯¢é©±å¨è¡¨çææ¬\n * å¤æ¬¡æ¥è¯¢è¢«é©±å¨è¡¨çææ¬\n\né©±å¨è¡¨çè®°å½æ¡æ°æä¸ºæåºï¼fanoutï¼ï¼ç¶åå¢ï¼å°±è¦è®¡ç®æåºå¼ã\n\nå¯¹äºé£äºæ¡ä»¶ä¸­æ²¡æä½¿ç¨çç´¢å¼åçæ°æ®ï¼å®å¨é çæµæ¥è®¡ç®ç¬¦åæ¡ä»¶çè®°å½æ¡æ°ï¼å¯¹äºæç´¢å¼åï¼é£ä¹éè¿cardinalityæ¥çæµæ¡æ°ã\n\n# ä¸¤è¡¨è¿æ¥çææ¬åæ\n\nè¿æ¥æ¥è¯¢çæ»ææ¬=åè¯è®¿é®é©±å¨è¡¨çææ¬ + é©±å¨è¡¨çæåºå¼*åè¯è®¿é®è¢«é©±å¨è¡¨çææ¬\n\næä»¥ä¹éè¦èèæä¼çè¡¨è¿æ¥é¡ºåºï¼ä¼åçéç¹å°±æ¯åé¢é£ä¸ªå¤§å¤´ï¼\n\n * å°½éåå°é©±å¨è¡¨çæåºå¼\n * è®¿é®è¢«é©±å¨è¡¨çææ¬è¦å°½éåº\n\n# å¤è¡¨è¿æ¥çææ¬åæ\n\nnå¼ è¡¨çè¿æ¥æ¹å¼å°±æn!ç§è¿æ¥æ¹å¼ï¼éè¿ä¸äºå¯åå¼è§åæ¥åæå¤è¡¨è¿æ¥çææ¬ï¼æ¯å¦\n\n * æåç»ææç§è¿æ¥é¡ºåºçææ¬è¯ä¼°\n * é²æ­¢æ ç©·æ å°½å°åæåç§è¿æ¥é¡ºåºçææ¬ï¼åªåæå°äºä¸å®çè¿æ¥è¡¨æ°é\n\n\n# è°èææ¬å¸¸æ°\n\næä¸¤å¼ è¡¨ï¼engine_costï¼server_cost\n\nå¨serverå±è¿è¡è¿æ¥ç®¡çãæ¥è¯¢ç¼å­ãè¯­æ³è§£æãæ¥è¯¢ä¼åç­æä½ï¼\n\nå¨å­å¨å¼æå±æ§è¡å·ä½çæ°æ®å­åæä½ã\n\n\n# ç¬¬13ç«  innodbç»è®¡æ°æ®æ¯å¦ä½æ¶éç\n\n\n# ç¬¬14ç«  åºäºè§åçä¼å\n\n\n# ä¸äºç®åçä¼å\n\n * ç§»é¤ä¸å¿è¦çæ¬å·\n * å¸¸éä¼ é\n\na = 5 and b > a\n\n\na = 5 and b > 5\n\n\n * ç­å¼ä¼ é\n\n * ç§»é¤æ²¡ç¨çæ¡ä»¶\n\n * è¡¨è¾¾å¼è®¡ç®\n\n * havingå­å¥åwhereå­å¥çåå¹¶ï¼å¦ææ²¡ç¨åºç°sumãmacç­èéå½æ°ä»¥ågroup byå­å¥ï¼ä¼åå¨å°±æhavingå­å¥åwhereå­å¥åå¹¶\n\n\n# å¸¸éè¡¨æ£æµ\n\nè¿ä¸¤ç§æ¥è¯¢è¯è´¹çæ¶é´ç¹å«å°\n\n * æ¥è¯¢çè¡¨ä¸­ä¸æ¡è®°å½æ²¡æï¼æèåªæä¸æ¡è®°å½ï¼æ ¹æ®ç»è®¡ä¿¡æ¯ï¼ä½ä¸åç¡®ï¼ï¼\n * ä½¿ç¨ä¸»é®ç­å¼å¹éæèå¯ä¸äºçº§ç´¢å¼åç­å¼å¹é\n\n\n# å¤è¿æ¥æ¶é¤\n\nå¨è¢«é©±å¨è¡¨ä¸­æ²¡ææ¾å°ç¬¦åæ¡ä»¶çè®°å½ï¼å°±ä¼å å¥ä¸æ¡nullå¼çè®°å½å°ç»æéä¸­ãå¦æå¨whereæ¡ä»¶ä¸­æç»ç©ºå¼ï¼è¿æ¶åçæ¥è¯¢ç»ææ¯ç­ä»·äºåè¿æ¥çï¼é£ä¹å°±å¯ä»¥å°å¤è¿æ¥è½¬æ¢ä¸ºåè¿æ¥ã\n\nè½¬ä¸ºåè¿æ¥çå¥½å¤æ¯ï¼ä¼åå¨å¯ä»¥è¯ä¼°ä¸åè¿æ¥é¡ºåºçææ¬ï¼è¿èéåºææ¬æä½çé£ç§è¿æ¥é¡ºåºè¿è¡æ¥è¯¢ã\n\n\n# å­æ¥è¯¢mysqlæ§è¡è¿ç¨\n\n# ä¸ç¸å³æ éå­æ¥è¯¢\n\nselect * from s1 \n    where key1 = (select common_field from s2 where key3 = 'a' limit 1);\n\n\n * ååç¬æ§è¡å­æ¥è¯¢select common_field from s2 where key3 = 'a' limit 1\n * å°ä¸ä¸æ­¥å­æ¥è¯¢çç»æä½ä¸ºå¤å±å¾ªç¯çæ¡ä»¶\n\n# ç¸å³æ éå­æ¥è¯¢\n\nselect * from s1 where \n    key1 = (select common_field from s2 where s1.key3 = s2.key3 limit 1);\n\n\n * ä»å¤å¾ªç¯ååºä¸æ¡è®°å½\n * è·åä¸ä¸æ­¥çè®°å½æéçåï¼ç¶åæ§è¡å­æ¥è¯¢\n * å¦æç¬¦åæ¡ä»¶ï¼æ¥åºå­æ¥è¯¢çç»æ\n * åå°å­æ¥è¯¢çç»ææ¼æ¥å°å¤å±æ¥è¯¢çwhereå­å¥ä¸­\n\n# inå­æ¥è¯¢çä¼å\n\nselect * from s1 \n    where key1 in (select common_field from s2 where key3 = 'a');\n\n\nå°inåé¢çå­æ¥è¯¢ç»æï¼åå¥å°ä¸ä¸ªä¸´æ¶è¡¨ä¸­ï¼ç©åè¡¨ï¼materialized_table\n\né£ä¹å°±ç¸å½äºæä¸¤å¼ è¡¨ï¼å°±æä¸ä¸ä¸¤ç§èè\n\n * ä»åè¡¨s1çè§åº¦çå¾ï¼åè·ås1è¡¨ä¸­çä¸æ¡è®°å½ï¼ç¶åå¤æ­è¿æ¡è®°å½æ¯å¦å­å¨äºç©åè¡¨ä¸­ã\n * ä»ç©åè¡¨çå¾ï¼åè·åç©åè¡¨ä¸­çå¼ï¼ç¶åå¤æ­s1è¡¨ä¸­æ¯å¦æè¿ä¸ªå¼çè®°å½ã\n\nä¹å°±æ¯è¯´ï¼å¯ä»¥ç¸å½äºæ¯ä¸ä¸ªåè¿æ¥ï¼ç­ä»·äº\n\nselect s1.* from s1 inner join materialized_table on key1 = m_val;\n\n\næ¯åè¿æ¥ï¼é£ä¹ä¼åå¨å°±ä¼è¯ä¼°å®ä»¬çè¿æ¥é¡ºåºã\n\n# å°å­æ¥è¯¢è½¬æ¢ä¸ºsemi-join\n\nç´æ¥å°å­æ¥è¯¢è½¬æ¢ä¸ºè¿æ¥ã\n\nå¯¹äºè¿æ ·ä¸ä¸ªæ¥è¯¢\n\nselect * from s1 \n    where key1 in (select common_field from s2 where key3 = 'a');\n\n\nå°è¯å°å¶è½¬æ¢ä¸ºè¿æ¥\n\nselect s1.* from s1 inner join s2 \n    on s1.key1 = s2.common_field \n    where s2.key3 = 'a';\n\n\nè¿ä¸ªæ¥è¯¢çç»æéæ¯s1çè®°å½ï¼å¦æå¯¹äºè¡¨s1çææ¡è®°å½æ¥è¯´ï¼s2è¡¨ä¸­æå¤æ¡s1.key1=s2.common_fieldï¼é£ä¹s1çè¿æ¡è®°å½ä¼å å¥å¤æ¬¡å°ç»æéä¸­ï¼è¿ä¸ç§æåµä¸åæ¥çæ¥è¯¢ç­ä»·ï¼åæ¥çæ¥è¯¢åªå³å¿æ¯å¦å­å¨è®°å½æ»¡è¶³s1.key1=s2.common_fieldäºä¸å³å¿å·ä½æå¤å°æ¡è®°å½ä¸ä¹å¹éã\n\nåè¿æ¥\n\n * table pulloutï¼å­æ¥è¯¢ä¸­çè¡¨ä¸æï¼\n   \n   å½å­æ¥è¯¢çæ¥è¯¢åè¡¨æ¯åªæä¸»é®æèå¯ä¸ç´¢å¼åæ¶\n   \n   select * from s1 \n       where key2 in (select key2 from s2 where key3 = 'a');\n   \n   \n   å¯ä»¥è½¬æ¢ä¸º\n   \n   select s1.* from s1 inner join s2 \n       on s1.key2 = s2.key2 \n       where s2.key3 = 'a';\n   \n   \n   å ä¸ºå¯ä¸ç´¢å¼æä¸»é®ä¸å­å¨æå¤æ¡è®°å½ä¸ä¹å¹é\n\n * duplicateweedout execution strategy ï¼éå¤å¼æ¶é¤ï¼\n   \n   select * from s1 \n       where key1 in (select common_field from s2 where key3 = 'a');\n   \n   \n   å¯ä»¥åå»ºä¸ä¸ªä¸´æ¶è¡¨\n   \n   create table tmp (\n       id primary key\n   );\n   \n   \n   è¿æ ·ï¼å¦æè¦å°s1çææ¡è®°å½å å¥å°ç»æéä¸­ï¼é£åå°è¯¥æ¡è®°å½çidæå¥å°ä¸´æ¶è¡¨ä¸­ï¼å¦ææå¥æåï¼é£å¯ä»¥å°è¯¥æ¡è®°å½å å¥å°ç»æéã\n\nåè¿æ¥éç¨æ¡ä»¶\n\nselect ... from outer_tables \n    where expr in (select ... from inner_tables ...) and ...\n\n\nå¦æinå­æ¥è¯¢ä¸ç¬¦åè½¬æ¢ä¸ºsemi-joinçæ¡ä»¶ï¼é£ä¹æ¥è¯¢ä¼åå¨åäºéä¸\n\n * åå°å­æ¥è¯¢ç©åä¹ååæ§è¡æ¥è¯¢\n * æ§è¡in to existsè½¬æ¢\n\nin to existsè½¬æ¢\n\nouter_expr in (select inner_expr from ... where subquery_where)\n\n\nè½¬æ¢ä¸º\n\nexists (select inner_expr from ... where subquery_where and outer_expr=inner_expr)\n\n\nè½¬æ¢ä¸ºexistsçå¥½å¤æ¯ï¼å­æ¥è¯¢å¯è½å¯ä»¥ç¨ä¸ç´¢å¼\n\nçå°è¿éèå­å¡å¡ç~\n\n\n# ç¬¬15ç«  explainè¯¦è§£\n\nä¸æ¡æ¥è¯¢è¯­å¥å¨ç»è¿mysqlçæ¥è¯¢ä¼åå¨åï¼ä¼åºäºææ¬æè§åè¿è¡ä¼åï¼å¯ä»¥éexplainæ¥æ¥çå·ä½çæ§è¡è®¡åã\n\n\n# æ§è¡è¾åºä¸­åå\n\nmysql> explain select * from s1;\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | extra |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n|  1 | simple      | s1    | null       | all  | null          | null | null    | null | 9688 |   100.00 | null  |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n\n\n# table\n\næ è®ºæ¥è¯¢è¯­å¥ä¸­åå«å¤å°ä¸ªè¡¨ï¼æç»é½ä¼å¯¹æ¯ä¸ªè¡¨è¿è¡åè¡¨æ¥è¯¢\n\n# id\n\nä¸ä¸ªå¤§çæ¥è¯¢å¯ä»¥æåæå¤ä¸ªselectï¼æ¯ä¸ä¸ªselectå¯¹åºä¸ä¸ªidã\n\nå¯¹äºè¿æ¥æ¥è¯¢å ä¸ºæ¯åä¸ä¸ªselectå­å¥ï¼æä»¥æ¥è¯¢çä¸¤ä¸ªè¡¨æ¯åä¸ä¸ªidå¼ã\n\nmysql> explain select * from s1 inner join s2;\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------------+\n| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | extra                                 |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------------+\n|  1 | simple      | s1    | null       | all  | null          | null | null    | null | 9688 |   100.00 | null                                  |\n|  1 | simple      | s2    | null       | all  | null          | null | null    | null | 9954 |   100.00 | using join buffer (block nested loop) |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------------+\n2 rows in set, 1 warning (0.01 sec)\n\n\nå¯¹äºèåæ¥è¯¢æèå­æ¥è¯¢ï¼åä¼åéå¤ä¸ªå¯ä¸idå¼ã\n\nmysql> explain select * from s1 where key1 in (select key1 from s2) or key3 = 'a';\n+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n| id | select_type | table | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | extra       |\n+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n|  1 | primary     | s1    | null       | all   | idx_key3      | null     | null    | null | 9688 |   100.00 | using where |\n|  2 | subquery    | s2    | null       | index | idx_key1      | idx_key1 | 303     | null | 9954 |   100.00 | using index |\n+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n2 rows in set, 1 warning (0.02 sec)\n\n\n# select_type\n\nä¸ä¸ªå¤§çselectå¯ä»¥æåæå¤ä¸ªå°selectï¼å¯¹æ¯ä¸ä¸ª`selectåéè§è²ã\n\n * simple\n\nä¸åå«unionæèå­æ¥è¯¢çæ¥è¯¢é½ç®ä½simpleç±»å\n\nmysql> explain select * from s1;\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | extra |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n|  1 | simple      | s1    | null       | all  | null          | null | null    | null | 9688 |   100.00 | null  |\n+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n\n\n * private\n\nåå«unionï¼æèå­æ¥è¯¢çæ¥è¯¢ï¼å¶ä¸­æå·¦è¾¹çè¡¨å°±æ¯private\n\nmysql> explain select * from s1 union select * from s2;\n+----+--------------+------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n| id | select_type  | table      | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | extra           |\n+----+--------------+------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n|  1 | primary      | s1         | null       | all  | null          | null | null    | null | 9688 |   100.00 | null            |\n|  2 | union        | s2         | null       | all  | null          | null | null    | null | 9954 |   100.00 | null            |\n| null | union result | <union1,2> | null       | all  | null          | null | null    | null | null |     null | using temporary |\n+----+--------------+------------+------------+------+---------------+------+---------+------+------+----------+-----------------+\n3 rows in set, 1 warning (0.00 sec)\n\n\n * union\n\nä¸è¾¹ï¼é¤äºæå·¦è¾¹çs1ï¼å¶å®é½æ¯union\n\n * union result\n\nä¸è¾¹ï¼éè¦å°ä¸¤ä¸ªæ¥è¯¢çç»æéåå¹¶ï¼è¿éå°±æ¯å­æ¾å°ä¸ä¸ªä¸´æ¶è¡¨ä¸­ï¼å¹¶å»éã\n\n * subquery\n\nåå«å­æ¥è¯¢çæ¥è¯¢ï¼ä¸è½è½¬ä¸ºå¯¹åºçsemi-joinï¼å¹¶ä¸æ¯ä¸ç¸å³å­æ¥è¯¢\n\n * dependent subquery\n\nç¸å³å­æ¥è¯¢\n\n * dependent union\n * derived\n\næ´¾çè¡¨\n\nmysql> explain select * from (select key1, count(*) as c from s1 group by key1) as derived_s1 where c > 1;\n+----+-------------+------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n| id | select_type | table      | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | extra       |\n+----+-------------+------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n|  1 | primary     | <derived2> | null       | all   | null          | null     | null    | null | 9688 |    33.33 | using where |\n|  2 | derived     | s1         | null       | index | idx_key1      | idx_key1 | 303     | null | 9688 |   100.00 | using index |\n+----+-------------+------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+\n2 rows in set, 1 warning (0.00 sec)\n\n\n * materialized\n\nç©åè¡¨\n\nmysql> explain select * from s1 where key1 in (select key1 from s2);\n+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+\n| id | select_type  | table       | partitions | type   | possible_keys | key        | key_len | ref               | rows | filtered | extra       |\n+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+\n|  1 | simple       | s1          | null       | all    | idx_key1      | null       | null    | null              | 9688 |   100.00 | using where |\n|  1 | simple       | <subquery2> | null       | eq_ref | <auto_key>    | <auto_key> | 303     | xiaohaizi.s1.key1 |    1 |   100.00 | null        |\n|  2 | materialized | s2          | null       | index  | idx_key1      | idx_key1   | 303     | null              | 9954 |   100.00 | using index |\n+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+\n3 rows in set, 1 warning (0.01 sec)\n\n\n# type\n\ntype              ç±»å\nsystem            å¯¹äºç»è®¡ç²¾ç¡®çå¼æï¼è¡¨ä¸­ä»å«ä¸æ¡è®°å½\nconst             åè¡¨è®¿é®ï¼ä¸»é®æèå¯ä¸äºçº§ç´¢å¼åä¸ç­å¼å¹é\neq_ref            è¿æ¥æ¥è¯¢ï¼è¢«é©±å¨è¡¨éè¿ä¸»é®æèå¯ä¸äºçº§ç´¢å¼åä¸ç­å¼å¹é\nref               æ®éçäºçº§ç´¢å¼åä¸ç­å¼å¹é\nfulltext          å¨æç´¢å¼\nref_or_null       æ®éçäºçº§ç´¢å¼åä¸ç­å¼å¹éï¼åå«null\nindex_merge       ç´¢å¼åå¹¶\nunique_subquery   è¿æ¥æ¥è¯¢ï¼è¢«é©±å¨è¡¨ä½¿ç¨eq_ref\nindex_subquery    è¿æ¥æ¥è¯¢ï¼è¢«é©±å¨è¡¨ä½¿ç¨ref\nrange             ä½¿ç¨ç´¢å¼è·åæäºèå´åºé´\nindex             éè¦æ«æç´¢å¼ä¸çæææ°æ®\nall               å¨è¡¨æ«æ\n\n# possible_keysåkey\n\nå¯è½ä½¿ç¨å°çç´¢å¼ï¼åå®éç¨å°çç´¢å¼\n\n# key_len\n\n# ref\n\nä½¿ç¨ç´¢å¼åç­å¼å¹éå»æ§è¡æ¥è¯¢æ¶ï¼å±ç¤ºä¸ä»ä¹è¿è¡ç­å¼å¹éï¼ä¸æä¸ªå¸¸æ°constï¼æä¸åï¼æä¸ªå½æ°ã\n\n# rows\n\né¢è®¡éè¦æ«æçè¡æ°\n\n# filtered\n\nè¿æ»¤æ¡ä»¶åï¼è¿å©å¤å°è®°å½ï¼1~100%ã\n\næªå®å¾ç»­ããã\n\n\n# ç¬¬16ç«  optimizer traceçç¥å¥åæ\n\n\n# ç¬¬17ç«  innodbçbuffer pool\n\nç£çå¤ªæ¢ï¼ç¨åå­ä½ä¸ºç¼å­ï¼ä¸è³äºæ¯æ¬¡é½è®¿é®ç£çã\n\nbuffer pollæ¯åæä½ç³»ç»ç³è¯·çè¿ç»­åå­ï¼ä¸ä¸ªä¸ªçchunkç»æï¼æ¯ä¸ªchunkç±æ§å¶ååç¼å­é¡µç»æï¼æ§å¶åé£è¯å®å°±æ¯å­æ¾ä¸äºç¼å­é¡µçä¿¡æ¯ï¼ä¸ä¸é¡µï¼ä¸ä¸é¡µï¼éå¥çã\n\né£å¨åå­ä¸­å¼äºä¸ä¸ªè¿æ ·çç©æï¼é£è¯å®å°±æè¿äºé®é¢\n\nåç¥éç¼å­ä¸­æ¯å¦å è½½äºæä¸é¡µï¼ä½¿ç¨è¡¨ç©ºé´å· + é¡µå·ä½ä¸ºkeyï¼ç¼å­é¡µä½ä¸ºvalueï¼å»ºç«åå¸è¡¨ã\n\nç¼å­ä¸­ä¿®æ¹äºé¡µï¼èé¡µï¼ï¼å å¥å°flushé¾è¡¨ï¼ç­å¾æ¶æºå·å¥ç£çã\n\nbuffer pollæ»¡äºæä¹åï¼éç¨lrué¾è¡¨ï¼lrué¾è¡¨åä¸ºyoungåºåoldåºï¼æ°å å¥çæ°æ®ï¼æ¾å°lruçoldå¤´ï¼å¨é´éä¸å®æ¶é´å¤è®¿é®ï¼å°±ä¼å§ä»éå°youngå¤´ãæ²¡æè¶³å¤çç©ºé²ç¼å­é¡µï¼é¦åæ·æ±°oldä¸­çé¡µã\n\nå°äº1gç¼å­æ°æ®ï¼ä¸å»ºè®®æå¤ä¸ªbuffer pollã\n\n\n# ç¬¬18ç«  äºå¡\n\nacidï¼åå­æ§ï¼ä¸è´æ§ï¼éç¦»æ§ï¼æä¹æ§\n\n\n# ç¬¬19ç«  redoæ¥å¿\n\n\n# ç¬¬20ç«  undoæ¥å¿\n\n\n# ç¬¬21ç«  äºå¡éç¦»çº§å«åmvcc\n\n\n# ç¬¬22ç«  é",charsets:{cjk:!0}},{title:"MySQLæå¿ç¹",frontmatter:{title:"MySQLæå¿ç¹",date:"2023-03-06T14:53:40.000Z",permalink:"/pages/c38f55/"},regularPath:"/01.Java/05.%E6%95%B0%E6%8D%AE%E5%BA%93/04.MySQL%E6%98%93%E5%BF%98%E7%82%B9.html",relativePath:"01.Java/05.æ°æ®åº/04.MySQLæå¿ç¹.md",key:"v-611dc400",path:"/pages/c38f55/",headers:[{level:2,title:"GROUP BY",slug:"group-by",normalizedTitle:"group by",charIndex:2},{level:2,title:"JOIN",slug:"join",normalizedTitle:"join",charIndex:1033},{level:2,title:"UNION",slug:"union",normalizedTitle:"union",charIndex:2382}],headersStr:"GROUP BY JOIN UNION",content:"# GROUP BY\n\ngroup byè¯­æ³å¯ä»¥æ ¹æ®ç»å®æ°æ®åçæ¯ä¸ªæåå¯¹æ¥è¯¢ç»æè¿è¡åç»ç»è®¡ï¼æç»å¾å°ä¸ä¸ªåç»æ±æ»è¡¨ã\n\nSELECTå­å¥ä¸­çååå¿é¡»ä¸ºåç»åæåå½æ°ãåå½æ°å¯¹äºGROUP BYå­å¥å®ä¹çæ¯ä¸ªç»åè¿åä¸ä¸ªç»æã\n\nå¯åºç¨éå®æ¡ä»¶è¿è¡åç»ï¼ä»¥ä¾¿ç³»ç»ä»å¯¹æ»¡è¶³æ¡ä»¶çç»è¿åç»æã\n\nSELECT col_1, col_2, MAX(col_3) AS alis -- åç»åä½¿ç¨èåå½æ°ä½ç¨ä¸ç»åçæ°æ®\nFROM tab\nWHERE col_1 > 'xxx'\nGROUP BY col_1, col_2 -- æå1ï¼å2 çæä¸ä¸ªæ´ä½ï¼åç»\nhaving col_1 > 'xxx' -- å¨æ¯ä¸ç»ä¸­è¿è¡ç­é\nORDER BY col_1, col_2\n\n\nTable: Employees\n\nROLE       NAME         BUILDING   YEARS_EMPLOYED\nEngineer   Becky A.     1e         4\nEngineer   Dan B.       1e         2\nEngineer   Sharon F.    1e         6\nEngineer   Dan M.       1e         4\nEngineer   Malcom S.    1e         1\nArtist     Tylar S.     2w         2\nArtist     Sherman D.   2w         8\nArtist     Jakob J.     2w         6\nArtist     Lillia A.    2w         7\nArtist     Brandon J.   2w         7\nManager    Scott K.     1e         9\nManager    Shirlee M.   1e         3\nManager    Daria O.     2w         6\n\nè®¡ç®Engineerçæ»å·¥ä½å¹´é\n\nROLE       YEARS\nEngineer   17\n\nSELECT role, SUM(Years_employed) Years FROM employees\nGROUP BY role\nHAVING role='Engineer'\n\n\n\n# JOIN\n\nOrderItemsè¡¨\n\nPROD_ID   ORDER_NUM\nBR01      a0001\nBR01      a0002\nBR02      a0003\nBR02      a0013\n\nOrdersè¡¨\n\nORDER_NUM   CUST_ID   ORDER_DATE\na0001       cust10    2022-01-01 00:00:00\na0002       cust1     2022-01-01 00:01:00\na0003       cust1     2022-01-02 00:00:00\na0013       cust2     2022-01-01 00:20:00\n\nç¡®å®åªäºè®¢åï¼å¨ OrderItems ä¸­ï¼è´­ä¹°äº prod_id ä¸º \"BR01\" çäº§åï¼ç¶åä» Orders è¡¨ä¸­è¿åæ¯ä¸ªäº§åå¯¹åºçé¡¾å®¢ IDï¼cust_idï¼åè®¢åæ¥æï¼order_dateï¼ï¼æè®¢è´­æ¥æå¯¹ç»æè¿è¡ååºæåºã\n\nç»æ\n\nCUST_ID   ORDER_DATE\ncust10    2022-01-01 00:00:00\ncust1     2022-01-01 00:01:00\n\nwhere\n\nselect cust_id, order_date\nfrom Orders o, OrderItems oi\nwhere prod_id = 'BR01' and o.order_num = oi.order_num\norder by order_date\n\n\nå­æ¥è¯¢\n\nselect cust_id, order_date from Orders\nwhere order_num in (\n  select order_num from OrderItems\n  where prod_id = 'BR01'\n)\norder by order_date;\n\n\nå·¦è¿æ¥\n\nselect cust_id,order_date\nfrom Orders o\nleft join OrderItems oi \non o.order_num = oi.order_num\nwhere prod_id = 'BR01'\norder by order_date;\n\n\nèªç¶è¿æ¥\n\nselect cust_id, order_date\nfrom Orders\nnatural join OrderItems\nwhere prod_id = 'BR01'\norder by  order_date;\n\n\nåè¿æ¥\n\nselect cust_id, order_date\nfrom Orders o\ninner JOIN OrderItems oi\non o.order_num = oi.order_num and  prod_id = 'BR01'\norder by order_date;\n\n\nèªç¶è¿æ¥ using\n\nselect cust_id, order_date\nfrom Orders\njoin OrderItems using(order_num)\nwhere prod_id = 'BR01'\norder by order_date;\n\n\n\n# UNION\n\n * union--è¿æ¥è¡¨ï¼å¯¹è¡æä½ã\n * union--å°ä¸¤ä¸ªè¡¨åè¡æ¼æ¥ï¼åæ¶èªå¨å é¤éå¤çè¡ã\n * union all---å°ä¸¤ä¸ªè¡¨åè¡æ¼æ¥ï¼ä¿çéå¤çè¡\n\nè¡¨OrderItemsåå«è®¢åäº§åä¿¡æ¯ï¼å­æ®µprod_idä»£è¡¨äº§åidãquantityä»£è¡¨äº§åæ°é\n\nPROD_ID   QUANTITY\na0001     105\na0002     100\na0002     200\na0013     1121\na0003     10\na0003     19\na0003     5\nBNBG      10002\n\nãé®é¢ã\n\nå°ä¸¤ä¸ª SELECT è¯­å¥ç»åèµ·æ¥ï¼ä»¥ä¾¿ä» OrderItemsè¡¨ä¸­æ£ç´¢äº§å idï¼prod_idï¼å quantityãå¶ä¸­ï¼ä¸ä¸ª SELECT è¯­å¥è¿æ»¤æ°éä¸º 100 çè¡ï¼å¦ä¸ä¸ª SELECT è¯­å¥è¿æ»¤ id ä»¥ BNBG å¼å¤´çäº§åï¼æåæäº§å id å¯¹ç»æè¿è¡ååºæåºã\n\nãç¤ºä¾ç»æã\n\nè¿åäº§åid prod_idåäº§åæ°équantity\n\nPROD_ID   QUANTITY\na0002     100\nBNBG      10002\n\nselect prod_id, quantity\nfrom OrderItems\nwhere quantity=100\nunion \nselect prod_id, quantity\nfrom OrderItems\nwhere prod_id like 'BNBG%'\norder by prod_id\n",normalizedContent:"# group by\n\ngroup byè¯­æ³å¯ä»¥æ ¹æ®ç»å®æ°æ®åçæ¯ä¸ªæåå¯¹æ¥è¯¢ç»æè¿è¡åç»ç»è®¡ï¼æç»å¾å°ä¸ä¸ªåç»æ±æ»è¡¨ã\n\nselectå­å¥ä¸­çååå¿é¡»ä¸ºåç»åæåå½æ°ãåå½æ°å¯¹äºgroup byå­å¥å®ä¹çæ¯ä¸ªç»åè¿åä¸ä¸ªç»æã\n\nå¯åºç¨éå®æ¡ä»¶è¿è¡åç»ï¼ä»¥ä¾¿ç³»ç»ä»å¯¹æ»¡è¶³æ¡ä»¶çç»è¿åç»æã\n\nselect col_1, col_2, max(col_3) as alis -- åç»åä½¿ç¨èåå½æ°ä½ç¨ä¸ç»åçæ°æ®\nfrom tab\nwhere col_1 > 'xxx'\ngroup by col_1, col_2 -- æå1ï¼å2 çæä¸ä¸ªæ´ä½ï¼åç»\nhaving col_1 > 'xxx' -- å¨æ¯ä¸ç»ä¸­è¿è¡ç­é\norder by col_1, col_2\n\n\ntable: employees\n\nrole       name         building   years_employed\nengineer   becky a.     1e         4\nengineer   dan b.       1e         2\nengineer   sharon f.    1e         6\nengineer   dan m.       1e         4\nengineer   malcom s.    1e         1\nartist     tylar s.     2w         2\nartist     sherman d.   2w         8\nartist     jakob j.     2w         6\nartist     lillia a.    2w         7\nartist     brandon j.   2w         7\nmanager    scott k.     1e         9\nmanager    shirlee m.   1e         3\nmanager    daria o.     2w         6\n\nè®¡ç®engineerçæ»å·¥ä½å¹´é\n\nrole       years\nengineer   17\n\nselect role, sum(years_employed) years from employees\ngroup by role\nhaving role='engineer'\n\n\n\n# join\n\norderitemsè¡¨\n\nprod_id   order_num\nbr01      a0001\nbr01      a0002\nbr02      a0003\nbr02      a0013\n\nordersè¡¨\n\norder_num   cust_id   order_date\na0001       cust10    2022-01-01 00:00:00\na0002       cust1     2022-01-01 00:01:00\na0003       cust1     2022-01-02 00:00:00\na0013       cust2     2022-01-01 00:20:00\n\nç¡®å®åªäºè®¢åï¼å¨ orderitems ä¸­ï¼è´­ä¹°äº prod_id ä¸º \"br01\" çäº§åï¼ç¶åä» orders è¡¨ä¸­è¿åæ¯ä¸ªäº§åå¯¹åºçé¡¾å®¢ idï¼cust_idï¼åè®¢åæ¥æï¼order_dateï¼ï¼æè®¢è´­æ¥æå¯¹ç»æè¿è¡ååºæåºã\n\nç»æ\n\ncust_id   order_date\ncust10    2022-01-01 00:00:00\ncust1     2022-01-01 00:01:00\n\nwhere\n\nselect cust_id, order_date\nfrom orders o, orderitems oi\nwhere prod_id = 'br01' and o.order_num = oi.order_num\norder by order_date\n\n\nå­æ¥è¯¢\n\nselect cust_id, order_date from orders\nwhere order_num in (\n  select order_num from orderitems\n  where prod_id = 'br01'\n)\norder by order_date;\n\n\nå·¦è¿æ¥\n\nselect cust_id,order_date\nfrom orders o\nleft join orderitems oi \non o.order_num = oi.order_num\nwhere prod_id = 'br01'\norder by order_date;\n\n\nèªç¶è¿æ¥\n\nselect cust_id, order_date\nfrom orders\nnatural join orderitems\nwhere prod_id = 'br01'\norder by  order_date;\n\n\nåè¿æ¥\n\nselect cust_id, order_date\nfrom orders o\ninner join orderitems oi\non o.order_num = oi.order_num and  prod_id = 'br01'\norder by order_date;\n\n\nèªç¶è¿æ¥ using\n\nselect cust_id, order_date\nfrom orders\njoin orderitems using(order_num)\nwhere prod_id = 'br01'\norder by order_date;\n\n\n\n# union\n\n * union--è¿æ¥è¡¨ï¼å¯¹è¡æä½ã\n * union--å°ä¸¤ä¸ªè¡¨åè¡æ¼æ¥ï¼åæ¶èªå¨å é¤éå¤çè¡ã\n * union all---å°ä¸¤ä¸ªè¡¨åè¡æ¼æ¥ï¼ä¿çéå¤çè¡\n\nè¡¨orderitemsåå«è®¢åäº§åä¿¡æ¯ï¼å­æ®µprod_idä»£è¡¨äº§åidãquantityä»£è¡¨äº§åæ°é\n\nprod_id   quantity\na0001     105\na0002     100\na0002     200\na0013     1121\na0003     10\na0003     19\na0003     5\nbnbg      10002\n\nãé®é¢ã\n\nå°ä¸¤ä¸ª select è¯­å¥ç»åèµ·æ¥ï¼ä»¥ä¾¿ä» orderitemsè¡¨ä¸­æ£ç´¢äº§å idï¼prod_idï¼å quantityãå¶ä¸­ï¼ä¸ä¸ª select è¯­å¥è¿æ»¤æ°éä¸º 100 çè¡ï¼å¦ä¸ä¸ª select è¯­å¥è¿æ»¤ id ä»¥ bnbg å¼å¤´çäº§åï¼æåæäº§å id å¯¹ç»æè¿è¡ååºæåºã\n\nãç¤ºä¾ç»æã\n\nè¿åäº§åid prod_idåäº§åæ°équantity\n\nprod_id   quantity\na0002     100\nbnbg      10002\n\nselect prod_id, quantity\nfrom orderitems\nwhere quantity=100\nunion \nselect prod_id, quantity\nfrom orderitems\nwhere prod_id like 'bnbg%'\norder by prod_id\n",charsets:{cjk:!0}},{title:"é",frontmatter:{title:"é",date:"2023-05-28T17:35:15.000Z",permalink:"/pages/8d8ba3/"},regularPath:"/01.Java/05.%E6%95%B0%E6%8D%AE%E5%BA%93/07.MySQL%E9%94%81.html",relativePath:"01.Java/05.æ°æ®åº/07.MySQLé.md",key:"v-0d1fe552",path:"/pages/8d8ba3/",headers:[{level:2,title:"å¨å±é",slug:"å¨å±é",normalizedTitle:"å¨å±é",charIndex:25},{level:2,title:"è¡¨é",slug:"è¡¨é",normalizedTitle:"è¡¨é",charIndex:95},{level:2,title:"è¡é",slug:"è¡é",normalizedTitle:"è¡é",charIndex:513},{level:3,title:"Gap Locksï¼",slug:"gap-locks",normalizedTitle:"gap locksï¼",charIndex:553},{level:3,title:"Next-Key Locksï¼",slug:"next-key-locks",normalizedTitle:"next-key locksï¼",charIndex:694},{level:3,title:"æå¥æåéï¼",slug:"æå¥æåé",normalizedTitle:"æå¥æåéï¼",charIndex:729},{level:3,title:"éå¼é",slug:"éå¼é",normalizedTitle:"éå¼é",charIndex:794}],headersStr:"å¨å±é è¡¨é è¡é Gap Locksï¼ Next-Key Locksï¼ æå¥æåéï¼ éå¼é",content:"éï¼åºç¶æ¯ç¨æ¥è§£å³å¹¶åäºå¡åºç°çé®é¢çã\n\n\n# å¨å±é\n\nåæ¶éè¦å¤ä»½å¤ä¸ªè¡¨çæ°æ®ï¼ä»ä»éä¸å¼ è¡¨æ¯ä¸å¤çï¼ä½æ¯åæ¯è¾é¸¡èã\n\næ°æ®åºå¤ä»½ï¼éç¨Read Viewæ¹å¼è¿è¡å¤ä»½å³å¯ã\n\n\n# è¡¨é\n\nä¹å°±æ¯æ­£å¸¸çè§£çåéåè¯»éï¼å¦ææäºå¡è¦å¯¹è¡¨è·åè¯»éï¼é£å°±å¾ç¡®ä¿è¯¥è¡¨ä¸­ææçè®°å½é½æ²¡æåéãå è¡¨éä¹ååéåä¸éè¡¨ä¸­çè®°å½ï¼éåæ¯ä¸å¯è½éåçï¼è¿è¾å­é½ä¸å¯è½éåã\n\næåé\n\næä»¥è¿æ ·è®¾è®¡ï¼äºå¡æ³å¯¹ææ¡è®°å½ä¸å éæ¶ï¼åå¨è¡¨ä¸å ä¸ªæåéãå æåéå¹¶ä¸å³å¿è¿è¡¨ååææ²¡æå è¿æåéãéæ¾è®°å½ä¸çéæ¶ï¼åæ¶éæ¾èªå·±å å¨è¡¨ä¸çæåéã\n\nè¿æ ·æ°äºå¡æ¥æ³å¯¹è¡¨å éï¼é£ä¹å¤æ­è¿è¡¨ä¸ææ²¡ææåéï¼å¦ææç¸åºçæåéï¼é£ä¹å°±ä¼è·åè¡¨éå¤±è´¥ï¼é»å¡ã\n\n----------------------------------------\n\nAUTO-INCèªå¢é\n\nå¯¹äºèªå¢çåï¼ç³»ç»ä¼èªå¨èµå¼ã\n\n * éç¨AUTO-INCéï¼æ§è¡æå¥è¯­å¥æ¶å°±å¨è¡¨ä¸å ä¸ä¸ªAUTO-INCéï¼åéèªå¢çå¼ï¼ç­æ§è¡å®æå¥è¯­å¥æ¶æééæ¾ã\n * æä¸ä¸ªè½»éçº§éï¼å¨ç»æå¥SQLè¯­å¥çæèªå¢å¼åï¼ééæ¾éï¼æ éç­æå¥è¯­å¥æ§è¡å®ãä¸è¬ç¨å¨å·²ç¥è¦æå¥å¤å°æ¡è®°å½ã\n\n\n# è¡é\n\næ¯ä¸è¡è®°å½åï¼ä¼éå ä¸ä¸ªéç»æä¿¡æ¯ï¼ç¨æ¥è¡¨ç¤ºè¯¥è®°å½ä¸­éçä¿¡æ¯ã\n\n\n# Gap Locksï¼\n\nå ä¸ºååçMVCCæ¹æ¡åå éæ¹æ¡åä¸è½ææè§£å³å¹»è¯»ç°è±¡ã\n\nå¯¹äºæå¥è®°å½æ¶ï¼æç§ä¸»é®é¡ºåºï¼å¤æ­æå¥ä½ç½®çä¸ä¸æ¡è®°å½ä¸­æ¯å¦æGapéï¼å¦ææï¼åå å¥å¤±è´¥ã\n\n\n\nå¦ææ³å¨ï¼20ï¼æ­£æ ç©·ï¼èå´å Gapéï¼é£ä¹ï¼å°±å¨æåè®°å½æå¨é¡µçä¼ªè®°å½ä¸­å Gapé\n\n\n\n\n# Next-Key Locksï¼\n\næ®éçéï¼åGapéç»åä½\n\n\n# æå¥æåéï¼\n\nä»æ³è§å®äºå¡å¨ç­å¾æ¶åä¹å¨åå­ä¸­çæä¸ä¸ªéç»æï¼è¡¨ææäºå¡æ³å¨æä¸ªé´éä¸­æå¥æ°è®°å½ï¼ä½æ¯ç°å¨å¨ç­å¾ã\n\n\n\n\n# éå¼é\n\nä¸è¬æåµæå¥è®°å½è¿ç¨ä¸­ä¸ä¼å éï¼æä»¥æå¥è®°å½è¿ç¨ï¼å¶å®çäºå¡å¯è½æ³è·åè¯¥è®°å½åéæè¯»éï¼ä¼åºç°èè¯»æèèåï¼é£è¯¥æä¹åï¼\n\næ ¹æ®äºå¡idï¼å¦ææäºå¡æ³å¯¹ææ¡è®°å½å éï¼åå¤æ­è¯¥è®°å½ä¸çtrx_idï¼å¦æè¯¥trx_idä»£è¡¨çäºå¡å¨æ´»è·ç¶æï¼é£ä¹å°±å¸®å®åå»ºä¸ä¸ªéç»æï¼is_waitingæ¯falseï¼ç¶ååç»èªå·±åå»ºéç»æï¼is_waitingæ¯trueã",normalizedContent:"éï¼åºç¶æ¯ç¨æ¥è§£å³å¹¶åäºå¡åºç°çé®é¢çã\n\n\n# å¨å±é\n\nåæ¶éè¦å¤ä»½å¤ä¸ªè¡¨çæ°æ®ï¼ä»ä»éä¸å¼ è¡¨æ¯ä¸å¤çï¼ä½æ¯åæ¯è¾é¸¡èã\n\næ°æ®åºå¤ä»½ï¼éç¨read viewæ¹å¼è¿è¡å¤ä»½å³å¯ã\n\n\n# è¡¨é\n\nä¹å°±æ¯æ­£å¸¸çè§£çåéåè¯»éï¼å¦ææäºå¡è¦å¯¹è¡¨è·åè¯»éï¼é£å°±å¾ç¡®ä¿è¯¥è¡¨ä¸­ææçè®°å½é½æ²¡æåéãå è¡¨éä¹ååéåä¸éè¡¨ä¸­çè®°å½ï¼éåæ¯ä¸å¯è½éåçï¼è¿è¾å­é½ä¸å¯è½éåã\n\næåé\n\næä»¥è¿æ ·è®¾è®¡ï¼äºå¡æ³å¯¹ææ¡è®°å½ä¸å éæ¶ï¼åå¨è¡¨ä¸å ä¸ªæåéãå æåéå¹¶ä¸å³å¿è¿è¡¨ååææ²¡æå è¿æåéãéæ¾è®°å½ä¸çéæ¶ï¼åæ¶éæ¾èªå·±å å¨è¡¨ä¸çæåéã\n\nè¿æ ·æ°äºå¡æ¥æ³å¯¹è¡¨å éï¼é£ä¹å¤æ­è¿è¡¨ä¸ææ²¡ææåéï¼å¦ææç¸åºçæåéï¼é£ä¹å°±ä¼è·åè¡¨éå¤±è´¥ï¼é»å¡ã\n\n----------------------------------------\n\nauto-incèªå¢é\n\nå¯¹äºèªå¢çåï¼ç³»ç»ä¼èªå¨èµå¼ã\n\n * éç¨auto-incéï¼æ§è¡æå¥è¯­å¥æ¶å°±å¨è¡¨ä¸å ä¸ä¸ªauto-incéï¼åéèªå¢çå¼ï¼ç­æ§è¡å®æå¥è¯­å¥æ¶æééæ¾ã\n * æä¸ä¸ªè½»éçº§éï¼å¨ç»æå¥sqlè¯­å¥çæèªå¢å¼åï¼ééæ¾éï¼æ éç­æå¥è¯­å¥æ§è¡å®ãä¸è¬ç¨å¨å·²ç¥è¦æå¥å¤å°æ¡è®°å½ã\n\n\n# è¡é\n\næ¯ä¸è¡è®°å½åï¼ä¼éå ä¸ä¸ªéç»æä¿¡æ¯ï¼ç¨æ¥è¡¨ç¤ºè¯¥è®°å½ä¸­éçä¿¡æ¯ã\n\n\n# gap locksï¼\n\nå ä¸ºååçmvccæ¹æ¡åå éæ¹æ¡åä¸è½ææè§£å³å¹»è¯»ç°è±¡ã\n\nå¯¹äºæå¥è®°å½æ¶ï¼æç§ä¸»é®é¡ºåºï¼å¤æ­æå¥ä½ç½®çä¸ä¸æ¡è®°å½ä¸­æ¯å¦ægapéï¼å¦ææï¼åå å¥å¤±è´¥ã\n\n\n\nå¦ææ³å¨ï¼20ï¼æ­£æ ç©·ï¼èå´å gapéï¼é£ä¹ï¼å°±å¨æåè®°å½æå¨é¡µçä¼ªè®°å½ä¸­å gapé\n\n\n\n\n# next-key locksï¼\n\næ®éçéï¼ågapéç»åä½\n\n\n# æå¥æåéï¼\n\nä»æ³è§å®äºå¡å¨ç­å¾æ¶åä¹å¨åå­ä¸­çæä¸ä¸ªéç»æï¼è¡¨ææäºå¡æ³å¨æä¸ªé´éä¸­æå¥æ°è®°å½ï¼ä½æ¯ç°å¨å¨ç­å¾ã\n\n\n\n\n# éå¼é\n\nä¸è¬æåµæå¥è®°å½è¿ç¨ä¸­ä¸ä¼å éï¼æä»¥æå¥è®°å½è¿ç¨ï¼å¶å®çäºå¡å¯è½æ³è·åè¯¥è®°å½åéæè¯»éï¼ä¼åºç°èè¯»æèèåï¼é£è¯¥æä¹åï¼\n\næ ¹æ®äºå¡idï¼å¦ææäºå¡æ³å¯¹ææ¡è®°å½å éï¼åå¤æ­è¯¥è®°å½ä¸çtrx_idï¼å¦æè¯¥trx_idä»£è¡¨çäºå¡å¨æ´»è·ç¶æï¼é£ä¹å°±å¸®å®åå»ºä¸ä¸ªéç»æï¼is_waitingæ¯falseï¼ç¶ååç»èªå·±åå»ºéç»æï¼is_waitingæ¯trueã",charsets:{cjk:!0}},{title:"å¨Ubuntuä¸ç»è®¡è½¯ä»¶ä½¿ç¨æ¶é¿",frontmatter:{title:"å¨Ubuntuä¸ç»è®¡è½¯ä»¶ä½¿ç¨æ¶é¿",date:"2023-05-25T16:26:13.000Z",permalink:"/pages/361d44/"},regularPath:"/01.Java/06.%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/01.statistics.html",relativePath:"01.Java/06.é¡¹ç®è®°å½/01.statistics.md",key:"v-33c9c057",path:"/pages/361d44/",headers:[{level:2,title:"2023/6/21 æ¥å¿",slug:"_2023-6-21-æ¥å¿",normalizedTitle:"2023/6/21 æ¥å¿",charIndex:2},{level:2,title:"2023/6/16 æ¥å¿",slug:"_2023-6-16-æ¥å¿",normalizedTitle:"2023/6/16 æ¥å¿",charIndex:21},{level:3,title:"ä½¿ç¨æ¬å°ç¼å­",slug:"ä½¿ç¨æ¬å°ç¼å­",normalizedTitle:"ä½¿ç¨æ¬å°ç¼å­",charIndex:143},{level:2,title:"2023/6/12 æ´æ°",slug:"_2023-6-12-æ´æ°",normalizedTitle:"2023/6/12 æ´æ°",charIndex:1829},{level:2,title:"é¡¹ç®æ¶æ",slug:"é¡¹ç®æ¶æ",normalizedTitle:"é¡¹ç®æ¶æ",charIndex:1947},{level:2,title:"å±ç¤º",slug:"å±ç¤º",normalizedTitle:"å±ç¤º",charIndex:2033},{level:2,title:"MySQLè¡¨ç»æ",slug:"mysqlè¡¨ç»æ",normalizedTitle:"mysqlè¡¨ç»æ",charIndex:2044},{level:2,title:"æ¥è¯¢",slug:"æ¥è¯¢",normalizedTitle:"æ¥è¯¢",charIndex:41},{level:2,title:"ä¼åæ¥è¯¢",slug:"ä¼åæ¥è¯¢",normalizedTitle:"ä¼åæ¥è¯¢",charIndex:3134}],headersStr:"2023/6/21 æ¥å¿ 2023/6/16 æ¥å¿ ä½¿ç¨æ¬å°ç¼å­ 2023/6/12 æ´æ° é¡¹ç®æ¶æ å±ç¤º MySQLè¡¨ç»æ æ¥è¯¢ ä¼åæ¥è¯¢",content:'# 2023/6/21 æ¥å¿\n\n\n\n\n# 2023/6/16 æ¥å¿\n\nä¼åäºæ°æ®åºæ¥è¯¢æ§è½ï¼ä»åæ¥çå¨è¡¨æ«æï¼å°é½ç¨ä¸äºç´¢å¼ã\n\nåä¸ªæ¥å£æ§è½ 20 QPS ---\x3e 400 QPS\n\nä½¿ç¨caffeineåç¼å­å\n\nåä¸ªæ¥å£æ§è½ 400 QPS ---\x3e 6000 QPSã\n\n\n# ä½¿ç¨æ¬å°ç¼å­\n\næ¥å£                                   è¿åæ°æ®\ngetSevenTimes/2023-06-15             æ»çè¿è¡æ¶é´\ngetAppRunningTimeOneDay/2023-06-15   appçè¿è¡æ¶é´\ngetRunningTimeByHour/2023-06-15      åä¸ªå°æ¶çè¿è¡æ¶é´\n\nè¿éé½æéå çå°æ¹ï¼ä¸éè¦é½å»ºç«ç¼å­ãä¿å­æ¯ä¸ªappæ¯ä¸ªå°æ¶çè¿è¡æ¶é´ã\n\nappçä¸ªæ°ï¼æä¸è¶è¿10ä¸ªï¼æ10ä¸ªç®ãæä¸å¤©ä¼æ¯8å°æ¶ï¼æå¤æ16ä¸ªå°æ¶æ¯è¿è¡äºçµèï¼è¦ä¿å­æ¯ä¸ªappæ¯ä¸ªå°æ¶çè¿è¡æ¶é´å³å¯ï¼ä¸å¤©çæ°æ®éæ¯160ï¼æ¯ä¸ªæ°æ®æ¯appåç§°ï¼åè®¾31å­èï¼ï¼æ¶é´ï¼1å­èï¼ï¼ä¸ä¸ªæ°æ®32å­èï¼ä¸å¤©æ°æ®5.12KBï¼ä¸å¹´çæ°æ®ä¸å°2MBã\n\n// 8ç¹ï¼app1è¿è¡120ç§\nappHoursCache = {\n    "date1": {\n        "hour1": {{"app1": 120}, {"app2", 350}, {"app3", 23}},\n        "hour2": {{"app1": 120}, {"app2", 350}, {"app3", 23}}\n    } \n    "date2": {\n        "hour1": {{"app1": 120}, {"app2", 350}, {"app3", 23}},\n        "hour2": {{"app1": 120}, {"app2", 350}, {"app3", 23}}\n    } \n}\n\n\næ¥å£                                           è¿åæ°æ®\ngetVscodeRunningTime/2023-06-08_2023-06-15   è¿åVScodeçåä¸ªé¡¹ç®è¿è¡æ¶é´\ngetIdeaRunningTime/2023-06-08_2023-06-15     è¿åIdeaåä¸ªé¡¹ç®çè¿è¡æ¶é´\ngetChromeTime/2023-06-08_2023-06-15          è¿åChromeåä¸ªç½åçæµè§æ¶é´\n\nè¿ä¸ä¸ªæ°æ®é½æ²¡æéå çå°æ¹ï¼éè¦åå«å»ºç«ç¼å­ã\n\nåå«ä¿å­æ¯ä¸å¤©åä¸ªé¡¹ç®çè¿è¡æ¶é´ï¼æèåä¸ªç½åã\n\nå¯¹äºå½å¤©çç¼å­æ°æ®æ¯ååéæ´æ°ä¸æ¬¡ï¼å¡æ¯è¿å»ï¼çä¸ºåºç« ï¼å¯¹äºè¿å¾çç¼å­æ°æ®ä¸ä½å¤çã\n\nvsCodeCache = {\n    "date1": {"project1": "time1", "project2": "time2"},\n    "date2": {"project1": "time1", "project2": "time2"},\n    ...\n}\n    \nideaCache = {\n    date1: {"project1": "time1", "project2": "time2"},\n    date2: {"project1": "time1", "project2": "time2"},\n    ...\n}\n\n\ntitles = {\n    "date1": ["title1", "title2", "title3",...],\n    "date2": ["title1", "title2", "title3",...],\n    ...\n}\n\nchromeTitleToUrl = {\n    "title1": "url1",\n    "title2": "url1",\n    "title3": "url4",\n    ...\n}\t\t\n\n\næ´æ°å½æ¥ç¼å­\n\næ¯1åéæ´æ°å½æ¥æ°æ®ãçº¿ç¨æ± ï¼å®æ¶ä»»å¡\n\næ´æ°ææ°æ°æ®ï¼å¾å®æï¼\n\nä½¿ç¨nettyçå¬Pythonç«¯åéè¿æ¥çæ°æ®ï¼å°å¶æ±æ»ï¼æ¯éä¸æ®µæ¶é´ä½¿ç¨æ¶æ¯éååå¸æ¶æ¯ï¼æ¶è´¹èæ¿å°æ¶æ¯åï¼å­å°MySQLï¼åæ·»å å°ç¼å­ã\n\nå½ç¼å­ä¸­æ²¡æ°æ®ï¼ææè¯·æ±é½ä¼è®¿é®MySQL\n\nå éï¼åªè®©ä¸ä¸ªè¯·æ±å»åå¥ç¼å­\n\n\n# 2023/6/12 æ´æ°\n\nä½¿ç¨Chrome apiæ¥è·åç½ç«çå¾æ \n\nhttps://www.google.com/s2/favicons?domain=google.com\n\nè¯»åChromeæµè§å¨çHistoryæä»¶\n\n\n\n\n# é¡¹ç®æ¶æ\n\n\n\nPythonåéæ°æ®æ ¼å¼\n\n * xid X11çªå£id\n * title çªå£æ é¢\n * app æ¿æ´»çªå£çè½¯ä»¶åç§°\n * time æ¿æ´»æ¶é´æ³\n\n\n# å±ç¤º\n\n\n\n\n\n\n# MySQLè¡¨ç»æ\n\nCREATE TABLE statistics_time\n(\n    id           INT PRIMARY KEY AUTO_INCREMENT,\n    app          VARCHAR(255) NOT NULL,\n    title        VARCHAR(255),\n    start_time   INT          NOT NULL,\n    end_time     INT          NOT NULL,\n    running_time INT\n);\n\n\n\n# æ¥è¯¢\n\nè¿ç§æ¥è¯¢æ¹å¼è½ç¶ç®åï¼ä½æ¯å¯¹äºæ°æ®åºèè¨ï¼æ¥è¯¢è¯­å¥åä¸ºAllï¼å¨è¡¨æ«æã\n\næ¥è¯¢èå´å¤©çè¿è¡æ¶é´\n\nSELECT DATE(DATE_FORMAT(FROM_UNIXTIME(start_time), \'%Y-%m-%d\')) AS time_hour,\n       SUM(running_time)                                        AS total_running_time\nFROM statistics_time\nWHERE DATE(DATE_FORMAT(FROM_UNIXTIME(start_time), \'%Y-%m-%d\')) >= \'2023-04-25\'\n  AND DATE(DATE_FORMAT(FROM_UNIXTIME(start_time), \'%Y-%m-%d\')) <= \'2023-04-27\'\nGROUP BY time_hour;\n\n\næ¥è¯¢èå´å¤©çåappè¿è¡æ¶é´\n\nSELECT DATE(DATE_FORMAT(FROM_UNIXTIME(start_time), \'%Y-%m-%d\')) AS time_hour,\n       app,\n       SUM(running_time)                                        AS total_running_time\nFROM statistics_time\nWHERE DATE(DATE_FORMAT(FROM_UNIXTIME(start_time), \'%Y-%m-%d\')) >= \'2023-04-25\'\n  AND DATE(DATE_FORMAT(FROM_UNIXTIME(start_time), \'%Y-%m-%d\')) <= \'2023-04-27\'\nGROUP BY time_hour, app;\n\n\n\n# ä¼åæ¥è¯¢\n\nå¨ä¸å¡å±è¿è¡ä¸ä¸æ°æ®å¤çï¼ä»æ ¹æ®æ¶é´æ³è¿è¡æ¥è¯¢ï¼ä¸è¿è¡æ¥ææ ¼å¼è½¬æ¢ï¼æ§è¡çåè¡¨æ¥è¯¢ç±»åä¸ºrangeã\n\næ¥è¯¢èå´æ¶é´åæ»çè¿è¡æ¶é´\n\nSELECT running_time as total_running_time\nFROM statistics_time\nWHERE start_time >= 1685004118\n  AND end_time <= 1685011373;\n\n\næ¥è¯¢èå´å¤©çåappè¿è¡æ¶é´\n\nSELECT app, sum(running_time) as total_running_time\nFROM statistics_time\nWHERE start_time >= 1685000118\n  AND end_time <= 1685011373\ngroup by app;\n',normalizedContent:'# 2023/6/21 æ¥å¿\n\n\n\n\n# 2023/6/16 æ¥å¿\n\nä¼åäºæ°æ®åºæ¥è¯¢æ§è½ï¼ä»åæ¥çå¨è¡¨æ«æï¼å°é½ç¨ä¸äºç´¢å¼ã\n\nåä¸ªæ¥å£æ§è½ 20 qps ---\x3e 400 qps\n\nä½¿ç¨caffeineåç¼å­å\n\nåä¸ªæ¥å£æ§è½ 400 qps ---\x3e 6000 qpsã\n\n\n# ä½¿ç¨æ¬å°ç¼å­\n\næ¥å£                                   è¿åæ°æ®\ngetseventimes/2023-06-15             æ»çè¿è¡æ¶é´\ngetapprunningtimeoneday/2023-06-15   appçè¿è¡æ¶é´\ngetrunningtimebyhour/2023-06-15      åä¸ªå°æ¶çè¿è¡æ¶é´\n\nè¿éé½æéå çå°æ¹ï¼ä¸éè¦é½å»ºç«ç¼å­ãä¿å­æ¯ä¸ªappæ¯ä¸ªå°æ¶çè¿è¡æ¶é´ã\n\nappçä¸ªæ°ï¼æä¸è¶è¿10ä¸ªï¼æ10ä¸ªç®ãæä¸å¤©ä¼æ¯8å°æ¶ï¼æå¤æ16ä¸ªå°æ¶æ¯è¿è¡äºçµèï¼è¦ä¿å­æ¯ä¸ªappæ¯ä¸ªå°æ¶çè¿è¡æ¶é´å³å¯ï¼ä¸å¤©çæ°æ®éæ¯160ï¼æ¯ä¸ªæ°æ®æ¯appåç§°ï¼åè®¾31å­èï¼ï¼æ¶é´ï¼1å­èï¼ï¼ä¸ä¸ªæ°æ®32å­èï¼ä¸å¤©æ°æ®5.12kbï¼ä¸å¹´çæ°æ®ä¸å°2mbã\n\n// 8ç¹ï¼app1è¿è¡120ç§\napphourscache = {\n    "date1": {\n        "hour1": {{"app1": 120}, {"app2", 350}, {"app3", 23}},\n        "hour2": {{"app1": 120}, {"app2", 350}, {"app3", 23}}\n    } \n    "date2": {\n        "hour1": {{"app1": 120}, {"app2", 350}, {"app3", 23}},\n        "hour2": {{"app1": 120}, {"app2", 350}, {"app3", 23}}\n    } \n}\n\n\næ¥å£                                           è¿åæ°æ®\ngetvscoderunningtime/2023-06-08_2023-06-15   è¿åvscodeçåä¸ªé¡¹ç®è¿è¡æ¶é´\ngetidearunningtime/2023-06-08_2023-06-15     è¿åideaåä¸ªé¡¹ç®çè¿è¡æ¶é´\ngetchrometime/2023-06-08_2023-06-15          è¿åchromeåä¸ªç½åçæµè§æ¶é´\n\nè¿ä¸ä¸ªæ°æ®é½æ²¡æéå çå°æ¹ï¼éè¦åå«å»ºç«ç¼å­ã\n\nåå«ä¿å­æ¯ä¸å¤©åä¸ªé¡¹ç®çè¿è¡æ¶é´ï¼æèåä¸ªç½åã\n\nå¯¹äºå½å¤©çç¼å­æ°æ®æ¯ååéæ´æ°ä¸æ¬¡ï¼å¡æ¯è¿å»ï¼çä¸ºåºç« ï¼å¯¹äºè¿å¾çç¼å­æ°æ®ä¸ä½å¤çã\n\nvscodecache = {\n    "date1": {"project1": "time1", "project2": "time2"},\n    "date2": {"project1": "time1", "project2": "time2"},\n    ...\n}\n    \nideacache = {\n    date1: {"project1": "time1", "project2": "time2"},\n    date2: {"project1": "time1", "project2": "time2"},\n    ...\n}\n\n\ntitles = {\n    "date1": ["title1", "title2", "title3",...],\n    "date2": ["title1", "title2", "title3",...],\n    ...\n}\n\nchrometitletourl = {\n    "title1": "url1",\n    "title2": "url1",\n    "title3": "url4",\n    ...\n}\t\t\n\n\næ´æ°å½æ¥ç¼å­\n\næ¯1åéæ´æ°å½æ¥æ°æ®ãçº¿ç¨æ± ï¼å®æ¶ä»»å¡\n\næ´æ°ææ°æ°æ®ï¼å¾å®æï¼\n\nä½¿ç¨nettyçå¬pythonç«¯åéè¿æ¥çæ°æ®ï¼å°å¶æ±æ»ï¼æ¯éä¸æ®µæ¶é´ä½¿ç¨æ¶æ¯éååå¸æ¶æ¯ï¼æ¶è´¹èæ¿å°æ¶æ¯åï¼å­å°mysqlï¼åæ·»å å°ç¼å­ã\n\nå½ç¼å­ä¸­æ²¡æ°æ®ï¼ææè¯·æ±é½ä¼è®¿é®mysql\n\nå éï¼åªè®©ä¸ä¸ªè¯·æ±å»åå¥ç¼å­\n\n\n# 2023/6/12 æ´æ°\n\nä½¿ç¨chrome apiæ¥è·åç½ç«çå¾æ \n\nhttps://www.google.com/s2/favicons?domain=google.com\n\nè¯»åchromeæµè§å¨çhistoryæä»¶\n\n\n\n\n# é¡¹ç®æ¶æ\n\n\n\npythonåéæ°æ®æ ¼å¼\n\n * xid x11çªå£id\n * title çªå£æ é¢\n * app æ¿æ´»çªå£çè½¯ä»¶åç§°\n * time æ¿æ´»æ¶é´æ³\n\n\n# å±ç¤º\n\n\n\n\n\n\n# mysqlè¡¨ç»æ\n\ncreate table statistics_time\n(\n    id           int primary key auto_increment,\n    app          varchar(255) not null,\n    title        varchar(255),\n    start_time   int          not null,\n    end_time     int          not null,\n    running_time int\n);\n\n\n\n# æ¥è¯¢\n\nè¿ç§æ¥è¯¢æ¹å¼è½ç¶ç®åï¼ä½æ¯å¯¹äºæ°æ®åºèè¨ï¼æ¥è¯¢è¯­å¥åä¸ºallï¼å¨è¡¨æ«æã\n\næ¥è¯¢èå´å¤©çè¿è¡æ¶é´\n\nselect date(date_format(from_unixtime(start_time), \'%y-%m-%d\')) as time_hour,\n       sum(running_time)                                        as total_running_time\nfrom statistics_time\nwhere date(date_format(from_unixtime(start_time), \'%y-%m-%d\')) >= \'2023-04-25\'\n  and date(date_format(from_unixtime(start_time), \'%y-%m-%d\')) <= \'2023-04-27\'\ngroup by time_hour;\n\n\næ¥è¯¢èå´å¤©çåappè¿è¡æ¶é´\n\nselect date(date_format(from_unixtime(start_time), \'%y-%m-%d\')) as time_hour,\n       app,\n       sum(running_time)                                        as total_running_time\nfrom statistics_time\nwhere date(date_format(from_unixtime(start_time), \'%y-%m-%d\')) >= \'2023-04-25\'\n  and date(date_format(from_unixtime(start_time), \'%y-%m-%d\')) <= \'2023-04-27\'\ngroup by time_hour, app;\n\n\n\n# ä¼åæ¥è¯¢\n\nå¨ä¸å¡å±è¿è¡ä¸ä¸æ°æ®å¤çï¼ä»æ ¹æ®æ¶é´æ³è¿è¡æ¥è¯¢ï¼ä¸è¿è¡æ¥ææ ¼å¼è½¬æ¢ï¼æ§è¡çåè¡¨æ¥è¯¢ç±»åä¸ºrangeã\n\næ¥è¯¢èå´æ¶é´åæ»çè¿è¡æ¶é´\n\nselect running_time as total_running_time\nfrom statistics_time\nwhere start_time >= 1685004118\n  and end_time <= 1685011373;\n\n\næ¥è¯¢èå´å¤©çåappè¿è¡æ¶é´\n\nselect app, sum(running_time) as total_running_time\nfrom statistics_time\nwhere start_time >= 1685000118\n  and end_time <= 1685011373\ngroup by app;\n',charsets:{cjk:!0}},{title:"è®ºå",frontmatter:{title:"è®ºå",date:"2023-05-30T21:29:20.000Z",permalink:"/pages/b95b70/"},regularPath:"/01.Java/06.%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/10.nowcode.html",relativePath:"01.Java/06.é¡¹ç®è®°å½/10.nowcode.md",key:"v-265e6c6a",path:"/pages/b95b70/",headers:[{level:2,title:"é¦é¡µ",slug:"é¦é¡µ",normalizedTitle:"é¦é¡µ",charIndex:2},{level:2,title:"å¸å­è¯¦æé¡µ",slug:"å¸å­è¯¦æé¡µ",normalizedTitle:"å¸å­è¯¦æé¡µ",charIndex:290},{level:2,title:"ç¹èµãå³æ³¨",slug:"ç¹èµãå³æ³¨",normalizedTitle:"ç¹èµãå³æ³¨",charIndex:692},{level:2,title:"å®æ¶ä»»å¡",slug:"å®æ¶ä»»å¡",normalizedTitle:"å®æ¶ä»»å¡",charIndex:992},{level:2,title:"æ¦æªå¨",slug:"æ¦æªå¨",normalizedTitle:"æ¦æªå¨",charIndex:1228},{level:3,title:"WebMvcConfigurer",slug:"webmvcconfigurer",normalizedTitle:"webmvcconfigurer",charIndex:1236},{level:3,title:"WebSecurityConfigurerAdapter",slug:"websecurityconfigureradapter",normalizedTitle:"websecurityconfigureradapter",charIndex:1343},{level:2,title:"æ©å±",slug:"æ©å±",normalizedTitle:"æ©å±",charIndex:1799}],headersStr:"é¦é¡µ å¸å­è¯¦æé¡µ ç¹èµãå³æ³¨ å®æ¶ä»»å¡ æ¦æªå¨ WebMvcConfigurer WebSecurityConfigurerAdapter æ©å±",content:"# é¦é¡µ\n\nCaffeine ç¼å­åºæ¥å®ç°å¸å­åè¡¨çç¼å­ã\n\n// å¸å­åè¡¨ç¼å­\nprivate LoadingCache<String, List<DiscussPost>> postListCache;\n\n// å¸å­æ»æ°ç¼å­\nprivate LoadingCache<Integer, Integer> postRowsCache;\n\n\nç¨æ³ï¼å¨æé ä¸­çbuildæå®å è½½å¨æ¥å è½½ç¼å­é¡¹ãå¦æç¼å­ä¸å½ä¸­åè°ç¨å è½½å¨è¿åå¼\n\nå¯¹æ¯Redis\n\ncaffeineæ¯åºäºæ¬å°åºç¨ä¸­çåå­çï¼ç¸æ¯æ²¡æç½ç»IOå»¶è¿\n\ncaffeine å¯ä»¥ä½ä¸ºä¸çº§ç¼å­ï¼Redisä½ä¸ºäºçº§ç¼å­\n\n\n# å¸å­è¯¦æé¡µ\n\nä¼ å¥å¸å­id\n\nå¸å­å½åå¸å­ä¿¡æ¯ï¼ä½èä¿¡æ¯ï¼ç¹èµæ°éï¼ ç¹èµç¶æï¼è¯è®ºåè¡¨ï¼è¯è®ºä¸­çåå¤åè¡¨ã\n\næ¥è¯¢ä¸ä¸ªå¸å­ï¼æ¥è¯¢MySQLã\n\næ¥è¯¢å¸å­çä½èï¼æ¥è¯¢Redis --\x3e MySQLã\n\næ¥è¯¢è¯¥å¸å­çç¹èµæ°éï¼æ¥è¯¢Redisã\n\næ¥è¯¢å½åç¨æ·æ¯å¦å¯¹è¯¥å¸å­ç¹èµï¼æ¥è¯¢Redisã\n\næ¥è¯¢è¿ä¸ªå¸å­çè¯è®ºï¼æ¥è¯¢MySQLã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçç¨æ·ï¼æ¥è¯¢Redis --\x3e MySQLã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçç¹èµï¼æ¥è¯¢Redisã\n\næ¥è¯¢å½åç¨æ·æ¯å¦å¯¹è¯¥è¯è®ºç¹èµï¼æ¥è¯¢Redisã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçåå¤ï¼æ¥è¯¢MySQLã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçåå¤çç¨æ·ï¼æ¥è¯¢Redis --\x3e MySQLã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçåå¤çç®æ ç¨æ·ï¼æ¥è¯¢Redis --\x3e MySQLã\n\næ¥è¯¢è¿ä¸ªåå¤çç¹èµæ°éï¼æ¥è¯¢Redisã\n\næ¥è¯¢å½åç¨æ·æ¯å¦å¯¹è¯¥åå¤ç¹èµï¼æ¥è¯¢Redisã\n\næ¥è¯¢è¿ä¸ªå¸å­çåå¤æ°éï¼æ¥è¯¢MySQLã\n\n\n# ç¹èµãå³æ³¨\n\næä½Redisï¼æ²¡æå°æ°æ®æä¹åå­å¨å°MySQLä¸­ã\n\nå¤æ­æ¯å¦å·²ç»å¯¹è¯¥å®ä½ç¹èµï¼1.å¸å­ï¼2.è¯è®ºï¼ï¼å¼å¯Redisäºå¡\n\n 1. \n\nä»è¯¥å¸å­çç¹èµéåä¸­ç§»é¤å½åç¨æ·idï¼\n\nè·èµç¨æ·çå¼åä¸ã\n\n 2. \n\næ·»å ç¹èµä¿¡æ¯ï¼\n\nè·èµç¨æ·çå¼å ä¸ã\n\næ¥è¯¢æä¸ªå®ä½è¢«ç¹èµçæ°éï¼Redis\n\nå¤æ­å½åç¨æ·æ¯å¦å¯¹è¯¥å®ä½ç¹èµï¼ç¨äºæ¾ç¤ºï¼å·²èµï¼èµï¼ã\n\nå¦æååè¿è¡äºç¹èµï¼é£ä¹è§¦åç¹èµäºä»¶ã\n\næ¶è´¹ç¹èµäºä»¶ï¼å¯¹äºè¯è®ºï¼ç¹èµï¼å³æ³¨ç»ä¸æ¶è´¹\n\nä»äºä»¶ä¸­ååºå®ä½ï¼åå¥messageè¡¨ï¼åéç«åéç¥ã\n\nè·åç¨æ·å³æ³¨äºè°\n\næ¥è¯¢å³æ³¨æ°ï¼Redisï¼\n\næ¥è¯¢å³æ³¨äººï¼Redis setã\n\n\n# å®æ¶ä»»å¡\n\nå¯¹äºåå¸å¸å­ï¼ç¹èµå¸å­ï¼è¯è®ºå¸å­ï¼é½å°è¯¥å¸å­idå­å¥å°Redis post:scoreéåä¸­ã\n\nåå»ºä¸ä¸ªç®åçquartzå®æ¶å¨ï¼æ¯äºåéæ§è¡ä¸æ¬¡ã\n\næ¯æ¬¡æ§è¡ï¼å°Redis post:scoreéåä¸­ååºæ¥ï¼éæ°è®¡ç®å¸å­çåæ°ï¼åæ¶å­å¥å°æ°æ®åºä¸­ï¼åelasticsearchä¸­ãï¼è¿éæ²¡æäºå¡ï¼\n\nä¸xxl-jobç¸åï¼éç¨ç«äºæ°æ®åºéçæ¹å¼ï¼æ¥ä¿è¯ä¸ä¸ªä»»å¡åªè½æä¸ä¸ªèç¹æ¥æ§è¡ãæ§è½è¾å·®ï¼åç»­ä¹ææ¹ä¸ºåå¸å¼éã\n\nxxl-jobæ¯æä»»å¡åçã\n\n\n# æ¦æªå¨\n\n\n# WebMvcConfigurer\n\nä»cookieä¸­ååºç»å½å­è¯ï¼æ¥è¯¢å­è¯å¯¹åºçç¨æ·idï¼Redis\n\næ¥è¯¢ç¨æ·ï¼Redis ---\x3e MySQL\n\nå°ç¨æ·å­å¥SecurityContextHolderã\n\n\n# WebSecurityConfigurerAdapter\n\nè¿ééç½®åªäºè·¯å¾ï¼éè¦åªäºæéã\n\nå¦æèº«ä»½è®¤è¯å¤±è´¥ï¼åæ§è¡commence()æ¹æ³\n\nå¦ææéä¸å¤ï¼åæ§è¡handle()æ¹æ³ã\n\nå¯¹äºSecurityContextHolderï¼Spring Securityä¸­ç¬¬äºä¸ªè¿æ»¤å¨ä¼å°å¶å­å¥å°HTTPSessionä¸­ã\n\nç¬¬äºä¸ªè¿æ»¤å¨ SecurityContextPersistenceFilter\n\n 1. å½è¯·æ±å°æ¥æ¶ï¼ä»HttpSessionä¸­è·åSecurityContextå¹¶å­å¥SecurityContextHolderä¸­ï¼è¿æ ·å¨åä¸ä¸ªè¯·æ±çåç»­å¤çè¿ç¨ä¸­ï¼éè¿SecurityContextHolderè·åæ°æ®\n\n 2. å½ä¸ä¸ªè¯·æ±å¤çå®æ¯æ¶ï¼ä»SecurityContextHolderä¸­è·åSecurityContextå¹¶å­å¥HttpSessionä¸­ï¼æ¹ä¾¿ä¸ä¸ä¸ªè¯·æ±å°æ¥æ¶ï¼åä»HTTPSessionä¸­æ¿æ¥ä½¿ç¨ï¼åæ¶æ¦é¤SecurityContextHolderä¸­çç»å½ä¿¡æ¯ã\n\n\n# æ©å±\n\nå°ç¹èµï¼å³æ³¨è¡ä¸ºæä¹åå­å¨å°MySQLãæ©å±ä¸å¡ï¼æè§å¾å¯ä»¥æä¸¤ç§æ¹å¼ï¼ä¸ç§å¯ä»¥ç¨AOPï¼é¢ååé¢æ¥æ©å±ï¼å¦ä¸ç§ç´æ¥åæ°çä¸å¡é»è¾ï¼å¨éè¦çå°æ¹ç´æ¥è°ç¨ãèèå°ç¹èµãå³æ³¨çæ¶æ¯éè¦å­å¨å°Redisï¼éè¦ä¿æRedisãMySQLçæ°æ®ä¸è´æ§ï¼éç¨æç»ä¸è´æ§çç­ç¥ï¼å°å¢å æ¹äºä»¶åå¸RabbitMQæ¶æ¯ï¼æ¶è´¹èå»å°æ°æ®å­å¨å°MySQLãæä»¥å®¢æ·çå°çç¹èµæ¶æ¯ï¼é½æ¯ä»Redisä¸­å­åçãå¦æå¼æ­¥ç­ç¥å¤±è´¥ï¼é£å°±æ¯RabbitMQå¦ä½ä¿è¯æ¶æ¯çå¯é äºã\n\nè¦æ©å±MySQLï¼æ°å»ºç¹èµè¡¨ï¼uid, entity_type, entity_idï¼ï¼å¥½åè¡¨(uid, friend_id)ï¼åæ¶è®¡ç®åæ°çè¯ï¼ä¹è¦éè¦æ¥è¯¢å¸å­çç¹èµæ°ï¼åæ¶å°å¸å­ï¼ä¹è¦å­å°Redisä¸­ï¼ç¨",normalizedContent:"# é¦é¡µ\n\ncaffeine ç¼å­åºæ¥å®ç°å¸å­åè¡¨çç¼å­ã\n\n// å¸å­åè¡¨ç¼å­\nprivate loadingcache<string, list<discusspost>> postlistcache;\n\n// å¸å­æ»æ°ç¼å­\nprivate loadingcache<integer, integer> postrowscache;\n\n\nç¨æ³ï¼å¨æé ä¸­çbuildæå®å è½½å¨æ¥å è½½ç¼å­é¡¹ãå¦æç¼å­ä¸å½ä¸­åè°ç¨å è½½å¨è¿åå¼\n\nå¯¹æ¯redis\n\ncaffeineæ¯åºäºæ¬å°åºç¨ä¸­çåå­çï¼ç¸æ¯æ²¡æç½ç»ioå»¶è¿\n\ncaffeine å¯ä»¥ä½ä¸ºä¸çº§ç¼å­ï¼redisä½ä¸ºäºçº§ç¼å­\n\n\n# å¸å­è¯¦æé¡µ\n\nä¼ å¥å¸å­id\n\nå¸å­å½åå¸å­ä¿¡æ¯ï¼ä½èä¿¡æ¯ï¼ç¹èµæ°éï¼ ç¹èµç¶æï¼è¯è®ºåè¡¨ï¼è¯è®ºä¸­çåå¤åè¡¨ã\n\næ¥è¯¢ä¸ä¸ªå¸å­ï¼æ¥è¯¢mysqlã\n\næ¥è¯¢å¸å­çä½èï¼æ¥è¯¢redis --\x3e mysqlã\n\næ¥è¯¢è¯¥å¸å­çç¹èµæ°éï¼æ¥è¯¢redisã\n\næ¥è¯¢å½åç¨æ·æ¯å¦å¯¹è¯¥å¸å­ç¹èµï¼æ¥è¯¢redisã\n\næ¥è¯¢è¿ä¸ªå¸å­çè¯è®ºï¼æ¥è¯¢mysqlã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçç¨æ·ï¼æ¥è¯¢redis --\x3e mysqlã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçç¹èµï¼æ¥è¯¢redisã\n\næ¥è¯¢å½åç¨æ·æ¯å¦å¯¹è¯¥è¯è®ºç¹èµï¼æ¥è¯¢redisã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçåå¤ï¼æ¥è¯¢mysqlã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçåå¤çç¨æ·ï¼æ¥è¯¢redis --\x3e mysqlã\n\næ¥è¯¢è¿ä¸ªè¯è®ºçåå¤çç®æ ç¨æ·ï¼æ¥è¯¢redis --\x3e mysqlã\n\næ¥è¯¢è¿ä¸ªåå¤çç¹èµæ°éï¼æ¥è¯¢redisã\n\næ¥è¯¢å½åç¨æ·æ¯å¦å¯¹è¯¥åå¤ç¹èµï¼æ¥è¯¢redisã\n\næ¥è¯¢è¿ä¸ªå¸å­çåå¤æ°éï¼æ¥è¯¢mysqlã\n\n\n# ç¹èµãå³æ³¨\n\næä½redisï¼æ²¡æå°æ°æ®æä¹åå­å¨å°mysqlä¸­ã\n\nå¤æ­æ¯å¦å·²ç»å¯¹è¯¥å®ä½ç¹èµï¼1.å¸å­ï¼2.è¯è®ºï¼ï¼å¼å¯redisäºå¡\n\n 1. \n\nä»è¯¥å¸å­çç¹èµéåä¸­ç§»é¤å½åç¨æ·idï¼\n\nè·èµç¨æ·çå¼åä¸ã\n\n 2. \n\næ·»å ç¹èµä¿¡æ¯ï¼\n\nè·èµç¨æ·çå¼å ä¸ã\n\næ¥è¯¢æä¸ªå®ä½è¢«ç¹èµçæ°éï¼redis\n\nå¤æ­å½åç¨æ·æ¯å¦å¯¹è¯¥å®ä½ç¹èµï¼ç¨äºæ¾ç¤ºï¼å·²èµï¼èµï¼ã\n\nå¦æååè¿è¡äºç¹èµï¼é£ä¹è§¦åç¹èµäºä»¶ã\n\næ¶è´¹ç¹èµäºä»¶ï¼å¯¹äºè¯è®ºï¼ç¹èµï¼å³æ³¨ç»ä¸æ¶è´¹\n\nä»äºä»¶ä¸­ååºå®ä½ï¼åå¥messageè¡¨ï¼åéç«åéç¥ã\n\nè·åç¨æ·å³æ³¨äºè°\n\næ¥è¯¢å³æ³¨æ°ï¼redisï¼\n\næ¥è¯¢å³æ³¨äººï¼redis setã\n\n\n# å®æ¶ä»»å¡\n\nå¯¹äºåå¸å¸å­ï¼ç¹èµå¸å­ï¼è¯è®ºå¸å­ï¼é½å°è¯¥å¸å­idå­å¥å°redis post:scoreéåä¸­ã\n\nåå»ºä¸ä¸ªç®åçquartzå®æ¶å¨ï¼æ¯äºåéæ§è¡ä¸æ¬¡ã\n\næ¯æ¬¡æ§è¡ï¼å°redis post:scoreéåä¸­ååºæ¥ï¼éæ°è®¡ç®å¸å­çåæ°ï¼åæ¶å­å¥å°æ°æ®åºä¸­ï¼åelasticsearchä¸­ãï¼è¿éæ²¡æäºå¡ï¼\n\nä¸xxl-jobç¸åï¼éç¨ç«äºæ°æ®åºéçæ¹å¼ï¼æ¥ä¿è¯ä¸ä¸ªä»»å¡åªè½æä¸ä¸ªèç¹æ¥æ§è¡ãæ§è½è¾å·®ï¼åç»­ä¹ææ¹ä¸ºåå¸å¼éã\n\nxxl-jobæ¯æä»»å¡åçã\n\n\n# æ¦æªå¨\n\n\n# webmvcconfigurer\n\nä»cookieä¸­ååºç»å½å­è¯ï¼æ¥è¯¢å­è¯å¯¹åºçç¨æ·idï¼redis\n\næ¥è¯¢ç¨æ·ï¼redis ---\x3e mysql\n\nå°ç¨æ·å­å¥securitycontextholderã\n\n\n# websecurityconfigureradapter\n\nè¿ééç½®åªäºè·¯å¾ï¼éè¦åªäºæéã\n\nå¦æèº«ä»½è®¤è¯å¤±è´¥ï¼åæ§è¡commence()æ¹æ³\n\nå¦ææéä¸å¤ï¼åæ§è¡handle()æ¹æ³ã\n\nå¯¹äºsecuritycontextholderï¼spring securityä¸­ç¬¬äºä¸ªè¿æ»¤å¨ä¼å°å¶å­å¥å°httpsessionä¸­ã\n\nç¬¬äºä¸ªè¿æ»¤å¨ securitycontextpersistencefilter\n\n 1. å½è¯·æ±å°æ¥æ¶ï¼ä»httpsessionä¸­è·åsecuritycontextå¹¶å­å¥securitycontextholderä¸­ï¼è¿æ ·å¨åä¸ä¸ªè¯·æ±çåç»­å¤çè¿ç¨ä¸­ï¼éè¿securitycontextholderè·åæ°æ®\n\n 2. å½ä¸ä¸ªè¯·æ±å¤çå®æ¯æ¶ï¼ä»securitycontextholderä¸­è·åsecuritycontextå¹¶å­å¥httpsessionä¸­ï¼æ¹ä¾¿ä¸ä¸ä¸ªè¯·æ±å°æ¥æ¶ï¼åä»httpsessionä¸­æ¿æ¥ä½¿ç¨ï¼åæ¶æ¦é¤securitycontextholderä¸­çç»å½ä¿¡æ¯ã\n\n\n# æ©å±\n\nå°ç¹èµï¼å³æ³¨è¡ä¸ºæä¹åå­å¨å°mysqlãæ©å±ä¸å¡ï¼æè§å¾å¯ä»¥æä¸¤ç§æ¹å¼ï¼ä¸ç§å¯ä»¥ç¨aopï¼é¢ååé¢æ¥æ©å±ï¼å¦ä¸ç§ç´æ¥åæ°çä¸å¡é»è¾ï¼å¨éè¦çå°æ¹ç´æ¥è°ç¨ãèèå°ç¹èµãå³æ³¨çæ¶æ¯éè¦å­å¨å°redisï¼éè¦ä¿æredisãmysqlçæ°æ®ä¸è´æ§ï¼éç¨æç»ä¸è´æ§çç­ç¥ï¼å°å¢å æ¹äºä»¶åå¸rabbitmqæ¶æ¯ï¼æ¶è´¹èå»å°æ°æ®å­å¨å°mysqlãæä»¥å®¢æ·çå°çç¹èµæ¶æ¯ï¼é½æ¯ä»redisä¸­å­åçãå¦æå¼æ­¥ç­ç¥å¤±è´¥ï¼é£å°±æ¯rabbitmqå¦ä½ä¿è¯æ¶æ¯çå¯é äºã\n\nè¦æ©å±mysqlï¼æ°å»ºç¹èµè¡¨ï¼uid, entity_type, entity_idï¼ï¼å¥½åè¡¨(uid, friend_id)ï¼åæ¶è®¡ç®åæ°çè¯ï¼ä¹è¦éè¦æ¥è¯¢å¸å­çç¹èµæ°ï¼åæ¶å°å¸å­ï¼ä¹è¦å­å°redisä¸­ï¼ç¨",charsets:{cjk:!0}},{title:"Spring Boot èªå¨è£é",frontmatter:{title:"Spring Boot èªå¨è£é",date:"2023-03-09T15:16:40.000Z",permalink:"/pages/071fc0/"},regularPath:"/01.Java/04.%E6%A1%86%E6%9E%B6/02.springboot.html",relativePath:"01.Java/04.æ¡æ¶/02.springboot.md",key:"v-b225d99c",path:"/pages/071fc0/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"èªå¾ç¤¾åº",frontmatter:{title:"èªå¾ç¤¾åº",date:"2023-07-12T16:29:20.000Z",permalink:"/pages/532cfb/"},regularPath:"/01.Java/06.%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/20.comunity.html",relativePath:"01.Java/06.é¡¹ç®è®°å½/20.comunity.md",key:"v-585a6957",path:"/pages/532cfb/",headers:[{level:2,title:"åç«¯è®¾è®¡",slug:"åç«¯è®¾è®¡",normalizedTitle:"åç«¯è®¾è®¡",charIndex:2},{level:2,title:"ç¨æ·",slug:"ç¨æ·",normalizedTitle:"ç¨æ·",charIndex:13},{level:3,title:"ç»å½",slug:"ç»å½",normalizedTitle:"ç»å½",charIndex:20},{level:3,title:"éªè¯",slug:"éªè¯",normalizedTitle:"éªè¯",charIndex:89},{level:2,title:"èªä¹ å®¤",slug:"èªä¹ å®¤",normalizedTitle:"èªä¹ å®¤",charIndex:684},{level:2,title:"çè¨çä¸ç¹èµ",slug:"çè¨çä¸ç¹èµ",normalizedTitle:"çè¨çä¸ç¹èµ",charIndex:924},{level:4,title:"æ¹æ¡ä¸ï¼",slug:"æ¹æ¡ä¸",normalizedTitle:"æ¹æ¡ä¸ï¼",charIndex:1124},{level:4,title:"æ¹æ¡äº",slug:"æ¹æ¡äº",normalizedTitle:"æ¹æ¡äº",charIndex:1698},{level:2,title:"è¡¨è®¾è®¡",slug:"è¡¨è®¾è®¡",normalizedTitle:"è¡¨è®¾è®¡",charIndex:1766}],headersStr:"åç«¯è®¾è®¡ ç¨æ· ç»å½ éªè¯ èªä¹ å®¤ çè¨çä¸ç¹èµ æ¹æ¡ä¸ï¼ æ¹æ¡äº è¡¨è®¾è®¡",content:"# åç«¯è®¾è®¡\n\n\n\n\n# ç¨æ·\n\n\n# ç»å½\n\néç¨Spring Securityæ¡æ¶ï¼JWTè®¤è¯ãéè¦éç½®ä»¤çå­å¨æ¹å¼ï¼éç½®ç¨æ·åå¯ç è®¤è¯ï¼æ è¯åªäºæ¥å£éè¦è®¿é®æéã\n\n\n# éªè¯\n\néåUserDetailsServiceä¸­çloadUserByUsernameï¼è¯¥æ¹æ³è¡¨ç¤ºéè¿ç¨æ·åä»æä¸ªå°æ¹ååºç¨æ·ï¼ä¸æ¡æ¶å¾éªè¯çç¨æ·è¿è¡å¯¹æ¯ãéªè¯æååï¼å°ç¨æ·ä¿¡æ¯AuthenticationHolderContextå­å¨å°Sessionä¸­ãä¹åæ¯æ¬¡è¯·æ±å°æ¥ï¼å¯ä»¥ä»Sessionä¸­ååºAuthenticationç¨æ·ä¿¡æ¯ãä¹å¯ä»¥ä»Jwtä»¤çä¸­ååºç¨æ·ä¿¡æ¯ã\n\nJWTç±ä¸é¨åç»æï¼\n\nHeader : æè¿° JWT çåæ°æ®ï¼å®ä¹äºçæç­¾åçç®æ³ä»¥å Token çç±»åã\n\nPayload : ç¨æ¥å­æ¾å®ééè¦ä¼ éçæ°æ®\n\nSignatureï¼ç­¾åï¼ï¼æå¡å¨éè¿ PayloadãHeader åä¸ä¸ªå¯é¥(Secret)ä½¿ç¨ Header éé¢æå®çç­¾åç®æ³ï¼é»è®¤æ¯ HMAC SHA256ï¼çæã\n\nå¯¹äºç»å½æåçç¨æ·ï¼å°éæ¶JWTä»¤çåéç»å®¢æ·ç«¯ï¼å­å¨å°å®¢æ·ç«¯çcookieä¸­ï¼ä¹åæ¯æ¬¡è¯·æ±é½å¸¦ä¸è¯¥JWTä»¤çãæå¡å¨éªè¯åªéè¦éªè¯æ ç¶æçJWTä»¤çå³å¯ï¼æ éè®¿é®æ°æ®åºãéªè¯æ¹å¼ï¼\n\nå°Header.Payloadä¸æå¡å¨çç§é¥è¿è¡å å¯ï¼å¦æå¯æä¸ä»¤çç¬¬ä¸é¨åSignatureç¸åï¼åè®¤ä¸ºè¯¥ä»¤çåæ³ã\n\nç»­ç­¾æºå¶ï¼\n\nç»å½åè¿åä¸¤ä¸ªJWTä»¤çï¼è¯·æ±ä¸­å¦æç¬¬ä¸ä¸ªä»¤çè¿æï¼ååæ¬¡åéç¬¬äºä¸ªä»¤çï¼å¦ææ²¡è¿æï¼åæå¡å¨è¿åä¸ä¸ªæ°çä»¤çï¼å¦åè¦æ±å®¢æ·ç«¯éæ°ç»å½ã\n\n\n# èªä¹ å®¤\n\n1.éè¿èªä¹ å®¤IDï¼æèèªä¹ å®¤åç§°ï¼å¨é¡µé¢è¿è¡æ¥è¯¢å¯¹åºçèªä¹ å®¤ã\n\n2.ç®åçä¸ä¸ªæ ¹æ®ç´¢å¼ï¼æ¥è¯¢MySQLã\n\n3.å å¥èªä¹ å®¤ï¼æ¯ä¸ªç¨æ·è³å¤å å¥ä¸ä¸ªèªä¹ å®¤ï¼åªéè¦å¨ç¨æ·ä¸èªä¹ å®¤çå³ç³»è¡¨ä¸­æå¥ä¸æ¡æ°æ®ã\n\n4.éåºèªä¹ å®¤ï¼å¦ææ¯æåï¼é£ä¹åªéè¦å¨ç¨æ·ä¸èªä¹ å®¤çå³ç³»è¡¨ä¸­å é¤ä¸æ¡æ°æ®ãå¦ææ¯æ¿ä¸»ï¼é£ä¹å°±æ¯è§£æ£è¯¥èªä¹ å®¤ï¼ç®åçä¸ä¸ªäºå¡ï¼éè¦å¯¹å¨èªä¹ å®¤è¡¨ä¸­å é¤è¯¥èªä¹ å®¤ï¼ä»¥åå¨ç¨æ·ä¸èªä¹ å®¤çå³ç³»è¡¨ä¸­ï¼ç§»é¤è¿äºæåã\n\n5.è½¬è®©æ¿ä¸»ï¼åªéè¦æ´æ¹ä¸ä¸èªä¹ å®¤è¡¨çåé èIDã\n\n\n# çè¨çä¸ç¹èµ\n\n1.å å¥èªä¹ å®¤åï¼å¯ä»¥è¿è¡çè¨ãä¹å¯ä»¥å¯¹çè¨è¿è¡åå¤ï¼å¯¹åå¤è¿è¡åå¤ã\n\n2.å¯¹çè¨ç¹èµï¼å¯¹åå¤ç¹èµãç¹èµè®°å½å°ç¹èµè¡¨ä¸­ï¼å¯ä»¥å¤æ­æä¸ªç¨æ·æ¯å¦ç¹èµï¼è¿è¡å¯¹å¯¹åºççè¨æèåå¤å¢åèµçæ°éãä¸ªäººè®¤ä¸ºç¹èµæ°éçæ¾ç¤ºä¸éè¦åå°å®æ¶ï¼æä»¥ä¸éè¦é¢ç¹æ´æ°æ°æ®åºä¸­çæ°æ®ãé¦åå°åä¸ªå®ä½ç¹èµçæ°éå­å¨å°Redisä¸­ï¼åç«¯åªæä½çRedisæ°æ®ï¼åç«¯å®æ¶æ´æ°ç¹èµè¡¨ï¼ä¸æ´æ°å¯¹åºæ°æ®çç¹èµæ°éã\n\n# æ¹æ¡ä¸ï¼\n\nRedisæ¯åçº¿ç¨çï¼ä¸ä¼æçº¿ç¨å®å¨é®é¢ãå­å¨æ¹æ¡\n\nmessage:\n\tmessageId1: {userId1, userId2, userId3...}\n\tmessageId2: {userId4, userId2, userId6...}\n\t\nreply:\n\treplyId1: {userId1, userId2, userId3...}\n\treplyId2: {userId4, userId2, userId6...}\n\n\n\nåç«¯å®ææ¿å°Redisçæ°æ®ï¼æ¸ç©ºãç¶åå°è¿äºuserIdå»ç¹èµè¡¨ä¸­æ¥çï¼å¦æä¸å­å¨ï¼åç¹èµãå¦æå­å¨ï¼åå¤æ­statusæ¯ç¹èµç¶æè¿æ¯æªç¹èµç¶æãæ ¹æ®ç¶æï¼å»æ´æ°å¯¹åºççè¨è¡¨æåå¤è¡¨çç¹èµæ°éã\n\nç¼ºç¹ï¼åªç»´æ¤äºç¹èµçæçï¼æ¯æ¬¡è¯·æ±ï¼é½éè¦ä»MySQLä¸­æ¥ã\n\nå°åªäºçè¨æ¾å¥ç¼å­ä¸­ï¼\n\nä¸äºç¼å­ç­ç¥\n\n::: Cache Aside æè·¯ç¼å­\n\nåæ´æ°æ°æ®åºï¼åå é¤ç¼å­\n\n:::\n\n::: Read/Write Through ï¼è¯»ç©¿/åç©¿ï¼\n\nç¨æ·åªä¸ç¼å­æäº¤éï¼ä¾å¦æ¬å°Caffeineç¼å­ã\n\n:::\n\n::: Write Back (åå)\n\nå¯¹äºä¿®æ¹çæ°æ®åªå­å¨ç¼å­ä¸­ï¼æ è®°ä¸ºèãå¦æä¸æ¬¡è¯»ç¼å­æ¶ï¼å¦æè¿ä¸ªç¼å­æ¯èï¼é£ä¹å°±å°å®ååæ°æ®åºï¼åå°æ°æ®åºçå¼å­å¥ç¼å­ã\n\n:::\n\n# æ¹æ¡äº\n\nä½¿ç¨Hashå­å¨ï¼æ ¼å¼ä¸ºç¹èµè::è¢«ç¹èµè : 1 or 0ï¼è¢«ç¹èµè: è¢«ç¹èµæ°ãå®æ¶ä»»å¡å°ä¸¤èå­å¨MySQLä¸­ã\n\n\n# è¡¨è®¾è®¡\n\n             ç¨æ·è¡¨        \nid                      ä¸»é®ç´¢å¼\nusername     ç¨æ·å        äºçº§ç´¢å¼\npassword     å¯ç          \nsalt         ç          \nstatus       ç¨æ·ç¶æ       \nroom_id      å å¥çèªä¹ å®¤id   äºçº§ç´¢å¼\nlast_login   ä¸æ¬¡ç»å½æ¶é´     \ncreat_time   åå»ºæ¶é´       \n\n        ç­¾å°è¡¨       \nid                \nuid     ç¨æ·id      èåç´¢å¼å­æ®µ1\nyear    ç­¾å°å¹´       èåç´¢å¼å­æ®µ2\nmonth   ç­¾å°æ       èåç´¢å¼å­æ®µ3\nbit     è¿ä¸ªæç­¾å°æåµ   \n\n              èªä¹ å®¤è¡¨    \nid                    ä¸»é®ç´¢å¼\ncreate_id     åå»ºè     èåç´¢å¼å­æ®µ1\nname          èªä¹ å®¤åç§°   èåç´¢å¼å­æ®µ2\ncreate_time   åå»ºæ¶é´    \n\n              åå®¹è¡¨     \nid                    ä¸»é®ç´¢å¼\nuid           åè¡¨äºº     èåç´¢å¼å­æ®µ1\nroom_id       èªä¹ å®¤     èåç´¢å¼å­æ®µ2\ncontent       åè¡¨åå®¹    \nstatus        åå®¹ç¶æ    \nlike_count    è¢«ç¹èµæ°é   \nscore         å¾å      \ncreate_time   åè¡¨æ¶é´    \n\n              ç«åéç¥è¡¨               \nid                                \nfrom_id       åéæ¹                 ç¹èµæå³æ³¨åéæ¹æ¯ç³»ç»\nto_id         æ¥æ¶æ¹                 \ntype          éç¥ç±»åï¼ç¹èµï¼å³æ³¨ï¼è¯è®ºï¼ç§ä¿¡ï¼   \ncontent       åå®¹                  è°å¯¹ä»ä¹ç¹èµäºãè°å¯¹ä»ä¹è¯è®ºäº\nstatus        æ¯å¦å·²è¯»                \ncreate_time   åéæ¶é´                \n\n              ç¨æ·ç¹èµè¡¨    \nid                     \nuid           ç¹èµäºº      èåç´¢å¼å­æ®µ1\ntarget_type   ç¹èµç±»å     èåç´¢å¼å­æ®µ2\ntarget_id     è¢«ç¹èµçåå®¹   èåç´¢å¼å­æ®µ3\ntarget_uid    è¢«ç¹èµäºº     \nstatus        æ¯å¦ç¹èµ     \n\n              åå¤è¡¨             \nid                            \nuid           åå¤äºº             \ntype          å¯¹æ¶æ¯åå¤ï¼å¯¹åå¤è¿è¡åå¤   èåç´¢å¼å­æ®µ1\ntarget_id     åå¤ç®æ çid         èåç´¢å¼å­æ®µ2\ntarget_uid    è¢«åå¤çäºº           \nlike_count    è¿æ¡åå¤è¢«ç¹èµæ°é       \ncreate_time   åå¤æ¶é´            ",normalizedContent:"# åç«¯è®¾è®¡\n\n\n\n\n# ç¨æ·\n\n\n# ç»å½\n\néç¨spring securityæ¡æ¶ï¼jwtè®¤è¯ãéè¦éç½®ä»¤çå­å¨æ¹å¼ï¼éç½®ç¨æ·åå¯ç è®¤è¯ï¼æ è¯åªäºæ¥å£éè¦è®¿é®æéã\n\n\n# éªè¯\n\néåuserdetailsserviceä¸­çloaduserbyusernameï¼è¯¥æ¹æ³è¡¨ç¤ºéè¿ç¨æ·åä»æä¸ªå°æ¹ååºç¨æ·ï¼ä¸æ¡æ¶å¾éªè¯çç¨æ·è¿è¡å¯¹æ¯ãéªè¯æååï¼å°ç¨æ·ä¿¡æ¯authenticationholdercontextå­å¨å°sessionä¸­ãä¹åæ¯æ¬¡è¯·æ±å°æ¥ï¼å¯ä»¥ä»sessionä¸­ååºauthenticationç¨æ·ä¿¡æ¯ãä¹å¯ä»¥ä»jwtä»¤çä¸­ååºç¨æ·ä¿¡æ¯ã\n\njwtç±ä¸é¨åç»æï¼\n\nheader : æè¿° jwt çåæ°æ®ï¼å®ä¹äºçæç­¾åçç®æ³ä»¥å token çç±»åã\n\npayload : ç¨æ¥å­æ¾å®ééè¦ä¼ éçæ°æ®\n\nsignatureï¼ç­¾åï¼ï¼æå¡å¨éè¿ payloadãheader åä¸ä¸ªå¯é¥(secret)ä½¿ç¨ header éé¢æå®çç­¾åç®æ³ï¼é»è®¤æ¯ hmac sha256ï¼çæã\n\nå¯¹äºç»å½æåçç¨æ·ï¼å°éæ¶jwtä»¤çåéç»å®¢æ·ç«¯ï¼å­å¨å°å®¢æ·ç«¯çcookieä¸­ï¼ä¹åæ¯æ¬¡è¯·æ±é½å¸¦ä¸è¯¥jwtä»¤çãæå¡å¨éªè¯åªéè¦éªè¯æ ç¶æçjwtä»¤çå³å¯ï¼æ éè®¿é®æ°æ®åºãéªè¯æ¹å¼ï¼\n\nå°header.payloadä¸æå¡å¨çç§é¥è¿è¡å å¯ï¼å¦æå¯æä¸ä»¤çç¬¬ä¸é¨åsignatureç¸åï¼åè®¤ä¸ºè¯¥ä»¤çåæ³ã\n\nç»­ç­¾æºå¶ï¼\n\nç»å½åè¿åä¸¤ä¸ªjwtä»¤çï¼è¯·æ±ä¸­å¦æç¬¬ä¸ä¸ªä»¤çè¿æï¼ååæ¬¡åéç¬¬äºä¸ªä»¤çï¼å¦ææ²¡è¿æï¼åæå¡å¨è¿åä¸ä¸ªæ°çä»¤çï¼å¦åè¦æ±å®¢æ·ç«¯éæ°ç»å½ã\n\n\n# èªä¹ å®¤\n\n1.éè¿èªä¹ å®¤idï¼æèèªä¹ å®¤åç§°ï¼å¨é¡µé¢è¿è¡æ¥è¯¢å¯¹åºçèªä¹ å®¤ã\n\n2.ç®åçä¸ä¸ªæ ¹æ®ç´¢å¼ï¼æ¥è¯¢mysqlã\n\n3.å å¥èªä¹ å®¤ï¼æ¯ä¸ªç¨æ·è³å¤å å¥ä¸ä¸ªèªä¹ å®¤ï¼åªéè¦å¨ç¨æ·ä¸èªä¹ å®¤çå³ç³»è¡¨ä¸­æå¥ä¸æ¡æ°æ®ã\n\n4.éåºèªä¹ å®¤ï¼å¦ææ¯æåï¼é£ä¹åªéè¦å¨ç¨æ·ä¸èªä¹ å®¤çå³ç³»è¡¨ä¸­å é¤ä¸æ¡æ°æ®ãå¦ææ¯æ¿ä¸»ï¼é£ä¹å°±æ¯è§£æ£è¯¥èªä¹ å®¤ï¼ç®åçä¸ä¸ªäºå¡ï¼éè¦å¯¹å¨èªä¹ å®¤è¡¨ä¸­å é¤è¯¥èªä¹ å®¤ï¼ä»¥åå¨ç¨æ·ä¸èªä¹ å®¤çå³ç³»è¡¨ä¸­ï¼ç§»é¤è¿äºæåã\n\n5.è½¬è®©æ¿ä¸»ï¼åªéè¦æ´æ¹ä¸ä¸èªä¹ å®¤è¡¨çåé èidã\n\n\n# çè¨çä¸ç¹èµ\n\n1.å å¥èªä¹ å®¤åï¼å¯ä»¥è¿è¡çè¨ãä¹å¯ä»¥å¯¹çè¨è¿è¡åå¤ï¼å¯¹åå¤è¿è¡åå¤ã\n\n2.å¯¹çè¨ç¹èµï¼å¯¹åå¤ç¹èµãç¹èµè®°å½å°ç¹èµè¡¨ä¸­ï¼å¯ä»¥å¤æ­æä¸ªç¨æ·æ¯å¦ç¹èµï¼è¿è¡å¯¹å¯¹åºççè¨æèåå¤å¢åèµçæ°éãä¸ªäººè®¤ä¸ºç¹èµæ°éçæ¾ç¤ºä¸éè¦åå°å®æ¶ï¼æä»¥ä¸éè¦é¢ç¹æ´æ°æ°æ®åºä¸­çæ°æ®ãé¦åå°åä¸ªå®ä½ç¹èµçæ°éå­å¨å°redisä¸­ï¼åç«¯åªæä½çredisæ°æ®ï¼åç«¯å®æ¶æ´æ°ç¹èµè¡¨ï¼ä¸æ´æ°å¯¹åºæ°æ®çç¹èµæ°éã\n\n# æ¹æ¡ä¸ï¼\n\nredisæ¯åçº¿ç¨çï¼ä¸ä¼æçº¿ç¨å®å¨é®é¢ãå­å¨æ¹æ¡\n\nmessage:\n\tmessageid1: {userid1, userid2, userid3...}\n\tmessageid2: {userid4, userid2, userid6...}\n\t\nreply:\n\treplyid1: {userid1, userid2, userid3...}\n\treplyid2: {userid4, userid2, userid6...}\n\n\n\nåç«¯å®ææ¿å°redisçæ°æ®ï¼æ¸ç©ºãç¶åå°è¿äºuseridå»ç¹èµè¡¨ä¸­æ¥çï¼å¦æä¸å­å¨ï¼åç¹èµãå¦æå­å¨ï¼åå¤æ­statusæ¯ç¹èµç¶æè¿æ¯æªç¹èµç¶æãæ ¹æ®ç¶æï¼å»æ´æ°å¯¹åºççè¨è¡¨æåå¤è¡¨çç¹èµæ°éã\n\nç¼ºç¹ï¼åªç»´æ¤äºç¹èµçæçï¼æ¯æ¬¡è¯·æ±ï¼é½éè¦ä»mysqlä¸­æ¥ã\n\nå°åªäºçè¨æ¾å¥ç¼å­ä¸­ï¼\n\nä¸äºç¼å­ç­ç¥\n\n::: cache aside æè·¯ç¼å­\n\nåæ´æ°æ°æ®åºï¼åå é¤ç¼å­\n\n:::\n\n::: read/write through ï¼è¯»ç©¿/åç©¿ï¼\n\nç¨æ·åªä¸ç¼å­æäº¤éï¼ä¾å¦æ¬å°caffeineç¼å­ã\n\n:::\n\n::: write back (åå)\n\nå¯¹äºä¿®æ¹çæ°æ®åªå­å¨ç¼å­ä¸­ï¼æ è®°ä¸ºèãå¦æä¸æ¬¡è¯»ç¼å­æ¶ï¼å¦æè¿ä¸ªç¼å­æ¯èï¼é£ä¹å°±å°å®ååæ°æ®åºï¼åå°æ°æ®åºçå¼å­å¥ç¼å­ã\n\n:::\n\n# æ¹æ¡äº\n\nä½¿ç¨hashå­å¨ï¼æ ¼å¼ä¸ºç¹èµè::è¢«ç¹èµè : 1 or 0ï¼è¢«ç¹èµè: è¢«ç¹èµæ°ãå®æ¶ä»»å¡å°ä¸¤èå­å¨mysqlä¸­ã\n\n\n# è¡¨è®¾è®¡\n\n             ç¨æ·è¡¨        \nid                      ä¸»é®ç´¢å¼\nusername     ç¨æ·å        äºçº§ç´¢å¼\npassword     å¯ç          \nsalt         ç          \nstatus       ç¨æ·ç¶æ       \nroom_id      å å¥çèªä¹ å®¤id   äºçº§ç´¢å¼\nlast_login   ä¸æ¬¡ç»å½æ¶é´     \ncreat_time   åå»ºæ¶é´       \n\n        ç­¾å°è¡¨       \nid                \nuid     ç¨æ·id      èåç´¢å¼å­æ®µ1\nyear    ç­¾å°å¹´       èåç´¢å¼å­æ®µ2\nmonth   ç­¾å°æ       èåç´¢å¼å­æ®µ3\nbit     è¿ä¸ªæç­¾å°æåµ   \n\n              èªä¹ å®¤è¡¨    \nid                    ä¸»é®ç´¢å¼\ncreate_id     åå»ºè     èåç´¢å¼å­æ®µ1\nname          èªä¹ å®¤åç§°   èåç´¢å¼å­æ®µ2\ncreate_time   åå»ºæ¶é´    \n\n              åå®¹è¡¨     \nid                    ä¸»é®ç´¢å¼\nuid           åè¡¨äºº     èåç´¢å¼å­æ®µ1\nroom_id       èªä¹ å®¤     èåç´¢å¼å­æ®µ2\ncontent       åè¡¨åå®¹    \nstatus        åå®¹ç¶æ    \nlike_count    è¢«ç¹èµæ°é   \nscore         å¾å      \ncreate_time   åè¡¨æ¶é´    \n\n              ç«åéç¥è¡¨               \nid                                \nfrom_id       åéæ¹                 ç¹èµæå³æ³¨åéæ¹æ¯ç³»ç»\nto_id         æ¥æ¶æ¹                 \ntype          éç¥ç±»åï¼ç¹èµï¼å³æ³¨ï¼è¯è®ºï¼ç§ä¿¡ï¼   \ncontent       åå®¹                  è°å¯¹ä»ä¹ç¹èµäºãè°å¯¹ä»ä¹è¯è®ºäº\nstatus        æ¯å¦å·²è¯»                \ncreate_time   åéæ¶é´                \n\n              ç¨æ·ç¹èµè¡¨    \nid                     \nuid           ç¹èµäºº      èåç´¢å¼å­æ®µ1\ntarget_type   ç¹èµç±»å     èåç´¢å¼å­æ®µ2\ntarget_id     è¢«ç¹èµçåå®¹   èåç´¢å¼å­æ®µ3\ntarget_uid    è¢«ç¹èµäºº     \nstatus        æ¯å¦ç¹èµ     \n\n              åå¤è¡¨             \nid                            \nuid           åå¤äºº             \ntype          å¯¹æ¶æ¯åå¤ï¼å¯¹åå¤è¿è¡åå¤   èåç´¢å¼å­æ®µ1\ntarget_id     åå¤ç®æ çid         èåç´¢å¼å­æ®µ2\ntarget_uid    è¢«åå¤çäºº           \nlike_count    è¿æ¡åå¤è¢«ç¹èµæ°é       \ncreate_time   åå¤æ¶é´            ",charsets:{cjk:!0}},{title:"åå¸å¼å±è¯Raftç®æ³",frontmatter:{title:"åå¸å¼å±è¯Raftç®æ³",date:"2023-07-12T16:31:27.000Z",permalink:"/pages/20b125/"},regularPath:"/01.Java/06.%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/30.raft.html",relativePath:"01.Java/06.é¡¹ç®è®°å½/30.raft.md",key:"v-22135ad2",path:"/pages/20b125/",headers:[{level:2,title:"æ¶æè®¾è®¡",slug:"æ¶æè®¾è®¡",normalizedTitle:"æ¶æè®¾è®¡",charIndex:2}],headersStr:"æ¶æè®¾è®¡",content:"# æ¶æè®¾è®¡\n\n",normalizedContent:"# æ¶æè®¾è®¡\n\n",charsets:{cjk:!0}},{title:"Spring",frontmatter:{title:"Spring",date:"2023-06-03T11:32:09.000Z",permalink:"/pages/d76f3c/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/12.framework.html",relativePath:"01.Java/99.ç§æ/12.framework.md",key:"v-897d32c4",path:"/pages/d76f3c/",headers:[{level:2,title:"åä¾Beanæ¯çº¿ç¨å®å¨",slug:"åä¾beanæ¯çº¿ç¨å®å¨",normalizedTitle:"åä¾beanæ¯çº¿ç¨å®å¨",charIndex:2},{level:2,title:"AOP",slug:"aop",normalizedTitle:"aop",charIndex:210},{level:2,title:"äºå¡å¤±æ",slug:"äºå¡å¤±æ",normalizedTitle:"äºå¡å¤±æ",charIndex:436},{level:2,title:"Spring beanççå½å¨æ",slug:"spring-beanççå½å¨æ",normalizedTitle:"spring beanççå½å¨æ",charIndex:662},{level:2,title:"å¾ªç¯ä¾èµ",slug:"å¾ªç¯ä¾èµ",normalizedTitle:"å¾ªç¯ä¾èµ",charIndex:875},{level:2,title:"æé æ¹æ³å¾ªç¯ä¾èµ",slug:"æé æ¹æ³å¾ªç¯ä¾èµ",normalizedTitle:"æé æ¹æ³å¾ªç¯ä¾èµ",charIndex:1017},{level:2,title:"Spring MVCæ§è¡æµç¨",slug:"spring-mvcæ§è¡æµç¨",normalizedTitle:"spring mvcæ§è¡æµç¨",charIndex:1105},{level:2,title:"Spring Bootèªå¨éç½®",slug:"spring-bootèªå¨éç½®",normalizedTitle:"spring bootèªå¨éç½®",charIndex:1147},{level:2,title:"Spring å¸¸è§æ³¨è§£",slug:"spring-å¸¸è§æ³¨è§£",normalizedTitle:"spring å¸¸è§æ³¨è§£",charIndex:1334},{level:2,title:"Spring MVCæ³¨è§£",slug:"spring-mvcæ³¨è§£",normalizedTitle:"spring mvcæ³¨è§£",charIndex:2021},{level:2,title:"Mybatisæ§è¡æµç¨",slug:"mybatisæ§è¡æµç¨",normalizedTitle:"mybatisæ§è¡æµç¨",charIndex:2372},{level:2,title:"å»¶è¿å è½½",slug:"å»¶è¿å è½½",normalizedTitle:"å»¶è¿å è½½",charIndex:2390},{level:2,title:"ç¼å­",slug:"ç¼å­",normalizedTitle:"ç¼å­",charIndex:293}],headersStr:"åä¾Beanæ¯çº¿ç¨å®å¨ AOP äºå¡å¤±æ Spring beanççå½å¨æ å¾ªç¯ä¾èµ æé æ¹æ³å¾ªç¯ä¾èµ Spring MVCæ§è¡æµç¨ Spring Bootèªå¨éç½® Spring å¸¸è§æ³¨è§£ Spring MVCæ³¨è§£ Mybatisæ§è¡æµç¨ å»¶è¿å è½½ ç¼å­",content:'# åä¾Beanæ¯çº¿ç¨å®å¨\n\nBeanåä¾è¿æ¯å¤ä¾å¯ä»¥éè¿@Scopeæå®\n\nsingleton: beanå¨æ¯ä¸ªSpring IOCå®¹å¨ä¸­åªæä¸ä¸ªå®ä¾ï¼\n\nprototypeï¼ä¸ä¸ªbeanå®ä¹å¯ä»¥æå¤ä¸ªå®ä¾ã\n\nSpring æ¡æ¶é»è®¤ä½¿ç¨çåä¾Beanæ¨¡å¼ï¼ä¸æ¯çº¿ç¨å®å¨çãä½æ¯ä¸è¬Spring ä¸­çbeané½æ¯æ ç¶æçå¯¹è±¡ï¼æ²¡æçº¿ç¨å®å¨çé®é¢ãå¦æbeanä¸­å®ä¹äºå¯ä¿®æ¹çæååéï¼æ¯è¦èèçº¿ç¨å®å¨é®é¢çã\n\n\n# AOP\n\né¢ååé¢ç¼ç¨ï¼ä¸è¬ç¨äºå°é£äºä¸ä¸å¡æ å³çä»£ç ï¼å¬å±çï¼å°å¶æ½ååºæ¥ä½ä¸ºä¸ä¸ªæ¨¡åï¼è¿ä¸ä¸ªæ¨¡åç§°ä¸ºåé¢ï¼å¯ä»¥å°å¶åµå¥å°éè¦çå°æ¹ã\n\n * è®°å½æä½æ¥å¿\n * ç¼å­å¤ç\n * Spring ä¸­åç½®çäºå¡å¤ç\n\nè®°å½æ¥å¿ï¼å®ä¹åç¹ï¼çæ§çèå´ï¼æ¹æ³ï¼ï¼å¯¹åç¹å®ä¹è¡ä¸ºï¼ä½¿ç¨åç½®éç¥æ¹å¼æ¹å¼ï¼é¢åæ¦æªä¸ä¸æ¹æ³çåæ°ï¼è·åéè¦è®°å½çé¨åï¼ç¶åä¿å­å°æ°æ®åºã\n\n@Transaction å£°æå¼äºç©ï¼ä½¿ç¨AOPå°äºå¡å¤ççåè½ç¼ç»å°æ¦æªçæ¹æ³ä¸­\n\n\n# äºå¡å¤±æ\n\n * å¼å¸¸æè·å¤ç\n   \n   å¨tryä¸­åºç°å¼å¸¸ï¼å¹¶å¨catchä¸­å¤çäºå¼å¸¸ï¼å°±äºå¡å¤±æäºãéè¦å¨catchä¸­throw new RuntimeException(e)ã\n\n * æåºæ£æ¥å¼å¸¸\n   \n   å¦æåºç°å¼å¸¸ï¼åªä¼åæ»éæ£æ¥å¼å¸¸ãå¯ä»¥éç½®rollbackFor = Excetion.classï¼ææå¼å¸¸é½åæ»ã\n\n * épublicæ¹æ³\n   \n   springä¸ºè¯¥æ¹æ³åå»ºä»£çï¼éè¦è¯¥æ¹æ³æ¯publicçã\n\n\n# Spring beanççå½å¨æ\n\nSpringå¨å®¹å¨åå§åè¿ç¨ä¸­ï¼ä¼å°xmléç½®ç<bean>çä¿¡æ¯å°è£æä¸ä¸ªBeanDefinitionå¯¹è±¡ï¼Springæ ¹æ®BeanDefinitionåå»ºBeanå¯¹è±¡ï¼BeanDefinitionæå¾å¤å±æ§æ¥æè¿°Beanã\n\n * beanClassName\n * initMethodName\n * properryValues\n * scope\n * lazyInit\n\n\n\n\n# å¾ªç¯ä¾èµ\n\nä¸çº§ç¼å­ï¼åå©æ± ï¼å­æ¾å·²ç»åå§åå®æçbeanå¯¹è±¡\n\näºçº§ç¼å­ï¼ç¼å­å£°æå¨æè¿æ²¡è¿è¡å®çbeanå¯¹è±¡\n\nä¸çº§ç¼å­ï¼ç¼å­çæ¯ï¼ObjectFactoryå¯¹è±¡å·¥åï¼ç¨æ¥åå»ºå¯¹è±¡ã\n\näºçº§ç¼å­è§£å³å¾ªç¯ä¾èµ\n\n\n\nä¸çº§ç¼å­è§£å³å¾ªç¯ä¾èµ\n\nAä¾èµBï¼Bä¾èµAçä»£çå¯¹è±¡\n\n\n\n\n# æé æ¹æ³å¾ªç¯ä¾èµ\n\npublic A(@Lazy B b){\n\tSystem.out.println("Açæé æ¹æ³æ§è¡äº...");\n\tthis.b = b;\n}\n\n\n\n# Spring MVCæ§è¡æµç¨\n\n * è§å¾JSP\n * ååç«¯åç¦»\n\n\n\n\n\n\n# Spring Bootèªå¨éç½®\n\n@SpringBootApplicationæ³¨è§£ä¸­æä»¥ä¸ä¸ä¸ªæ³¨è§£\n\n * @SpringBootConfiguration\n   \n   éç½®ç±»ï¼ä¸Configurationç¸å\n\n * @EnableAutoConfiguration\n   \n   å®ç°èªå¨éç½®\n\n * @ComponentScan\n   \n   ç»ä»¶æ«æ\n\n\n\n\n# Spring å¸¸è§æ³¨è§£\n\næ³¨è§£                                            è¯´æ\n@Componentã@Controllerã@Serviceã@Repository   ä½¿ç¨å¨ç±»ä¸ç¨äºå®ä¾åBean\n@Autowired                                    ä½¿ç¨å¨å­æ®µä¸ç¨äºæ ¹æ®ç±»åä¾èµæ³¨å¥\n@Qualifier                                    ç»å@Autowiredä¸èµ·ä½¿ç¨ç¨äºæ ¹æ®åç§°è¿è¡ä¾èµæ³¨å¥\n@Scope                                        æ æ³¨Beançä½ç¨èå´\n@Configuration                                æå®å½åç±»æ¯ä¸ä¸ª Spring éç½®ç±»ï¼å½åå»ºå®¹å¨æ¶ä¼ä»è¯¥ç±»ä¸å è½½æ³¨è§£\n@ComponentScan                                ç¨äºæå® Spring å¨åå§åå®¹å¨æ¶è¦æ«æçå\n@Bean                                         ä½¿ç¨å¨æ¹æ³ä¸ï¼æ æ³¨å°è¯¥æ¹æ³çè¿åå¼å­å¨å°Springå®¹å¨ä¸­\n@Import                                       ä½¿ç¨@Importå¯¼å¥çç±»ä¼è¢«Springå è½½å°IOCå®¹å¨ä¸­\n@Aspectã@Beforeã@Afterã@Aroundã@Pointcut      ç¨äºåé¢ç¼ç¨ï¼AOPï¼\n\n\n# Spring MVCæ³¨è§£\n\n@REQUESTMAPPING   ç¨äºæ å°è¯·æ±è·¯å¾ï¼å¯ä»¥å®ä¹å¨ç±»ä¸åæ¹æ³ä¸ãç¨äºç±»ä¸ï¼åè¡¨ç¤ºç±»ä¸­çææçæ¹æ³é½æ¯ä»¥è¯¥å°åä½ä¸ºç¶è·¯å¾\n@RequestBody      æ³¨è§£å®ç°æ¥æ¶httpè¯·æ±çjsonæ°æ®ï¼å°jsonè½¬æ¢ä¸ºjavaå¯¹è±¡\n@RequestParam     æå®è¯·æ±åæ°çåç§°\n@PathViriable     ä»è¯·æ±è·¯å¾ä¸ä¸­è·åè¯·æ±åæ°(/user/{id})ï¼ä¼ éç»æ¹æ³çå½¢å¼åæ°\n@ResponseBody     æ³¨è§£å®ç°å°controlleræ¹æ³è¿åå¯¹è±¡è½¬åä¸ºjsonå¯¹è±¡ååºç»å®¢æ·ç«¯\n@RequestHeader    è·åæå®çè¯·æ±å¤´æ°æ®\n@RestController   @Controller + @ResponseBody\n\n\n# Mybatisæ§è¡æµç¨\n\n\n\n\n# å»¶è¿å è½½\n\n\n\næ¥è¯¢ç¨æ·çæ¶åï¼æç¨æ·ä¸­çè®¢åä¿¡æ¯ä¹æ¥è¯¢åºæ¥ï¼è¿æ¯ç«å³å è½½ã\n\næ¥è¯¢ç¨æ·æ¶ï¼ä»æ¥è¯¢ç¨æ·è¡¨ä¿¡æ¯ï¼å½è®¿é®orderListæ¶ï¼åæ¥è¯¢è®¢åè¡¨ï¼è¿æ¯å»¶è¿å è½½ã\n\n\n\n\n# ç¼å­\n\n * æ¬å°ç¼å­ï¼PerppetualCacheï¼æ¯åºäºHashMapå®ç°çã\n   * ä¸çº§ç¼å­ï¼ä½ç¨åæ¯sessionçº§å«\n   * äºçº§ç¼å­ï¼ä½ç¨åæ¯namespaceåmapperçä½ç¨åï¼ä¸ä¾èµä¸session\n\næ³¨æäºé¡¹\n\n * å½ç¼å­çæ°æ®æ´æ°äºï¼è¯¥ä½ç¨åä¸ææselectä¸­çç¼å­å°è¢«clear\n * ç¼å­çæ°æ®éè¦å®ç°Serializableæ¥å£\n * åªæä¼è¯æäº¤åèå³é­åï¼ä¸çº§ç¼å­ä¸­çæ°æ®æä¼è½¬ç§»å°äºçº§ç¼å­ä¸­ã',normalizedContent:'# åä¾beanæ¯çº¿ç¨å®å¨\n\nbeanåä¾è¿æ¯å¤ä¾å¯ä»¥éè¿@scopeæå®\n\nsingleton: beanå¨æ¯ä¸ªspring iocå®¹å¨ä¸­åªæä¸ä¸ªå®ä¾ï¼\n\nprototypeï¼ä¸ä¸ªbeanå®ä¹å¯ä»¥æå¤ä¸ªå®ä¾ã\n\nspring æ¡æ¶é»è®¤ä½¿ç¨çåä¾beanæ¨¡å¼ï¼ä¸æ¯çº¿ç¨å®å¨çãä½æ¯ä¸è¬spring ä¸­çbeané½æ¯æ ç¶æçå¯¹è±¡ï¼æ²¡æçº¿ç¨å®å¨çé®é¢ãå¦æbeanä¸­å®ä¹äºå¯ä¿®æ¹çæååéï¼æ¯è¦èèçº¿ç¨å®å¨é®é¢çã\n\n\n# aop\n\né¢ååé¢ç¼ç¨ï¼ä¸è¬ç¨äºå°é£äºä¸ä¸å¡æ å³çä»£ç ï¼å¬å±çï¼å°å¶æ½ååºæ¥ä½ä¸ºä¸ä¸ªæ¨¡åï¼è¿ä¸ä¸ªæ¨¡åç§°ä¸ºåé¢ï¼å¯ä»¥å°å¶åµå¥å°éè¦çå°æ¹ã\n\n * è®°å½æä½æ¥å¿\n * ç¼å­å¤ç\n * spring ä¸­åç½®çäºå¡å¤ç\n\nè®°å½æ¥å¿ï¼å®ä¹åç¹ï¼çæ§çèå´ï¼æ¹æ³ï¼ï¼å¯¹åç¹å®ä¹è¡ä¸ºï¼ä½¿ç¨åç½®éç¥æ¹å¼æ¹å¼ï¼é¢åæ¦æªä¸ä¸æ¹æ³çåæ°ï¼è·åéè¦è®°å½çé¨åï¼ç¶åä¿å­å°æ°æ®åºã\n\n@transaction å£°æå¼äºç©ï¼ä½¿ç¨aopå°äºå¡å¤ççåè½ç¼ç»å°æ¦æªçæ¹æ³ä¸­\n\n\n# äºå¡å¤±æ\n\n * å¼å¸¸æè·å¤ç\n   \n   å¨tryä¸­åºç°å¼å¸¸ï¼å¹¶å¨catchä¸­å¤çäºå¼å¸¸ï¼å°±äºå¡å¤±æäºãéè¦å¨catchä¸­throw new runtimeexception(e)ã\n\n * æåºæ£æ¥å¼å¸¸\n   \n   å¦æåºç°å¼å¸¸ï¼åªä¼åæ»éæ£æ¥å¼å¸¸ãå¯ä»¥éç½®rollbackfor = excetion.classï¼ææå¼å¸¸é½åæ»ã\n\n * épublicæ¹æ³\n   \n   springä¸ºè¯¥æ¹æ³åå»ºä»£çï¼éè¦è¯¥æ¹æ³æ¯publicçã\n\n\n# spring beanççå½å¨æ\n\nspringå¨å®¹å¨åå§åè¿ç¨ä¸­ï¼ä¼å°xmléç½®ç<bean>çä¿¡æ¯å°è£æä¸ä¸ªbeandefinitionå¯¹è±¡ï¼springæ ¹æ®beandefinitionåå»ºbeanå¯¹è±¡ï¼beandefinitionæå¾å¤å±æ§æ¥æè¿°beanã\n\n * beanclassname\n * initmethodname\n * properryvalues\n * scope\n * lazyinit\n\n\n\n\n# å¾ªç¯ä¾èµ\n\nä¸çº§ç¼å­ï¼åå©æ± ï¼å­æ¾å·²ç»åå§åå®æçbeanå¯¹è±¡\n\näºçº§ç¼å­ï¼ç¼å­å£°æå¨æè¿æ²¡è¿è¡å®çbeanå¯¹è±¡\n\nä¸çº§ç¼å­ï¼ç¼å­çæ¯ï¼objectfactoryå¯¹è±¡å·¥åï¼ç¨æ¥åå»ºå¯¹è±¡ã\n\näºçº§ç¼å­è§£å³å¾ªç¯ä¾èµ\n\n\n\nä¸çº§ç¼å­è§£å³å¾ªç¯ä¾èµ\n\naä¾èµbï¼bä¾èµaçä»£çå¯¹è±¡\n\n\n\n\n# æé æ¹æ³å¾ªç¯ä¾èµ\n\npublic a(@lazy b b){\n\tsystem.out.println("açæé æ¹æ³æ§è¡äº...");\n\tthis.b = b;\n}\n\n\n\n# spring mvcæ§è¡æµç¨\n\n * è§å¾jsp\n * ååç«¯åç¦»\n\n\n\n\n\n\n# spring bootèªå¨éç½®\n\n@springbootapplicationæ³¨è§£ä¸­æä»¥ä¸ä¸ä¸ªæ³¨è§£\n\n * @springbootconfiguration\n   \n   éç½®ç±»ï¼ä¸configurationç¸å\n\n * @enableautoconfiguration\n   \n   å®ç°èªå¨éç½®\n\n * @componentscan\n   \n   ç»ä»¶æ«æ\n\n\n\n\n# spring å¸¸è§æ³¨è§£\n\næ³¨è§£                                            è¯´æ\n@componentã@controllerã@serviceã@repository   ä½¿ç¨å¨ç±»ä¸ç¨äºå®ä¾åbean\n@autowired                                    ä½¿ç¨å¨å­æ®µä¸ç¨äºæ ¹æ®ç±»åä¾èµæ³¨å¥\n@qualifier                                    ç»å@autowiredä¸èµ·ä½¿ç¨ç¨äºæ ¹æ®åç§°è¿è¡ä¾èµæ³¨å¥\n@scope                                        æ æ³¨beançä½ç¨èå´\n@configuration                                æå®å½åç±»æ¯ä¸ä¸ª spring éç½®ç±»ï¼å½åå»ºå®¹å¨æ¶ä¼ä»è¯¥ç±»ä¸å è½½æ³¨è§£\n@componentscan                                ç¨äºæå® spring å¨åå§åå®¹å¨æ¶è¦æ«æçå\n@bean                                         ä½¿ç¨å¨æ¹æ³ä¸ï¼æ æ³¨å°è¯¥æ¹æ³çè¿åå¼å­å¨å°springå®¹å¨ä¸­\n@import                                       ä½¿ç¨@importå¯¼å¥çç±»ä¼è¢«springå è½½å°iocå®¹å¨ä¸­\n@aspectã@beforeã@afterã@aroundã@pointcut      ç¨äºåé¢ç¼ç¨ï¼aopï¼\n\n\n# spring mvcæ³¨è§£\n\n@requestmapping   ç¨äºæ å°è¯·æ±è·¯å¾ï¼å¯ä»¥å®ä¹å¨ç±»ä¸åæ¹æ³ä¸ãç¨äºç±»ä¸ï¼åè¡¨ç¤ºç±»ä¸­çææçæ¹æ³é½æ¯ä»¥è¯¥å°åä½ä¸ºç¶è·¯å¾\n@requestbody      æ³¨è§£å®ç°æ¥æ¶httpè¯·æ±çjsonæ°æ®ï¼å°jsonè½¬æ¢ä¸ºjavaå¯¹è±¡\n@requestparam     æå®è¯·æ±åæ°çåç§°\n@pathviriable     ä»è¯·æ±è·¯å¾ä¸ä¸­è·åè¯·æ±åæ°(/user/{id})ï¼ä¼ éç»æ¹æ³çå½¢å¼åæ°\n@responsebody     æ³¨è§£å®ç°å°controlleræ¹æ³è¿åå¯¹è±¡è½¬åä¸ºjsonå¯¹è±¡ååºç»å®¢æ·ç«¯\n@requestheader    è·åæå®çè¯·æ±å¤´æ°æ®\n@restcontroller   @controller + @responsebody\n\n\n# mybatisæ§è¡æµç¨\n\n\n\n\n# å»¶è¿å è½½\n\n\n\næ¥è¯¢ç¨æ·çæ¶åï¼æç¨æ·ä¸­çè®¢åä¿¡æ¯ä¹æ¥è¯¢åºæ¥ï¼è¿æ¯ç«å³å è½½ã\n\næ¥è¯¢ç¨æ·æ¶ï¼ä»æ¥è¯¢ç¨æ·è¡¨ä¿¡æ¯ï¼å½è®¿é®orderlistæ¶ï¼åæ¥è¯¢è®¢åè¡¨ï¼è¿æ¯å»¶è¿å è½½ã\n\n\n\n\n# ç¼å­\n\n * æ¬å°ç¼å­ï¼perppetualcacheï¼æ¯åºäºhashmapå®ç°çã\n   * ä¸çº§ç¼å­ï¼ä½ç¨åæ¯sessionçº§å«\n   * äºçº§ç¼å­ï¼ä½ç¨åæ¯namespaceåmapperçä½ç¨åï¼ä¸ä¾èµä¸session\n\næ³¨æäºé¡¹\n\n * å½ç¼å­çæ°æ®æ´æ°äºï¼è¯¥ä½ç¨åä¸ææselectä¸­çç¼å­å°è¢«clear\n * ç¼å­çæ°æ®éè¦å®ç°serializableæ¥å£\n * åªæä¼è¯æäº¤åèå³é­åï¼ä¸çº§ç¼å­ä¸­çæ°æ®æä¼è½¬ç§»å°äºçº§ç¼å­ä¸­ã',charsets:{cjk:!0}},{title:"çªèæ¶é´ç¤¾åº",frontmatter:{title:"çªèæ¶é´ç¤¾åº",date:"2023-03-04T16:41:41.000Z",permalink:"/pages/b3c8f6/"},regularPath:"/01.Java/06.%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/40.doubao.html",relativePath:"01.Java/06.é¡¹ç®è®°å½/40.doubao.md",key:"v-bf2e1f52",path:"/pages/b3c8f6/",headers:[{level:2,title:"å±ç¤º",slug:"å±ç¤º",normalizedTitle:"å±ç¤º",charIndex:2},{level:2,title:"ä¸»è¦å®ç°",slug:"ä¸»è¦å®ç°",normalizedTitle:"ä¸»è¦å®ç°",charIndex:42},{level:3,title:"åå¸å­",slug:"åå¸å­",normalizedTitle:"åå¸å­",charIndex:51},{level:3,title:"æ¥å¸å­",slug:"æ¥å¸å­",normalizedTitle:"æ¥å¸å­",charIndex:1249},{level:3,title:"ç¹èµ/å³æ³¨",slug:"ç¹èµ-å³æ³¨",normalizedTitle:"ç¹èµ/å³æ³¨",charIndex:1412},{level:3,title:"èªä¹ å®¤",slug:"èªä¹ å®¤",normalizedTitle:"èªä¹ å®¤",charIndex:24},{level:3,title:"ä¸ªäººæ¶é´ç»è®¡",slug:"ä¸ªäººæ¶é´ç»è®¡",normalizedTitle:"ä¸ªäººæ¶é´ç»è®¡",charIndex:1805}],headersStr:"å±ç¤º ä¸»è¦å®ç° åå¸å­ æ¥å¸å­ ç¹èµ/å³æ³¨ èªä¹ å®¤ ä¸ªäººæ¶é´ç»è®¡",content:"# å±ç¤º\n\né¦é¡µ\n\n\n\nå³æ³¨\n\n\n\néç¥\n\n\n\nèªä¹ å®¤\n\n\n\nä¸ªäººä¸»é¡µ\n\n\n\n\n# ä¸»è¦å®ç°\n\n\n# åå¸å­\n\n\n\nå¯¹äºç²ä¸ä¸å¤çç¨æ·ï¼åå¸ä¸æ¡å¸å­ï¼åå¥å¸å­è¡¨ï¼åæ¶åå¥MQã\n\næ¶è´¹èå¼æ­¥æ¨éå°ç²ä¸çæ¶ä»¶ç®±è¡¨ï¼åç»­ç²ä¸æ¥çå³æ³¨çå¸å­æ¶ï¼ä»è¯¥æ¶ä»¶ç®±è¡¨ä¸­ååºå¸å­IDãåæ¾å¤§ï¼åç»­èèç»åï¼ç»åè¯»æ©æ£æ¹å¼ã\n\ncreate table post\n(\n    id          varchar(20)               not null comment 'ä¸»é®',\n    title       varchar(255) default ''   not null comment 'æ é¢',\n    content     longtext                  null comment 'markdownåå®¹',\n    user_id     varchar(20)               not null comment 'ä½èID',\n    comments    int          default 0    not null comment 'è¯è®ºç»è®¡',\n    collects    int          default 0    not null comment 'æ¶èç»è®¡',\n    view        int          default 0    not null comment 'æµè§ç»è®¡',\n    top         bit          default b'0' not null comment 'æ¯å¦ç½®é¡¶ï¼1-æ¯ï¼0-å¦',\n    essence     bit          default b'0' not null comment 'æ¯å¦å ç²¾ï¼1-æ¯ï¼0-å¦',\n    section_id  int          default 0    null comment 'ä¸æ ID',\n    create_time datetime                  not null comment 'åå¸æ¶é´',\n    modify_time datetime                  null comment 'ä¿®æ¹æ¶é´',\n    like_number int          default 0    not null comment 'è¢«ç¹èµæ°é',\n)\n    comment 'å¸å­è¡¨' charset = utf8mb3\n                     row_format = DYNAMIC;\n\ncreate index create_time\n    on post (create_time);\n\ncreate index user_id\n    on post (user_id);\n\n\n\n\næ¶ä»¶ç®±è¡¨boxç±»ä¼¼\n\n\n# æ¥å¸å­\n\n\n\néç¨Rediså­å¨ä¸äºé¢å¤ä¿¡æ¯ï¼éç¨Redis Stringçæ¹å¼å­å¨ä¸äºç­ç¹çå¸å­ï¼ä»¥åç¹èµå³ç³»ï¼å¸å­-æ ç­¾ä¸ºå¤å¯¹å¤å³ç³»ï¼æ¹ä¾¿æ¥è¯¢ï¼ä½¿ç¨æ­£åååålistå­å¨ã\n\npost_i: [tag1, tag2, ...]\ntag_i: [post1, post2, ...]\n\n\næ ç­¾è¡¨ï¼ä»¥åå¸å­è¯é¢å³ç³»è¡¨\n\n\n# ç¹èµ/å³æ³¨\n\n\n\néç¨å¼æ­¥çæ¹å¼ï¼åå¥MQå°±ç®æä½æåã\n\nå¯¹äºé«å¹¶å\n\nåé¢æ©å±å¯ä»¥å¤èç¹å¤çè¯·æ±ã\n\nåé¢æ©å±å¯ä»¥å¢å æ¶è´¹èï¼å¹¶ä¸å¤çº¿ç¨æ¶è´¹ãå¯¹äºè®¡æ°æ¥è¯´ï¼å¯ä»¥ç»ä¸æ´æ¹ã\n\n\n# èªä¹ å®¤\n\n\n\nææ¶ï¼ç¸å½äºæ¯ä¸ä¸ªå¨ç«çæ¶é¿æè¡æ¦ã\n\nå°åç«¯vueé¡¹ç®æåæElectronæ¡é¢ç¨åºåï¼å¯ä»¥éç¨Node.jsæä¾çPythonç¯å¢æ¥æ§è¡Pythonèæ¬ãå½ç»å½åï¼å¼å§ç»è®¡æ¡é¢çªå£ä¿¡æ¯ï¼ä¸æå¡å¨å»ºç«Socketè¿æ¥ï¼å°çªå£ä¿¡æ¯åéå°æå¡å¨ã\n\næ°æ®å­å¨ï¼éç¨InfluxDBï¼æ ¼å¼å¦ä¸\n\nstatistic, running_time, app user_id, time\n\næè¡æ¦ä¿¡æ¯ï¼éç¨Redisä¸­çZsetå­å¨ï¼setä¸­å¼ä¸ºuserNameï¼å¾åè¯¥userä»å¤©çè¿è¡æ¶é¿\n\næè¡æ¦å®æ¶ä»»å¡æ¯ååéå·æ°ä¸æ¬¡ï¼å°InfluxDBä¸­è¿ååéæ°æ®ååºæ¥ï¼æ´æ°Zsetä¸­çå¾å\n\n\n# ä¸ªäººæ¶é´ç»è®¡\n\nå¯¹äºä¸åçæ°æ®ï¼åä»£ç ä¸­åå²å¥½ä¸åçæ¥è¯¢æ¡ä»¶ï¼è¿è¡å¤æ¬¡æ¥è¯¢ã",normalizedContent:"# å±ç¤º\n\né¦é¡µ\n\n\n\nå³æ³¨\n\n\n\néç¥\n\n\n\nèªä¹ å®¤\n\n\n\nä¸ªäººä¸»é¡µ\n\n\n\n\n# ä¸»è¦å®ç°\n\n\n# åå¸å­\n\n\n\nå¯¹äºç²ä¸ä¸å¤çç¨æ·ï¼åå¸ä¸æ¡å¸å­ï¼åå¥å¸å­è¡¨ï¼åæ¶åå¥mqã\n\næ¶è´¹èå¼æ­¥æ¨éå°ç²ä¸çæ¶ä»¶ç®±è¡¨ï¼åç»­ç²ä¸æ¥çå³æ³¨çå¸å­æ¶ï¼ä»è¯¥æ¶ä»¶ç®±è¡¨ä¸­ååºå¸å­idãåæ¾å¤§ï¼åç»­èèç»åï¼ç»åè¯»æ©æ£æ¹å¼ã\n\ncreate table post\n(\n    id          varchar(20)               not null comment 'ä¸»é®',\n    title       varchar(255) default ''   not null comment 'æ é¢',\n    content     longtext                  null comment 'markdownåå®¹',\n    user_id     varchar(20)               not null comment 'ä½èid',\n    comments    int          default 0    not null comment 'è¯è®ºç»è®¡',\n    collects    int          default 0    not null comment 'æ¶èç»è®¡',\n    view        int          default 0    not null comment 'æµè§ç»è®¡',\n    top         bit          default b'0' not null comment 'æ¯å¦ç½®é¡¶ï¼1-æ¯ï¼0-å¦',\n    essence     bit          default b'0' not null comment 'æ¯å¦å ç²¾ï¼1-æ¯ï¼0-å¦',\n    section_id  int          default 0    null comment 'ä¸æ id',\n    create_time datetime                  not null comment 'åå¸æ¶é´',\n    modify_time datetime                  null comment 'ä¿®æ¹æ¶é´',\n    like_number int          default 0    not null comment 'è¢«ç¹èµæ°é',\n)\n    comment 'å¸å­è¡¨' charset = utf8mb3\n                     row_format = dynamic;\n\ncreate index create_time\n    on post (create_time);\n\ncreate index user_id\n    on post (user_id);\n\n\n\n\næ¶ä»¶ç®±è¡¨boxç±»ä¼¼\n\n\n# æ¥å¸å­\n\n\n\néç¨rediså­å¨ä¸äºé¢å¤ä¿¡æ¯ï¼éç¨redis stringçæ¹å¼å­å¨ä¸äºç­ç¹çå¸å­ï¼ä»¥åç¹èµå³ç³»ï¼å¸å­-æ ç­¾ä¸ºå¤å¯¹å¤å³ç³»ï¼æ¹ä¾¿æ¥è¯¢ï¼ä½¿ç¨æ­£åååålistå­å¨ã\n\npost_i: [tag1, tag2, ...]\ntag_i: [post1, post2, ...]\n\n\næ ç­¾è¡¨ï¼ä»¥åå¸å­è¯é¢å³ç³»è¡¨\n\n\n# ç¹èµ/å³æ³¨\n\n\n\néç¨å¼æ­¥çæ¹å¼ï¼åå¥mqå°±ç®æä½æåã\n\nå¯¹äºé«å¹¶å\n\nåé¢æ©å±å¯ä»¥å¤èç¹å¤çè¯·æ±ã\n\nåé¢æ©å±å¯ä»¥å¢å æ¶è´¹èï¼å¹¶ä¸å¤çº¿ç¨æ¶è´¹ãå¯¹äºè®¡æ°æ¥è¯´ï¼å¯ä»¥ç»ä¸æ´æ¹ã\n\n\n# èªä¹ å®¤\n\n\n\nææ¶ï¼ç¸å½äºæ¯ä¸ä¸ªå¨ç«çæ¶é¿æè¡æ¦ã\n\nå°åç«¯vueé¡¹ç®æåæelectronæ¡é¢ç¨åºåï¼å¯ä»¥éç¨node.jsæä¾çpythonç¯å¢æ¥æ§è¡pythonèæ¬ãå½ç»å½åï¼å¼å§ç»è®¡æ¡é¢çªå£ä¿¡æ¯ï¼ä¸æå¡å¨å»ºç«socketè¿æ¥ï¼å°çªå£ä¿¡æ¯åéå°æå¡å¨ã\n\næ°æ®å­å¨ï¼éç¨influxdbï¼æ ¼å¼å¦ä¸\n\nstatistic, running_time, app user_id, time\n\næè¡æ¦ä¿¡æ¯ï¼éç¨redisä¸­çzsetå­å¨ï¼setä¸­å¼ä¸ºusernameï¼å¾åè¯¥userä»å¤©çè¿è¡æ¶é¿\n\næè¡æ¦å®æ¶ä»»å¡æ¯ååéå·æ°ä¸æ¬¡ï¼å°influxdbä¸­è¿ååéæ°æ®ååºæ¥ï¼æ´æ°zsetä¸­çå¾å\n\n\n# ä¸ªäººæ¶é´ç»è®¡\n\nå¯¹äºä¸åçæ°æ®ï¼åä»£ç ä¸­åå²å¥½ä¸åçæ¥è¯¢æ¡ä»¶ï¼è¿è¡å¤æ¬¡æ¥è¯¢ã",charsets:{cjk:!0}},{title:"Redis",frontmatter:{title:"Redis",date:"2023-06-01T14:57:29.000Z",permalink:"/pages/729f52/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/11.Redis.html",relativePath:"01.Java/99.ç§æ/11.Redis.md",key:"v-18836f34",path:"/pages/729f52/",headers:[{level:2,title:"ç¼å­ç©¿é",slug:"ç¼å­ç©¿é",normalizedTitle:"ç¼å­ç©¿é",charIndex:2},{level:2,title:"ç¼å­å»ç©¿",slug:"ç¼å­å»ç©¿",normalizedTitle:"ç¼å­å»ç©¿",charIndex:283},{level:2,title:"ç¼å­éªå´©",slug:"ç¼å­éªå´©",normalizedTitle:"ç¼å­éªå´©",charIndex:557},{level:2,title:"ååä¸è´",slug:"ååä¸è´",normalizedTitle:"ååä¸è´",charIndex:689},{level:2,title:"æä¹å",slug:"æä¹å",normalizedTitle:"æä¹å",charIndex:924},{level:2,title:"æ°æ®è¿æç­ç¥",slug:"æ°æ®è¿æç­ç¥",normalizedTitle:"æ°æ®è¿æç­ç¥",charIndex:1046},{level:2,title:"æ°æ®æ·æ±°ç­ç¥",slug:"æ°æ®æ·æ±°ç­ç¥",normalizedTitle:"æ°æ®æ·æ±°ç­ç¥",charIndex:1139},{level:2,title:"Redisåå¸å¼é",slug:"redisåå¸å¼é",normalizedTitle:"redisåå¸å¼é",charIndex:1479},{level:2,title:"Redisson",slug:"redisson",normalizedTitle:"redisson",charIndex:1533},{level:2,title:"ä¸»ä»å¤å¶",slug:"ä¸»ä»å¤å¶",normalizedTitle:"ä¸»ä»å¤å¶",charIndex:1874},{level:2,title:"å¨åµ",slug:"å¨åµ",normalizedTitle:"å¨åµ",charIndex:625},{level:2,title:"éç¾¤èè£",slug:"éç¾¤èè£",normalizedTitle:"éç¾¤èè£",charIndex:2195},{level:2,title:"åçéç¾¤",slug:"åçéç¾¤",normalizedTitle:"åçéç¾¤",charIndex:2352},{level:2,title:"Redisä¸ºä»ä¹å¿«",slug:"redisä¸ºä»ä¹å¿«",normalizedTitle:"redisä¸ºä»ä¹å¿«",charIndex:2527},{level:2,title:"I/Oå¤è·¯å¤ç¨",slug:"i-oå¤è·¯å¤ç¨",normalizedTitle:"i/oå¤è·¯å¤ç¨",charIndex:2571}],headersStr:"ç¼å­ç©¿é ç¼å­å»ç©¿ ç¼å­éªå´© ååä¸è´ æä¹å æ°æ®è¿æç­ç¥ æ°æ®æ·æ±°ç­ç¥ Redisåå¸å¼é Redisson ä¸»ä»å¤å¶ å¨åµ éç¾¤èè£ åçéç¾¤ Redisä¸ºä»ä¹å¿« I/Oå¤è·¯å¤ç¨",content:"# ç¼å­ç©¿é\n\næ¥è¯¢ä¸ä¸ªä¸å­å¨çæ°æ®ï¼MySQLæ¥è¯¢ä¸å°æ°æ®ï¼é£ä¹ä¸ä¼åå¥ç¼å­ä¸­ï¼å°±ä¼å¯¼è´æ¯æ¬¡é½æ¥è¯¢æ°æ®åºã\n\næ¹æ¡ä¸ï¼ ç¼å­ç©ºæ°æ®\n\næç©ºçæ°æ®ä¹å­å¥å°ç¼å­ä¸­ï¼é®é¢æ¯ï¼å½ä¹åæ°æ®åºæè¿ä¸ªæ°æ®åï¼ç¼å­ä¸­è¿æ¯ç¼å­çç©ºï¼é£ä¹å°±èè¯»ãå ä¸ºä¸è½ä¸ææ°æ°æ®å°±å¾ç¼å­ä¸­æ·»å ã\n\næ¹æ¡äºï¼ å¸éè¿æ»¤å¨\n\nç¼å­é¢ç­è¿ç¨ä¸­ï¼åå§åå¸éè¿æ»¤å¨ãå¯¹äºä¸ä¸ªæ¥è¯¢ï¼å¦ææ¥è¯¢å°å¸éè¿æ»¤å¨ä¸­ææ°æ®ï¼é£ä¹æè¿è¡åé¢çè¿ç¨ï¼è¥å¸éè¿æ»¤å¨ä¸­ä¸å­å¨ï¼åç´æ¥è¿åãå¸éè¿æ»¤å¨å¤æ­æ°æ®å­å¨ï¼ä¸ä»£è¡¨Redisä¸­æ°æ®ççå­å¨ãè¥ä¸å­å¨ï¼é£çä¸å­å¨ãå¯¹äºæ°æ·»å å°Redisä¸­çå¼ï¼åæ¶æ·»å å°å¸éè¿æ»¤å¨ä¸­ã\n\n\n# ç¼å­å»ç©¿\n\nç»ä¸ä¸ªkeyè®¾ç½®äºè¿ææ¶é´ï¼å½keyè¿ææ¶ï¼æå¤§éè¯·æ±è®¿é®è¿ä¸ªkeyã\n\næ¯ä¸ä¸ªè¯·æ±æ¥è®¿é®ï¼é½å¤æ­ç¼å­ä¸­æ²¡æè¿ä¸ªkeyï¼å ä¸ºè¿æ¶è¿æ²¡æä¸ä¸ªçº¿ç¨è¯·æ±ç»æãè¿èé½è¿è¡è®¿é®æ°æ®åºã\n\n**æ¹æ¡ä¸ï¼**äºæ¥é\n\nå½æä¸ªçº¿ç¨æ³å»è®¿é®æ°æ®åºæ¶ï¼å äºæ¥éï¼ç¶åæ¥è¯¢æ°æ®åºï¼ææ°æ®åå¥ç¼å­ãå¶å®çº¿ç¨ç­å¾è¿ä¸ªçº¿ç¨éæ¾éï¼ç¶åå»ç¼å­ä¸­è·åæ°æ®ã\n\n**æ¹æ¡äºï¼**é»è¾è¿æ\n\nææ°æ®è®¾ç½®ä¸ºä¸è¿æï¼å¦ææ¥è¯¢ç¼å­åç°æ°æ®é»è¾è¿æï¼é£å°±è·åäºæ¥éï¼æ°å¼ä¸ä¸ªçº¿ç¨å»æ°æ®åºææ°æ®åå¥ç¼å­ï¼åå®åæ°çº¿ç¨éæ¾éï¼éä¼ éï¼ï¼ï¼å½åçº¿ç¨å°±è¿åè¿ææ°æ®ãå¦æå¶å®çº¿ç¨\n\n\n# ç¼å­éªå´©\n\nåä¸æ¶é´æ®µæå¤§éçkeyè¿æï¼æèRedisæå¡å®æºã\n\n * ç»ä¸åçKeyçTTLæ·»å éæºå¼\n * å©ç¨Rediséç¾¤ï¼å¨åµæ¨¡å¼ï¼éç¾¤æ¨¡å¼\n * å éçº§åéæµç­ç¥ï¼Nginxï¼gateway\n * å å¤çº§ç¼å­ï¼GuavaãCaffeine\n\n\n# ååä¸è´\n\nå½ä¿®æ¹äºæ°æ®åºçæ°æ®ï¼åæ¶æ´æ°ç¼å­ã\n\n * å»¶è¿åå \n\nå é¤ç¼å­-ãä¿®æ¹æ°æ®åº-ãå é¤ç¼å­\n\nå é¤äºä¸æ¬¡ç¼å­åï¼å¨ä¸­é´è¿ç¨æè¯·æ±è¿æ¥ï¼åä¼éæ°åå¥ç¼å­ï¼èæ°æ®ï¼ï¼æä»¥åé¢åå ä¸æ¬¡ãæåä¸æ¬¡å é¤æ¶é´ä¸å¥½ææ§\n\n * è¯»åé\n\nå½çº¿ç¨å¯¹æä¸ªæ°æ®è·åå°åéï¼é£ä¹å¶å®çº¿ç¨ä¸è½è¯»åã\n\nå½çº¿ç¨è·åäºæä¸ªæ°æ®çè¯»éï¼é£ä¹å¶å®çº¿ç¨å¯ä»¥è¿è¡è¯»ã\n\n * å¼æ­¥éç¥\n\nä¿è¯æ°æ®çæç»ä¸è´æ§\n\nå½æä¿®æ¹æ°æ®ï¼åå¥æ°æ®åºæååï¼åå¸æ¶æ¯\n\n\n\n * Cannal\n\n\n\n\n# æä¹å\n\n * bgsave\n\nå¼å§æ¶ï¼ä¸»è¿ç¨forkå­è¿ç¨ï¼å°åå­çæ°æ®åå¥RDBæä»¶å°æ¬å°ã\n\nå½å­è¿ç¨æ§è¡åæä½æ¶ï¼ä¼å°æ°æ®æ·è´ä¸ä»½ï¼æ§è¡åæä½ã\n\n * RDB\n\næ°æ®å¿«ç§æä»¶\n\n * AOF\n\nè®°å½Redisä¸­æ¯ä¸ä¸ªåå½ä»¤ã\n\n\n# æ°æ®è¿æç­ç¥\n\n**æ°æ§å é¤ï¼**è®¾ç½®keyè¿æåï¼ä¸å»ç®¡å®ï¼ç­æ¥è¯¢å°è¿ä¸ªæ°æ®äºï¼åç°è¿æï¼åå æã\n\n**å®æå é¤ï¼**æ¯éä¸æ®µæ¶é´ï¼å¯¹keyè¿è¡æ£æ¥ï¼å é¤éé¢è¿æçkeyã\n\n\n# æ°æ®æ·æ±°ç­ç¥\n\n * noevictionï¼ ä¸æ·æ±°ä»»ä½keyï¼ä½æ¯åå­æ»¡æ¶ä¸åè®¸åå¥æ°æ°æ®ï¼é»è®¤å°±æ¯è¿ç§ç­ç¥ã\n * volatile-ttlï¼ å¯¹è®¾ç½®äºTTLçkeyï¼æ¯è¾keyçå©ä½TTLå¼ï¼TTLè¶å°è¶åè¢«æ·æ±°\n * allkeys-randomï¼å¯¹å¨ä½key ï¼éæºè¿è¡æ·æ±°ã\n * volatile-randomï¼å¯¹è®¾ç½®äºTTLçkey ï¼éæºè¿è¡æ·æ±°ã\n * allkeys-lruï¼ å¯¹å¨ä½keyï¼åºäºLRUç®æ³è¿è¡æ·æ±°\n * volatile-lruï¼ å¯¹è®¾ç½®äºTTLçkeyï¼åºäºLRUç®æ³è¿è¡æ·æ±°\n * allkeys-lfuï¼ å¯¹å¨ä½keyï¼åºäºLFUç®æ³è¿è¡æ·æ±°\n * volatile-lfuï¼ å¯¹è®¾ç½®äºTTLçkeyï¼åºäºLFUç®æ³è¿è¡æ·æ±°\n\n\n# Redisåå¸å¼é\n\nè·åé SETNX key value EX 10\n\néæ¾é DEL key\n\n\n# Redisson\n\næä¸ªä¸å¡éè¿setnxè®¾ç½®åéåï¼å½æå¡æäºï¼é£ä¹å°±æ²¡ædel è¯¥åéï¼å¯¼è´å¶å®ä¸å¡ä¸è½setnxï¼éè¿è®¾ç½®è¶æ¶æ¶é´ï¼åä¸å¤ä¼éã\n\nè·åRedissonéï¼å¶ä¸å¡åWatch dogæºå¶ä½ä¸ºå®æ¤çº¿ç¨ï¼å®æ¶ä¸ºkeyèªå¨ç»­æãå¦æä¸å¡æ§è¡å®æ¯ï¼ä¼å é¤è¿ä¸ªkeyãå¦æä¸å¡ä¸­æ­äºï¼é£è¿ä¸ªå®æ¶ä»»å¡ä¹ä¸æ§è¡äºï¼ä¹å°±ä¸ä¼èªå¨ç»­æï¼å°æåèªå¨å é¤ã\n\n**å¯éå¥ï¼**éç»æä¸å­çå­æ®µæ¯è·åéççº¿ç¨ï¼å¨ä¸ä¸ªçº¿ç¨åæ¯å±äº«çï¼åæ¶å­å¨éè·åæ¬¡æ°ã\n\nå­å¨ä¸»ä»æ°æ®ä¸è´æ§é®é¢ï¼å¨ä¸ä¸ªä¸»èç¹ä¸SETNXï¼è¿æ¶ä¸»èç¹æäºï¼ç¶åææ°çä¸»èç¹ï¼è¿æ¶å¶å®åºç¨ä¹å¯ä»¥SETNXã\n\nRedLockï¼å¨å¤ä¸ªå®ä¾ä¸åå»ºåä¸ä¸ªéï¼å¦æè¶è¿åæ°çå®ä¾ä¸SETNXæåï¼é£ä¹å®¢æ·ç«¯è·åéæåã\n\n\n# ä¸»ä»å¤å¶\n\næ­å»ºä¸»ä»éç¾¤ï¼å®ç°è¯»ååç¦»\n\n\n\nå¨éåæ­¥ï¼\n\nåå¤æ­ä¸»ä»æ¯å¦æ¯ä¸ä¸ªæ°æ®éï¼ä¸æ¯ä¸ä¸ªæ°æ®éï¼éè¦è¿è¡å¨éåæ­¥ï¼ä¸»èç¹æ§è¡bgsaveï¼çæRDBï¼åéRDBæä»¶ç»ä»èç¹ã\n\nå¢éåæ­¥ï¼\n\nè®°å½åç§»éï¼éåçä¸»ä»æ¯è¿è¡å¢éåæ­¥ï¼ä¸»èç¹å°repl_baklogå¤§äºåç§»éçé¨åçå½ä»¤ï¼åéç»ä»èç¹ã\n\n\n# å¨åµ\n\nå®ç°ä¸»ä»éç¾¤çèªå¨æéæ¢å¤ã\n\nSentinelä¼å¿è·³æ£æµèç¹æ¯å¦æ´»çï¼å¦æmasteræéäºï¼ä¼ä»slaveä¸­éä¸ä¸ªä½ä¸ºmasterï¼å¹¶éç¥å®¢æ·ç«¯åçéç¾¤æéè½¬ç§»ã\n\nä¸»è§ä¸çº¿ï¼æä¸ªSentinelèç¹æ£æµä¸å°æä¸ªRediså®ä¾ã\n\nå®¢è§ä¸çº¿ï¼è¶è¿æå®æ°éçSentinelèç¹æ£æµä¸å°æä¸ªRediså®ä¾ã\n\n\n# éç¾¤èè£\n\nä¸»èç¹ãä»èç¹åSentinelå¤äºä¸åçç½ç»ååºï¼ç¶åæ£æµä¸å°masterï¼å°±éä¸¾äºä¸ä¸ªæ°çmasterãä½å®éä¸å°±å­å¨äºä¸¤ä¸ªmasterãç½ç»æ¢å¤åï¼èçä¸»èç¹éä¸ºä»èç¹ï¼åä»æ°çmasteråæ­¥æ°æ®ï¼å¯¼è´æ°æ®ä¸¢å¤±ã\n\nè§£å³ï¼åå°ä¸ä¸ä»èç¹æ°éï¼ç¼©ç­ä¸»ä»åæ­¥æ¶é´é´éãï¼æ²¡æä»æ ¹æ¬ä¸è§£å³ï¼\n\n\n# åçéç¾¤\n\nè§£å³æµ·éæ°æ®å­å¨é®é¢ï¼é«å¹¶ååçé®é¢ã\n\n * éç¾¤ä¸­æå¤ä¸ªmasterï¼æ¯ä¸ªmasterä¿å­ä¸åçæ°æ®\n * æ¯ä¸ªmasteråæå¤ä¸ªslaveèç¹\n * master pingå¥åº·ç¶æã\n\nåçéç¾¤æ16384ä¸ªåå¸æ§½ï¼æ¯ä¸ªkeyéè¿CRC16æ ¡éªåå¯¹16384åæ¨¡ï¼å³å®å­æ¾å¨åªä¸ªæ§½ï¼éç¾¤æ¯ä¸ªèç¹è´è´£ä¸é¨åhashæ§½ã\n\n\n\n\n# Redisä¸ºä»ä¹å¿«\n\n * çº¯åå­æä½\n * éç¨åçº¿ç¨ï¼é¿åä¸å¿è¦çä¸ä¸æåæ¢\n * I/Oå¤è·¯å¤ç¨\n\n\n# I/Oå¤è·¯å¤ç¨\n\n\n\nå¯¹äºæä¸ªå®¢æ·ç«¯ï¼è°ç¨é»å¡selectï¼åæ ¸çå¬Socketéåï¼ä»»ä¸ä¸ä¸ªsocketæ°æ®å°±ç»ªï¼å°ä¼å¤èµ·selectãéåå®¢æ·ç«¯è°ç¨å¯¹åºçSocketçrecvfromæ¹æ³è·åæ°æ®ã\n\nselectåpollåªä¼éç¥ç¨æ·è¿ç¨æSocketå°±ç»ªã\n\nepolléç¥ç¨æ·è¿ç¨åªäºSocketå°±ç»ªã\n\n",normalizedContent:"# ç¼å­ç©¿é\n\næ¥è¯¢ä¸ä¸ªä¸å­å¨çæ°æ®ï¼mysqlæ¥è¯¢ä¸å°æ°æ®ï¼é£ä¹ä¸ä¼åå¥ç¼å­ä¸­ï¼å°±ä¼å¯¼è´æ¯æ¬¡é½æ¥è¯¢æ°æ®åºã\n\næ¹æ¡ä¸ï¼ ç¼å­ç©ºæ°æ®\n\næç©ºçæ°æ®ä¹å­å¥å°ç¼å­ä¸­ï¼é®é¢æ¯ï¼å½ä¹åæ°æ®åºæè¿ä¸ªæ°æ®åï¼ç¼å­ä¸­è¿æ¯ç¼å­çç©ºï¼é£ä¹å°±èè¯»ãå ä¸ºä¸è½ä¸ææ°æ°æ®å°±å¾ç¼å­ä¸­æ·»å ã\n\næ¹æ¡äºï¼ å¸éè¿æ»¤å¨\n\nç¼å­é¢ç­è¿ç¨ä¸­ï¼åå§åå¸éè¿æ»¤å¨ãå¯¹äºä¸ä¸ªæ¥è¯¢ï¼å¦ææ¥è¯¢å°å¸éè¿æ»¤å¨ä¸­ææ°æ®ï¼é£ä¹æè¿è¡åé¢çè¿ç¨ï¼è¥å¸éè¿æ»¤å¨ä¸­ä¸å­å¨ï¼åç´æ¥è¿åãå¸éè¿æ»¤å¨å¤æ­æ°æ®å­å¨ï¼ä¸ä»£è¡¨redisä¸­æ°æ®ççå­å¨ãè¥ä¸å­å¨ï¼é£çä¸å­å¨ãå¯¹äºæ°æ·»å å°redisä¸­çå¼ï¼åæ¶æ·»å å°å¸éè¿æ»¤å¨ä¸­ã\n\n\n# ç¼å­å»ç©¿\n\nç»ä¸ä¸ªkeyè®¾ç½®äºè¿ææ¶é´ï¼å½keyè¿ææ¶ï¼æå¤§éè¯·æ±è®¿é®è¿ä¸ªkeyã\n\næ¯ä¸ä¸ªè¯·æ±æ¥è®¿é®ï¼é½å¤æ­ç¼å­ä¸­æ²¡æè¿ä¸ªkeyï¼å ä¸ºè¿æ¶è¿æ²¡æä¸ä¸ªçº¿ç¨è¯·æ±ç»æãè¿èé½è¿è¡è®¿é®æ°æ®åºã\n\n**æ¹æ¡ä¸ï¼**äºæ¥é\n\nå½æä¸ªçº¿ç¨æ³å»è®¿é®æ°æ®åºæ¶ï¼å äºæ¥éï¼ç¶åæ¥è¯¢æ°æ®åºï¼ææ°æ®åå¥ç¼å­ãå¶å®çº¿ç¨ç­å¾è¿ä¸ªçº¿ç¨éæ¾éï¼ç¶åå»ç¼å­ä¸­è·åæ°æ®ã\n\n**æ¹æ¡äºï¼**é»è¾è¿æ\n\nææ°æ®è®¾ç½®ä¸ºä¸è¿æï¼å¦ææ¥è¯¢ç¼å­åç°æ°æ®é»è¾è¿æï¼é£å°±è·åäºæ¥éï¼æ°å¼ä¸ä¸ªçº¿ç¨å»æ°æ®åºææ°æ®åå¥ç¼å­ï¼åå®åæ°çº¿ç¨éæ¾éï¼éä¼ éï¼ï¼ï¼å½åçº¿ç¨å°±è¿åè¿ææ°æ®ãå¦æå¶å®çº¿ç¨\n\n\n# ç¼å­éªå´©\n\nåä¸æ¶é´æ®µæå¤§éçkeyè¿æï¼æèredisæå¡å®æºã\n\n * ç»ä¸åçkeyçttlæ·»å éæºå¼\n * å©ç¨rediséç¾¤ï¼å¨åµæ¨¡å¼ï¼éç¾¤æ¨¡å¼\n * å éçº§åéæµç­ç¥ï¼nginxï¼gateway\n * å å¤çº§ç¼å­ï¼guavaãcaffeine\n\n\n# ååä¸è´\n\nå½ä¿®æ¹äºæ°æ®åºçæ°æ®ï¼åæ¶æ´æ°ç¼å­ã\n\n * å»¶è¿åå \n\nå é¤ç¼å­-ãä¿®æ¹æ°æ®åº-ãå é¤ç¼å­\n\nå é¤äºä¸æ¬¡ç¼å­åï¼å¨ä¸­é´è¿ç¨æè¯·æ±è¿æ¥ï¼åä¼éæ°åå¥ç¼å­ï¼èæ°æ®ï¼ï¼æä»¥åé¢åå ä¸æ¬¡ãæåä¸æ¬¡å é¤æ¶é´ä¸å¥½ææ§\n\n * è¯»åé\n\nå½çº¿ç¨å¯¹æä¸ªæ°æ®è·åå°åéï¼é£ä¹å¶å®çº¿ç¨ä¸è½è¯»åã\n\nå½çº¿ç¨è·åäºæä¸ªæ°æ®çè¯»éï¼é£ä¹å¶å®çº¿ç¨å¯ä»¥è¿è¡è¯»ã\n\n * å¼æ­¥éç¥\n\nä¿è¯æ°æ®çæç»ä¸è´æ§\n\nå½æä¿®æ¹æ°æ®ï¼åå¥æ°æ®åºæååï¼åå¸æ¶æ¯\n\n\n\n * cannal\n\n\n\n\n# æä¹å\n\n * bgsave\n\nå¼å§æ¶ï¼ä¸»è¿ç¨forkå­è¿ç¨ï¼å°åå­çæ°æ®åå¥rdbæä»¶å°æ¬å°ã\n\nå½å­è¿ç¨æ§è¡åæä½æ¶ï¼ä¼å°æ°æ®æ·è´ä¸ä»½ï¼æ§è¡åæä½ã\n\n * rdb\n\næ°æ®å¿«ç§æä»¶\n\n * aof\n\nè®°å½redisä¸­æ¯ä¸ä¸ªåå½ä»¤ã\n\n\n# æ°æ®è¿æç­ç¥\n\n**æ°æ§å é¤ï¼**è®¾ç½®keyè¿æåï¼ä¸å»ç®¡å®ï¼ç­æ¥è¯¢å°è¿ä¸ªæ°æ®äºï¼åç°è¿æï¼åå æã\n\n**å®æå é¤ï¼**æ¯éä¸æ®µæ¶é´ï¼å¯¹keyè¿è¡æ£æ¥ï¼å é¤éé¢è¿æçkeyã\n\n\n# æ°æ®æ·æ±°ç­ç¥\n\n * noevictionï¼ ä¸æ·æ±°ä»»ä½keyï¼ä½æ¯åå­æ»¡æ¶ä¸åè®¸åå¥æ°æ°æ®ï¼é»è®¤å°±æ¯è¿ç§ç­ç¥ã\n * volatile-ttlï¼ å¯¹è®¾ç½®äºttlçkeyï¼æ¯è¾keyçå©ä½ttlå¼ï¼ttlè¶å°è¶åè¢«æ·æ±°\n * allkeys-randomï¼å¯¹å¨ä½key ï¼éæºè¿è¡æ·æ±°ã\n * volatile-randomï¼å¯¹è®¾ç½®äºttlçkey ï¼éæºè¿è¡æ·æ±°ã\n * allkeys-lruï¼ å¯¹å¨ä½keyï¼åºäºlruç®æ³è¿è¡æ·æ±°\n * volatile-lruï¼ å¯¹è®¾ç½®äºttlçkeyï¼åºäºlruç®æ³è¿è¡æ·æ±°\n * allkeys-lfuï¼ å¯¹å¨ä½keyï¼åºäºlfuç®æ³è¿è¡æ·æ±°\n * volatile-lfuï¼ å¯¹è®¾ç½®äºttlçkeyï¼åºäºlfuç®æ³è¿è¡æ·æ±°\n\n\n# redisåå¸å¼é\n\nè·åé setnx key value ex 10\n\néæ¾é del key\n\n\n# redisson\n\næä¸ªä¸å¡éè¿setnxè®¾ç½®åéåï¼å½æå¡æäºï¼é£ä¹å°±æ²¡ædel è¯¥åéï¼å¯¼è´å¶å®ä¸å¡ä¸è½setnxï¼éè¿è®¾ç½®è¶æ¶æ¶é´ï¼åä¸å¤ä¼éã\n\nè·åredissonéï¼å¶ä¸å¡åwatch dogæºå¶ä½ä¸ºå®æ¤çº¿ç¨ï¼å®æ¶ä¸ºkeyèªå¨ç»­æãå¦æä¸å¡æ§è¡å®æ¯ï¼ä¼å é¤è¿ä¸ªkeyãå¦æä¸å¡ä¸­æ­äºï¼é£è¿ä¸ªå®æ¶ä»»å¡ä¹ä¸æ§è¡äºï¼ä¹å°±ä¸ä¼èªå¨ç»­æï¼å°æåèªå¨å é¤ã\n\n**å¯éå¥ï¼**éç»æä¸å­çå­æ®µæ¯è·åéççº¿ç¨ï¼å¨ä¸ä¸ªçº¿ç¨åæ¯å±äº«çï¼åæ¶å­å¨éè·åæ¬¡æ°ã\n\nå­å¨ä¸»ä»æ°æ®ä¸è´æ§é®é¢ï¼å¨ä¸ä¸ªä¸»èç¹ä¸setnxï¼è¿æ¶ä¸»èç¹æäºï¼ç¶åææ°çä¸»èç¹ï¼è¿æ¶å¶å®åºç¨ä¹å¯ä»¥setnxã\n\nredlockï¼å¨å¤ä¸ªå®ä¾ä¸åå»ºåä¸ä¸ªéï¼å¦æè¶è¿åæ°çå®ä¾ä¸setnxæåï¼é£ä¹å®¢æ·ç«¯è·åéæåã\n\n\n# ä¸»ä»å¤å¶\n\næ­å»ºä¸»ä»éç¾¤ï¼å®ç°è¯»ååç¦»\n\n\n\nå¨éåæ­¥ï¼\n\nåå¤æ­ä¸»ä»æ¯å¦æ¯ä¸ä¸ªæ°æ®éï¼ä¸æ¯ä¸ä¸ªæ°æ®éï¼éè¦è¿è¡å¨éåæ­¥ï¼ä¸»èç¹æ§è¡bgsaveï¼çærdbï¼åérdbæä»¶ç»ä»èç¹ã\n\nå¢éåæ­¥ï¼\n\nè®°å½åç§»éï¼éåçä¸»ä»æ¯è¿è¡å¢éåæ­¥ï¼ä¸»èç¹å°repl_baklogå¤§äºåç§»éçé¨åçå½ä»¤ï¼åéç»ä»èç¹ã\n\n\n# å¨åµ\n\nå®ç°ä¸»ä»éç¾¤çèªå¨æéæ¢å¤ã\n\nsentinelä¼å¿è·³æ£æµèç¹æ¯å¦æ´»çï¼å¦æmasteræéäºï¼ä¼ä»slaveä¸­éä¸ä¸ªä½ä¸ºmasterï¼å¹¶éç¥å®¢æ·ç«¯åçéç¾¤æéè½¬ç§»ã\n\nä¸»è§ä¸çº¿ï¼æä¸ªsentinelèç¹æ£æµä¸å°æä¸ªrediså®ä¾ã\n\nå®¢è§ä¸çº¿ï¼è¶è¿æå®æ°éçsentinelèç¹æ£æµä¸å°æä¸ªrediså®ä¾ã\n\n\n# éç¾¤èè£\n\nä¸»èç¹ãä»èç¹åsentinelå¤äºä¸åçç½ç»ååºï¼ç¶åæ£æµä¸å°masterï¼å°±éä¸¾äºä¸ä¸ªæ°çmasterãä½å®éä¸å°±å­å¨äºä¸¤ä¸ªmasterãç½ç»æ¢å¤åï¼èçä¸»èç¹éä¸ºä»èç¹ï¼åä»æ°çmasteråæ­¥æ°æ®ï¼å¯¼è´æ°æ®ä¸¢å¤±ã\n\nè§£å³ï¼åå°ä¸ä¸ä»èç¹æ°éï¼ç¼©ç­ä¸»ä»åæ­¥æ¶é´é´éãï¼æ²¡æä»æ ¹æ¬ä¸è§£å³ï¼\n\n\n# åçéç¾¤\n\nè§£å³æµ·éæ°æ®å­å¨é®é¢ï¼é«å¹¶ååçé®é¢ã\n\n * éç¾¤ä¸­æå¤ä¸ªmasterï¼æ¯ä¸ªmasterä¿å­ä¸åçæ°æ®\n * æ¯ä¸ªmasteråæå¤ä¸ªslaveèç¹\n * master pingå¥åº·ç¶æã\n\nåçéç¾¤æ16384ä¸ªåå¸æ§½ï¼æ¯ä¸ªkeyéè¿crc16æ ¡éªåå¯¹16384åæ¨¡ï¼å³å®å­æ¾å¨åªä¸ªæ§½ï¼éç¾¤æ¯ä¸ªèç¹è´è´£ä¸é¨åhashæ§½ã\n\n\n\n\n# redisä¸ºä»ä¹å¿«\n\n * çº¯åå­æä½\n * éç¨åçº¿ç¨ï¼é¿åä¸å¿è¦çä¸ä¸æåæ¢\n * i/oå¤è·¯å¤ç¨\n\n\n# i/oå¤è·¯å¤ç¨\n\n\n\nå¯¹äºæä¸ªå®¢æ·ç«¯ï¼è°ç¨é»å¡selectï¼åæ ¸çå¬socketéåï¼ä»»ä¸ä¸ä¸ªsocketæ°æ®å°±ç»ªï¼å°ä¼å¤èµ·selectãéåå®¢æ·ç«¯è°ç¨å¯¹åºçsocketçrecvfromæ¹æ³è·åæ°æ®ã\n\nselectåpollåªä¼éç¥ç¨æ·è¿ç¨æsocketå°±ç»ªã\n\nepolléç¥ç¨æ·è¿ç¨åªäºsocketå°±ç»ªã\n\n",charsets:{cjk:!0}},{title:"å¾®æå¡",frontmatter:{title:"å¾®æå¡",date:"2023-06-04T14:00:01.000Z",permalink:"/pages/b0a322/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/13.cloud.html",relativePath:"01.Java/99.ç§æ/13.cloud.md",key:"v-34050fae",path:"/pages/b0a322/",headers:[{level:2,title:"Spring Cloudç»ä»¶",slug:"spring-cloudç»ä»¶",normalizedTitle:"spring cloudç»ä»¶",charIndex:2},{level:2,title:"Eureka",slug:"eureka",normalizedTitle:"eureka",charIndex:26},{level:2,title:"Ribbon",slug:"ribbon",normalizedTitle:"ribbon",charIndex:47},{level:2,title:"æå¡éªå´©",slug:"æå¡éªå´©",normalizedTitle:"æå¡éªå´©",charIndex:464},{level:2,title:"çæ§",slug:"çæ§",normalizedTitle:"çæ§",charIndex:572},{level:2,title:"éæµ",slug:"éæµ",normalizedTitle:"éæµ",charIndex:484},{level:2,title:"CAP",slug:"cap",normalizedTitle:"cap",charIndex:780},{level:3,title:"seata",slug:"seata",normalizedTitle:"seata",charIndex:930},{level:3,title:"ATæ¨¡å¼",slug:"atæ¨¡å¼",normalizedTitle:"atæ¨¡å¼",charIndex:948},{level:3,title:"TTCæ¨¡å¼",slug:"ttcæ¨¡å¼",normalizedTitle:"ttcæ¨¡å¼",charIndex:959},{level:3,title:"MQåå¸å¼äºå¡",slug:"mqåå¸å¼äºå¡",normalizedTitle:"mqåå¸å¼äºå¡",charIndex:971},{level:2,title:"å¹ç­",slug:"å¹ç­",normalizedTitle:"å¹ç­",charIndex:985},{level:2,title:"xxl-job",slug:"xxl-job",normalizedTitle:"xxl-job",charIndex:1205}],headersStr:"Spring Cloudç»ä»¶ Eureka Ribbon æå¡éªå´© çæ§ éæµ CAP seata ATæ¨¡å¼ TTCæ¨¡å¼ MQåå¸å¼äºå¡ å¹ç­ xxl-job",content:"# Spring Cloudç»ä»¶\n\n * æ³¨åä¸­å¿ï¼Eurekaï¼Nacos\n * è´è½½åè¡¡ï¼Ribbon\n * è¿ç¨è°ç¨ï¼Feign\n * æå¡ä¿æ¤ï¼sentinel\n * ç½å³ï¼Zuulï¼Gateway\n\n\n# Eureka\n\næ³¨åä¸­å¿ï¼æå¡éè¦å»æ³¨åä¸­å¿è¿è¡æ³¨åï¼é£ä¹æ³¨åä¸­å¿ä¾¿å¯ä»¥ç¥éå½åæä»ä¹æå¡ï¼ä»¥åå¯¹åºçå°åæ¯ä»ä¹ï¼å¹¶æ¯30ç§æå¡åæ³¨åä¸­å¿åéæ¶æ¯ï¼è¡¨ç¤ºæè¿æ´»çãæå¡æ¶è´¹èå¯ä»¥å°æ³¨åä¸­å¿å¯»æ¾ååºçæå¡æä¾èæ¥è¿ç¨è°ç¨ã\n\nä¸Nacosåºå«\n\nNacoså¯¹äºä¸´æ¶å®ä¾ï¼éç¨å¿è·³æ¨¡å¼ãå¯¹äºéä¸´æ¶å®ä¾éç¨ä¸»å¨æ£æµæ¨¡å¼ã\n\nNacosè¿æ¯æéç½®ä¸­å¿ã\n\n\n# Ribbon\n\n * RoundRobinRuleï¼è½®è¯¢æå¡åè¡¨æ¥éæ©æå¡å¨\n * WeightedResponseTimeï¼æç§æéæ¥éæ©æå¡å¨ï¼ååºæ¶é´è¶é¿ï¼æéè¶å°\n * RandomRuleï¼éæºéæ©ä¸ä¸ªå¯ç¨çæå¡å¨\n * ZoneAvoidanceRuleï¼ä»¥åºåä¸ºåºç¡è¿è¡æå¡å¨éæ©\n\nå¦ææ³èªå®ä¹å®ç°è´è½½åè¡¡ç­ç¥ï¼éè¦å®ç°IRuleæ¥å£\n\n\n# æå¡éªå´©\n\n\n\n * çæ­ï¼éçº§\n * éæµ\n\næå¡éçº§ï¼ä¸ç§èªæä¿æ¤æ¹å¼ï¼ç¡®ä¿æå¡ä¸ä¼åè¯·æ±çªå¢å½±ååå¾ä¸å¯ç¨\n\n\n\næå¡çæ­ï¼å¦æä¸å®æ¶é´åï¼éçº§æ¬¡æ°è¿å¤ï¼åä¼è§¦åæå¡çæ­ï¼çæ­åä¸åå¯¹è¿ä¸ªèç¹è¿è¡è®¿é®\n\n\n# çæ§\n\nskywalkingï¼åå¸å¼ç³»ç»çåºç¨ç¨åºæ§è½çæ§å·¥å·ï¼æä¾å®åçé¾è·¯è¿½è¸ªåè½ã\n\n * æå¡\n * ç«¯ç¹\n * å®ä¾\n\n\n# éæµ\n\nç¬¬ä¸ï¼å¹¶åçæµéå¤§ï¼é¿åå°æå¡å¨æå®ï¼å½±åå¯ç¨æ§ãç¬¬äºé²æ­¢ç¨æ·æ¶æå·åå·æ¥å£ã\n\n * Tomcatï¼å¯ä»¥è®¾ç½®æå¤§è¿æ¥æ°\n   \n   \n\n * Nginxï¼æ¼æ¡¶ç®æ³\n   \n   \n   \n   \n\n * ç½å³ï¼ä»¤çæ¡¶ç®æ³\n   \n   \n\n * èªå®ä¹æ¦æªå¨\n\n\n# CAP\n\nCAPï¼åå«æ¯ä¸è´æ§ï¼å¯ç¨æ§ï¼ååºå®¹éæ§ï¼åå¸å¼ç³»ç»æ æ³åæ¶æ»¡è¶³è¿ä¸ä¸ªææ ã\n\nBASE\n\nåºæ¬å¯ç¨ï¼æä¸­é´ç¶æï¼ä½æ¯ä¿è¯æç»ä¸è´æ§ã\n\næç»ä¸è´æ§ï¼åä¸ªåæ¯äºå¡åå«æ§è¡æäº¤ï¼å¦æä¸ä¸è´åæ³åæ³æ¢å¤æ°æ®\n\nå¼ºä¸è´æ§ï¼åä¸ªåæ¯äºå¡æ§è¡å®ä¸å¡ä¸è¦æäº¤ï¼ç­å¾å½¼æ­¤çç»æï¼ç»ä¸æäº¤æåæ»ã\n\n\n# seata\n\nXAæ¨¡å¼\n\n\n\n\n# ATæ¨¡å¼\n\n\n\n\n# TTCæ¨¡å¼\n\n\n\n\n# MQåå¸å¼äºå¡\n\n\n\n\n# å¹ç­\n\nå¤æ¬¡è°ç¨åä¸æ¥å£ä¸ä¼æ¹åä¸å¡ç¶æï¼ä¿è¯ç»æä¸è´ã\n\n * ç¨æ·éå¤ç¹å»\n * MQæ¶æ¯éå¤\n * åºç¨ä½¿ç¨å¤±è´¥æè¶æ¶éè¯æºå¶\n\néè¿æ·»å å­æ®µï¼è¥å­æ®µçå¼å·²ç»æ¯ç®æ å¼ï¼åæ¾å¼æ´æ¹ã\n\nä½¿ç¨token+redisï¼å¯¹äºæ°å¢åä¿®æ¹ï¼å¨åä¸ä¸ªé¡µé¢ï¼ç»å®¢æ·ç«¯åæ¾tokenï¼æå¡å¨å°tokenå­å°redisä¸­ãè¥å½åè¯·æ±å¸¦ætokenï¼åæ¯ç¬¬ä¸æ¬¡è®¿é®ï¼å¤çå®åå é¤tokenãè¥æ¯è¯·æ±ä¸­æ²¡æå¸¦ætokenï¼è¯´æè¿æ¯éå¤çè¯·æ±ï¼å¿½ç¥ã\n\n\n# xxl-job\n\nè§£å³éç¾¤ä¸­ä¸äºéè¦éå¤æ§è¡çä»»å¡ï¼cronè¡¨è¾¾å¼å®ä¹çµæ´»ï¼å¹¶ä¸æ¯æä»»å¡åçã\n\nè·¯ç±ç­ç¥\n\nROUNDï¼è½®è¯¢\n\nSHARDING_BROADCASTï¼åçå¹¿æ­ï¼å¹¿æ­éç¾¤ä¸­æææºå¨æ§è¡ä¸æ¬¡ä»»å¡ï¼åæ¶ç³»ç»èªå¨ä¼ éåçåæ°ï¼æ ¹æ®åçåæ°å¼ååçä»»å¡ã\n\nä»»å¡æ§è¡å¤±è´¥\n\næ¥çæ¥å¿åæï¼éè¯ã\n\nå¤§æ°æ®éä»»å¡\n\n",normalizedContent:"# spring cloudç»ä»¶\n\n * æ³¨åä¸­å¿ï¼eurekaï¼nacos\n * è´è½½åè¡¡ï¼ribbon\n * è¿ç¨è°ç¨ï¼feign\n * æå¡ä¿æ¤ï¼sentinel\n * ç½å³ï¼zuulï¼gateway\n\n\n# eureka\n\næ³¨åä¸­å¿ï¼æå¡éè¦å»æ³¨åä¸­å¿è¿è¡æ³¨åï¼é£ä¹æ³¨åä¸­å¿ä¾¿å¯ä»¥ç¥éå½åæä»ä¹æå¡ï¼ä»¥åå¯¹åºçå°åæ¯ä»ä¹ï¼å¹¶æ¯30ç§æå¡åæ³¨åä¸­å¿åéæ¶æ¯ï¼è¡¨ç¤ºæè¿æ´»çãæå¡æ¶è´¹èå¯ä»¥å°æ³¨åä¸­å¿å¯»æ¾ååºçæå¡æä¾èæ¥è¿ç¨è°ç¨ã\n\nä¸nacosåºå«\n\nnacoså¯¹äºä¸´æ¶å®ä¾ï¼éç¨å¿è·³æ¨¡å¼ãå¯¹äºéä¸´æ¶å®ä¾éç¨ä¸»å¨æ£æµæ¨¡å¼ã\n\nnacosè¿æ¯æéç½®ä¸­å¿ã\n\n\n# ribbon\n\n * roundrobinruleï¼è½®è¯¢æå¡åè¡¨æ¥éæ©æå¡å¨\n * weightedresponsetimeï¼æç§æéæ¥éæ©æå¡å¨ï¼ååºæ¶é´è¶é¿ï¼æéè¶å°\n * randomruleï¼éæºéæ©ä¸ä¸ªå¯ç¨çæå¡å¨\n * zoneavoidanceruleï¼ä»¥åºåä¸ºåºç¡è¿è¡æå¡å¨éæ©\n\nå¦ææ³èªå®ä¹å®ç°è´è½½åè¡¡ç­ç¥ï¼éè¦å®ç°iruleæ¥å£\n\n\n# æå¡éªå´©\n\n\n\n * çæ­ï¼éçº§\n * éæµ\n\næå¡éçº§ï¼ä¸ç§èªæä¿æ¤æ¹å¼ï¼ç¡®ä¿æå¡ä¸ä¼åè¯·æ±çªå¢å½±ååå¾ä¸å¯ç¨\n\n\n\næå¡çæ­ï¼å¦æä¸å®æ¶é´åï¼éçº§æ¬¡æ°è¿å¤ï¼åä¼è§¦åæå¡çæ­ï¼çæ­åä¸åå¯¹è¿ä¸ªèç¹è¿è¡è®¿é®\n\n\n# çæ§\n\nskywalkingï¼åå¸å¼ç³»ç»çåºç¨ç¨åºæ§è½çæ§å·¥å·ï¼æä¾å®åçé¾è·¯è¿½è¸ªåè½ã\n\n * æå¡\n * ç«¯ç¹\n * å®ä¾\n\n\n# éæµ\n\nç¬¬ä¸ï¼å¹¶åçæµéå¤§ï¼é¿åå°æå¡å¨æå®ï¼å½±åå¯ç¨æ§ãç¬¬äºé²æ­¢ç¨æ·æ¶æå·åå·æ¥å£ã\n\n * tomcatï¼å¯ä»¥è®¾ç½®æå¤§è¿æ¥æ°\n   \n   \n\n * nginxï¼æ¼æ¡¶ç®æ³\n   \n   \n   \n   \n\n * ç½å³ï¼ä»¤çæ¡¶ç®æ³\n   \n   \n\n * èªå®ä¹æ¦æªå¨\n\n\n# cap\n\ncapï¼åå«æ¯ä¸è´æ§ï¼å¯ç¨æ§ï¼ååºå®¹éæ§ï¼åå¸å¼ç³»ç»æ æ³åæ¶æ»¡è¶³è¿ä¸ä¸ªææ ã\n\nbase\n\nåºæ¬å¯ç¨ï¼æä¸­é´ç¶æï¼ä½æ¯ä¿è¯æç»ä¸è´æ§ã\n\næç»ä¸è´æ§ï¼åä¸ªåæ¯äºå¡åå«æ§è¡æäº¤ï¼å¦æä¸ä¸è´åæ³åæ³æ¢å¤æ°æ®\n\nå¼ºä¸è´æ§ï¼åä¸ªåæ¯äºå¡æ§è¡å®ä¸å¡ä¸è¦æäº¤ï¼ç­å¾å½¼æ­¤çç»æï¼ç»ä¸æäº¤æåæ»ã\n\n\n# seata\n\nxaæ¨¡å¼\n\n\n\n\n# atæ¨¡å¼\n\n\n\n\n# ttcæ¨¡å¼\n\n\n\n\n# mqåå¸å¼äºå¡\n\n\n\n\n# å¹ç­\n\nå¤æ¬¡è°ç¨åä¸æ¥å£ä¸ä¼æ¹åä¸å¡ç¶æï¼ä¿è¯ç»æä¸è´ã\n\n * ç¨æ·éå¤ç¹å»\n * mqæ¶æ¯éå¤\n * åºç¨ä½¿ç¨å¤±è´¥æè¶æ¶éè¯æºå¶\n\néè¿æ·»å å­æ®µï¼è¥å­æ®µçå¼å·²ç»æ¯ç®æ å¼ï¼åæ¾å¼æ´æ¹ã\n\nä½¿ç¨token+redisï¼å¯¹äºæ°å¢åä¿®æ¹ï¼å¨åä¸ä¸ªé¡µé¢ï¼ç»å®¢æ·ç«¯åæ¾tokenï¼æå¡å¨å°tokenå­å°redisä¸­ãè¥å½åè¯·æ±å¸¦ætokenï¼åæ¯ç¬¬ä¸æ¬¡è®¿é®ï¼å¤çå®åå é¤tokenãè¥æ¯è¯·æ±ä¸­æ²¡æå¸¦ætokenï¼è¯´æè¿æ¯éå¤çè¯·æ±ï¼å¿½ç¥ã\n\n\n# xxl-job\n\nè§£å³éç¾¤ä¸­ä¸äºéè¦éå¤æ§è¡çä»»å¡ï¼cronè¡¨è¾¾å¼å®ä¹çµæ´»ï¼å¹¶ä¸æ¯æä»»å¡åçã\n\nè·¯ç±ç­ç¥\n\nroundï¼è½®è¯¢\n\nsharding_broadcastï¼åçå¹¿æ­ï¼å¹¿æ­éç¾¤ä¸­æææºå¨æ§è¡ä¸æ¬¡ä»»å¡ï¼åæ¶ç³»ç»èªå¨ä¼ éåçåæ°ï¼æ ¹æ®åçåæ°å¼ååçä»»å¡ã\n\nä»»å¡æ§è¡å¤±è´¥\n\næ¥çæ¥å¿åæï¼éè¯ã\n\nå¤§æ°æ®éä»»å¡\n\n",charsets:{cjk:!0}},{title:"Java èææº",frontmatter:{title:"Java èææº",date:"2023-06-09T09:07:36.000Z",permalink:"/pages/f1bf72/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/16.jvm.html",relativePath:"01.Java/99.ç§æ/16.jvm.md",key:"v-74f9cb10",path:"/pages/f1bf72/",headers:[{level:2,title:"è¿è¡æµç¨",slug:"è¿è¡æµç¨",normalizedTitle:"è¿è¡æµç¨",charIndex:2},{level:2,title:"ç»ä»¶",slug:"ç»ä»¶",normalizedTitle:"ç»ä»¶",charIndex:13},{level:2,title:"ç±»å è½½å¨",slug:"ç±»å è½½å¨",normalizedTitle:"ç±»å è½½å¨",charIndex:217},{level:2,title:"åäº²å§æ´¾",slug:"åäº²å§æ´¾",normalizedTitle:"åäº²å§æ´¾",charIndex:350},{level:2,title:"ç±»è£è½½",slug:"ç±»è£è½½",normalizedTitle:"ç±»è£è½½",charIndex:388},{level:2,title:"åå¾åæ¶",slug:"åå¾åæ¶",normalizedTitle:"åå¾åæ¶",charIndex:398},{level:2,title:"å¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨",slug:"å¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨",normalizedTitle:"å¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨",charIndex:511},{level:2,title:"JVMè°ä¼",slug:"jvmè°ä¼",normalizedTitle:"jvmè°ä¼",charIndex:864}],headersStr:"è¿è¡æµç¨ ç»ä»¶ ç±»å è½½å¨ åäº²å§æ´¾ ç±»è£è½½ åå¾åæ¶ å¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨ JVMè°ä¼",content:"# è¿è¡æµç¨\n\n\n\n\n# ç»ä»¶\n\n          \nç¨åºè®¡æ°å¨     ç±»ä¼¼ç»æåçä¸­pcå¯å­å¨ï¼çº¿ç¨ç§æï¼è®°å½è¿è¡çä½ç½®\nå          çº¿ç¨å±äº«ï¼æ°ç»ï¼å¯¹è±¡ãå¹´è½»ä»£+èå¹´ä»£ï¼Edenï¼å¹¸å­åºï¼\næ          æ¯ä¸ªçº¿ç¨ä¸ä¸ªæ ï¼ä¸ä¸ªæ å¤ä¸ªæ å¸§ï¼æ¹æ³ï¼ãå­æ¾æ¹æ³åçå±é¨åéï¼æ åå­æº¢åºï¼éå½ï¼ã\næ¹æ³åºãåç©ºé´   çº¿ç¨å±äº«ãClassï¼ClassLoaderï¼è¿è¡æ¶å¸¸éæ± \nç´æ¥åå­      æä½ç³»ç»çåå­\n\n\n# ç±»å è½½å¨\n\nå°å­èç æä»¶å è½½å°JVMä¸­\n\n * å¯å¨ç±»å è½½å¨ï¼å è½½JAVA_HOME/jre/libç®å½ä¸çåº\n * æ©å±ç±»å è½½å¨ï¼å è½½JAVA_HOME/jre/lib/extç®å½ä¸­ç±»\n * åºç¨ç±»å è½½å¨ï¼å è½½classPathä¸çç±»\n * èªå®ä¹å è½½å¨\n\n\n# åäº²å§æ´¾\n\nè¸¢ç®çï¼é¿åä¸ä¸ªç±»è¢«éå¤å è½½ãä¿è¯ç±»åºAPIä¸ä¼è¢«ä¿®æ¹\n\n\n# ç±»è£è½½\n\n\n\n\n# åå¾åæ¶\n\n * å¼ç¨è®¡æ°æ³\n * å¯è¾¾æ§åæ\n * æ è®°æ¸é¤æ³\n * æ è®°æ´çç®æ³\n * å¤å¶ç®æ³\n * æ°çä»£åæ¶\n * èå¹´ä»£åæ¶\n * MinorGC\n * Mixed GC\n * Full GC\n * G1\n\n\n# å¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨\n\nUser user = new User();\n// è½¯å¼ç¨ï¼åå¾åæ¶å¤æ¬¡åè¿æ¯åå­ä¸è¶³ï¼å°±ä¼åæ¶\nSoftReference softReference = new SoftReference(user); \n// å¼±å¼ç¨ï¼åªè¦è¿è¡äºåå¾åæ¶ï¼å°±ä¼åæ¶\nWeakReference weakReference = new WeakReference(user); \nReferenceQueue referenceQueue = new ReferenceQueue(); \n// èå¼ç¨ï¼è¢«å¼ç¨çå¯¹è±¡åæ¶æ¶ï¼ä¼åæ¶\nPhantomReference phantomReference = new PhantomReference(user, queue);\n\n\n\n# JVMè°ä¼",normalizedContent:"# è¿è¡æµç¨\n\n\n\n\n# ç»ä»¶\n\n          \nç¨åºè®¡æ°å¨     ç±»ä¼¼ç»æåçä¸­pcå¯å­å¨ï¼çº¿ç¨ç§æï¼è®°å½è¿è¡çä½ç½®\nå          çº¿ç¨å±äº«ï¼æ°ç»ï¼å¯¹è±¡ãå¹´è½»ä»£+èå¹´ä»£ï¼edenï¼å¹¸å­åºï¼\næ          æ¯ä¸ªçº¿ç¨ä¸ä¸ªæ ï¼ä¸ä¸ªæ å¤ä¸ªæ å¸§ï¼æ¹æ³ï¼ãå­æ¾æ¹æ³åçå±é¨åéï¼æ åå­æº¢åºï¼éå½ï¼ã\næ¹æ³åºãåç©ºé´   çº¿ç¨å±äº«ãclassï¼classloaderï¼è¿è¡æ¶å¸¸éæ± \nç´æ¥åå­      æä½ç³»ç»çåå­\n\n\n# ç±»å è½½å¨\n\nå°å­èç æä»¶å è½½å°jvmä¸­\n\n * å¯å¨ç±»å è½½å¨ï¼å è½½java_home/jre/libç®å½ä¸çåº\n * æ©å±ç±»å è½½å¨ï¼å è½½java_home/jre/lib/extç®å½ä¸­ç±»\n * åºç¨ç±»å è½½å¨ï¼å è½½classpathä¸çç±»\n * èªå®ä¹å è½½å¨\n\n\n# åäº²å§æ´¾\n\nè¸¢ç®çï¼é¿åä¸ä¸ªç±»è¢«éå¤å è½½ãä¿è¯ç±»åºapiä¸ä¼è¢«ä¿®æ¹\n\n\n# ç±»è£è½½\n\n\n\n\n# åå¾åæ¶\n\n * å¼ç¨è®¡æ°æ³\n * å¯è¾¾æ§åæ\n * æ è®°æ¸é¤æ³\n * æ è®°æ´çç®æ³\n * å¤å¶ç®æ³\n * æ°çä»£åæ¶\n * èå¹´ä»£åæ¶\n * minorgc\n * mixed gc\n * full gc\n * g1\n\n\n# å¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨\n\nuser user = new user();\n// è½¯å¼ç¨ï¼åå¾åæ¶å¤æ¬¡åè¿æ¯åå­ä¸è¶³ï¼å°±ä¼åæ¶\nsoftreference softreference = new softreference(user); \n// å¼±å¼ç¨ï¼åªè¦è¿è¡äºåå¾åæ¶ï¼å°±ä¼åæ¶\nweakreference weakreference = new weakreference(user); \nreferencequeue referencequeue = new referencequeue(); \n// èå¼ç¨ï¼è¢«å¼ç¨çå¯¹è±¡åæ¶æ¶ï¼ä¼åæ¶\nphantomreference phantomreference = new phantomreference(user, queue);\n\n\n\n# jvmè°ä¼",charsets:{cjk:!0}},{title:"æ¶æ¯éå",frontmatter:{title:"æ¶æ¯éå",date:"2023-06-06T14:52:42.000Z",permalink:"/pages/a20dff/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/14.message.html",relativePath:"01.Java/99.ç§æ/14.message.md",key:"v-471876c8",path:"/pages/a20dff/",headers:[{level:2,title:"RabbitMQ-å¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±",slug:"rabbitmq-å¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±",normalizedTitle:"rabbitmq-å¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±",charIndex:2},{level:2,title:"RabbitMQæ­»ä¿¡äº¤æ¢æºãå»¶è¿éå",slug:"rabbitmqæ­»ä¿¡äº¤æ¢æºãå»¶è¿éå",normalizedTitle:"rabbitmqæ­»ä¿¡äº¤æ¢æºãå»¶è¿éå",charIndex:414},{level:2,title:"RabbitMQæ¶æ¯å ç§¯",slug:"rabbitmqæ¶æ¯å ç§¯",normalizedTitle:"rabbitmqæ¶æ¯å ç§¯",charIndex:587},{level:2,title:"RabbitMQéç¾¤",slug:"rabbitmqéç¾¤",normalizedTitle:"rabbitmqéç¾¤",charIndex:672},{level:2,title:"Kafkaå¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±",slug:"kafkaå¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±",normalizedTitle:"kafkaå¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±",charIndex:687},{level:3,title:"Producer",slug:"producer",normalizedTitle:"producer",charIndex:838},{level:3,title:"Broker",slug:"broker",normalizedTitle:"broker",charIndex:957},{level:3,title:"Consumer",slug:"consumer",normalizedTitle:"consumer",charIndex:1059},{level:2,title:"Kafkaä¿è¯æ¶è´¹é¡ºåº",slug:"kafkaä¿è¯æ¶è´¹é¡ºåº",normalizedTitle:"kafkaä¿è¯æ¶è´¹é¡ºåº",charIndex:1201},{level:2,title:"Kafkaé«å¯ç¨æºå¶",slug:"kafkaé«å¯ç¨æºå¶",normalizedTitle:"kafkaé«å¯ç¨æºå¶",charIndex:1242},{level:2,title:"Kafkaé«æ§è½",slug:"kafkaé«æ§è½",normalizedTitle:"kafkaé«æ§è½",charIndex:1257}],headersStr:"RabbitMQ-å¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤± RabbitMQæ­»ä¿¡äº¤æ¢æºãå»¶è¿éå RabbitMQæ¶æ¯å ç§¯ RabbitMQéç¾¤ Kafkaå¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤± Producer Broker Consumer Kafkaä¿è¯æ¶è´¹é¡ºåº Kafkaé«å¯ç¨æºå¶ Kafkaé«æ§è½",content:"# RabbitMQ-å¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±\n\n * æ¶æ¯éåçä½ç¨ï¼å¯ä»¥åå°å¼æ­¥åéï¼éªè¯ç ãç­ä¿¡ãé®ä»¶ï¼\n\n * MySQLåRedisï¼ESä¹é´çæ°æ®åæ­¥\n\n * åå¸å¼äºå¡\n\n * åå³°å¡«è°·\n   \n   rabbitMQå·¥ä½æ¨¡å¼ï¼exchangeåQueueè¿è¡ç»å®ï¼æ ¹æ®è¯é¢å¹éï¼exchangeåéæ¶æ¯å°æå®çQueueã\n   \n   æ¶æ¯ä¸¢å¤±çä½ç½®\n\n\n\næ¡æ¶ä¸­å®ç°äºåéèåéæ¶æ¯çåè°å½æ°ï¼å¹¶è¯´ææ¯å¦åéæåï¼å¦æåéå¤±è´¥äºï¼åååè°æ¹æ³ä¸­è¿è¡éåã\n\nå¦å¤æ¹æ³å¯ä»¥åéå¤±è´¥æ¶ï¼ä¿å­æ¥å¿ï¼ä¹åå®æ¶éåï¼æååéåå é¤æ¥å¿ä¸­çè®°å½ã\n\nè¥æ¶æ¯åéå°äºQueueä¸­ï¼å®æºäºï¼æ¶æ¯ä¸¢å¤±ã\n\nå¯ä»¥è¿è¡æ¶æ¯æä¹åï¼äº¤æ¢æºæä¹åï¼éåæä¹åã\n\næ¶è´¹èç¡®è®¤ï¼æ¶è´¹èå¤çæ¶æ¯ååMQåéackåæ§ï¼æ¶å°ackèªå¨å é¤æ¶æ¯ãè¿æä¸ä¸ªï¼æ¶è´¹èåºç°å¼å¸¸æ¶ï¼ä¼è¿è¡éè¯ï¼å°äºä¸å®æ¬¡æ°åè¿æ¯ä¸è¡ï¼å°æ¶æ¯éå°å¼å¸¸äº¤æ¢æºä¸­è®°å½ã\n\n\n# RabbitMQæ­»ä¿¡äº¤æ¢æºãå»¶è¿éå\n\n * å»¶è¿éåï¼è¿å¥éåçæ¶æ¯ä¼è¢«å»¶è¿æ¶è´¹\n * è¶æ¶è®¢åãéæ¶ä¼æ ãå®æ¶åå¸\n\nå»¶è¿éå=æ­»ä¿¡äº¤æ¢æº+TTL\n\næ­»ä¿¡\n\n * æ¶æ¯è¢«æ¶è´¹èæç»äº\n * æ¶æ¯æ¯è¿ææ¶æ¯\n * æ¶æ¯éåæ»¡äºï¼è¾æ©çæ¶æ¯\n\næä¸ºæ­»ä¿¡çæ¶æ¯ï¼å¯ä»¥è½¬åå°æ­»ä¿¡äº¤æ¢æº\n\nTTL\n\n * æ¶æ¯éåçTTL\n * æ¶æ¯çTTL\n\n\n# RabbitMQæ¶æ¯å ç§¯\n\nçäº§èççäº§æ¶æ¯çéåº¦ï¼è¿è¶è¿æ¶è´¹èæ¶è´¹æ¶æ¯çéåº¦ã\n\n * å¢å æ¶è´¹è\n * å¨æ¶è´¹èä¸­å¼å¯çº¿ç¨æ± \n * æ°æ§éåï¼æå­æ¾å¨ç£çä¸­\n\n\n# RabbitMQéç¾¤\n\n\n# Kafkaå¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±\n\nKafkaçå·¥ä½æ¨¡å¼ä¸ºï¼çäº§èåæå®çtopicåéæ¶æ¯ï¼å¦ææå®äºæ¶æ¯çkeyï¼åå°key hashå¹¶åæ¨¡ï¼å­æ¾å°æå®çååºä¸­ï¼å¦ææ²¡ækeyï¼åè½®æ¬¡å­æ¾ãä¸ä¸ªtopicæå¤ä¸ªååºï¼æ¯ä¸ªååºå¯ä»¥æ¾å¨ä¸åçbrokerä¸­ãä¸ä¸ªæ¶è´¹èç»ä¸­çæ¶è´¹èæ¶è´¹ä¸åçååºã\n\n\n# Producer\n\nçäº§èåéå°ä¸»ååºåï¼å¯ä»¥æ¶å°brokerçackç¡®è®¤ï¼è¿ä¸ªæ¯å¯ä»¥è®¾ç½®çï¼è®¾ç½®ack=1ï¼æèack=allãè¡¨ç¤ºä¸»ååºæ¶å°æ¶æ¯åï¼åå¤ä»½ååºé½æ¶å°æ¶æ¯åçåå¤ç¡®è®¤ã\n\nå¦ææ²¡ææ¶å°ç¡®è®¤ï¼çäº§èå°è¯è¿è¡éåã\n\n\n# Broker\n\nBrokerä¸­ä¸»ååºæ¶å°æ¶æ¯åï¼å°æ°æ®æä¹åï¼æä½ç³»ç»å®æ¶å°page cacheä¸­çæ°æ®æä¹åå­çãå¦ææ­¤æ¶brokerå®æºï¼éåäºä¸ä¸ªè½åçå¤ä»½ååºå½ä¸»ååºï¼é£ä¹å°±ä¼æ°æ®ä¸¢å¤±ã\n\n\n# Consumer\n\næ¶è´¹èå°æå®çtopicï¼æå®çååºå»æ¶è´¹æ¶æ¯ãæ¶è´¹å®æåä¼æäº¤offsetæ¶è´¹ä½ç§»è¿åº¦è®°å½ã\n\n * åæäº¤offsetï¼åå¤çæ¶æ¯ï¼é£ä¹å¯è½ä¼é ææ¶æ¯ä¸¢å¤±ã\n * åå¤çæ¶æ¯ï¼åæäº¤offsetï¼é£ä¹å¯è½ä¼é ææ¶æ¯éå¤æ¶è´¹ï¼è¿ä¸ªå¯ä»¥å¨ä¸å¡ä¸­ä¿è¯å¹ç­ã\n\n\n# Kafkaä¿è¯æ¶è´¹é¡ºåº\n\nå¯¹äºéè¦é¡ºåºæ¶è´¹çæ¶æ¯ï¼æ¾å¥å°åä¸ä¸ªååºå³å¯ã\n\n\n# Kafkaé«å¯ç¨æºå¶\n\n\n# Kafkaé«æ§è½\n\n * æ¶æ¯ååºï¼ä¸åçæå¡å¨ï¼å¹¶å\n * é¡ºåºè¯»åï¼\n * é¡µç¼å­ï¼\n * é¶æ·è´ï¼",normalizedContent:"# rabbitmq-å¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±\n\n * æ¶æ¯éåçä½ç¨ï¼å¯ä»¥åå°å¼æ­¥åéï¼éªè¯ç ãç­ä¿¡ãé®ä»¶ï¼\n\n * mysqlåredisï¼esä¹é´çæ°æ®åæ­¥\n\n * åå¸å¼äºå¡\n\n * åå³°å¡«è°·\n   \n   rabbitmqå·¥ä½æ¨¡å¼ï¼exchangeåqueueè¿è¡ç»å®ï¼æ ¹æ®è¯é¢å¹éï¼exchangeåéæ¶æ¯å°æå®çqueueã\n   \n   æ¶æ¯ä¸¢å¤±çä½ç½®\n\n\n\næ¡æ¶ä¸­å®ç°äºåéèåéæ¶æ¯çåè°å½æ°ï¼å¹¶è¯´ææ¯å¦åéæåï¼å¦æåéå¤±è´¥äºï¼åååè°æ¹æ³ä¸­è¿è¡éåã\n\nå¦å¤æ¹æ³å¯ä»¥åéå¤±è´¥æ¶ï¼ä¿å­æ¥å¿ï¼ä¹åå®æ¶éåï¼æååéåå é¤æ¥å¿ä¸­çè®°å½ã\n\nè¥æ¶æ¯åéå°äºqueueä¸­ï¼å®æºäºï¼æ¶æ¯ä¸¢å¤±ã\n\nå¯ä»¥è¿è¡æ¶æ¯æä¹åï¼äº¤æ¢æºæä¹åï¼éåæä¹åã\n\næ¶è´¹èç¡®è®¤ï¼æ¶è´¹èå¤çæ¶æ¯ååmqåéackåæ§ï¼æ¶å°ackèªå¨å é¤æ¶æ¯ãè¿æä¸ä¸ªï¼æ¶è´¹èåºç°å¼å¸¸æ¶ï¼ä¼è¿è¡éè¯ï¼å°äºä¸å®æ¬¡æ°åè¿æ¯ä¸è¡ï¼å°æ¶æ¯éå°å¼å¸¸äº¤æ¢æºä¸­è®°å½ã\n\n\n# rabbitmqæ­»ä¿¡äº¤æ¢æºãå»¶è¿éå\n\n * å»¶è¿éåï¼è¿å¥éåçæ¶æ¯ä¼è¢«å»¶è¿æ¶è´¹\n * è¶æ¶è®¢åãéæ¶ä¼æ ãå®æ¶åå¸\n\nå»¶è¿éå=æ­»ä¿¡äº¤æ¢æº+ttl\n\næ­»ä¿¡\n\n * æ¶æ¯è¢«æ¶è´¹èæç»äº\n * æ¶æ¯æ¯è¿ææ¶æ¯\n * æ¶æ¯éåæ»¡äºï¼è¾æ©çæ¶æ¯\n\næä¸ºæ­»ä¿¡çæ¶æ¯ï¼å¯ä»¥è½¬åå°æ­»ä¿¡äº¤æ¢æº\n\nttl\n\n * æ¶æ¯éåçttl\n * æ¶æ¯çttl\n\n\n# rabbitmqæ¶æ¯å ç§¯\n\nçäº§èççäº§æ¶æ¯çéåº¦ï¼è¿è¶è¿æ¶è´¹èæ¶è´¹æ¶æ¯çéåº¦ã\n\n * å¢å æ¶è´¹è\n * å¨æ¶è´¹èä¸­å¼å¯çº¿ç¨æ± \n * æ°æ§éåï¼æå­æ¾å¨ç£çä¸­\n\n\n# rabbitmqéç¾¤\n\n\n# kafkaå¦ä½ä¿è¯æ¶æ¯ä¸ä¸¢å¤±\n\nkafkaçå·¥ä½æ¨¡å¼ä¸ºï¼çäº§èåæå®çtopicåéæ¶æ¯ï¼å¦ææå®äºæ¶æ¯çkeyï¼åå°key hashå¹¶åæ¨¡ï¼å­æ¾å°æå®çååºä¸­ï¼å¦ææ²¡ækeyï¼åè½®æ¬¡å­æ¾ãä¸ä¸ªtopicæå¤ä¸ªååºï¼æ¯ä¸ªååºå¯ä»¥æ¾å¨ä¸åçbrokerä¸­ãä¸ä¸ªæ¶è´¹èç»ä¸­çæ¶è´¹èæ¶è´¹ä¸åçååºã\n\n\n# producer\n\nçäº§èåéå°ä¸»ååºåï¼å¯ä»¥æ¶å°brokerçackç¡®è®¤ï¼è¿ä¸ªæ¯å¯ä»¥è®¾ç½®çï¼è®¾ç½®ack=1ï¼æèack=allãè¡¨ç¤ºä¸»ååºæ¶å°æ¶æ¯åï¼åå¤ä»½ååºé½æ¶å°æ¶æ¯åçåå¤ç¡®è®¤ã\n\nå¦ææ²¡ææ¶å°ç¡®è®¤ï¼çäº§èå°è¯è¿è¡éåã\n\n\n# broker\n\nbrokerä¸­ä¸»ååºæ¶å°æ¶æ¯åï¼å°æ°æ®æä¹åï¼æä½ç³»ç»å®æ¶å°page cacheä¸­çæ°æ®æä¹åå­çãå¦ææ­¤æ¶brokerå®æºï¼éåäºä¸ä¸ªè½åçå¤ä»½ååºå½ä¸»ååºï¼é£ä¹å°±ä¼æ°æ®ä¸¢å¤±ã\n\n\n# consumer\n\næ¶è´¹èå°æå®çtopicï¼æå®çååºå»æ¶è´¹æ¶æ¯ãæ¶è´¹å®æåä¼æäº¤offsetæ¶è´¹ä½ç§»è¿åº¦è®°å½ã\n\n * åæäº¤offsetï¼åå¤çæ¶æ¯ï¼é£ä¹å¯è½ä¼é ææ¶æ¯ä¸¢å¤±ã\n * åå¤çæ¶æ¯ï¼åæäº¤offsetï¼é£ä¹å¯è½ä¼é ææ¶æ¯éå¤æ¶è´¹ï¼è¿ä¸ªå¯ä»¥å¨ä¸å¡ä¸­ä¿è¯å¹ç­ã\n\n\n# kafkaä¿è¯æ¶è´¹é¡ºåº\n\nå¯¹äºéè¦é¡ºåºæ¶è´¹çæ¶æ¯ï¼æ¾å¥å°åä¸ä¸ªååºå³å¯ã\n\n\n# kafkaé«å¯ç¨æºå¶\n\n\n# kafkaé«æ§è½\n\n * æ¶æ¯ååºï¼ä¸åçæå¡å¨ï¼å¹¶å\n * é¡ºåºè¯»åï¼\n * é¡µç¼å­ï¼\n * é¶æ·è´ï¼",charsets:{cjk:!0}},{title:"è®¾è®¡æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼",date:"2023-06-12T11:34:38.000Z",permalink:"/pages/33bbc8/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/17.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Java/99.ç§æ/17.è®¾è®¡æ¨¡å¼.md",key:"v-1858d133",path:"/pages/33bbc8/",headers:[{level:2,title:"ç®åå·¥å",slug:"ç®åå·¥å",normalizedTitle:"ç®åå·¥å",charIndex:2},{level:2,title:"å·¥åæ¹æ³ï¼å¸¸ç¨ï¼",slug:"å·¥åæ¹æ³-å¸¸ç¨",normalizedTitle:"å·¥åæ¹æ³ï¼å¸¸ç¨ï¼",charIndex:13},{level:2,title:"æ½è±¡å·¥å",slug:"æ½è±¡å·¥å",normalizedTitle:"æ½è±¡å·¥å",charIndex:28},{level:2,title:"ç­ç¥æ¨¡å¼",slug:"ç­ç¥æ¨¡å¼",normalizedTitle:"ç­ç¥æ¨¡å¼",charIndex:39},{level:2,title:"è´£ä»»é¾æ¨¡å¼",slug:"è´£ä»»é¾æ¨¡å¼",normalizedTitle:"è´£ä»»é¾æ¨¡å¼",charIndex:94}],headersStr:"ç®åå·¥å å·¥åæ¹æ³ï¼å¸¸ç¨ï¼ æ½è±¡å·¥å ç­ç¥æ¨¡å¼ è´£ä»»é¾æ¨¡å¼",content:"# ç®åå·¥å\n\n\n\n\n# å·¥åæ¹æ³ï¼å¸¸ç¨ï¼\n\n\n\n\n# æ½è±¡å·¥å\n\n\n\n\n# ç­ç¥æ¨¡å¼\n\nå°ç®æ³å°è£å¨æ¥å£ï¼å·ä½å®ç°ç±»å®ç°å·ä½ç®æ³ï¼éè¦æç§å·ä½ç®æ³ï¼åªéä¼ å¥å·ä½çå®ç°ç±»å³å¯\n\n\n\n\n# è´£ä»»é¾æ¨¡å¼\n\nServletä¸­çè¿æ»¤å¨é¾ï¼Spring MVCä¸­çæ¦æªå¨é¾\n\n",normalizedContent:"# ç®åå·¥å\n\n\n\n\n# å·¥åæ¹æ³ï¼å¸¸ç¨ï¼\n\n\n\n\n# æ½è±¡å·¥å\n\n\n\n\n# ç­ç¥æ¨¡å¼\n\nå°ç®æ³å°è£å¨æ¥å£ï¼å·ä½å®ç°ç±»å®ç°å·ä½ç®æ³ï¼éè¦æç§å·ä½ç®æ³ï¼åªéä¼ å¥å·ä½çå®ç°ç±»å³å¯\n\n\n\n\n# è´£ä»»é¾æ¨¡å¼\n\nservletä¸­çè¿æ»¤å¨é¾ï¼spring mvcä¸­çæ¦æªå¨é¾\n\n",charsets:{cjk:!0}},{title:"åºæ¯è®¾è®¡",frontmatter:{title:"åºæ¯è®¾è®¡",date:"2023-06-12T11:48:27.000Z",permalink:"/pages/46dd43/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/18.%E4%B8%80%E4%BA%9B%E5%9C%BA%E6%99%AF.html",relativePath:"01.Java/99.ç§æ/18.ä¸äºåºæ¯.md",key:"v-f5bde88e",path:"/pages/46dd43/",headers:[{level:2,title:"JWTè§£å³åç¹ç»å½",slug:"jwtè§£å³åç¹ç»å½",normalizedTitle:"jwtè§£å³åç¹ç»å½",charIndex:2},{level:2,title:"RBACæéæ¨¡å",slug:"rbacæéæ¨¡å",normalizedTitle:"rbacæéæ¨¡å",charIndex:46},{level:2,title:"é¡¹ç®éå°çé®é¢",slug:"é¡¹ç®éå°çé®é¢",normalizedTitle:"é¡¹ç®éå°çé®é¢",charIndex:61}],headersStr:"JWTè§£å³åç¹ç»å½ RBACæéæ¨¡å é¡¹ç®éå°çé®é¢",content:"# JWTè§£å³åç¹ç»å½\n\nç½å³ç»ä¸è®¤è¯tokenæ¯å¦ææï¼å¹¶è·¯ç±å°æå®çæå¡ã\n\n\n\n\n# RBACæéæ¨¡å\n\n\n\n\n# é¡¹ç®éå°çé®é¢\n\n",normalizedContent:"# jwtè§£å³åç¹ç»å½\n\nç½å³ç»ä¸è®¤è¯tokenæ¯å¦ææï¼å¹¶è·¯ç±å°æå®çæå¡ã\n\n\n\n\n# rbacæéæ¨¡å\n\n\n\n\n# é¡¹ç®éå°çé®é¢\n\n",charsets:{cjk:!0}},{title:"test",frontmatter:{title:"test",date:"2023-06-22T18:14:21.000Z",permalink:"/pages/545d12/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/33.test.html",relativePath:"01.Java/99.ç§æ/33.test.md",key:"v-bbb4debc",path:"/pages/545d12/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"å¹¶åç¼ç¨",frontmatter:{title:"å¹¶åç¼ç¨",date:"2023-06-07T14:30:42.000Z",permalink:"/pages/15ac4e/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/15.juc.html",relativePath:"01.Java/99.ç§æ/15.juc.md",key:"v-d62b5838",path:"/pages/15ac4e/",headers:[{level:2,title:"çº¿ç¨åè¿ç¨çåºå«",slug:"çº¿ç¨åè¿ç¨çåºå«",normalizedTitle:"çº¿ç¨åè¿ç¨çåºå«",charIndex:2},{level:2,title:"å¹¶è¡åå¹¶å",slug:"å¹¶è¡åå¹¶å",normalizedTitle:"å¹¶è¡åå¹¶å",charIndex:80},{level:2,title:"åå»ºçº¿ç¨çæ¹å¼",slug:"åå»ºçº¿ç¨çæ¹å¼",normalizedTitle:"åå»ºçº¿ç¨çæ¹å¼",charIndex:133},{level:2,title:"çº¿ç¨ç¶æ",slug:"çº¿ç¨ç¶æ",normalizedTitle:"çº¿ç¨ç¶æ",charIndex:206},{level:2,title:"notifyånotifAll",slug:"notifyånotifall",normalizedTitle:"notifyånotifall",charIndex:217},{level:2,title:"waitåsleep",slug:"waitåsleep",normalizedTitle:"waitåsleep",charIndex:271},{level:2,title:"å¦ä½åæ­¢çº¿ç¨",slug:"å¦ä½åæ­¢çº¿ç¨",normalizedTitle:"å¦ä½åæ­¢çº¿ç¨",charIndex:719},{level:2,title:"synchronized",slug:"synchronized",normalizedTitle:"synchronized",charIndex:670},{level:2,title:"JMM",slug:"jmm",normalizedTitle:"jmm",charIndex:1418},{level:2,title:"CAS",slug:"cas",normalizedTitle:"cas",charIndex:1469},{level:2,title:"volatile",slug:"volatile",normalizedTitle:"volatile",charIndex:1527},{level:2,title:"AQS",slug:"aqs",normalizedTitle:"aqs",charIndex:1563},{level:2,title:"ReentrantLock",slug:"reentrantlock",normalizedTitle:"reentrantlock",charIndex:1640},{level:2,title:"synchronizedålock",slug:"synchronizedålock",normalizedTitle:"synchronizedålock",charIndex:1681},{level:2,title:"ConcurrentHashMap",slug:"concurrenthashmap",normalizedTitle:"concurrenthashmap",charIndex:1772},{level:2,title:"çº¿ç¨æ± ä½¿ç¨åºæ¯",slug:"çº¿ç¨æ± ä½¿ç¨åºæ¯",normalizedTitle:"çº¿ç¨æ± ä½¿ç¨åºæ¯",charIndex:1853},{level:3,title:"åæ¹æ§è¡",slug:"åæ¹æ§è¡",normalizedTitle:"åæ¹æ§è¡",charIndex:1865},{level:3,title:"æ±æ»ä¿¡æ¯",slug:"æ±æ»ä¿¡æ¯",normalizedTitle:"æ±æ»ä¿¡æ¯",charIndex:1876},{level:3,title:"å¼æ­¥è°ç¨",slug:"å¼æ­¥è°ç¨",normalizedTitle:"å¼æ­¥è°ç¨",charIndex:1887},{level:2,title:"æ§å¶æ¹æ³çå¹¶åé",slug:"æ§å¶æ¹æ³çå¹¶åé",normalizedTitle:"æ§å¶æ¹æ³çå¹¶åé",charIndex:1911},{level:2,title:"ThreadLocal",slug:"threadlocal",normalizedTitle:"threadlocal",charIndex:2037},{level:3,title:"åºå±åç",slug:"åºå±åç",normalizedTitle:"åºå±åç",charIndex:2240}],headersStr:"çº¿ç¨åè¿ç¨çåºå« å¹¶è¡åå¹¶å åå»ºçº¿ç¨çæ¹å¼ çº¿ç¨ç¶æ notifyånotifAll waitåsleep å¦ä½åæ­¢çº¿ç¨ synchronized JMM CAS volatile AQS ReentrantLock synchronizedålock ConcurrentHashMap çº¿ç¨æ± ä½¿ç¨åºæ¯ åæ¹æ§è¡ æ±æ»ä¿¡æ¯ å¼æ­¥è°ç¨ æ§å¶æ¹æ³çå¹¶åé ThreadLocal åºå±åç",content:'# çº¿ç¨åè¿ç¨çåºå«\n\nè¿ç¨æ¯æ­£å¨è¿è¡ç¨åºçå®ä¾ï¼åå«äºçº¿ç¨ã\n\nä¸åè¿ç¨æ¥æä¸åçè¿ç¨ç©ºé´ï¼ä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨å±ç¨è¿ç¨åå­ç©ºé´\n\nçº¿ç¨ä¸ä¸æåæ¢ææ¬ä½\n\n\n# å¹¶è¡åå¹¶å\n\næ¶é´çè½®è½¬ã\n\nå¹¶åï¼å¨ä¸æ®µæ¶é´åï¼å¤çå¤ä»¶äºæã\n\nå¹¶è¡ï¼åä¸æ¶é´å¤çå¤ä»¶äºæã\n\n\n# åå»ºçº¿ç¨çæ¹å¼\n\nç»§æ¿Threadç±»\n\n\n\nå®ç°Runableæ¥å£\n\n\n\nå®ç°Callableæ¥å£ï¼å¯ä»¥æ¿å°è¿åå¼\n\n\n\nä½¿ç¨çº¿ç¨æ± \n\n\n\n\n# çº¿ç¨ç¶æ\n\n\n\n\n# notifyånotifAll\n\néæºå¤éä¸ä¸ªçº¿ç¨ï¼åå¤éææçº¿ç¨ãobject.notif();\n\n\n# waitåsleep\n\nå±åç¹\n\nwait() ï¼wait(long) å sleep(long) çææé½æ¯è®©å½åçº¿ç¨ææ¶æ¾å¼ CPU çä½¿ç¨æï¼è¿å¥é»å¡ç¶æ\n\nä¸åç¹\n\n 1. æ¹æ³å½å±ä¸å\n\nsleep(long) æ¯ Thread çéææ¹æ³è wait()ï¼wait(long) é½æ¯ Object çæåæ¹æ³ï¼æ¯ä¸ªå¯¹è±¡é½æ\n\n 2. éæ¥æ¶æºä¸å\n\næ§è¡ sleep(long) å wait(long) ççº¿ç¨é½ä¼å¨ç­å¾ç¸åºæ¯«ç§åéæ¥wait(long) å wait() è¿ä»¥è¢« notify å¤éï¼wait() å¦æä¸å¤éå°±ä¸ç´ç­ä¸å»å®ä»¬é½å¯ä»¥è¢«ææ­å¤é\n\n 3. éç¹æ§ä¸åï¼éç¹ï¼\n\nwait æ¹æ³çè°ç¨å¿é¡»åè·å wait å¯¹è±¡çéï¼è sleep åæ æ­¤éå¶wait æ¹æ³æ§è¡åä¼éæ¾å¯¹è±¡éï¼åè®¸å¶å®çº¿ç¨è·å¾è¯¥å¯¹è±¡éï¼ææ¾å¼ cpuï¼ä½ä½ ä»¬è¿å¯ä»¥ç¨ï¼è sleep å¦æå¨synchronized ä»£ç åä¸­æ§è¡ï¼å¹¶ä¸ä¼éæ¾å¯¹è±¡éï¼ææ¾å¼ cpuï¼ä½ ä»¬ä¹ç¨ä¸äºï¼\n\n\n# å¦ä½åæ­¢çº¿ç¨\n\néç¨éåºæ è®°\n\nä½¿ç¨interrupt\n\nææ­é»å¡ççº¿ç¨ï¼ sleepï¼waitï¼join ï¼ççº¿ç¨ï¼çº¿ç¨ä¼æåºInterruptedExceptionå¼å¸¸ ææ­æ­£å¸¸ççº¿ç¨ï¼å¯ä»¥æ ¹æ®ææ­ç¶ææ¥æ è®°æ¯å¦éåºçº¿ç¨\n\n\n# synchronized\n\næå¤ä¸ä¸ªçº¿ç¨è·å¾éï¼å¶å®çº¿ç¨ä¼é»å¡ã\n\nJavaå¯¹è±¡å¤´\n\n|---------------------------------------------------------------|\n|\t\t\t\t\tObject Header (64 bits)\t\t\t\t\t\t|\n|-------------------------------|-------------------------------|\n|\t\tMark Word (32 bits)\t\t|\t\tKlass Word (32bits)\t    |\n|-------------------------------|-------------------------------|\n\n\nåå»ºéè®°å½å¯¹è±¡ï¼æ¯ä¸ªçº¿ç¨çæ å¸§é½ä¼åå«ä¸ä¸ªæè®°å½ï¼åé¨å­å¨éå®çå¯¹è±¡çMark Work\n\n\n\nå½çº¿ç¨å°è¯éå®æå¯¹è±¡ï¼å¤æ­å¯¹è±¡å¤´ä¸­æ¯å¦ä¸ºç©ºé²ç¶æï¼å¦æç©ºé²ï¼åå°æ å¸§çéè®°å½ä¸å¯¹è±¡å¤´äº¤æ¢\n\n\n\nå¦ææ­¤æ¶æå¶å®çº¿ç¨æ³è·åè¯¥è½»ééï¼é£ä¹ä¼å¤±è´¥ï¼åè¿è¡å¦ä¸æ­¥éª¤\n\nä¸ºè¯¥å¯¹è±¡ç³è¯·Monitoréï¼å°å¯¹è±¡å¤´æåMonitoréå°åï¼èªå·±è¿å¥EntryListä¸­ç­å¾ã\n\néç»æ\n\n\n\nç­åæ¥è·åå°è½»éçº§éççº¿ç¨ï¼è§£éï¼æç§Monitorè§£éçæµç¨ï¼æåµOwnerï¼å¤éEntryListã\n\nèªæä¼å\n\n\n# JMM\n\nJavaåå­æ¨¡åï¼ååä¸ºå·¥ä½åå­ï¼å±äº«åå­ãçº¿ç¨ä¹é´æ¯ç¸äºéç¦»çï¼äº¤äºéè¦ä¸»åå­ã\n\n\n# CAS\n\nCompare And Swap\n\nä¹è§éï¼å¦ææ§çå¼ï¼ååæ¥å¼ä¸ä¸è´ï¼åä¼èªæï¼éæ°è¿è¡æ´æ°ï¼\n\n\n# volatile\n\nä¸ä»ç¼å­ï¼ä»åå­ä¸­è¯»åæ°æ®ãç¦æ­¢æä»¤éæåº\n\n\n# AQS\n\næ½è±¡éååæ­¥å¨ãåé¨ç»´æ¤ä¸ä¸ªstateåéï¼å¦æçº¿ç¨å°stateæåä¿®æ¹ä¸º1ï¼åè¡¨ç¤ºè¯¥çº¿ç¨è·å¾éï¼å¦åçº¿ç¨ä¼è¢«æ è®°å°AQSä¸­çéåä¸­ã\n\n\n# ReentrantLock\n\nå¯ä¸­æ­ï¼è®¾ç½®è¶æ¶æ¶é´ï¼å¬å¹³éï¼å¯éå¥ã\n\n\n\n\n# synchronizedålock\n\nåèï¼C++å®ç°ï¼èªå¨éæ¾éãåèjavaå®ç°ï¼éè¦lockï¼unlockã\n\nå¯ææ­ï¼å¨è·åéé»å¡æ¶ï¼å¶å®çº¿ç¨å¯ä»¥ææ­ä»çææ­è¿ç¨ã\n\n\n# ConcurrentHashMap\n\nåºå±æ°æ®ç»æä¸HashMapä¸è´ï¼æ°ç»+é¾è¡¨/çº¢é»äºåæ \n\nå éï¼éç¨CASæ·»å æ°èç¹ï¼éå®é¾è¡¨æèçº¢é»æ çé¦èç¹\n\n\n# çº¿ç¨æ± ä½¿ç¨åºæ¯\n\n\n# åæ¹æ§è¡\n\n\n\n\n# æ±æ»ä¿¡æ¯\n\n\n\n\n# å¼æ­¥è°ç¨\n\n@Async("çº¿ç¨æ± ")\n\n\n# æ§å¶æ¹æ³çå¹¶åé\n\nä¿¡å·éï¼éæµã\n\nSemaphore semaphore = new Semaphore(3);\n\n// è·åä¿¡å·é\nsemaphore.acquire();\n\n// éæ¾ä¿¡å·é\nsemaphore.release();\n\n\n\n# ThreadLocal\n\nå®ç°èµæºå¯¹è±¡ççº¿ç¨éç¦»\n\næ¯ä¸ªçº¿ç¨åæä¸ä¸ªThreadLocalMapç±»åçæååéï¼ç¨æ¥å­å¨èµæºå¯¹è±¡ã\n\nè°ç¨setæ¹æ³ï¼å°±æ¯ä»¥ThreadLocalä½ä¸ºkeyï¼èµæºå¯¹è±¡ä½ä¸ºvalueï¼æ¾å¥å½åçº¿ç¨çThreadLocalMapéåä¸­\n\nè°ç¨getæ¹æ³ï¼åçã\n\nè°ç¨removeæ¹æ³ï¼åçã\n\nThreadLocalMapåå­æ³é²ï¼éè¦æå¨è°ç¨removeéæ¾ä¸ä¸ã\n\n\n# åºå±åç\n\næ¯ä¸ªThreadç±»é½æä¸ä¸ªMapï¼å½éè¦å­å¨ä¸ä¸ªThreadLocal<T> tl = new ThreadLocalï¼å¼ä¸ºvæ¶ï¼Threadä¸­çmapå­å¨æ¹å¼ä¸ºmap.set(tl, v)ï¼è¿æ ·çº¿ç¨åæå®ThreadLocalæ¶ï¼åªéè¦å¨èªå·±çº¿ç¨åmap.get(tl)ã\n\nä½¿ç¨æ¹å¼æ¯\n\nThreadLocal<T> tl = new ThreadLocal<>();\ntl.set(val);\ntl.get();\ntl.remove();\n\n\nå®éä¸æ¯ï¼Threadä¸­çThreadLocalMapå­äºå¤ä¸ªThreadLocalã',normalizedContent:'# çº¿ç¨åè¿ç¨çåºå«\n\nè¿ç¨æ¯æ­£å¨è¿è¡ç¨åºçå®ä¾ï¼åå«äºçº¿ç¨ã\n\nä¸åè¿ç¨æ¥æä¸åçè¿ç¨ç©ºé´ï¼ä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨å±ç¨è¿ç¨åå­ç©ºé´\n\nçº¿ç¨ä¸ä¸æåæ¢ææ¬ä½\n\n\n# å¹¶è¡åå¹¶å\n\næ¶é´çè½®è½¬ã\n\nå¹¶åï¼å¨ä¸æ®µæ¶é´åï¼å¤çå¤ä»¶äºæã\n\nå¹¶è¡ï¼åä¸æ¶é´å¤çå¤ä»¶äºæã\n\n\n# åå»ºçº¿ç¨çæ¹å¼\n\nç»§æ¿threadç±»\n\n\n\nå®ç°runableæ¥å£\n\n\n\nå®ç°callableæ¥å£ï¼å¯ä»¥æ¿å°è¿åå¼\n\n\n\nä½¿ç¨çº¿ç¨æ± \n\n\n\n\n# çº¿ç¨ç¶æ\n\n\n\n\n# notifyånotifall\n\néæºå¤éä¸ä¸ªçº¿ç¨ï¼åå¤éææçº¿ç¨ãobject.notif();\n\n\n# waitåsleep\n\nå±åç¹\n\nwait() ï¼wait(long) å sleep(long) çææé½æ¯è®©å½åçº¿ç¨ææ¶æ¾å¼ cpu çä½¿ç¨æï¼è¿å¥é»å¡ç¶æ\n\nä¸åç¹\n\n 1. æ¹æ³å½å±ä¸å\n\nsleep(long) æ¯ thread çéææ¹æ³è wait()ï¼wait(long) é½æ¯ object çæåæ¹æ³ï¼æ¯ä¸ªå¯¹è±¡é½æ\n\n 2. éæ¥æ¶æºä¸å\n\næ§è¡ sleep(long) å wait(long) ççº¿ç¨é½ä¼å¨ç­å¾ç¸åºæ¯«ç§åéæ¥wait(long) å wait() è¿ä»¥è¢« notify å¤éï¼wait() å¦æä¸å¤éå°±ä¸ç´ç­ä¸å»å®ä»¬é½å¯ä»¥è¢«ææ­å¤é\n\n 3. éç¹æ§ä¸åï¼éç¹ï¼\n\nwait æ¹æ³çè°ç¨å¿é¡»åè·å wait å¯¹è±¡çéï¼è sleep åæ æ­¤éå¶wait æ¹æ³æ§è¡åä¼éæ¾å¯¹è±¡éï¼åè®¸å¶å®çº¿ç¨è·å¾è¯¥å¯¹è±¡éï¼ææ¾å¼ cpuï¼ä½ä½ ä»¬è¿å¯ä»¥ç¨ï¼è sleep å¦æå¨synchronized ä»£ç åä¸­æ§è¡ï¼å¹¶ä¸ä¼éæ¾å¯¹è±¡éï¼ææ¾å¼ cpuï¼ä½ ä»¬ä¹ç¨ä¸äºï¼\n\n\n# å¦ä½åæ­¢çº¿ç¨\n\néç¨éåºæ è®°\n\nä½¿ç¨interrupt\n\nææ­é»å¡ççº¿ç¨ï¼ sleepï¼waitï¼join ï¼ççº¿ç¨ï¼çº¿ç¨ä¼æåºinterruptedexceptionå¼å¸¸ ææ­æ­£å¸¸ççº¿ç¨ï¼å¯ä»¥æ ¹æ®ææ­ç¶ææ¥æ è®°æ¯å¦éåºçº¿ç¨\n\n\n# synchronized\n\næå¤ä¸ä¸ªçº¿ç¨è·å¾éï¼å¶å®çº¿ç¨ä¼é»å¡ã\n\njavaå¯¹è±¡å¤´\n\n|---------------------------------------------------------------|\n|\t\t\t\t\tobject header (64 bits)\t\t\t\t\t\t|\n|-------------------------------|-------------------------------|\n|\t\tmark word (32 bits)\t\t|\t\tklass word (32bits)\t    |\n|-------------------------------|-------------------------------|\n\n\nåå»ºéè®°å½å¯¹è±¡ï¼æ¯ä¸ªçº¿ç¨çæ å¸§é½ä¼åå«ä¸ä¸ªæè®°å½ï¼åé¨å­å¨éå®çå¯¹è±¡çmark work\n\n\n\nå½çº¿ç¨å°è¯éå®æå¯¹è±¡ï¼å¤æ­å¯¹è±¡å¤´ä¸­æ¯å¦ä¸ºç©ºé²ç¶æï¼å¦æç©ºé²ï¼åå°æ å¸§çéè®°å½ä¸å¯¹è±¡å¤´äº¤æ¢\n\n\n\nå¦ææ­¤æ¶æå¶å®çº¿ç¨æ³è·åè¯¥è½»ééï¼é£ä¹ä¼å¤±è´¥ï¼åè¿è¡å¦ä¸æ­¥éª¤\n\nä¸ºè¯¥å¯¹è±¡ç³è¯·monitoréï¼å°å¯¹è±¡å¤´æåmonitoréå°åï¼èªå·±è¿å¥entrylistä¸­ç­å¾ã\n\néç»æ\n\n\n\nç­åæ¥è·åå°è½»éçº§éççº¿ç¨ï¼è§£éï¼æç§monitorè§£éçæµç¨ï¼æåµownerï¼å¤éentrylistã\n\nèªæä¼å\n\n\n# jmm\n\njavaåå­æ¨¡åï¼ååä¸ºå·¥ä½åå­ï¼å±äº«åå­ãçº¿ç¨ä¹é´æ¯ç¸äºéç¦»çï¼äº¤äºéè¦ä¸»åå­ã\n\n\n# cas\n\ncompare and swap\n\nä¹è§éï¼å¦ææ§çå¼ï¼ååæ¥å¼ä¸ä¸è´ï¼åä¼èªæï¼éæ°è¿è¡æ´æ°ï¼\n\n\n# volatile\n\nä¸ä»ç¼å­ï¼ä»åå­ä¸­è¯»åæ°æ®ãç¦æ­¢æä»¤éæåº\n\n\n# aqs\n\næ½è±¡éååæ­¥å¨ãåé¨ç»´æ¤ä¸ä¸ªstateåéï¼å¦æçº¿ç¨å°stateæåä¿®æ¹ä¸º1ï¼åè¡¨ç¤ºè¯¥çº¿ç¨è·å¾éï¼å¦åçº¿ç¨ä¼è¢«æ è®°å°aqsä¸­çéåä¸­ã\n\n\n# reentrantlock\n\nå¯ä¸­æ­ï¼è®¾ç½®è¶æ¶æ¶é´ï¼å¬å¹³éï¼å¯éå¥ã\n\n\n\n\n# synchronizedålock\n\nåèï¼c++å®ç°ï¼èªå¨éæ¾éãåèjavaå®ç°ï¼éè¦lockï¼unlockã\n\nå¯ææ­ï¼å¨è·åéé»å¡æ¶ï¼å¶å®çº¿ç¨å¯ä»¥ææ­ä»çææ­è¿ç¨ã\n\n\n# concurrenthashmap\n\nåºå±æ°æ®ç»æä¸hashmapä¸è´ï¼æ°ç»+é¾è¡¨/çº¢é»äºåæ \n\nå éï¼éç¨casæ·»å æ°èç¹ï¼éå®é¾è¡¨æèçº¢é»æ çé¦èç¹\n\n\n# çº¿ç¨æ± ä½¿ç¨åºæ¯\n\n\n# åæ¹æ§è¡\n\n\n\n\n# æ±æ»ä¿¡æ¯\n\n\n\n\n# å¼æ­¥è°ç¨\n\n@async("çº¿ç¨æ± ")\n\n\n# æ§å¶æ¹æ³çå¹¶åé\n\nä¿¡å·éï¼éæµã\n\nsemaphore semaphore = new semaphore(3);\n\n// è·åä¿¡å·é\nsemaphore.acquire();\n\n// éæ¾ä¿¡å·é\nsemaphore.release();\n\n\n\n# threadlocal\n\nå®ç°èµæºå¯¹è±¡ççº¿ç¨éç¦»\n\næ¯ä¸ªçº¿ç¨åæä¸ä¸ªthreadlocalmapç±»åçæååéï¼ç¨æ¥å­å¨èµæºå¯¹è±¡ã\n\nè°ç¨setæ¹æ³ï¼å°±æ¯ä»¥threadlocalä½ä¸ºkeyï¼èµæºå¯¹è±¡ä½ä¸ºvalueï¼æ¾å¥å½åçº¿ç¨çthreadlocalmapéåä¸­\n\nè°ç¨getæ¹æ³ï¼åçã\n\nè°ç¨removeæ¹æ³ï¼åçã\n\nthreadlocalmapåå­æ³é²ï¼éè¦æå¨è°ç¨removeéæ¾ä¸ä¸ã\n\n\n# åºå±åç\n\næ¯ä¸ªthreadç±»é½æä¸ä¸ªmapï¼å½éè¦å­å¨ä¸ä¸ªthreadlocal<t> tl = new threadlocalï¼å¼ä¸ºvæ¶ï¼threadä¸­çmapå­å¨æ¹å¼ä¸ºmap.set(tl, v)ï¼è¿æ ·çº¿ç¨åæå®threadlocalæ¶ï¼åªéè¦å¨èªå·±çº¿ç¨åmap.get(tl)ã\n\nä½¿ç¨æ¹å¼æ¯\n\nthreadlocal<t> tl = new threadlocal<>();\ntl.set(val);\ntl.get();\ntl.remove();\n\n\nå®éä¸æ¯ï¼threadä¸­çthreadlocalmapå­äºå¤ä¸ªthreadlocalã',charsets:{cjk:!0}},{title:"çé®",frontmatter:{title:"çé®",date:"2023-06-11T14:21:02.000Z",permalink:"/pages/69d257/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/99.%E4%B8%80%E4%BA%9B%E7%96%91%E9%97%AE.html",relativePath:"01.Java/99.ç§æ/99.ä¸äºçé®.md",key:"v-0a6bb5e5",path:"/pages/69d257/",headers:[{level:2,title:"SpringBootèªå¯å¨",slug:"springbootèªå¯å¨",normalizedTitle:"springbootèªå¯å¨",charIndex:2},{level:2,title:"SpringSecurityè®¤è¯",slug:"springsecurityè®¤è¯",normalizedTitle:"springsecurityè®¤è¯",charIndex:151},{level:2,title:"JwtãOAuth2ãå å¯è§£å¯",slug:"jwtãoauth2ãå å¯è§£å¯",normalizedTitle:"jwtãoauth2ãå å¯è§£å¯",charIndex:2247},{level:3,title:"éå¯¹ç§°å å¯",slug:"éå¯¹ç§°å å¯",normalizedTitle:"éå¯¹ç§°å å¯",charIndex:2483},{level:2,title:"MyBatisæ§è¡è¿ç¨",slug:"mybatisæ§è¡è¿ç¨",normalizedTitle:"mybatisæ§è¡è¿ç¨",charIndex:2746},{level:2,title:"MyBatis",slug:"mybatis",normalizedTitle:"mybatis",charIndex:2746},{level:2,title:"HashMapä¸ConcurrentHashMap",slug:"hashmapä¸concurrenthashmap",normalizedTitle:"hashmapä¸concurrenthashmap",charIndex:3823}],headersStr:"SpringBootèªå¯å¨ SpringSecurityè®¤è¯ JwtãOAuth2ãå å¯è§£å¯ éå¯¹ç§°å å¯ MyBatisæ§è¡è¿ç¨ MyBatis HashMapä¸ConcurrentHashMap",content:'# SpringBootèªå¯å¨\n\nå®ç°ApplicationRunneræ¥å£ï¼å¹¶@Componentã\n\nåçï¼Springbootå¯å¨æ¶ï¼ååå»ºcontextï¼ç¶åä¼æ§è¡callRunnersæ¹æ³ï¼è¯¥æ¹æ³æ¯æ¾å°ææç±»åä¸ºApplicationRunnerçå¯¹è±¡ï¼ç¶åæ§è¡è¯¥å¯¹è±¡çrunæ¹æ³ã\n\n\n# SpringSecurityè®¤è¯\n\nçé®ï¼ä¸ºä»ä¹æå®ç°äºuserDetailsServiceï¼æ¡æ¶ä¼èªå¨è°ç¨æçloadUserByUsername()æ¹æ³ã\n\nSpring Securityæ¡æ¶ä¸­æé»è®¤çUserDetailsServiceå®ç°ç±»InMemoryUserDetailsManagerï¼ä¸ºä»ä¹ä¼ä¼åå®ç°æçå¢ï¼\n\nåç°çèªå¨éç½®ç±»\n\n@Configuration\n@ConditionalOnClass(AuthenticationManager.class)\n@ConditionalOnBean(ObjectPostProcessor.class)\n@ConditionalOnMissingBean({ \n    AuthenticationManager.class,\n    AuthenticationProvider.class,\n\tUserDetailsService.class })\npublic class UserDetailsServiceAutoConfiguration {\n\n\tprivate static final String NOOP_PASSWORD_PREFIX = "{noop}";\n\n\tprivate static final Pattern PASSWORD_ALGORITHM_PATTERN = Pattern\n\t\t\t.compile("^\\\\{.+}.*$");\n\n\tprivate static final Log logger = LogFactory\n\t\t\t.getLog(UserDetailsServiceAutoConfiguration.class);\n\n\t@Bean\n\t@ConditionalOnMissingBean(type = "org.springframework.security.oauth2.client.registration.ClientRegistrationRepository")\n\t@Lazy\n\tpublic InMemoryUserDetailsManager inMemoryUserDetailsManager(\n\t\t\tSecurityProperties properties,\n\t\t\tObjectProvider<PasswordEncoder> passwordEncoder) {\n\t\tSecurityProperties.User user = properties.getUser();\n\t\tList<String> roles = user.getRoles();\n\t\treturn new InMemoryUserDetailsManager(User.withUsername(user.getName())\n\t\t\t\t.password(getOrDeducePassword(user, passwordEncoder.getIfAvailable()))\n\t\t\t\t.roles(StringUtils.toStringArray(roles)).build());\n\t}\n\n\tprivate String getOrDeducePassword(SecurityProperties.User user,\n\t\t\tPasswordEncoder encoder) {\n\t\tString password = user.getPassword();\n\t\tif (user.isPasswordGenerated()) {\n\t\t\tlogger.info(String.format("%n%nUsing generated security password: %s%n",\n\t\t\t\t\tuser.getPassword()));\n\t\t}\n\t\tif (encoder != null || PASSWORD_ALGORITHM_PATTERN.matcher(password).matches()) {\n\t\t\treturn password;\n\t\t}\n\t\treturn NOOP_PASSWORD_PREFIX + password;\n\t}\n\n}\n\n\n\néè¯»æºç å¯ä»¥åç°ï¼å£°æInMemoryUserDetailsManager Beanæ¯å¨UserDetailsServiceAutoConfigurationéç½®ç±»ä¸­ï¼ææ¡ä»¶æ³¨è§£\n\n@ConditionalOnMissingBean({ \n    AuthenticationManager.class,\n    AuthenticationProvider.class,\n    UserDetailsService.class })\n\n\nä¹å°±æ¯è¯´ï¼è¥æ²¡æç±»åä¸ºUserDetailsServiceçBeanï¼åä¼åå»ºInMemoryUserDetailsManagerã\n\nå è½½é¡ºåº\n\nåå è½½@Componentæ³¨è§£çBeanï¼èåå è½½@Configuraionä¸­å£°æçBeanã\n\n\n# JwtãOAuth2ãå å¯è§£å¯\n\nOAuth2æ¯ä¸ä¸ªè®¤è¯åè®®ï¼å¯ä»¥è·å¾ææç ï¼éè¿ææç å¯ä»¥è·å¾ä»¤çå¹¶é¢åä»¤çï¼è¿éæ¯ææ®éçUUIDä»¤çãä½æ¯å¯ä»¥éæ©å°ä»¤çè½¬æ¢æJwtä»¤çï¼Jwtä»¤çç±header.payload.signä¸é¨åç»æï¼å®¢æ·ç«¯åªè½è§£æåé¢ä¸¤é¨åï¼headeråå«å å¯æ¹å¼ï¼payloadè½½è·æ°æ®ãä½¿ç¨Jwtä»¤çå¥½å¤å°±æ¯ï¼èµæºæå¡å¯ä»¥éè¿ç§é¥èªè¡æ ¡éªJwtä»¤ççåæ³æ§ï¼å¦ææ ¡éªéè¿ï¼å¹¶ä»»å¡è¯¥è¯·æ±æ¯åæ³è¯·æ±ï¼èæ éåè¿è¡è¿ç¨è°ç¨è®¤è¯æå¡è¿è¡è®¤è¯ã\n\n\n# éå¯¹ç§°å å¯\n\nææäººé½æ¥æèªå·±çä¸å¯¹å¬é¥åç§é¥ï¼è¥Aæ³åæ¶æ¯ç»Bï¼åAçæ¶æ¯éè¿Bçå¬é¥è¿è¡å å¯ï¼è¿æ ·è¿æ¡æ¶æ¯åªè½éè¿Bçç§é¥è¿è¡è§£å¯ã\n\néªè¯ç­¾å\n\nå¦ææ³å¤æ­è¿æ¡æ¶æ¯æ¯å¦æ¯Aåéï¼Aåéæ¶æ¯æ¶å°æ¶æ¯çæè¦ä½¿ç¨ç§é¥è¿è¡å å¯ï¼å¾å°ç­¾åï¼å°ç­¾ååæ¶æ¯ä¸å¹¶åéç»BãBå¾å°åï¼å¯¹ç­¾åä½¿ç¨Açå¬é¥è¿è¡è§£å¯ï¼å¾å°æè¦Dï¼ç¶åBå¯¹æ¶æ¯çææè¦dï¼å¯¹æ¯Dådæ¯å¦ç¸åï¼è¥ä¸ç¸åï¼åè¯´ææ¶æ¯è¢«ç¯¡æ¹ï¼æèè¿ä¸æ¯Açç­¾åã\n\nåéèï¼ç¨èªå·±çç§é¥è¿è¡ç­¾åï¼ç¨å¯¹æ¹çå¬é¥è¿è¡å å¯ï¼\n\næ¥åèï¼ç¨èªå·±çç§é¥è¿è¡è§£å¯ï¼ç¨å¯¹æ¹çå¬é¥è¿è¡éªç­¾ã\n\n\n# MyBatisæ§è¡è¿ç¨\n\næä¸ä¸ªéç½®è¿æ¥çxmlï¼ä¸ä¸ªåSQLè¯­å¥çxmlï¼åä¸ä¸ªæ¥å£ã\n\né¦åï¼è¯å®æ¯è¦éè¿éç½®xmlæä»¶ï¼ä¼æä¸ä¸ªç±»æ¥è§£æxmlæä»¶ï¼ä½ä¸ºinputstreamä¼ éç»æå»ºå·¥åï¼æç»åå»ºSqlSessionå¯¹è±¡ï¼æ¯MyBatisçé¡¶å±APIæ¥å£ï¼ä¼è¯è®¿é®ï¼æ§è¡å¢å æ¹æ¥ã\n\nç¶åsqlï¼åæ¥å£æä¹å¯¹åºèµ·æ¥å¢ï¼ä¸ä¸ªxmlæä»¶çidï¼åæ¥å£åç¸åï¼è¿ä¸ªä¼ç»å®èµ·æ¥ãç¶åxmlä¸­çæå¾å¤æ ç­¾ï¼é£è¯å®ä¹æ¯æååºçè§£æç±»ï¼æ¥è§£æè¿äºæ ç­¾ãéè¦çæ¯<select>æ ç­¾ï¼ä»ä¼æ ¹æ®namespaceåè¿ä¸ªæ ç­¾çidï¼çæä¸ä¸ªMapperStatementå¯¹è±¡ï¼æ¾å°ä¸ä¸ªmapä¸­ï¼keyä¸ºnamespaceåidï¼valueä¸ºMapperStatementå¯¹è±¡ã\n\nå¯¹äºè°ç¨session.selectOne()æ¹æ³ï¼éè¦ä¼ å¥çmapperæ¥å£çæ¹æ³çæéåå æ¹æ³åï¼ä»¥åå¯¹åºçåæ°ãç¶ååºå±ä¼æ¿å°é£ä¸ªMapperStatementå¯¹è±¡ï¼äº¤ç»Executoræ§è¡ï¼å®ä¼çæSQLè¯­å¥ï¼è¿è¡æ¥è¯¢ç¼å­ï¼å¦ä½æ¥ä¸å°ï¼é£å°±å¾æ§è¡JDBCé£ä¸å¥æ¥è¯¢æµç¨ï¼ç¶åè¿ç¨ä¸­è¯å®ä¹æå¤çJavaç±»ååjdbcç±»åè½¬æ¢çæä½ã\n\nå¯¹äºæ´åäºSpringbootçè¯ï¼é£å°±ä¸éè¦åçæSqlSessionFactoryçä»£ç äºï¼è¿äºSessionäº¤ç»å®¹å¨æ¥ç®¡çãå¯¹äºsession.selectOne()æ¹æ³çè°ç¨ï¼éè¿å¨æä»£çæ¥è°ç¨ã\n\n\n# MyBatis\n\n1 æ»çæ¥è¯´å°±æ¯è§£æä¸»éç½®æä»¶æä¸»éç½®æä»¶éçææä¿¡æ¯å°è£å°Configurationè¿ä¸ªå¯¹è±¡ä¸­ã\n\n2 ç¨å¾®ç»ä¸ç¹å°±æ¯ éè¿XmlConfigBuilderè§£æä¸»éç½®æä»¶ï¼ç¶åéè¿XmlMapperBuildè§£æmappersä¸æ å°çææxmlæä»¶ï¼å¾ªç¯è§£æï¼ãææ¯ä¸ªxmlä¸­çåä¸ªsqlè§£ææä¸ä¸ªä¸ªMapperStatementå¯¹è±¡è£å¨Configurationç»´æ¤çä¸ä¸ªMapéåä¸­ï¼keyå¼æ¯idï¼valueæ¯mapperstatementå¯¹è±¡-----ç¶åæè§£æè¿çxmlçåå­ååç§°ç©ºé´è£å¨setéåä¸­ï¼éè¿åç§°ç©ºé´åå°çæçmapperçclasså¯¹è±¡ä»¥åclasså¯¹è±¡çä»£çå¯¹è±¡è£å¨Configurationå¯¹è±¡ç»´æ¤çmapperRegistryä¸­çMapä¸­ã\n\n3ç®åä¸ç¹ï¼ä¸»è¦å°±æ¯ææ¯ä¸ªsqlæ ç­¾è§£ææmapperstatementå¯¹è±¡è£è¿éåï¼ç¶åæmapperæ¥å£çclasså¯¹è±¡ä»¥åä»£çå¯¹è±¡è£è¿éåï¼æ¹ä¾¿åæ¥ä½¿ç¨ã\n\n4ä¸çº§ç¼å­æ¯sqlsessionçº§å«çï¼äºçº§ç¼å­æ¯å¨å±çã\n\n\n# HashMapä¸ConcurrentHashMap\n\nHashMapä¸­ä¸ºä»ä¹ä¸çº¿ç¨å®å¨\n\n 1. å½æä¸ªæ¡¶æ¯ç©ºæ¶ï¼å¨ä¸¤ä¸ªçº¿ç¨åæ¶æå¥åç´ å°è¿ä¸ªæ¡¶ï¼å¯è½ä¼è¦çåç´ \n\n 2. å½æå¥å°ä¸åçæ¡¶ï¼æååéçsizeä¹ä¼èè¯»ã\n\n 3. JDK1.7ä¸­å¤´ææ³çå±å®³ï¼ä¼é æå¾ªç¯é¾è¡¨ï¼å½ä¸¤ä¸ªçº¿ç¨åæ¶è¿è¡æ©å®¹æ¶ï¼ä¸ä¸ªçº¿ç¨åå¼å§èµå¼äºe, ånextæéï¼ä½å¦ä¸ä¸ªçº¿ç¨ä»¥åæ©å®¹å®æï¼å¦æeånextæérehashåä»ç¶å¨ä¸ä¸ªæ¡¶ä¸­ï¼å°±ä¼å¯¼è´é¾è¡¨åè½¬ï¼æ­¤æ¶å½åçº¿ç¨åæ¬¡è¿è¡æ©å®¹ï¼å°±ä¼é æå¾ªç¯é¾è¡¨ã\n\nçè§£ä¸é¢åï¼ConcurrentHashMapä¸­ä¿è¯çº¿ç¨å®å¨çæä½å°±ç®åäºã\n\nJDK1.7ä¸­ï¼éç¨åæ®µéï¼æå¥åç´ è¿ç¨ä¸­ï¼åä»Segmentsï¼HashMapï¼æ¾å°å·ä½çSegmentï¼å¨ä»Segmentä¸­æ¾å°å·ä½çEntryï¼è¿èè¿è¡æå¥åç´ ã\n\nJDK1.8ä¸­ï¼éç¨CAS + Synchronizedï¼éç²åº¦æ´ç»ï¼å®ç°åçå°±å¯¹åºHashMapä¸é¢çº¿ç¨ä¸å®å¨ã\n\n 1. å½æ¡¶æ¯ç©ºæ¶ï¼éç¨CASå¤æ­ï¼çæ­£æå¥æ¶å¤æ­è¿ä¸ªæ¡¶æ¯ä¸æ¯è¢«å äºï¼æ¯çè¯å°±éè¯ã\n 2. ä¿è¯ä¸è½è®©å¤ä¸ªçº¿ç¨ï¼åèªæ©å®¹åèªçã\n 3. å¨æ­£å¸¸å¢å é¾è¡¨åç´ æèçº¢é»æ èç¹æ¶ï¼ä½¿ç¨Synchronizedåæ­¥ã',normalizedContent:'# springbootèªå¯å¨\n\nå®ç°applicationrunneræ¥å£ï¼å¹¶@componentã\n\nåçï¼springbootå¯å¨æ¶ï¼ååå»ºcontextï¼ç¶åä¼æ§è¡callrunnersæ¹æ³ï¼è¯¥æ¹æ³æ¯æ¾å°ææç±»åä¸ºapplicationrunnerçå¯¹è±¡ï¼ç¶åæ§è¡è¯¥å¯¹è±¡çrunæ¹æ³ã\n\n\n# springsecurityè®¤è¯\n\nçé®ï¼ä¸ºä»ä¹æå®ç°äºuserdetailsserviceï¼æ¡æ¶ä¼èªå¨è°ç¨æçloaduserbyusername()æ¹æ³ã\n\nspring securityæ¡æ¶ä¸­æé»è®¤çuserdetailsserviceå®ç°ç±»inmemoryuserdetailsmanagerï¼ä¸ºä»ä¹ä¼ä¼åå®ç°æçå¢ï¼\n\nåç°çèªå¨éç½®ç±»\n\n@configuration\n@conditionalonclass(authenticationmanager.class)\n@conditionalonbean(objectpostprocessor.class)\n@conditionalonmissingbean({ \n    authenticationmanager.class,\n    authenticationprovider.class,\n\tuserdetailsservice.class })\npublic class userdetailsserviceautoconfiguration {\n\n\tprivate static final string noop_password_prefix = "{noop}";\n\n\tprivate static final pattern password_algorithm_pattern = pattern\n\t\t\t.compile("^\\\\{.+}.*$");\n\n\tprivate static final log logger = logfactory\n\t\t\t.getlog(userdetailsserviceautoconfiguration.class);\n\n\t@bean\n\t@conditionalonmissingbean(type = "org.springframework.security.oauth2.client.registration.clientregistrationrepository")\n\t@lazy\n\tpublic inmemoryuserdetailsmanager inmemoryuserdetailsmanager(\n\t\t\tsecurityproperties properties,\n\t\t\tobjectprovider<passwordencoder> passwordencoder) {\n\t\tsecurityproperties.user user = properties.getuser();\n\t\tlist<string> roles = user.getroles();\n\t\treturn new inmemoryuserdetailsmanager(user.withusername(user.getname())\n\t\t\t\t.password(getordeducepassword(user, passwordencoder.getifavailable()))\n\t\t\t\t.roles(stringutils.tostringarray(roles)).build());\n\t}\n\n\tprivate string getordeducepassword(securityproperties.user user,\n\t\t\tpasswordencoder encoder) {\n\t\tstring password = user.getpassword();\n\t\tif (user.ispasswordgenerated()) {\n\t\t\tlogger.info(string.format("%n%nusing generated security password: %s%n",\n\t\t\t\t\tuser.getpassword()));\n\t\t}\n\t\tif (encoder != null || password_algorithm_pattern.matcher(password).matches()) {\n\t\t\treturn password;\n\t\t}\n\t\treturn noop_password_prefix + password;\n\t}\n\n}\n\n\n\néè¯»æºç å¯ä»¥åç°ï¼å£°æinmemoryuserdetailsmanager beanæ¯å¨userdetailsserviceautoconfigurationéç½®ç±»ä¸­ï¼ææ¡ä»¶æ³¨è§£\n\n@conditionalonmissingbean({ \n    authenticationmanager.class,\n    authenticationprovider.class,\n    userdetailsservice.class })\n\n\nä¹å°±æ¯è¯´ï¼è¥æ²¡æç±»åä¸ºuserdetailsserviceçbeanï¼åä¼åå»ºinmemoryuserdetailsmanagerã\n\nå è½½é¡ºåº\n\nåå è½½@componentæ³¨è§£çbeanï¼èåå è½½@configuraionä¸­å£°æçbeanã\n\n\n# jwtãoauth2ãå å¯è§£å¯\n\noauth2æ¯ä¸ä¸ªè®¤è¯åè®®ï¼å¯ä»¥è·å¾ææç ï¼éè¿ææç å¯ä»¥è·å¾ä»¤çå¹¶é¢åä»¤çï¼è¿éæ¯ææ®éçuuidä»¤çãä½æ¯å¯ä»¥éæ©å°ä»¤çè½¬æ¢æjwtä»¤çï¼jwtä»¤çç±header.payload.signä¸é¨åç»æï¼å®¢æ·ç«¯åªè½è§£æåé¢ä¸¤é¨åï¼headeråå«å å¯æ¹å¼ï¼payloadè½½è·æ°æ®ãä½¿ç¨jwtä»¤çå¥½å¤å°±æ¯ï¼èµæºæå¡å¯ä»¥éè¿ç§é¥èªè¡æ ¡éªjwtä»¤ççåæ³æ§ï¼å¦ææ ¡éªéè¿ï¼å¹¶ä»»å¡è¯¥è¯·æ±æ¯åæ³è¯·æ±ï¼èæ éåè¿è¡è¿ç¨è°ç¨è®¤è¯æå¡è¿è¡è®¤è¯ã\n\n\n# éå¯¹ç§°å å¯\n\nææäººé½æ¥æèªå·±çä¸å¯¹å¬é¥åç§é¥ï¼è¥aæ³åæ¶æ¯ç»bï¼åaçæ¶æ¯éè¿bçå¬é¥è¿è¡å å¯ï¼è¿æ ·è¿æ¡æ¶æ¯åªè½éè¿bçç§é¥è¿è¡è§£å¯ã\n\néªè¯ç­¾å\n\nå¦ææ³å¤æ­è¿æ¡æ¶æ¯æ¯å¦æ¯aåéï¼aåéæ¶æ¯æ¶å°æ¶æ¯çæè¦ä½¿ç¨ç§é¥è¿è¡å å¯ï¼å¾å°ç­¾åï¼å°ç­¾ååæ¶æ¯ä¸å¹¶åéç»bãbå¾å°åï¼å¯¹ç­¾åä½¿ç¨açå¬é¥è¿è¡è§£å¯ï¼å¾å°æè¦dï¼ç¶åbå¯¹æ¶æ¯çææè¦dï¼å¯¹æ¯dådæ¯å¦ç¸åï¼è¥ä¸ç¸åï¼åè¯´ææ¶æ¯è¢«ç¯¡æ¹ï¼æèè¿ä¸æ¯açç­¾åã\n\nåéèï¼ç¨èªå·±çç§é¥è¿è¡ç­¾åï¼ç¨å¯¹æ¹çå¬é¥è¿è¡å å¯ï¼\n\næ¥åèï¼ç¨èªå·±çç§é¥è¿è¡è§£å¯ï¼ç¨å¯¹æ¹çå¬é¥è¿è¡éªç­¾ã\n\n\n# mybatisæ§è¡è¿ç¨\n\næä¸ä¸ªéç½®è¿æ¥çxmlï¼ä¸ä¸ªåsqlè¯­å¥çxmlï¼åä¸ä¸ªæ¥å£ã\n\né¦åï¼è¯å®æ¯è¦éè¿éç½®xmlæä»¶ï¼ä¼æä¸ä¸ªç±»æ¥è§£æxmlæä»¶ï¼ä½ä¸ºinputstreamä¼ éç»æå»ºå·¥åï¼æç»åå»ºsqlsessionå¯¹è±¡ï¼æ¯mybatisçé¡¶å±apiæ¥å£ï¼ä¼è¯è®¿é®ï¼æ§è¡å¢å æ¹æ¥ã\n\nç¶åsqlï¼åæ¥å£æä¹å¯¹åºèµ·æ¥å¢ï¼ä¸ä¸ªxmlæä»¶çidï¼åæ¥å£åç¸åï¼è¿ä¸ªä¼ç»å®èµ·æ¥ãç¶åxmlä¸­çæå¾å¤æ ç­¾ï¼é£è¯å®ä¹æ¯æååºçè§£æç±»ï¼æ¥è§£æè¿äºæ ç­¾ãéè¦çæ¯<select>æ ç­¾ï¼ä»ä¼æ ¹æ®namespaceåè¿ä¸ªæ ç­¾çidï¼çæä¸ä¸ªmapperstatementå¯¹è±¡ï¼æ¾å°ä¸ä¸ªmapä¸­ï¼keyä¸ºnamespaceåidï¼valueä¸ºmapperstatementå¯¹è±¡ã\n\nå¯¹äºè°ç¨session.selectone()æ¹æ³ï¼éè¦ä¼ å¥çmapperæ¥å£çæ¹æ³çæéåå æ¹æ³åï¼ä»¥åå¯¹åºçåæ°ãç¶ååºå±ä¼æ¿å°é£ä¸ªmapperstatementå¯¹è±¡ï¼äº¤ç»executoræ§è¡ï¼å®ä¼çæsqlè¯­å¥ï¼è¿è¡æ¥è¯¢ç¼å­ï¼å¦ä½æ¥ä¸å°ï¼é£å°±å¾æ§è¡jdbcé£ä¸å¥æ¥è¯¢æµç¨ï¼ç¶åè¿ç¨ä¸­è¯å®ä¹æå¤çjavaç±»ååjdbcç±»åè½¬æ¢çæä½ã\n\nå¯¹äºæ´åäºspringbootçè¯ï¼é£å°±ä¸éè¦åçæsqlsessionfactoryçä»£ç äºï¼è¿äºsessionäº¤ç»å®¹å¨æ¥ç®¡çãå¯¹äºsession.selectone()æ¹æ³çè°ç¨ï¼éè¿å¨æä»£çæ¥è°ç¨ã\n\n\n# mybatis\n\n1 æ»çæ¥è¯´å°±æ¯è§£æä¸»éç½®æä»¶æä¸»éç½®æä»¶éçææä¿¡æ¯å°è£å°configurationè¿ä¸ªå¯¹è±¡ä¸­ã\n\n2 ç¨å¾®ç»ä¸ç¹å°±æ¯ éè¿xmlconfigbuilderè§£æä¸»éç½®æä»¶ï¼ç¶åéè¿xmlmapperbuildè§£æmappersä¸æ å°çææxmlæä»¶ï¼å¾ªç¯è§£æï¼ãææ¯ä¸ªxmlä¸­çåä¸ªsqlè§£ææä¸ä¸ªä¸ªmapperstatementå¯¹è±¡è£å¨configurationç»´æ¤çä¸ä¸ªmapéåä¸­ï¼keyå¼æ¯idï¼valueæ¯mapperstatementå¯¹è±¡-----ç¶åæè§£æè¿çxmlçåå­ååç§°ç©ºé´è£å¨setéåä¸­ï¼éè¿åç§°ç©ºé´åå°çæçmapperçclasså¯¹è±¡ä»¥åclasså¯¹è±¡çä»£çå¯¹è±¡è£å¨configurationå¯¹è±¡ç»´æ¤çmapperregistryä¸­çmapä¸­ã\n\n3ç®åä¸ç¹ï¼ä¸»è¦å°±æ¯ææ¯ä¸ªsqlæ ç­¾è§£ææmapperstatementå¯¹è±¡è£è¿éåï¼ç¶åæmapperæ¥å£çclasså¯¹è±¡ä»¥åä»£çå¯¹è±¡è£è¿éåï¼æ¹ä¾¿åæ¥ä½¿ç¨ã\n\n4ä¸çº§ç¼å­æ¯sqlsessionçº§å«çï¼äºçº§ç¼å­æ¯å¨å±çã\n\n\n# hashmapä¸concurrenthashmap\n\nhashmapä¸­ä¸ºä»ä¹ä¸çº¿ç¨å®å¨\n\n 1. å½æä¸ªæ¡¶æ¯ç©ºæ¶ï¼å¨ä¸¤ä¸ªçº¿ç¨åæ¶æå¥åç´ å°è¿ä¸ªæ¡¶ï¼å¯è½ä¼è¦çåç´ \n\n 2. å½æå¥å°ä¸åçæ¡¶ï¼æååéçsizeä¹ä¼èè¯»ã\n\n 3. jdk1.7ä¸­å¤´ææ³çå±å®³ï¼ä¼é æå¾ªç¯é¾è¡¨ï¼å½ä¸¤ä¸ªçº¿ç¨åæ¶è¿è¡æ©å®¹æ¶ï¼ä¸ä¸ªçº¿ç¨åå¼å§èµå¼äºe, ånextæéï¼ä½å¦ä¸ä¸ªçº¿ç¨ä»¥åæ©å®¹å®æï¼å¦æeånextæérehashåä»ç¶å¨ä¸ä¸ªæ¡¶ä¸­ï¼å°±ä¼å¯¼è´é¾è¡¨åè½¬ï¼æ­¤æ¶å½åçº¿ç¨åæ¬¡è¿è¡æ©å®¹ï¼å°±ä¼é æå¾ªç¯é¾è¡¨ã\n\nçè§£ä¸é¢åï¼concurrenthashmapä¸­ä¿è¯çº¿ç¨å®å¨çæä½å°±ç®åäºã\n\njdk1.7ä¸­ï¼éç¨åæ®µéï¼æå¥åç´ è¿ç¨ä¸­ï¼åä»segmentsï¼hashmapï¼æ¾å°å·ä½çsegmentï¼å¨ä»segmentä¸­æ¾å°å·ä½çentryï¼è¿èè¿è¡æå¥åç´ ã\n\njdk1.8ä¸­ï¼éç¨cas + synchronizedï¼éç²åº¦æ´ç»ï¼å®ç°åçå°±å¯¹åºhashmapä¸é¢çº¿ç¨ä¸å®å¨ã\n\n 1. å½æ¡¶æ¯ç©ºæ¶ï¼éç¨caså¤æ­ï¼çæ­£æå¥æ¶å¤æ­è¿ä¸ªæ¡¶æ¯ä¸æ¯è¢«å äºï¼æ¯çè¯å°±éè¯ã\n 2. ä¿è¯ä¸è½è®©å¤ä¸ªçº¿ç¨ï¼åèªæ©å®¹åèªçã\n 3. å¨æ­£å¸¸å¢å é¾è¡¨åç´ æèçº¢é»æ èç¹æ¶ï¼ä½¿ç¨synchronizedåæ­¥ã',charsets:{cjk:!0}},{title:"Untitled",frontmatter:{title:"Untitled",date:"2023-06-05T19:16:47.000Z",permalink:"/pages/851a97/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/%E4%B8%80%E4%BA%9B%E5%80%99%E9%80%89.html",relativePath:"01.Java/99.ç§æ/ä¸äºåé.md",key:"v-24bec208",path:"/pages/851a97/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"æåæ¹",frontmatter:{mianshititle:"æåæ¹",date:"2023-05-29T14:56:27.000Z",permalink:"/pages/4da935/",title:"æåæ¹"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/%E6%8F%90%E5%89%8D%E6%89%B9.html",relativePath:"01.Java/99.ç§æ/æåæ¹.md",key:"v-20d4825a",path:"/pages/4da935/",headersStr:null,content:"æéè®°å½\n\nä¼ä¸               è¯¦æ                                                                                æ¥æ\nä¸­å½ç§å­¦é¢ç©ºå¤©ä¿¡æ¯åæ°ç ç©¶é¢   https://zhaopin.aircas.ac.cn/system/userInfo/myDelivery                           5.29\nä¸ä¸éå·¥             http://sanycampus.zhiye.com/Portal/Apply/Index                                    5.29\nTP-LINK          https://hr.tp-link.com.cn/socialDelivery                                          5.30\nåæ³°è¯å¸             https://wecruit.hotjob.cn/SU6013d14e5d83dc11e4a8ae4d/pb/account.html#/myDeliver   5.30\ntp-linkèæ´²        https://career.tplinkglobal.com/personal/deliveryRecord                           6.1\nä¸­æ°èµå             https://recruit.sinovatio.com/resume/mine                                         6.12\nLazada           https://talent.alibaba.com/personal/social-application?lang=zh                    7.6\nçå®¢               https://www.nowcoder.com/users/818778787/deliver                                  7.6\nä¸å¾               https://www.wind.com.cn/portal/zh/JoinUs/recruit.html?positionType=9002           7.6\nç±³åæ¸¸              https://campus.mihoyo.com/#/campus/applyRecord                                    7.7\nå­èè·³å¨æåæ¹          https://jobs.bytedance.com/campus/position/application                            7.23\nç§å¤§è®¯é£             https://campus.iflytek.com/official-pc/delivery                                   7.27\n                                                                                                   ",normalizedContent:"æéè®°å½\n\nä¼ä¸               è¯¦æ                                                                                æ¥æ\nä¸­å½ç§å­¦é¢ç©ºå¤©ä¿¡æ¯åæ°ç ç©¶é¢   https://zhaopin.aircas.ac.cn/system/userinfo/mydelivery                           5.29\nä¸ä¸éå·¥             http://sanycampus.zhiye.com/portal/apply/index                                    5.29\ntp-link          https://hr.tp-link.com.cn/socialdelivery                                          5.30\nåæ³°è¯å¸             https://wecruit.hotjob.cn/su6013d14e5d83dc11e4a8ae4d/pb/account.html#/mydeliver   5.30\ntp-linkèæ´²        https://career.tplinkglobal.com/personal/deliveryrecord                           6.1\nä¸­æ°èµå             https://recruit.sinovatio.com/resume/mine                                         6.12\nlazada           https://talent.alibaba.com/personal/social-application?lang=zh                    7.6\nçå®¢               https://www.nowcoder.com/users/818778787/deliver                                  7.6\nä¸å¾               https://www.wind.com.cn/portal/zh/joinus/recruit.html?positiontype=9002           7.6\nç±³åæ¸¸              https://campus.mihoyo.com/#/campus/applyrecord                                    7.7\nå­èè·³å¨æåæ¹          https://jobs.bytedance.com/campus/position/application                            7.23\nç§å¤§è®¯é£             https://campus.iflytek.com/official-pc/delivery                                   7.27\n                                                                                                   ",charsets:{cjk:!0}},{title:"é¢è¯è®°å½",frontmatter:{title:"é¢è¯è®°å½",date:"2023-07-27T15:56:41.000Z",permalink:"/pages/7d963b/"},regularPath:"/01.Java/99.%E7%A7%8B%E6%8B%9B/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95.html",relativePath:"01.Java/99.ç§æ/é¢è¯è®°å½.md",key:"v-70c2530b",path:"/pages/7d963b/",headers:[{level:3,title:"00. ä¸å¾ä¸é¢ï¼7.10ï¼70åéï¼è´ï¼",slug:"_00-ä¸å¾ä¸é¢-7-10-70åé-è´",normalizedTitle:"00. ä¸å¾ä¸é¢ï¼7.10ï¼70åéï¼è´ï¼",charIndex:2},{level:3,title:"01. ç¨åä¸é¢ï¼7.27ï¼60åéï¼èï¼",slug:"_01-ç¨åä¸é¢-7-27-60åé-è",normalizedTitle:"01. ç¨åä¸é¢ï¼7.27ï¼60åéï¼èï¼",charIndex:28},{level:3,title:"02. ç¨åäºé¢ï¼8.02ï¼40åéï¼è´ï¼",slug:"_02-ç¨åäºé¢-8-02-40åé-è´",normalizedTitle:"02. ç¨åäºé¢ï¼8.02ï¼40åéï¼è´ï¼",charIndex:642},{level:3,title:"03. å¿«æä¸é¢ï¼8.08ï¼60åéï¼èï¼",slug:"_03-å¿«æä¸é¢-8-08-60åé-è",normalizedTitle:"03. å¿«æä¸é¢ï¼8.08ï¼60åéï¼èï¼",charIndex:698},{level:3,title:"04. å¿«æäºé¢ï¼8.15ï¼60åéï¼èï¼",slug:"_04-å¿«æäºé¢-8-15-60åé-è",normalizedTitle:"04. å¿«æäºé¢ï¼8.15ï¼60åéï¼èï¼",charIndex:921},{level:3,title:"05. äº¬ä¸ä¸é¢ï¼8.16ï¼53åéï¼ï¼ï¼",slug:"_05-äº¬ä¸ä¸é¢-8-16-53åé",normalizedTitle:"05. äº¬ä¸ä¸é¢ï¼8.16ï¼53åéï¼ï¼ï¼",charIndex:1479},{level:3,title:"06. è¾è®¯ä¸é¢ï¼8.18ï¼70åéï¼è´ï¼",slug:"_06-è¾è®¯ä¸é¢-8-18-70åé-è´",normalizedTitle:"06. è¾è®¯ä¸é¢ï¼8.18ï¼70åéï¼è´ï¼",charIndex:1817},{level:3,title:"07. å­èä¸é¢ï¼8.21ï¼57åéï¼èï¼",slug:"_07-å­èä¸é¢-8-21-57åé-è",normalizedTitle:"07. å­èä¸é¢ï¼8.21ï¼57åéï¼èï¼",charIndex:2033},{level:3,title:"08. äº¬ä¸ä¸é¢ï¼8.23ï¼35 åéï¼èï¼",slug:"_08-äº¬ä¸ä¸é¢-8-23-35-åé-è",normalizedTitle:"08. äº¬ä¸ä¸é¢ï¼8.23ï¼35 åéï¼èï¼",charIndex:2496},{level:3,title:"09. èæ³ä¸é¢ï¼8.24ï¼30åéï¼è´ï¼",slug:"_09-èæ³ä¸é¢-8-24-30åé-è´",normalizedTitle:"09. èæ³ä¸é¢ï¼8.24ï¼30åéï¼è´ï¼",charIndex:2869},{level:3,title:"10. å­èäºé¢ï¼8.24ï¼70åéï¼èï¼",slug:"_10-å­èäºé¢-8-24-70åé-è",normalizedTitle:"10. å­èäºé¢ï¼8.24ï¼70åéï¼èï¼",charIndex:3070},{level:3,title:"11. ç¾å¢ä¸é¢ï¼8.24ï¼70åéï¼èï¼",slug:"_11-ç¾å¢ä¸é¢-8-24-70åé-è",normalizedTitle:"11. ç¾å¢ä¸é¢ï¼8.24ï¼70åéï¼èï¼",charIndex:3376},{level:3,title:"12. äº¬ä¸äºé¢ï¼8.25ï¼30åéï¼è´ï¼",slug:"_12-äº¬ä¸äºé¢-8-25-30åé-è´",normalizedTitle:"12. äº¬ä¸äºé¢ï¼8.25ï¼30åéï¼è´ï¼",charIndex:3785},{level:3,title:"13. æ·å¤©ä¸é¢ï¼8.26ï¼50åéï¼èï¼",slug:"_13-æ·å¤©ä¸é¢-8-26-50åé-è",normalizedTitle:"13. æ·å¤©ä¸é¢ï¼8.26ï¼50åéï¼èï¼",charIndex:3892},{level:3,title:"14. å¾ç©ä¸é¢ï¼8.27ï¼30åéï¼èï¼",slug:"_14-å¾ç©ä¸é¢-8-27-30åé-è",normalizedTitle:"14. å¾ç©ä¸é¢ï¼8.27ï¼30åéï¼èï¼",charIndex:4336},{level:3,title:"15. å¿«æä¸é¢ï¼8.28ï¼60åé",slug:"_15-å¿«æä¸é¢-8-28-60åé",normalizedTitle:"15. å¿«æä¸é¢ï¼8.28ï¼60åé",charIndex:4573},{level:3,title:"16. ç¾å¢äºé¢ï¼8.28ï¼60åéï¼è´ï¼",slug:"_16-ç¾å¢äºé¢-8-28-60åé-è´",normalizedTitle:"16. ç¾å¢äºé¢ï¼8.28ï¼60åéï¼è´ï¼",charIndex:4803},{level:3,title:"17. å­èä¸é¢ï¼8.31ï¼35åéï¼æ¶å¿ï¼",slug:"_17-å­èä¸é¢-8-31-35åé-æ¶å¿",normalizedTitle:"17. å­èä¸é¢ï¼8.31ï¼35åéï¼æ¶å¿ï¼",charIndex:5036},{level:3,title:"18. æ·å¤©äºé¢ï¼9.2ï¼40åéï¼è´ï¼",slug:"_18-æ·å¤©äºé¢-9-2-40åé-è´",normalizedTitle:"18. æ·å¤©äºé¢ï¼9.2ï¼40åéï¼è´ï¼",charIndex:5079},{level:3,title:"19. å¾ç©äºé¢ï¼9.2ï¼20åéï¼èï¼",slug:"_19-å¾ç©äºé¢-9-2-20åé-è",normalizedTitle:"19. å¾ç©äºé¢ï¼9.2ï¼20åéï¼èï¼",charIndex:5104},{level:3,title:"20. å¾ç©ä¸é¢ï¼9.3ï¼20åé",slug:"_20-å¾ç©ä¸é¢-9-3-20åé",normalizedTitle:"20. å¾ç©ä¸é¢ï¼9.3ï¼20åé",charIndex:5129},{level:3,title:"21. è®¯é£ä¸é¢ï¼9.5ï¼40åé",slug:"_21-è®¯é£ä¸é¢-9-5-40åé",normalizedTitle:"21. è®¯é£ä¸é¢ï¼9.5ï¼40åé",charIndex:5151},{level:3,title:"22. å¯åä¼ä¸é¢ï¼9.5ï¼60åé",slug:"_22-å¯åä¼ä¸é¢-9-5-60åé",normalizedTitle:"22. å¯åä¼ä¸é¢ï¼9.5ï¼60åé",charIndex:5173}],headersStr:"00. ä¸å¾ä¸é¢ï¼7.10ï¼70åéï¼è´ï¼ 01. ç¨åä¸é¢ï¼7.27ï¼60åéï¼èï¼ 02. ç¨åäºé¢ï¼8.02ï¼40åéï¼è´ï¼ 03. å¿«æä¸é¢ï¼8.08ï¼60åéï¼èï¼ 04. å¿«æäºé¢ï¼8.15ï¼60åéï¼èï¼ 05. äº¬ä¸ä¸é¢ï¼8.16ï¼53åéï¼ï¼ï¼ 06. è¾è®¯ä¸é¢ï¼8.18ï¼70åéï¼è´ï¼ 07. å­èä¸é¢ï¼8.21ï¼57åéï¼èï¼ 08. äº¬ä¸ä¸é¢ï¼8.23ï¼35 åéï¼èï¼ 09. èæ³ä¸é¢ï¼8.24ï¼30åéï¼è´ï¼ 10. å­èäºé¢ï¼8.24ï¼70åéï¼èï¼ 11. ç¾å¢ä¸é¢ï¼8.24ï¼70åéï¼èï¼ 12. äº¬ä¸äºé¢ï¼8.25ï¼30åéï¼è´ï¼ 13. æ·å¤©ä¸é¢ï¼8.26ï¼50åéï¼èï¼ 14. å¾ç©ä¸é¢ï¼8.27ï¼30åéï¼èï¼ 15. å¿«æä¸é¢ï¼8.28ï¼60åé 16. ç¾å¢äºé¢ï¼8.28ï¼60åéï¼è´ï¼ 17. å­èä¸é¢ï¼8.31ï¼35åéï¼æ¶å¿ï¼ 18. æ·å¤©äºé¢ï¼9.2ï¼40åéï¼è´ï¼ 19. å¾ç©äºé¢ï¼9.2ï¼20åéï¼èï¼ 20. å¾ç©ä¸é¢ï¼9.3ï¼20åé 21. è®¯é£ä¸é¢ï¼9.5ï¼40åé 22. å¯åä¼ä¸é¢ï¼9.5ï¼60åé",content:'# 00. ä¸å¾ä¸é¢ï¼7.10ï¼70åéï¼è´ï¼\n\n\n# 01. ç¨åä¸é¢ï¼7.27ï¼60åéï¼èï¼\n\n 1.  èªæä»ç»\n\n 2.  éåç±»æåªäº\n\n 3.  è¿äºéåæ¯çº¿ç¨å®å¨å\n\n 4.  HashMapåºå±åç\n\n 5.  ä¸ºä»ä¹ä¸ç¨å¤´ææ³\n\n 6.  ç¨äºå°¾ææ³å°±çº¿ç¨å®å¨äºå\n\n 7.  ä¿è¯çº¿ç¨å®å¨å ç§æ¹å¼\n\n 8.  Synchronizedéåçº§è¿ç¨\n\n 9.  ThreadLocalåç\n\n 10. ThreadLocaléè¦æ³¨æçå°æ¹\n\n 11. volatileä½ç¨\n\n 12. volatileåç\n\n 13. ç¼å­åä¸»å­å¨æä½ç³»ç»\\CPUæä¹å¼ç(MESI)\n\n 14. åå¾åæ¶æåªäºåæ¶ç®æ³\n\n 15. ä»åªäºå¯¹è±¡å¼å§æ è®°\n\n 16. ä¸è²æ è®°æ³\n\n 17. CMSåG1æ¶éå¨æ¶éè¿ç¨\n\n 18. G1ä¸­ä¸ºä»ä¹ååRegion\n\n 19. Redisæåªäºæ°æ®ç»æ\n\n 20. Redisæä¹ç»Hashä¸­åç¬çkeyè®¾ç½®è¿ææ¶é´\n\n 21. AOFåRDB\n\n 22. Rediså­ç¬¦ä¸²åºå±åæ¥è¯¢è¿ç¨ç¨çåªäºæ°æ®ç»æ\n\n 23. RabbitMQåKafkaåçæºå¶æ¯ä»ä¹\n\n 24. RabbitMQåKafkaæä¹ä¸ä¸¢å¤±æ°æ®\n\n 25. MySQLç´¢å¼ä¸è¬æä¹ç¨\n\n 26. æåªå ç§ç´¢å¼\n\n 27. undo log å redo logç¨æ¥å¹²å¥ç\n\n 28. è¯´è¯´æ°æ®é¡µ\n\n 29. ä»ç»ä¸ä¸é¡¹ç®,ä»¥åé¾ç¹æä¹è§£å³\n\n 30. èå¤©\n\n\n# 02. ç¨åäºé¢ï¼8.02ï¼40åéï¼è´ï¼\n\nä¸¤ä¸ªé¢è¯å®èé¡¹ç®ï¼äºçº§ç¼å­ï¼Redisï¼æ¶æ¯ä¸­é´ä»¶å¯é æ§\n\n\n# 03. å¿«æä¸é¢ï¼8.08ï¼60åéï¼èï¼\n\n 1. èªæä»ç»\n 2. æææä¹å®ç°\n 3. è¿æ»¤å¨åæ¦æªå¨åºå«ï¼ä½¿ç¨åºæ¯\n 4. Redisæä¹ç¨ï¼ä¸äºåºå±æ°æ®ç»æ\n 5. Kafkaåç\n 6. ThreadLocalåç\n 7. volatileä½ç¨\n 8. ææ\n    1. åä¾æ¨¡å¼\n    2. ä¸¤ä¸ªæ´æ°ï¼è¾åºa/bå¾ªç¯å°æ°é¨åï¼ä¾å¦0.1234234234ï¼è¾åº234ãï¼è¿é¢åäº25åéï¼\n 9. åé®\n\nåå¥½ä¸å°æ¶ã\n\n\n# 04. å¿«æäºé¢ï¼8.15ï¼60åéï¼èï¼\n\n 1.  é¡¹ç®ä»ç»\n\n 2.  è¡¨æä¹è®¾è®¡ç\n\n 3.  ab acä¸¤ä¸ªèåç´¢å¼\n     \n     1. select * from t where a = 3;ç¨åªä¸ªç´¢å¼\n     2. select b from t where a = 3;ç¨åªä¸ªç´¢å¼\n\n 4.  ä¸»ä»å¤å¶\n\n 5.  å¨ä»ä¹ç³»ç»é¨ç½²ç\n\n 6.  linuxå¸¸ç¨å½ä»¤ï¼æ¥çè¿ç¨å½ä»¤ãæ¥çå ç¨\n\n 7.  é¨ç½²å ç¨åå­è®¾ç½®å¤å°\n\n 8.  æå®äºåªä¸ªåå¾åæ¶å¨\n\n 9.  G1åCMSåºå«ï¼mixedGCä»ä¹æ¶åè§¦å\n\n 10. çº¿ç¨æ± åæ°ï¼å·ä½è¡¨ç¤ºä»ä¹\n\n 11. å³é­çº¿ç¨æ± æä¹å³é­\n\n 12. æä¹æ¥çGCæåµ\n\n 13. zsetåæè¡ï¼keyï¼valueæä¹è®¾è®¡\n\n 14. ç¶åæçè§å°ï¼ä½ é¡¹ç®å¹²å¥\n\n 15. zsetåºå±æ°æ®ç»æï¼ä»ç»ä¸ä¸è·³è¡¨\n\n 16. ä»ç»ä¸ä¸Raftï¼ä¸ºå¥åè¿ä¸ªï¼ä»ç»ä¸ä¸RocksDB\n\n 17. 1ä¸äº¿ä¸ªåç´ ï¼æä¹æåº\n\n 18. æµè§å¨è¾å¥ä¸ä¸ªç½åè¿ç¨\n     \n     ï¼45 minsï¼\n\n 19. ææ\n     \n     1. ä¸¤ä¸¤äº¤æ¢é¾è¡¨\n     2. äºåæ ç»è®¡æ ¹å°å¶å­èç¹çææè·¯å¾å\n\n 20. åé®\n\n(1 h)\n\n\n# 05. äº¬ä¸ä¸é¢ï¼8.16ï¼53åéï¼ï¼ï¼\n\n 1.  èªæä»ç»\n 2.  è¯¦ç»ä»ç»å¶ä¸­ä¸ä¸ªé¡¹ç®\n 3.  æ¶è·äºä»ä¹\n 4.  Zsetåé¨å®ç°\n 5.  B+æ ç¨å¨ä»ä¹å°æ¹\n 6.  ä»ç»Raftç®æ³ï¼ä¸ºä»ä¹å®ç°è¿ä¸ªRaftç®æ³\n 7.  ææ\n     1. å­ç¬¦ä¸²æ°å­å æ³\n     2. æ»å¨çªå£æå¤§å¼\n 8.  Javaéä¼åéåï¼Listçå®ç°ç±»æåªäºï¼çº¿ç¨å®å¨åï¼æçº¿ç¨å®å¨çListçå\n 9.  LinkedListçä¸äºapiçæ¶é´å¤æåº¦ï¼å¯¹äºæåºçé¾è¡¨ï¼è½å å¿«æ¥è¯¢å\n 10. ç¨æ·å¨ä½ çé¡¹ç®ç«ç¹ä¸åèµ·ä¸ä¸ªè¯·æ±ä¹åä¼åçä»ä¹\n 11. ä½ çæè¿ä¹å¤ç§æ°æ®åºï¼ä½ æ»ç»ä¸ä¸ä»ä»¬çåºç¨åºæ¯\n 12. ä½ åªéäººï¼ä¸ºä»ä¹æ¥åäº¬\n 13. åå è¿ä»ä¹ç¤¾å¢\n\n\n# 06. è¾è®¯ä¸é¢ï¼8.18ï¼70åéï¼è´ï¼\n\n 1. ææ\n    1. å¤æ­åé¾è¡¨æ¯å¦æç¯\n    2. LRUç¼å­\n    3. æåºç©éµä¸­ç¬¬Kå°çåç´ \n 2. ä½ å®ç°çRaftæåºç¨å°å®éåºæ¯åï¼ä½ æä¹å¤æ­æµè¯\n 3. RaftåPaxosçåºå«\n 4. å®ç°Raftæä»ä¹æ£æçé®é¢\n 5. åå¸å¼äºå¡ä¸­ï¼å±è¯ç®æ³æä»ä¹ç¨å¤\n 6. MySQLæ¯æä¹å®ç°åæºçäºå¡\n 7. ä»ç»ä¸ä¸MySQLç´¢å¼ï¼B+æ æä»ä¹å¥½å¤\n\n\n# 07. å­èä¸é¢ï¼8.21ï¼57åéï¼èï¼\n\n 1.  æ­»æ£é¡¹ç®\n 2.  è¡¨è®¾è®¡äºåªäº\n 3.  TCPä¸æ¬¡æ¡æ\n 4.  HTTPç¶æç \n 5.  é»å¡IOä¸éé»å¡IO\n 6.  IOå¤è·¯å¤ç¨\n 7.  Redisä½¿ç¨åºæ¯\n 8.  RDBåAOFåºå«ï¼ä¼ç¼ºç¹\n 9.  MQä½ç¨\n 10. æ¶è´¹å¤±è´¥æä¹å¤ç\n 11. å¹ç­æä¹å\n 12. B+æ åBæ åºå«ï¼ä¼ç¼ºç¹\n 13. åè¡¨\n 14. Spring IOCåAOPåç\n 15. ä¸ºä»ä¹ä¸é½ç¨Cglibæ¥åå¨æä»£ç\n 16. ææ\n     1. æ¥è¯¢éæå¦ä¸è¿äºï¼é®æä¹åå»ºç´¢å¼\n        1. where a = xx;\n        2. where b = xx;\n        3. where c = xx;\n        4. where a = xx and b = xx and c = xx;\n     2. åSQLï¼å­¦çè¡¨ï¼æç»©è¡¨ãæ¥åºæææ»åä½äº100çç·ç\n     3. å¤æ­ä¸¤ä¸ªäºåæ æ¯å¦ç¿»è½¬ç­ä»·ãç¿»è½¬å·¦å³å­©å­\n\n\n# 08. äº¬ä¸ä¸é¢ï¼8.23ï¼35 åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  è¯¦ç»ä»ç»Raftç®æ³ï¼æåªäºå¼æºç®æ³ä½¿ç¨è¿ä¸ªç®æ³ï¼è¯¦ç»æä¹ä½¿ç¨ç\n 3.  é²èéææ¯é®é¢\n     1. é®ææ²¡æå®ä¹ ï¼å®éªå®¤æ¯å¦æé¡¹ç®\n     2. ä¸ºä»ä¹éæ©åç«¯å¼åï¼èä¸è§åååå·¥ç¨å¼åï¼è¿æ¯æ°æ®æ¹å\n     3. èæçç ç©¶æ¹åï¼ä¸ç»´éå»ºï¼ï¼ä»ç»æçç ç©¶ç¹\n     4. åè¿ä¸ªéå°äºä»ä¹å°é¾ï¼æä¹è§£å³ç\n     5. å¯¹èªå·±çè®¤è¯ï¼ä¼ç¼ºç¹\n 4.  è®²ä¸ä¸é¢åå¯¹è±¡åé¢åè¿ç¨ï¼æä»ä¹åºç¨åºæ¯\n 5.  é¢åå¯¹è±¡çä¸å¤§ç¹æ§\n 6.  ä»ç»ä¸¤ç§è®¾è®¡æ¨¡å¼\n 7.  ä»ç»ä¸ä¸Spring\n 8.  AOPæä»ä¹åºç¨åºæ¯\n 9.  ç»ä½ è®¾è®¡ä¸ä¸ªæå¡ï¼æç¨æ·çä¿¡æ¯ï¼éè¦å­å°è¿ä¸ªæå¡ä¸­ï¼ç¶åä¹æä¾æ¥è¯¢åè½ï¼è®²ä¸ä¸ä½ çè®¾è®¡ï¼æèçç¹ã\n 10. åé®\n\n\n# 09. èæ³ä¸é¢ï¼8.24ï¼30åéï¼è´ï¼\n\n 1. èªæä»ç»\n 2. é²èï¼æå®ä¹ åï¼åèä¸ç»´éå»º\n 3. å±äº«å±å¹ï¼å±ç¤ºä¸ä¸ä½ çé¡¹ç®ï¼æ²¡æãç¶ååè®²äºä¸ä¸å»å¹´çæ°å­¦å»ºæ¨¡ç«èµï¼å»ç½ä¸ä¸è½½äºä¸ä»½é¢ç®ãä»ç»äºä¸ä¸åå·¥\n 4. è¯´GitHubæä»£ç åï¼ä¸è½½äºä¸ä»½æå¼è®²ï¼å¯¹çä»£ç è®²ãæåºï¼ä¸ºä»ä¹èµ·è¿ä¸ªç±»åï¼ä¸ºä»ä¹è¯´MySQLæ¥è¯¢æ¢ï¼è¯´æè¿ä¸ªæ°æ®éï¼å°±ç®MySQLæ¥ä¹å¾å¿«ï¼æ²¡å¿è¦ç¼å­\n 5. åé®\n\n\n# 10. å­èäºé¢ï¼8.24ï¼70åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  è¯¦ç»é®å¶ä¸­ä¸ä¸ªé¡¹ç®çå®ç°ç»è\n 3.  è®¤è¯ææè¿ç¨è¯¦ç»ä»ç»ä¸ä¸ï¼jwtç»æé¨åï¼jwtè¦æ³¨æåªäºé®é¢\n 4.  Kafkaæ¶æ¯æéæä»ä¹ç¹ç¹\n 5.  kafkaæ¶æ¯çæ¶è´¹é¡ºåºæ§\n 6.  ä»ç»ä¸ä¸å¶å®ç±»ä¼¼çMQï¼åºå«\n 7.  ææï¼ä¼è®®å®¤2\n 8.  è¦è®¿é®ä¸ä¸ªç«ç¹ï¼ä»ç»ä¸ä¸è®¿é®çè¿ç¨ï¼å¸¸è§çè´è½½åè¡¡ç­ç¥ï¼ååè§£æè¿ç¨\n 9.  ç°å¨ç¨çIPv4ï¼ä¸ºä»ä¹è¦æ¨å¹¿IPv6\n 10. ç»ä¸ä¸ªåºæ¯ï¼åå¦ä½ æ¯ä¸ä¸ªè§é¢ç½ç«çåå°ç»´æ¤äººåï¼åç°åä¸å¤©çæ­æ¾ééª¤åãè®²ä¸ä¸ä½ çææ¥æè·¯\n 11. æè¿çäºä»ä¹ææ¯çä¹¦ï¼ä»¥åçææ¯æ¹å\n\n\n# 11. ç¾å¢ä¸é¢ï¼8.24ï¼70åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  é²èï¼ç ç©¶æ¹å\n 3.  è®²ä¸ä¸ªä½ é¡¹ç®ä¸­çäº®ç¹ï¼æä»ä¹è®²ç©¶çç¹\n 4.  åè®¾ä½ è¿ä¸ªQPSä¸æ¯è¦æåå°4000äºï¼è¦æåå°4wï¼ä½ æä»ä¹ä¼åæ¹æ³\n 5.  ä¸ºä»ä¹ç¨Jwtï¼æå¶å®ç»å½å­è¯ä¿å­æ¹å¼å\n 6.  Jwtè¿ä¸ªåç¨ï¼çå·ï¼æä¹è§£å³\n 7.  æ°ç»åé¾è¡¨ä¼ç¼ºç¹\n 8.  Stringæ¯ä¸æ¯åºæ¬ç±»åï¼å¯ä»¥è¢«ç»§æ¿åãç¨newåå»ºï¼å""æä»ä¹åºå«\n 9.  ä¿è¯çº¿ç¨å®å¨æä»ä¹æ¹æ³\n 10. Javaéååéï¼è½»éçº§éï¼ééçº§éä»ç»ä¸ä¸\n 11. full GCè§¦åæ¡ä»¶\n 12. å¨æè§åååæ²»æä»ä¹å¼åï¼ä»ä¹æåµå¿é¡»ç¨å¨æè§å\n 13. Redisä¸è´æ§åå¸ç®æ³ä»ç»ä¸ä¸\n 14. tcpåudpç¹ç¹\n 15. cookieåsessionåºå«\n 16. äºå¡çéç¦»çº§å«ï¼æä»ä¹åºå«\n 17. ææï¼éæé¾è¡¨\n 18. åé®\n\n\n# 12. äº¬ä¸äºé¢ï¼8.25ï¼30åéï¼è´ï¼\n\n 1. èªæä»ç»\n 2. ä½ çèä¸è§åæ¯ä»ä¹ï¼æä¹åå°å¢\n 3. ä½ ææ³å»åä¸ä¸ªçå¬å¸\n 4. ææï¼ç»ä¸ä¸ªæ°ç»ï¼ç¨ä¸ä¸ªçº¿ç¨è½®æµå»è¯»æ°ç»ä¸­çåç´ \n 5. åé®\n\n\n# 13. æ·å¤©ä¸é¢ï¼8.26ï¼50åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  ä»ç»é¡¹ç®å®ç°çä¸ä¸ªé¾ç¹äº®ç¹\n 3.  ä»ç»kafkaæ¶æ\n 4.  æ¶æ¯æéæä¸ä»æä¸æ¬¡è¯­ä¹æ¯æä¹å®ç°ç\n 5.  Kafkaæ©å±brokerè¿ç¨\n 6.  è´è½½åè¡¡æåªå ç§\n 7.  kafkaæ¶è´¹æ¶æ¯çå®æ¶æ§æä¹æ ·\n 8.  kafkaç­è½®è¯¢æåªäºä¼åæ¹æ³\n 9.  å®ç°é¿è½®è¯¢ï¼å¨äºå±ç½ç»ä¸­ï¼æ¯æä¹ä¸ªè¿ç¨\n 10. jdk8å°jdk20çï¼è¯´ä¸ä¸æ°ç¹æ§\n 11. jdk21èæçº¿ç¨åçº¿ç¨æä»ä¹åºå«\n 12. è¦ä½ å®ç°Javaçèæçº¿ç¨ï¼ä½ è§å¾æä»ä¹é¾ç¹\n 13. Java8åJava9çç±»å è½½æºå¶æä»ä¹åºå«\n 14. ç±»å è½½æºå¶ä¸»è¦å¨åªäºåºæ¯ï¼OSGIäºè§£ä¹\n 15. ä»ç»ä¸ä¸IOCåAOPæ¦å¿µï¼åç\n 16. JavaåGoé£æ ·ï¼ç¼è¯æexeäºè§£ä¹\n 17. è¯´ä¸ä¸ªä½ çæçå°æ¹å§ï¼æ°æ®åºï¼ï¼MySQLäºå¡æ¯æä¹å®ç°ç\n 18. é²èï¼ä¸ºä»ä¹ååç«¯ï¼äººå·¥æºè½ç­ç¹é£å£æä¹ç\n 19. åé®\n\n\n# 14. å¾ç©ä¸é¢ï¼8.27ï¼30åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  ä»ç»ä¸ä¸Tcp/ipåè®®ï¼åä¸ªå±\n 3.  å å¯å®å¨ä¼ è¾æä¹å\n 4.  é¢åå¯¹è±¡ç¸æ¯é¢åè¿ç¨æä»ä¹å¥½å¤\n 5.  éæ°æ¿æ¢åå\n 6.  æåªäºæ çæ°æ®ç»æï¼åå«ä»ä¹åºæ¯\n 7.  å¤çº¿ç¨ç¨ä¹ï¼ä¸ºä»ä¹ç¨çº¿ç¨æ± å¢ï¼è¦æ³¨æåªäºä¸è¥¿\n 8.  ä»ä¹æ¯çº¿ç¨å®å¨ï¼æä¹ä¿è¯çº¿ç¨å®å¨\n 9.  Spring IOCåDIæä»ä¹åºå«\n 10. äºè§£åªäºMQï¼ç¼å­ï¼æ°æ®åºï¼åå«ä»ä¹åºæ¯\n 11. åé®\n\n\n# 15. å¿«æä¸é¢ï¼8.28ï¼60åé\n\n 1. èªæä»ç»\n 2. é²è\n 3. ç»é®ç®åä¸­çé¡¹ç®ï¼ç¨äºInfluxDBï¼ä¸ºä»ä¹InfluxDBæ¥è¯¢å¿«\n 4. è®©ä½ ææ¥QPSçç¶é¢ï¼æä¹ææ¥\n 5. ç¹èµç³»ç»ï¼ç¹èµæä¹åçå\n 6. ä½ MySQLç¨ç¨æ·IDååºåè¡¨ï¼é£åå¦ä½ è¦ä¸ä¸ªæ¥ä¸ä¸ªå¸å­ï¼è¢«è°ç¹èµäºï¼ä½ æä¹å\n 7. èå®¶æ¯åªçï¼ä¸ºä»ä¹æ³æ¥å¿«æï¼å¯¹æªæ¥æä»ä¹æç®\n 8. ææï¼ç»ä½ ä¸ä¸ªåææ°ï¼è¿åä»ä¸ä¸ä¸ªåææ°ã121ï¼ä¸ä¸ä¸ª131\n 9. åé®\n\n\n# 16. ç¾å¢äºé¢ï¼8.28ï¼60åéï¼è´ï¼\n\n 1.  èªæä»ç»\n 2.  ç»é®é¡¹ç®ï¼ä¸ºä»ä¹ç¨kafkaï¼ç¨kafkaéå°ä»ä¹é®é¢å\n 3.  ä¸»æåå®¢ææä¹å\n 4.  ä¸ºä»ä¹ç¨InfluxDB\n 5.  ä»ä¹æ¯IOå¤è·¯å¤ç¨ï¼é£ä¸ç§æä»ä¹åºå«ï¼è¾¹ç¼è§¦åè¿æ¯æ°´å¹³è§¦å\n 6.  ä¸ºä»ä¹ç¨Caffeine\n 7.  æå±çä¸ä¸ä½ çææï¼æå¼githubçäºçæªå¾\n 8.  MySQLç´¢å¼æä¹å»ºç\n 9.  http1.1ï¼2.0ï¼3.0åºå«\n 10. é²è\n\n\n# 17. å­èä¸é¢ï¼8.31ï¼35åéï¼æ¶å¿ï¼\n\nåå¿éå½ï¼å¼ççç­¾ï¼ç®ä¸­æ äºº\n\n\n# 18. æ·å¤©äºé¢ï¼9.2ï¼40åéï¼è´ï¼\n\n\n# 19. å¾ç©äºé¢ï¼9.2ï¼20åéï¼èï¼\n\n\n# 20. å¾ç©ä¸é¢ï¼9.3ï¼20åé\n\n\n# 21. è®¯é£ä¸é¢ï¼9.5ï¼40åé\n\n\n# 22. å¯åä¼ä¸é¢ï¼9.5ï¼60åé',normalizedContent:'# 00. ä¸å¾ä¸é¢ï¼7.10ï¼70åéï¼è´ï¼\n\n\n# 01. ç¨åä¸é¢ï¼7.27ï¼60åéï¼èï¼\n\n 1.  èªæä»ç»\n\n 2.  éåç±»æåªäº\n\n 3.  è¿äºéåæ¯çº¿ç¨å®å¨å\n\n 4.  hashmapåºå±åç\n\n 5.  ä¸ºä»ä¹ä¸ç¨å¤´ææ³\n\n 6.  ç¨äºå°¾ææ³å°±çº¿ç¨å®å¨äºå\n\n 7.  ä¿è¯çº¿ç¨å®å¨å ç§æ¹å¼\n\n 8.  synchronizedéåçº§è¿ç¨\n\n 9.  threadlocalåç\n\n 10. threadlocaléè¦æ³¨æçå°æ¹\n\n 11. volatileä½ç¨\n\n 12. volatileåç\n\n 13. ç¼å­åä¸»å­å¨æä½ç³»ç»\\cpuæä¹å¼ç(mesi)\n\n 14. åå¾åæ¶æåªäºåæ¶ç®æ³\n\n 15. ä»åªäºå¯¹è±¡å¼å§æ è®°\n\n 16. ä¸è²æ è®°æ³\n\n 17. cmsåg1æ¶éå¨æ¶éè¿ç¨\n\n 18. g1ä¸­ä¸ºä»ä¹ååregion\n\n 19. redisæåªäºæ°æ®ç»æ\n\n 20. redisæä¹ç»hashä¸­åç¬çkeyè®¾ç½®è¿ææ¶é´\n\n 21. aofårdb\n\n 22. rediså­ç¬¦ä¸²åºå±åæ¥è¯¢è¿ç¨ç¨çåªäºæ°æ®ç»æ\n\n 23. rabbitmqåkafkaåçæºå¶æ¯ä»ä¹\n\n 24. rabbitmqåkafkaæä¹ä¸ä¸¢å¤±æ°æ®\n\n 25. mysqlç´¢å¼ä¸è¬æä¹ç¨\n\n 26. æåªå ç§ç´¢å¼\n\n 27. undo log å redo logç¨æ¥å¹²å¥ç\n\n 28. è¯´è¯´æ°æ®é¡µ\n\n 29. ä»ç»ä¸ä¸é¡¹ç®,ä»¥åé¾ç¹æä¹è§£å³\n\n 30. èå¤©\n\n\n# 02. ç¨åäºé¢ï¼8.02ï¼40åéï¼è´ï¼\n\nä¸¤ä¸ªé¢è¯å®èé¡¹ç®ï¼äºçº§ç¼å­ï¼redisï¼æ¶æ¯ä¸­é´ä»¶å¯é æ§\n\n\n# 03. å¿«æä¸é¢ï¼8.08ï¼60åéï¼èï¼\n\n 1. èªæä»ç»\n 2. æææä¹å®ç°\n 3. è¿æ»¤å¨åæ¦æªå¨åºå«ï¼ä½¿ç¨åºæ¯\n 4. redisæä¹ç¨ï¼ä¸äºåºå±æ°æ®ç»æ\n 5. kafkaåç\n 6. threadlocalåç\n 7. volatileä½ç¨\n 8. ææ\n    1. åä¾æ¨¡å¼\n    2. ä¸¤ä¸ªæ´æ°ï¼è¾åºa/bå¾ªç¯å°æ°é¨åï¼ä¾å¦0.1234234234ï¼è¾åº234ãï¼è¿é¢åäº25åéï¼\n 9. åé®\n\nåå¥½ä¸å°æ¶ã\n\n\n# 04. å¿«æäºé¢ï¼8.15ï¼60åéï¼èï¼\n\n 1.  é¡¹ç®ä»ç»\n\n 2.  è¡¨æä¹è®¾è®¡ç\n\n 3.  ab acä¸¤ä¸ªèåç´¢å¼\n     \n     1. select * from t where a = 3;ç¨åªä¸ªç´¢å¼\n     2. select b from t where a = 3;ç¨åªä¸ªç´¢å¼\n\n 4.  ä¸»ä»å¤å¶\n\n 5.  å¨ä»ä¹ç³»ç»é¨ç½²ç\n\n 6.  linuxå¸¸ç¨å½ä»¤ï¼æ¥çè¿ç¨å½ä»¤ãæ¥çå ç¨\n\n 7.  é¨ç½²å ç¨åå­è®¾ç½®å¤å°\n\n 8.  æå®äºåªä¸ªåå¾åæ¶å¨\n\n 9.  g1åcmsåºå«ï¼mixedgcä»ä¹æ¶åè§¦å\n\n 10. çº¿ç¨æ± åæ°ï¼å·ä½è¡¨ç¤ºä»ä¹\n\n 11. å³é­çº¿ç¨æ± æä¹å³é­\n\n 12. æä¹æ¥çgcæåµ\n\n 13. zsetåæè¡ï¼keyï¼valueæä¹è®¾è®¡\n\n 14. ç¶åæçè§å°ï¼ä½ é¡¹ç®å¹²å¥\n\n 15. zsetåºå±æ°æ®ç»æï¼ä»ç»ä¸ä¸è·³è¡¨\n\n 16. ä»ç»ä¸ä¸raftï¼ä¸ºå¥åè¿ä¸ªï¼ä»ç»ä¸ä¸rocksdb\n\n 17. 1ä¸äº¿ä¸ªåç´ ï¼æä¹æåº\n\n 18. æµè§å¨è¾å¥ä¸ä¸ªç½åè¿ç¨\n     \n     ï¼45 minsï¼\n\n 19. ææ\n     \n     1. ä¸¤ä¸¤äº¤æ¢é¾è¡¨\n     2. äºåæ ç»è®¡æ ¹å°å¶å­èç¹çææè·¯å¾å\n\n 20. åé®\n\n(1 h)\n\n\n# 05. äº¬ä¸ä¸é¢ï¼8.16ï¼53åéï¼ï¼ï¼\n\n 1.  èªæä»ç»\n 2.  è¯¦ç»ä»ç»å¶ä¸­ä¸ä¸ªé¡¹ç®\n 3.  æ¶è·äºä»ä¹\n 4.  zsetåé¨å®ç°\n 5.  b+æ ç¨å¨ä»ä¹å°æ¹\n 6.  ä»ç»raftç®æ³ï¼ä¸ºä»ä¹å®ç°è¿ä¸ªraftç®æ³\n 7.  ææ\n     1. å­ç¬¦ä¸²æ°å­å æ³\n     2. æ»å¨çªå£æå¤§å¼\n 8.  javaéä¼åéåï¼listçå®ç°ç±»æåªäºï¼çº¿ç¨å®å¨åï¼æçº¿ç¨å®å¨çlistçå\n 9.  linkedlistçä¸äºapiçæ¶é´å¤æåº¦ï¼å¯¹äºæåºçé¾è¡¨ï¼è½å å¿«æ¥è¯¢å\n 10. ç¨æ·å¨ä½ çé¡¹ç®ç«ç¹ä¸åèµ·ä¸ä¸ªè¯·æ±ä¹åä¼åçä»ä¹\n 11. ä½ çæè¿ä¹å¤ç§æ°æ®åºï¼ä½ æ»ç»ä¸ä¸ä»ä»¬çåºç¨åºæ¯\n 12. ä½ åªéäººï¼ä¸ºä»ä¹æ¥åäº¬\n 13. åå è¿ä»ä¹ç¤¾å¢\n\n\n# 06. è¾è®¯ä¸é¢ï¼8.18ï¼70åéï¼è´ï¼\n\n 1. ææ\n    1. å¤æ­åé¾è¡¨æ¯å¦æç¯\n    2. lruç¼å­\n    3. æåºç©éµä¸­ç¬¬kå°çåç´ \n 2. ä½ å®ç°çraftæåºç¨å°å®éåºæ¯åï¼ä½ æä¹å¤æ­æµè¯\n 3. raftåpaxosçåºå«\n 4. å®ç°raftæä»ä¹æ£æçé®é¢\n 5. åå¸å¼äºå¡ä¸­ï¼å±è¯ç®æ³æä»ä¹ç¨å¤\n 6. mysqlæ¯æä¹å®ç°åæºçäºå¡\n 7. ä»ç»ä¸ä¸mysqlç´¢å¼ï¼b+æ æä»ä¹å¥½å¤\n\n\n# 07. å­èä¸é¢ï¼8.21ï¼57åéï¼èï¼\n\n 1.  æ­»æ£é¡¹ç®\n 2.  è¡¨è®¾è®¡äºåªäº\n 3.  tcpä¸æ¬¡æ¡æ\n 4.  httpç¶æç \n 5.  é»å¡ioä¸éé»å¡io\n 6.  ioå¤è·¯å¤ç¨\n 7.  redisä½¿ç¨åºæ¯\n 8.  rdbåaofåºå«ï¼ä¼ç¼ºç¹\n 9.  mqä½ç¨\n 10. æ¶è´¹å¤±è´¥æä¹å¤ç\n 11. å¹ç­æä¹å\n 12. b+æ åbæ åºå«ï¼ä¼ç¼ºç¹\n 13. åè¡¨\n 14. spring iocåaopåç\n 15. ä¸ºä»ä¹ä¸é½ç¨cglibæ¥åå¨æä»£ç\n 16. ææ\n     1. æ¥è¯¢éæå¦ä¸è¿äºï¼é®æä¹åå»ºç´¢å¼\n        1. where a = xx;\n        2. where b = xx;\n        3. where c = xx;\n        4. where a = xx and b = xx and c = xx;\n     2. åsqlï¼å­¦çè¡¨ï¼æç»©è¡¨ãæ¥åºæææ»åä½äº100çç·ç\n     3. å¤æ­ä¸¤ä¸ªäºåæ æ¯å¦ç¿»è½¬ç­ä»·ãç¿»è½¬å·¦å³å­©å­\n\n\n# 08. äº¬ä¸ä¸é¢ï¼8.23ï¼35 åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  è¯¦ç»ä»ç»raftç®æ³ï¼æåªäºå¼æºç®æ³ä½¿ç¨è¿ä¸ªç®æ³ï¼è¯¦ç»æä¹ä½¿ç¨ç\n 3.  é²èéææ¯é®é¢\n     1. é®ææ²¡æå®ä¹ ï¼å®éªå®¤æ¯å¦æé¡¹ç®\n     2. ä¸ºä»ä¹éæ©åç«¯å¼åï¼èä¸è§åååå·¥ç¨å¼åï¼è¿æ¯æ°æ®æ¹å\n     3. èæçç ç©¶æ¹åï¼ä¸ç»´éå»ºï¼ï¼ä»ç»æçç ç©¶ç¹\n     4. åè¿ä¸ªéå°äºä»ä¹å°é¾ï¼æä¹è§£å³ç\n     5. å¯¹èªå·±çè®¤è¯ï¼ä¼ç¼ºç¹\n 4.  è®²ä¸ä¸é¢åå¯¹è±¡åé¢åè¿ç¨ï¼æä»ä¹åºç¨åºæ¯\n 5.  é¢åå¯¹è±¡çä¸å¤§ç¹æ§\n 6.  ä»ç»ä¸¤ç§è®¾è®¡æ¨¡å¼\n 7.  ä»ç»ä¸ä¸spring\n 8.  aopæä»ä¹åºç¨åºæ¯\n 9.  ç»ä½ è®¾è®¡ä¸ä¸ªæå¡ï¼æç¨æ·çä¿¡æ¯ï¼éè¦å­å°è¿ä¸ªæå¡ä¸­ï¼ç¶åä¹æä¾æ¥è¯¢åè½ï¼è®²ä¸ä¸ä½ çè®¾è®¡ï¼æèçç¹ã\n 10. åé®\n\n\n# 09. èæ³ä¸é¢ï¼8.24ï¼30åéï¼è´ï¼\n\n 1. èªæä»ç»\n 2. é²èï¼æå®ä¹ åï¼åèä¸ç»´éå»º\n 3. å±äº«å±å¹ï¼å±ç¤ºä¸ä¸ä½ çé¡¹ç®ï¼æ²¡æãç¶ååè®²äºä¸ä¸å»å¹´çæ°å­¦å»ºæ¨¡ç«èµï¼å»ç½ä¸ä¸è½½äºä¸ä»½é¢ç®ãä»ç»äºä¸ä¸åå·¥\n 4. è¯´githubæä»£ç åï¼ä¸è½½äºä¸ä»½æå¼è®²ï¼å¯¹çä»£ç è®²ãæåºï¼ä¸ºä»ä¹èµ·è¿ä¸ªç±»åï¼ä¸ºä»ä¹è¯´mysqlæ¥è¯¢æ¢ï¼è¯´æè¿ä¸ªæ°æ®éï¼å°±ç®mysqlæ¥ä¹å¾å¿«ï¼æ²¡å¿è¦ç¼å­\n 5. åé®\n\n\n# 10. å­èäºé¢ï¼8.24ï¼70åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  è¯¦ç»é®å¶ä¸­ä¸ä¸ªé¡¹ç®çå®ç°ç»è\n 3.  è®¤è¯ææè¿ç¨è¯¦ç»ä»ç»ä¸ä¸ï¼jwtç»æé¨åï¼jwtè¦æ³¨æåªäºé®é¢\n 4.  kafkaæ¶æ¯æéæä»ä¹ç¹ç¹\n 5.  kafkaæ¶æ¯çæ¶è´¹é¡ºåºæ§\n 6.  ä»ç»ä¸ä¸å¶å®ç±»ä¼¼çmqï¼åºå«\n 7.  ææï¼ä¼è®®å®¤2\n 8.  è¦è®¿é®ä¸ä¸ªç«ç¹ï¼ä»ç»ä¸ä¸è®¿é®çè¿ç¨ï¼å¸¸è§çè´è½½åè¡¡ç­ç¥ï¼ååè§£æè¿ç¨\n 9.  ç°å¨ç¨çipv4ï¼ä¸ºä»ä¹è¦æ¨å¹¿ipv6\n 10. ç»ä¸ä¸ªåºæ¯ï¼åå¦ä½ æ¯ä¸ä¸ªè§é¢ç½ç«çåå°ç»´æ¤äººåï¼åç°åä¸å¤©çæ­æ¾ééª¤åãè®²ä¸ä¸ä½ çææ¥æè·¯\n 11. æè¿çäºä»ä¹ææ¯çä¹¦ï¼ä»¥åçææ¯æ¹å\n\n\n# 11. ç¾å¢ä¸é¢ï¼8.24ï¼70åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  é²èï¼ç ç©¶æ¹å\n 3.  è®²ä¸ä¸ªä½ é¡¹ç®ä¸­çäº®ç¹ï¼æä»ä¹è®²ç©¶çç¹\n 4.  åè®¾ä½ è¿ä¸ªqpsä¸æ¯è¦æåå°4000äºï¼è¦æåå°4wï¼ä½ æä»ä¹ä¼åæ¹æ³\n 5.  ä¸ºä»ä¹ç¨jwtï¼æå¶å®ç»å½å­è¯ä¿å­æ¹å¼å\n 6.  jwtè¿ä¸ªåç¨ï¼çå·ï¼æä¹è§£å³\n 7.  æ°ç»åé¾è¡¨ä¼ç¼ºç¹\n 8.  stringæ¯ä¸æ¯åºæ¬ç±»åï¼å¯ä»¥è¢«ç»§æ¿åãç¨newåå»ºï¼å""æä»ä¹åºå«\n 9.  ä¿è¯çº¿ç¨å®å¨æä»ä¹æ¹æ³\n 10. javaéååéï¼è½»éçº§éï¼ééçº§éä»ç»ä¸ä¸\n 11. full gcè§¦åæ¡ä»¶\n 12. å¨æè§åååæ²»æä»ä¹å¼åï¼ä»ä¹æåµå¿é¡»ç¨å¨æè§å\n 13. redisä¸è´æ§åå¸ç®æ³ä»ç»ä¸ä¸\n 14. tcpåudpç¹ç¹\n 15. cookieåsessionåºå«\n 16. äºå¡çéç¦»çº§å«ï¼æä»ä¹åºå«\n 17. ææï¼éæé¾è¡¨\n 18. åé®\n\n\n# 12. äº¬ä¸äºé¢ï¼8.25ï¼30åéï¼è´ï¼\n\n 1. èªæä»ç»\n 2. ä½ çèä¸è§åæ¯ä»ä¹ï¼æä¹åå°å¢\n 3. ä½ ææ³å»åä¸ä¸ªçå¬å¸\n 4. ææï¼ç»ä¸ä¸ªæ°ç»ï¼ç¨ä¸ä¸ªçº¿ç¨è½®æµå»è¯»æ°ç»ä¸­çåç´ \n 5. åé®\n\n\n# 13. æ·å¤©ä¸é¢ï¼8.26ï¼50åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  ä»ç»é¡¹ç®å®ç°çä¸ä¸ªé¾ç¹äº®ç¹\n 3.  ä»ç»kafkaæ¶æ\n 4.  æ¶æ¯æéæä¸ä»æä¸æ¬¡è¯­ä¹æ¯æä¹å®ç°ç\n 5.  kafkaæ©å±brokerè¿ç¨\n 6.  è´è½½åè¡¡æåªå ç§\n 7.  kafkaæ¶è´¹æ¶æ¯çå®æ¶æ§æä¹æ ·\n 8.  kafkaç­è½®è¯¢æåªäºä¼åæ¹æ³\n 9.  å®ç°é¿è½®è¯¢ï¼å¨äºå±ç½ç»ä¸­ï¼æ¯æä¹ä¸ªè¿ç¨\n 10. jdk8å°jdk20çï¼è¯´ä¸ä¸æ°ç¹æ§\n 11. jdk21èæçº¿ç¨åçº¿ç¨æä»ä¹åºå«\n 12. è¦ä½ å®ç°javaçèæçº¿ç¨ï¼ä½ è§å¾æä»ä¹é¾ç¹\n 13. java8åjava9çç±»å è½½æºå¶æä»ä¹åºå«\n 14. ç±»å è½½æºå¶ä¸»è¦å¨åªäºåºæ¯ï¼osgiäºè§£ä¹\n 15. ä»ç»ä¸ä¸iocåaopæ¦å¿µï¼åç\n 16. javaågoé£æ ·ï¼ç¼è¯æexeäºè§£ä¹\n 17. è¯´ä¸ä¸ªä½ çæçå°æ¹å§ï¼æ°æ®åºï¼ï¼mysqläºå¡æ¯æä¹å®ç°ç\n 18. é²èï¼ä¸ºä»ä¹ååç«¯ï¼äººå·¥æºè½ç­ç¹é£å£æä¹ç\n 19. åé®\n\n\n# 14. å¾ç©ä¸é¢ï¼8.27ï¼30åéï¼èï¼\n\n 1.  èªæä»ç»\n 2.  ä»ç»ä¸ä¸tcp/ipåè®®ï¼åä¸ªå±\n 3.  å å¯å®å¨ä¼ è¾æä¹å\n 4.  é¢åå¯¹è±¡ç¸æ¯é¢åè¿ç¨æä»ä¹å¥½å¤\n 5.  éæ°æ¿æ¢åå\n 6.  æåªäºæ çæ°æ®ç»æï¼åå«ä»ä¹åºæ¯\n 7.  å¤çº¿ç¨ç¨ä¹ï¼ä¸ºä»ä¹ç¨çº¿ç¨æ± å¢ï¼è¦æ³¨æåªäºä¸è¥¿\n 8.  ä»ä¹æ¯çº¿ç¨å®å¨ï¼æä¹ä¿è¯çº¿ç¨å®å¨\n 9.  spring iocådiæä»ä¹åºå«\n 10. äºè§£åªäºmqï¼ç¼å­ï¼æ°æ®åºï¼åå«ä»ä¹åºæ¯\n 11. åé®\n\n\n# 15. å¿«æä¸é¢ï¼8.28ï¼60åé\n\n 1. èªæä»ç»\n 2. é²è\n 3. ç»é®ç®åä¸­çé¡¹ç®ï¼ç¨äºinfluxdbï¼ä¸ºä»ä¹influxdbæ¥è¯¢å¿«\n 4. è®©ä½ ææ¥qpsçç¶é¢ï¼æä¹ææ¥\n 5. ç¹èµç³»ç»ï¼ç¹èµæä¹åçå\n 6. ä½ mysqlç¨ç¨æ·idååºåè¡¨ï¼é£åå¦ä½ è¦ä¸ä¸ªæ¥ä¸ä¸ªå¸å­ï¼è¢«è°ç¹èµäºï¼ä½ æä¹å\n 7. èå®¶æ¯åªçï¼ä¸ºä»ä¹æ³æ¥å¿«æï¼å¯¹æªæ¥æä»ä¹æç®\n 8. ææï¼ç»ä½ ä¸ä¸ªåææ°ï¼è¿åä»ä¸ä¸ä¸ªåææ°ã121ï¼ä¸ä¸ä¸ª131\n 9. åé®\n\n\n# 16. ç¾å¢äºé¢ï¼8.28ï¼60åéï¼è´ï¼\n\n 1.  èªæä»ç»\n 2.  ç»é®é¡¹ç®ï¼ä¸ºä»ä¹ç¨kafkaï¼ç¨kafkaéå°ä»ä¹é®é¢å\n 3.  ä¸»æåå®¢ææä¹å\n 4.  ä¸ºä»ä¹ç¨influxdb\n 5.  ä»ä¹æ¯ioå¤è·¯å¤ç¨ï¼é£ä¸ç§æä»ä¹åºå«ï¼è¾¹ç¼è§¦åè¿æ¯æ°´å¹³è§¦å\n 6.  ä¸ºä»ä¹ç¨caffeine\n 7.  æå±çä¸ä¸ä½ çææï¼æå¼githubçäºçæªå¾\n 8.  mysqlç´¢å¼æä¹å»ºç\n 9.  http1.1ï¼2.0ï¼3.0åºå«\n 10. é²è\n\n\n# 17. å­èä¸é¢ï¼8.31ï¼35åéï¼æ¶å¿ï¼\n\nåå¿éå½ï¼å¼ççç­¾ï¼ç®ä¸­æ äºº\n\n\n# 18. æ·å¤©äºé¢ï¼9.2ï¼40åéï¼è´ï¼\n\n\n# 19. å¾ç©äºé¢ï¼9.2ï¼20åéï¼èï¼\n\n\n# 20. å¾ç©ä¸é¢ï¼9.3ï¼20åé\n\n\n# 21. è®¯é£ä¸é¢ï¼9.5ï¼40åé\n\n\n# 22. å¯åä¼ä¸é¢ï¼9.5ï¼60åé',charsets:{cjk:!0}},{title:"FlashFusionè®ºæéè¯»",frontmatter:{title:"FlashFusionè®ºæéè¯»",date:"2022-04-08T11:01:06.000Z",permalink:"/pages/a2be9b/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/07.FlashFusion%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/07.FlashFusionè®ºæéè¯».md",key:"v-46223bf5",path:"/pages/a2be9b/",headers:[{level:3,title:"Robust Global Consistent Localization",slug:"robust-global-consistent-localization",normalizedTitle:"robust global consistent localization",charIndex:2},{level:3,title:"Efficient TSDF Fusion",slug:"efficient-tsdf-fusion",normalizedTitle:"efficient tsdf fusion",charIndex:112}],headersStr:"Robust Global Consistent Localization Efficient TSDF Fusion",content:"# Robust Global Consistent Localization\n\nå±é¨å¯¹é½ å½åå¸§åä¸ä¸ä¸ªå³é®å¸§è¿è¡ORBç¹å¾å¹éå¯¹é½ã\n\nå¨å±å¯¹é½ å¦æå½åå¸§æ¯å³é®å¸§ï¼åä¸åå²ææçå³é®å¸§è¿è¡ORBç¹å¾å¹éå¯¹é½ã\n\n\n# Efficient TSDF Fusion\n\nä¸è¬çTSDFæ¨¡åéè¦èåå½åè§é¥ä¸ææä½ç´ ãéè¿åæå¯ç¥ï¼å¯¹è¡¨é¢çæ­£ææçä½ç´ åªæé»è²é¨åï¼ç°å¨æ³åæ³å°±æååºé»è²é¨åçä½ç´ è¿è¡èåå³å¯å å¿«æ¶é´ã\n\n",normalizedContent:"# robust global consistent localization\n\nå±é¨å¯¹é½ å½åå¸§åä¸ä¸ä¸ªå³é®å¸§è¿è¡orbç¹å¾å¹éå¯¹é½ã\n\nå¨å±å¯¹é½ å¦æå½åå¸§æ¯å³é®å¸§ï¼åä¸åå²ææçå³é®å¸§è¿è¡orbç¹å¾å¹éå¯¹é½ã\n\n\n# efficient tsdf fusion\n\nä¸è¬çtsdfæ¨¡åéè¦èåå½åè§é¥ä¸ææä½ç´ ãéè¿åæå¯ç¥ï¼å¯¹è¡¨é¢çæ­£ææçä½ç´ åªæé»è²é¨åï¼ç°å¨æ³åæ³å°±æååºé»è²é¨åçä½ç´ è¿è¡èåå³å¯å å¿«æ¶é´ã\n\n",charsets:{cjk:!0}},{title:"Surfel Meshing",frontmatter:{title:"Surfel Meshing",date:"2022-04-19T11:01:06.000Z",permalink:"/pages/7bbbf3/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/03.Surfel%20Meshing%20.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/03.Surfel Meshing .md",key:"v-4ae78607",path:"/pages/7bbbf3/",headers:[{level:3,title:"ä¸ãSurfel Reconstruction",slug:"ä¸ãsurfel-reconstruction",normalizedTitle:"ä¸ãsurfel reconstruction",charIndex:312},{level:4,title:"Surfel sè¡¨ç¤º",slug:"surfel-sè¡¨ç¤º",normalizedTitle:"surfel sè¡¨ç¤º",charIndex:514},{level:4,title:"æ°æ®å³èã",slug:"æ°æ®å³èã",normalizedTitle:"æ°æ®å³èã",charIndex:591},{level:4,title:"æµéèå",slug:"æµéèå",normalizedTitle:"æµéèå",charIndex:901},{level:4,title:"åç¯æ£æµ",slug:"åç¯æ£æµ",normalizedTitle:"åç¯æ£æµ",charIndex:479},{level:3,title:"äºãSurfel Denosing",slug:"äºãsurfel-denosing",normalizedTitle:"äºãsurfel denosing",charIndex:1182},{level:4,title:"Regularization",slug:"regularization",normalizedTitle:"regularization",charIndex:1276},{level:4,title:"Observation Boundary Blending",slug:"observation-boundary-blending",normalizedTitle:"observation boundary blending",charIndex:1454},{level:3,title:"Meshing",slug:"meshing",normalizedTitle:"meshing",charIndex:1593},{level:4,title:"Spatial access",slug:"spatial-access",normalizedTitle:"spatial access",charIndex:1676},{level:4,title:"Triangulation",slug:"triangulation",normalizedTitle:"triangulation",charIndex:1756},{level:3,title:"Remeshing",slug:"remeshing",normalizedTitle:"remeshing",charIndex:2249},{level:4,title:"è¯å«æ­¥éª¤",slug:"è¯å«æ­¥éª¤",normalizedTitle:"è¯å«æ­¥éª¤",charIndex:2424}],headersStr:"ä¸ãSurfel Reconstruction Surfel sè¡¨ç¤º æ°æ®å³èã æµéèå åç¯æ£æµ äºãSurfel Denosing Regularization Observation Boundary Blending Meshing Spatial access Triangulation Remeshing è¯å«æ­¥éª¤",content:"# Surfel-Based Mesh Reconstruction\n\nè¯¥ç®æ³æ¯è¾å¥æ¯RGB-Då¾åæµï¼åéè¿SLAMç³»ç»æ±åºçç¸æºä½å§¿ï¼ElasticFusionï¼ï¼è¯¥ç®æ³ç±åå¤§é¨åç»æ\n\nsurfel reconstructionï¼éç¨ElasticFusionçæ¹å¼è¿è¡é¢åéå»ºï¼\n\nsurfel denoisingï¼åæ°ç¹ï¼\n\nmeshingï¼éç¨A fast and efficient projection-based approach for surface reconstructionç±»ä¼¼æ¹æ³ï¼\n\nremeshingï¼åæ°ç¹ã\n\nåä¸¤é¨åä¸»è¦æ¯å¯¹ç¹äºè¿è¡å¤çï¼åä¸¤é¨åä¸»è¦æ¯å¯¹ç¹äºè¿è¡ç½æ ¼ä¸è§åã\n\n\n# ä¸ãSurfel Reconstruction\n\næä»¬çç®æ³æ¯å¯¹ä¸ä¸ªsurfel cloudè¿è¡ä¸è§ååãä¸ºéå»ºåºè¿äºcloudï¼æä»¬éç¨ElasticFusionï¼ä»¥ä¸éè¿°è¿ç§ç®æ³ä»¥åæä»¬çä¿®æ¹ã\n\nä»RGB-Då¾åè¾å¥æµä¸­ï¼æ°æ¥ä¸å¸§å¾åæ¶ï¼æ°æ®å³èæ­¥éª¤ä¼å³å®æ·±åº¦æµéå¼æ¯åå»ºä¸ä¸ªæ°çsurfelè¿æ¯ç¨æ¥ä¿®æ­£å·²æçsurfelãå¯¹äºåç¯æ£æµé¨åï¼surfel cloudä¼åå½¢å¯¹é½å°å¹éçè¡¨é¢ã\n\n# Surfel sè¡¨ç¤º\n\nåæ é¢è²æ³åéç½®ä¿¡åº¦åå¾åå»ºæ¶é´æåæ´æ°æ¶é´{Psåæ csé¢è²nsæ³åéÏsç½®ä¿¡åº¦rsåå¾ts,0åå»ºæ¶é´tsæåæ´æ°æ¶é´\n\n# æ°æ®å³èã\n\n~~ç±»ä¼¼äº[24]ï¼æä»¬æå½±surfelså°å½åå¸§å¾åï¼å³å®åªä¸ªæ·±åº¦æµéå¼å³èå·²å­å¨çsurfelsãä¸ºäºå³å®åªä¸ªsurfelæå½±å°åªä¸ªpixelï¼[24]åå»ºäºä¸ç§super-sampled ç´¢å¼å¾æ¥æ¸²æææsurfelsï¼ ä½ä»ç¶åéäºåè¾¨çãæä»¬éè¿å§ç»ç´æ¥ä»æå½±æä½çç»æä¸­è·åé¢åç´¢å¼æ¥æ¹è¿è¿ä¸ç¹ã å¯¹äºè·åæ°æ®å³èï¼~~æ¯ä¸ªsurfeléå¯¹æå½±å°åç´ ï¼ä»¥åè¿ä¸ªåç´ ç¸é»åç´ è¿è¡è¯ä¼°ï¼ä½¿ç¨ä¸ä¸ªç®åæ¨¡åï¼æµéæ·±åº¦ä¸ºzï¼å¯¹äºç¦»è¿ä¸ªåç´ è·ç¦»å¨[(1âÎ³)z,(1+Î³)z]åçsurfelï¼ç§°ä¸ºæ¯æsufelï¼å¨å°äºåºé´çæå°å¼ï¼ç§°ä¸ºå²çªsurfelï¼å¤§äºåºé´çæå¤§å¼ï¼åç§°ä¸ºå ç¨surfelã\n\n# æµéèå\n\næä»¬ä¸ºæ²¡æå³èå°å²çªsurfelæèæ¯æsurfelçåç´ ç¹åå»ºä¸ä¸ªæ°çsurfelãåå§åsurfelçå¼ï¼åå¾rç±ä¸å¼è®¡ç®ï¼p(x,y)æ¯åç´ ç¹(x,y)å¯¹åºç3Dåæ ã\n\n\n\nå¨å¾åç©ºé´ä¸­åå¾åçåç´ ä½ä¸ºç´æ¥é»å±ï¼è¿èæ¨ç®åº3Dç©ºé´ä¸­surfelçé»å±ä»¥åä¸é»å±çè·ç¦»ã\n\nå[24]é£æ ·èåå½åsurfelï¼ä¸åçæ¯æä»¬å°å¶èåå°æ¯æsurfelsä¸­ï¼å°å½åçsurfelä¸æ¯ä¸ªæ¯æçsurfelä½¿ç¨ä¸å¼è¿è¡å æå¹³åãæéÏç±æææ¯æsurfelsä¸ªæ°çåæ°ã\n\n# åç¯æ£æµ\n\nè¯¥é¨ååElasticFusionä¸­çåç¯æ£æµç¸ä¼¼ã\n\n\n# äºãSurfel Denosing\n\nå°½ç®¡å¨èåsurfelæ¶ç¨çå æå¹³åï¼ä½å¨surfelè¿æ¯å­å¨å¾å¤åªå£°ï¼å¨èåæ·±åº¦å¾çè¾¹çå¯è½åºç°ä¸è¿ç»­çç¹ï¼æä»¬ä½¿ç¨æ··åçæ¹å¼å¤çè¿ä¸ªé®é¢ã\n\n# Regularization\n\næ­£ååçç®çæ¯ä¿æä¸ä¸ªå¹³æ»çsurfelï¼åå°ä¸é»è¿çsurfelä¹é´çåªå£°ãå¯¹surfelçç»æè¿è¡æ©å±ï¼ps,åä¸ªé»å±surfelçä¸æ ç´¢å¼Nsï¼ç¨æ¥å éè®¡ç®æ¢¯åº¦ä¸´æ¶å­å¨ãæ¯ä¸ªé¢åçéåªåçä½ç½®åå³äºé»å±çéåªåçä½ç½®ï¼é»å±ååå³äºé»å±çé»å±ï¼ä»¥æ­¤ç±»æ¨ã\n\néè¿ä¼åä¸¤ä¸ªè¯¯å·®é¡¹ï¼æ¥æ´æ°surfelçä½ç½®åæ³åéã\n\n# Observation Boundary Blending\n\nä½¿ç¨ç®æ³1ï¼æ¥é¿åï¼å¨ä¼åä¹åï¼åºç°è§å¯åæ²¡è§å¯çè¾¹çä¹é´ä¸è¿ç»­çæåµã\n\n\n\næç§ç®æ³1æµç¨ï¼å°ç°è²çç¹çæ·±åº¦çº¿æ§é è¿å°é»è²è¡¨é¢ã\n\n\n\næåä½¿ç¨icpå°ä¹åéå»ºå¥½çç¹ï¼é»è²ï¼å¯¹é½å°å½åçç¹ï¼ç°è²ï¼ã\n\n\n\n\n# Meshing\n\næä»¬éè¦ä¸ä¸ªéå¸¸å¿«çå°ºåº¦æ å³çç½æ ¼ç®æ³ï¼æ¥å¯¹æ°ç¾ä¸surfelè¿è¡ä¸è§ç½æ ¼åãå¯¹äºmeshingç½æ ¼åä½¿ç¨[22]ã[23]ï¼å¹¶ä½å°çä¿®æ¹ã\n\n# Spatial access\n\nç½æ ¼ååç®æ³éè¦å¿«éåç¡®å°æ¾å°ä¸ä¸ªsurfelåå¾åææå¶ä»surfelãå æ­¤éè¦ä¸ä¸ªç©ºé´è®¿é®ç»æãä½¿ç¨å«åæ è¿è¡å­å¨ã\n\n# Triangulation\n\nç½æ ¼ååç®æ³è´ªå©ªå°éåææsurfelsï¼å¹¶å¯¹æ¯ä¸ªsurfelä¸å®é»è¿çsurfelsè¿è¡å±é¨ä¸è§åï¼ä»¥å¢å ç½æ ¼ãæ¯ä¸ä¸ªsurfelæä¸ç§ç¶æï¼\n\n 1. free æ²¡æéå¸¦ä¸è§å½¢ã\n 2. front å¨ä¸è§ç½æ ¼çè¾¹çä¸ã\n 3. completed å¨ä¸è§ç½æ ¼éã\n\næææ°çsurfelé½ä¸ºfreeç¶æãç®æ³éåææçæ°çsurfel.......\n\nå¯¹äºéåå°æsurfelï¼ä½¿ç¨surfelçåå¾æ¥è¿è¡æç´¢srufelï¼å¦æå½åsurfelå¨ç½æ ¼è¾¹çä¸ï¼ä¸è¾¹çé»å±å¨åå¾å¤ï¼æä»¬å°±æ©å±æç´¢åå¾ä¸º2åï¼ä»¥åå«è¿äºé»å±ãå°ææçé»å±surfelæå½±å°å½åsurfelçåå¹³é¢ä¸ï¼å¯¹äºæå½±åçsurfelä¸å¯è§ï¼æèæ³åéç¸å·®å¤ªå¤ï¼å°±ä¸¢å¼è¯¥æå½±ãå¦ä¸å¾ã\n\n\n\nå¦æå½åsurfelæ¯freeç¶æï¼åé¦åå°è¯åå»ºä¸ä¸ªåå§ä¸è§å½¢ï¼å¦ä¸å¾ã\n\n\n\nå°å½åsurfelçææé»å±æè§åº¦è¿è¡æåºï¼ç¸é»ä¸¤ä¸ªé»å±ä¹é´æä¸ºç©ºéï¼å¦æç¸é»ä¸¤ä¸ªé»å±ä¹é´çå¤¹è§è¿å¤§ï¼åä¼å½¢æç­çªçä¸è§å½¢ï¼åä¼ä¸¢å¼è¯¥ä¸è§å½¢ã\n\n\n\næåéè¿ä¸è§å½¢å¡«åå®ææç¸é»é»å±ä¹é´çç©ºéã\n\n\n\n\n# Remeshing\n\nå½surfelsç§»å¨æåå»ºæ°çsurfelsæ¶ï¼ç½æ ¼çç°æé¨åå¯è½ä¼è¿æ¶ï¼éè¦ææå°æ´æ°ãå¯¹æ­¤ï¼æä»¬æåºçæ¹æ³å·¥ä½å¨ç°æç½æ ¼ç®æ³éåæ¯ä¸ªç½æ ¼ä¹åï¼é¦åå®ä¹ä¸ç§ç½æ ¼ç¶æï¼å­å¨ä¸ä¸ªæ´ï¼ä¸å¾çeï¼çº¢è²é¨åçä¸è§å½¢ï¼è¿éä¸å¯è½çæä¸ä¸ªè¡¨é¢ï¼æä»¥æåçæ¸²æç»æä¼å­å¨ä¸ä¸ªæ´ï¼æä»¬é¦åè¦è¯å«ææçæ´ï¼ç¶åä½¿ç¨ç½æ ¼ç®æ³éå»ºé£éçè¡¨é¢ã\n\n# è¯å«æ­¥éª¤\n\nå¯¹äºä¸ä¸ªææçä¸è§å½¢ï¼å®è³å°æä¸ä¸ªé¡¶ç¹sï¼sæ¯åå«äºsæææç´¢åå¾åçé»å±ï¼ä¸æ³åéç¸ä¼¼ã\n\nä¸è§å½¢çæ³åéå¿é¡»ä¸è¿ä¸ªé¡¶ç¹sçå¨90åº¦åã\n\nå¨sçåå¹³é¢ï¼æ²¡æå¶ä»é»å±åæå½±å°è¿ä¸ªä¸è§å½¢ä¸­ï¼å¹¶ä¸è¿ä¸ªä¸è§å½¢ä¸ä¼ä¸å¦ä¸ä¸ªä¸è§å½¢ç¸äº¤ã\n\n\n\nå¦ä¸çº¢è²é¨åæ¯ä¸ä¸ªæ´ï¼å¯¼è´å¨å´å ä¸ªä¸è§å½¢é½ä¸æ¯ææçä¸è§å½¢ãæ¥ä¸æ¥å°è¿äºä¸è§å½¢ï¼ä»¥åå¯¹åºçé¡¶ç¹çä¸è§å½¢é½å é¤ï¼æååè¿è¡ä¸ä¸èä¸­çmeshingï¼å°±å¯ä»¥éå»ºåºææçæ¯è¾å¥½çè¡¨é¢ã\n\n",normalizedContent:"# surfel-based mesh reconstruction\n\nè¯¥ç®æ³æ¯è¾å¥æ¯rgb-då¾åæµï¼åéè¿slamç³»ç»æ±åºçç¸æºä½å§¿ï¼elasticfusionï¼ï¼è¯¥ç®æ³ç±åå¤§é¨åç»æ\n\nsurfel reconstructionï¼éç¨elasticfusionçæ¹å¼è¿è¡é¢åéå»ºï¼\n\nsurfel denoisingï¼åæ°ç¹ï¼\n\nmeshingï¼éç¨a fast and efficient projection-based approach for surface reconstructionç±»ä¼¼æ¹æ³ï¼\n\nremeshingï¼åæ°ç¹ã\n\nåä¸¤é¨åä¸»è¦æ¯å¯¹ç¹äºè¿è¡å¤çï¼åä¸¤é¨åä¸»è¦æ¯å¯¹ç¹äºè¿è¡ç½æ ¼ä¸è§åã\n\n\n# ä¸ãsurfel reconstruction\n\næä»¬çç®æ³æ¯å¯¹ä¸ä¸ªsurfel cloudè¿è¡ä¸è§ååãä¸ºéå»ºåºè¿äºcloudï¼æä»¬éç¨elasticfusionï¼ä»¥ä¸éè¿°è¿ç§ç®æ³ä»¥åæä»¬çä¿®æ¹ã\n\nä»rgb-då¾åè¾å¥æµä¸­ï¼æ°æ¥ä¸å¸§å¾åæ¶ï¼æ°æ®å³èæ­¥éª¤ä¼å³å®æ·±åº¦æµéå¼æ¯åå»ºä¸ä¸ªæ°çsurfelè¿æ¯ç¨æ¥ä¿®æ­£å·²æçsurfelãå¯¹äºåç¯æ£æµé¨åï¼surfel cloudä¼åå½¢å¯¹é½å°å¹éçè¡¨é¢ã\n\n# surfel sè¡¨ç¤º\n\nåæ é¢è²æ³åéç½®ä¿¡åº¦åå¾åå»ºæ¶é´æåæ´æ°æ¶é´{psåæ csé¢è²nsæ³åéÏsç½®ä¿¡åº¦rsåå¾ts,0åå»ºæ¶é´tsæåæ´æ°æ¶é´\n\n# æ°æ®å³èã\n\n~~ç±»ä¼¼äº[24]ï¼æä»¬æå½±surfelså°å½åå¸§å¾åï¼å³å®åªä¸ªæ·±åº¦æµéå¼å³èå·²å­å¨çsurfelsãä¸ºäºå³å®åªä¸ªsurfelæå½±å°åªä¸ªpixelï¼[24]åå»ºäºä¸ç§super-sampled ç´¢å¼å¾æ¥æ¸²æææsurfelsï¼ ä½ä»ç¶åéäºåè¾¨çãæä»¬éè¿å§ç»ç´æ¥ä»æå½±æä½çç»æä¸­è·åé¢åç´¢å¼æ¥æ¹è¿è¿ä¸ç¹ã å¯¹äºè·åæ°æ®å³èï¼~~æ¯ä¸ªsurfeléå¯¹æå½±å°åç´ ï¼ä»¥åè¿ä¸ªåç´ ç¸é»åç´ è¿è¡è¯ä¼°ï¼ä½¿ç¨ä¸ä¸ªç®åæ¨¡åï¼æµéæ·±åº¦ä¸ºzï¼å¯¹äºç¦»è¿ä¸ªåç´ è·ç¦»å¨[(1âÎ³)z,(1+Î³)z]åçsurfelï¼ç§°ä¸ºæ¯æsufelï¼å¨å°äºåºé´çæå°å¼ï¼ç§°ä¸ºå²çªsurfelï¼å¤§äºåºé´çæå¤§å¼ï¼åç§°ä¸ºå ç¨surfelã\n\n# æµéèå\n\næä»¬ä¸ºæ²¡æå³èå°å²çªsurfelæèæ¯æsurfelçåç´ ç¹åå»ºä¸ä¸ªæ°çsurfelãåå§åsurfelçå¼ï¼åå¾rç±ä¸å¼è®¡ç®ï¼p(x,y)æ¯åç´ ç¹(x,y)å¯¹åºç3dåæ ã\n\n\n\nå¨å¾åç©ºé´ä¸­åå¾åçåç´ ä½ä¸ºç´æ¥é»å±ï¼è¿èæ¨ç®åº3dç©ºé´ä¸­surfelçé»å±ä»¥åä¸é»å±çè·ç¦»ã\n\nå[24]é£æ ·èåå½åsurfelï¼ä¸åçæ¯æä»¬å°å¶èåå°æ¯æsurfelsä¸­ï¼å°å½åçsurfelä¸æ¯ä¸ªæ¯æçsurfelä½¿ç¨ä¸å¼è¿è¡å æå¹³åãæéÏç±æææ¯æsurfelsä¸ªæ°çåæ°ã\n\n# åç¯æ£æµ\n\nè¯¥é¨ååelasticfusionä¸­çåç¯æ£æµç¸ä¼¼ã\n\n\n# äºãsurfel denosing\n\nå°½ç®¡å¨èåsurfelæ¶ç¨çå æå¹³åï¼ä½å¨surfelè¿æ¯å­å¨å¾å¤åªå£°ï¼å¨èåæ·±åº¦å¾çè¾¹çå¯è½åºç°ä¸è¿ç»­çç¹ï¼æä»¬ä½¿ç¨æ··åçæ¹å¼å¤çè¿ä¸ªé®é¢ã\n\n# regularization\n\næ­£ååçç®çæ¯ä¿æä¸ä¸ªå¹³æ»çsurfelï¼åå°ä¸é»è¿çsurfelä¹é´çåªå£°ãå¯¹surfelçç»æè¿è¡æ©å±ï¼ps,åä¸ªé»å±surfelçä¸æ ç´¢å¼nsï¼ç¨æ¥å éè®¡ç®æ¢¯åº¦ä¸´æ¶å­å¨ãæ¯ä¸ªé¢åçéåªåçä½ç½®åå³äºé»å±çéåªåçä½ç½®ï¼é»å±ååå³äºé»å±çé»å±ï¼ä»¥æ­¤ç±»æ¨ã\n\néè¿ä¼åä¸¤ä¸ªè¯¯å·®é¡¹ï¼æ¥æ´æ°surfelçä½ç½®åæ³åéã\n\n# observation boundary blending\n\nä½¿ç¨ç®æ³1ï¼æ¥é¿åï¼å¨ä¼åä¹åï¼åºç°è§å¯åæ²¡è§å¯çè¾¹çä¹é´ä¸è¿ç»­çæåµã\n\n\n\næç§ç®æ³1æµç¨ï¼å°ç°è²çç¹çæ·±åº¦çº¿æ§é è¿å°é»è²è¡¨é¢ã\n\n\n\næåä½¿ç¨icpå°ä¹åéå»ºå¥½çç¹ï¼é»è²ï¼å¯¹é½å°å½åçç¹ï¼ç°è²ï¼ã\n\n\n\n\n# meshing\n\næä»¬éè¦ä¸ä¸ªéå¸¸å¿«çå°ºåº¦æ å³çç½æ ¼ç®æ³ï¼æ¥å¯¹æ°ç¾ä¸surfelè¿è¡ä¸è§ç½æ ¼åãå¯¹äºmeshingç½æ ¼åä½¿ç¨[22]ã[23]ï¼å¹¶ä½å°çä¿®æ¹ã\n\n# spatial access\n\nç½æ ¼ååç®æ³éè¦å¿«éåç¡®å°æ¾å°ä¸ä¸ªsurfelåå¾åææå¶ä»surfelãå æ­¤éè¦ä¸ä¸ªç©ºé´è®¿é®ç»æãä½¿ç¨å«åæ è¿è¡å­å¨ã\n\n# triangulation\n\nç½æ ¼ååç®æ³è´ªå©ªå°éåææsurfelsï¼å¹¶å¯¹æ¯ä¸ªsurfelä¸å®é»è¿çsurfelsè¿è¡å±é¨ä¸è§åï¼ä»¥å¢å ç½æ ¼ãæ¯ä¸ä¸ªsurfelæä¸ç§ç¶æï¼\n\n 1. free æ²¡æéå¸¦ä¸è§å½¢ã\n 2. front å¨ä¸è§ç½æ ¼çè¾¹çä¸ã\n 3. completed å¨ä¸è§ç½æ ¼éã\n\næææ°çsurfelé½ä¸ºfreeç¶æãç®æ³éåææçæ°çsurfel.......\n\nå¯¹äºéåå°æsurfelï¼ä½¿ç¨surfelçåå¾æ¥è¿è¡æç´¢srufelï¼å¦æå½åsurfelå¨ç½æ ¼è¾¹çä¸ï¼ä¸è¾¹çé»å±å¨åå¾å¤ï¼æä»¬å°±æ©å±æç´¢åå¾ä¸º2åï¼ä»¥åå«è¿äºé»å±ãå°ææçé»å±surfelæå½±å°å½åsurfelçåå¹³é¢ä¸ï¼å¯¹äºæå½±åçsurfelä¸å¯è§ï¼æèæ³åéç¸å·®å¤ªå¤ï¼å°±ä¸¢å¼è¯¥æå½±ãå¦ä¸å¾ã\n\n\n\nå¦æå½åsurfelæ¯freeç¶æï¼åé¦åå°è¯åå»ºä¸ä¸ªåå§ä¸è§å½¢ï¼å¦ä¸å¾ã\n\n\n\nå°å½åsurfelçææé»å±æè§åº¦è¿è¡æåºï¼ç¸é»ä¸¤ä¸ªé»å±ä¹é´æä¸ºç©ºéï¼å¦æç¸é»ä¸¤ä¸ªé»å±ä¹é´çå¤¹è§è¿å¤§ï¼åä¼å½¢æç­çªçä¸è§å½¢ï¼åä¼ä¸¢å¼è¯¥ä¸è§å½¢ã\n\n\n\næåéè¿ä¸è§å½¢å¡«åå®ææç¸é»é»å±ä¹é´çç©ºéã\n\n\n\n\n# remeshing\n\nå½surfelsç§»å¨æåå»ºæ°çsurfelsæ¶ï¼ç½æ ¼çç°æé¨åå¯è½ä¼è¿æ¶ï¼éè¦ææå°æ´æ°ãå¯¹æ­¤ï¼æä»¬æåºçæ¹æ³å·¥ä½å¨ç°æç½æ ¼ç®æ³éåæ¯ä¸ªç½æ ¼ä¹åï¼é¦åå®ä¹ä¸ç§ç½æ ¼ç¶æï¼å­å¨ä¸ä¸ªæ´ï¼ä¸å¾çeï¼çº¢è²é¨åçä¸è§å½¢ï¼è¿éä¸å¯è½çæä¸ä¸ªè¡¨é¢ï¼æä»¥æåçæ¸²æç»æä¼å­å¨ä¸ä¸ªæ´ï¼æä»¬é¦åè¦è¯å«ææçæ´ï¼ç¶åä½¿ç¨ç½æ ¼ç®æ³éå»ºé£éçè¡¨é¢ã\n\n# è¯å«æ­¥éª¤\n\nå¯¹äºä¸ä¸ªææçä¸è§å½¢ï¼å®è³å°æä¸ä¸ªé¡¶ç¹sï¼sæ¯åå«äºsæææç´¢åå¾åçé»å±ï¼ä¸æ³åéç¸ä¼¼ã\n\nä¸è§å½¢çæ³åéå¿é¡»ä¸è¿ä¸ªé¡¶ç¹sçå¨90åº¦åã\n\nå¨sçåå¹³é¢ï¼æ²¡æå¶ä»é»å±åæå½±å°è¿ä¸ªä¸è§å½¢ä¸­ï¼å¹¶ä¸è¿ä¸ªä¸è§å½¢ä¸ä¼ä¸å¦ä¸ä¸ªä¸è§å½¢ç¸äº¤ã\n\n\n\nå¦ä¸çº¢è²é¨åæ¯ä¸ä¸ªæ´ï¼å¯¼è´å¨å´å ä¸ªä¸è§å½¢é½ä¸æ¯ææçä¸è§å½¢ãæ¥ä¸æ¥å°è¿äºä¸è§å½¢ï¼ä»¥åå¯¹åºçé¡¶ç¹çä¸è§å½¢é½å é¤ï¼æååè¿è¡ä¸ä¸èä¸­çmeshingï¼å°±å¯ä»¥éå»ºåºææçæ¯è¾å¥½çè¡¨é¢ã\n\n",charsets:{cjk:!0}},{title:"kinectFusion",frontmatter:{title:"kinectFusion",date:"2022-03-26T11:01:06.000Z",permalink:"/pages/aa9650/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/01.kinectFusion.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/01.kinectFusion.md",key:"v-4b9be2e2",path:"/pages/aa9650/",headers:[{level:3,title:"è¡¨é¢æµé",slug:"è¡¨é¢æµé",normalizedTitle:"è¡¨é¢æµé",charIndex:171},{level:3,title:"è¡¨é¢æ´æ°",slug:"è¡¨é¢æ´æ°",normalizedTitle:"è¡¨é¢æ´æ°",charIndex:394},{level:3,title:"è¡¨é¢é¢æµ",slug:"è¡¨é¢é¢æµ",normalizedTitle:"è¡¨é¢é¢æµ",charIndex:963},{level:3,title:"ä½å§¿ä¼°è®¡",slug:"ä½å§¿ä¼°è®¡",normalizedTitle:"ä½å§¿ä¼°è®¡",charIndex:1190},{level:3,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:1346}],headersStr:"è¡¨é¢æµé è¡¨é¢æ´æ° è¡¨é¢é¢æµ ä½å§¿ä¼°è®¡ åè",content:"ç¬¬ä¸ç¯åºäºRGB-Dç¸æºå®æ¶ç¨ å¯ä¸ç»´éå»ºçè®ºæã\n\n\n\nè¿ç¨æ¢³çï¼å¯¹äºä¸ä¸å¸§çæåï¼çæä¸ä¸ªSurface Predictionï¼å½åå¸§æ·±åº¦å¾è¾å¥ï¼ç±æ·±åº¦å¾çæSurface Measurementï¼éè¿Surface PredictionåSurface Measurementä½¿ç¨icpè¿è¡éåä¼°è®¡ä½å§¿ï¼æ´æ°åèåå¨å±TSDFã\n\n\n# è¡¨é¢æµé\n\néè¿å½ååå§çæ·±åº¦å¾çæåå±ç¨ å¯çé¡¶ç¹å¾åæ³åéå¾ã\n\n 1. é¦åå¯¹å½åå¸§çæ·±åº¦å¾è¿è¡åè¾¹æ»¤æ³¢ï¼\n\n 2. å©ç¨æ·±åº¦å¾ä¿¡æ¯çæå½åå¸§çç¹äºå¾ï¼\n    \n    \n\n 3. ç¹äºå¾ä¸­ä¸ä¸ªç¹ç¡®å®ä¸ä¸ªå¹³é¢ï¼å©ç¨åä¹ç®åºè¿ä¸ªå¹³é¢çæ³åéï¼å¹¶å½ä¸åã\n    \n    \n\n 4. å¯¹æ·±åº¦å¾è¿è¡åå±ï¼æåºå±æ¯åå§çåè¾¹æ»¤æ³¢æ·±åº¦å¾ï¼æ¯é«ä¸å±ï¼ç¨åå¹³åæåè¾¨çéä½ä¸åï¼è¿éå¹³åçæ·±åº¦æ¯è·ç¦»ä¸­å¿åæ ä¸è¶è¿3Ïãç¶åè®¡ç®ç¸åºçæ³åéå¾ã\n\n\n# è¡¨é¢æ´æ°\n\nå°å½åå¸§çæçè¡¨é¢èåå°å¨å±æ¨¡åä¸­ã\n\nå¯¹äºå½åå¸§æ·±åº¦å¾ï¼åå½åä½å§¿ï¼å»ºå¾å°±æ¯éè¿TSDFèåå¢éçè¿ç¨ãTSDFæ¨¡åå¦ä¸ç®åä»ç»ï¼\n\nå°è¦éå»ºçåºæ¯æ¾å°è¿ä¸ªå¤§é¿æ¹ä½ä¸­ï¼æ¯ä¸ä¸ªå°æ­£æ¹ä½ä»£è¡¨ä¸ä¸ªä½ç´ ï¼æ¯ä¸ä¸ªä½ç´ é½æä¸ä¸ªTSDFå¼ï¼åä¸ä¸ªæéwã\n\n\n\nç°å¨è¦åçå°±æ¯ï¼å¯¹è®¡ç®æ¯ä¸ä¸ªä½ç´ çTSDFå¼åæéï¼é¦åè®¡ç®SDFç­äºç¸æºå°å®éè¡¨é¢çè·ç¦»åå»ç¸æºå°ä½ç´ çè·ç¦»ï¼å³ä½ç´ å°è¡¨é¢çè·ç¦»ãå¦æå¼ä¸ºé¶æèæ¥è¿é¶ï¼åè¿ä¸ªä½ç´ ä»£è¡¨å®éè¡¨é¢ä¸çç¹ã\n\n\n\nTä¸ºæªæ­çææï¼SDFå¼è¶åºä¸å®èå´ï¼å°±å°å¶ç½®æ­£è´1ã\n\n\n\nè®ºæä¸­æ¯ä¸ªä½ç´ pç¨è·ç¦»FåæéWæ¥è¡¨ç¤ºã\n\næ·±åº¦ä¼ æå¨æµéçæ·±åº¦åè®¾æè¯¯å·®æ­£è´uï¼ç»è¿åå¿çå°çº¿viewing rayï¼ç¦»ç¸æºåå¿çè·ç¦»rï¼å½åæµéçæ·±åº¦R(u)ï¼å¦æï¼r<(Î»Rk(u)âÎ¼)ï¼Î»=âKâ1uâ2 ï¼è¿ä¸ªèå´éé½æ¯ç©ºé²ç©ºé´ï¼è¿ä¸ªèå´çä½ç´ SDFå¼è¢«æªæ­ï¼åä¹ï¼åæ¯ä¸å¯è§æµå°çç©ºé´ï¼è¿ä¸ªèå´çä½ç´ ä¸åä¸èåã\n\nè®ºæä¸­è®¡ç®è·ç¦»å¬å¼\n\n\n\nè§£éå¦ä¸\n\n\n\nä½ç´ çæå¼ä¸ºcosâ¡(Î¸)/Rk(x)ï¼è¿éçÎ¸æ¯viewing ray ä¸ å®éè¡¨é¢çå¤¹è§ãå®éåç°ï¼å°æææå¼ç½®ä¸º1ï¼ä¹å¯ä»¥æå¾å¥½çéå»ºç»æã\n\nèåå¬å¼\n\n\n\nä¸é¢è®¡ç®SDFå¼æ¶ç¨çæ·±åº¦å¼æ¯åå§æ·±åº¦å¾çå¼ï¼èä¸æ¯ä½¿ç¨ç»è¿åè¾¹æ»¤æ³¢åçã\n\n\n# è¡¨é¢é¢æµ\n\nå¯¹å½åå¸§çæä¸ä¸ªè¡¨é¢ãå½åæ¶å»çé¢æµå¾æ¯éè¿ä¸ä¸æ¶å»æå»ºå®æçTSDFæ¨¡åè·å¾ï¼å¯¹äºç¥éå½åæ¶å»çä½ç½®ï¼éè¿åçº¿éå°æ¹æ³è·å¾å½åæ¶å»ç¸æºè½å¤è§æµçåºæ¯ï¼ï¼å¯¹å½åæ¶å»æ¯ä¸ªåç´ ååºä¸æ¡åçº¿ï¼æ¹åæ¯Tg,kKâ1u ï¼ï¼éåè¿æ¡è·¯å¾ä¸çä½ç´ ï¼å­å¨ä½ç´ ä¸ºé¶çç¹ï¼æèå½ä½ç´ å¼ä»è´å°æ­£ï¼ä¹åæ­¢æç´¢ï¼å¯¹äºæç´¢åºæ¥çç¹ï¼éè¿ä¸å¼è®¡ç®æ³åéãï¼æ²é¢è¯¥ç¹çæ³åéç±ä¸ä¸ªæ¹åçåå¯¼æ°è¡¨ç¤ºï¼\n\n\n\né¢æµè¡¨é¢è¿ä¸æ­¥å®æä¸ä¸ªé¡¶ç¹å¾ï¼ç¹äºå¾ï¼ï¼åå¯¹åºçæ³åéã\n\n\n# ä½å§¿ä¼°è®¡\n\nå¯¹å½åå¸§çæçæµéè¡¨é¢ä¸é¢æµè¡¨é¢è¿è¡icpéåï¼ä¼°è®¡å½åå¸§çä½å§¿ãåè®¾ä¸¤å¸§ä¹é´çç¸å¯¹è¿å¨å¾å°ï¼å©ç¨ä¸ä¸å¸§çä½å§¿ä½ä¸ºå½åå¸§çåå§å¼ï¼ç¶åéè¿åå§ä½å§¿è¿è¡æå½±ï¼æ¾å°æµéè¡¨é¢åé¢æµè¡¨é¢ä¹é´çæ°æ®å³èï¼ææ·±åº¦æµéï¼åæ ç¸è¿ï¼æ³åéç¸è¿ï¼ï¼ç¶åè¿è¡ç¹å°é¢çicpã\n\nä¹ ä»¥ä¸ºå¸¸çç¹å°é¢icpè¯¯å·®é¡¹\n\n\n\n\n# åè\n\nhttps://ieeexplore.ieee.org/document/6162880\n\nhttps://blog.csdn.net/fuxingyin/article/details/51417822\n\nhttps://blog.csdn.net/qq_40213457/article/details/82383621?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164566967616780271931390%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=164566967616780271931390&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-82383621.pc_search_result_cache&utm_term=tsdf&spm=1018.2226.3001.4187\n\nhttps://zhuanlan.zhihu.com/p/35894630",normalizedContent:"ç¬¬ä¸ç¯åºäºrgb-dç¸æºå®æ¶ç¨ å¯ä¸ç»´éå»ºçè®ºæã\n\n\n\nè¿ç¨æ¢³çï¼å¯¹äºä¸ä¸å¸§çæåï¼çæä¸ä¸ªsurface predictionï¼å½åå¸§æ·±åº¦å¾è¾å¥ï¼ç±æ·±åº¦å¾çæsurface measurementï¼éè¿surface predictionåsurface measurementä½¿ç¨icpè¿è¡éåä¼°è®¡ä½å§¿ï¼æ´æ°åèåå¨å±tsdfã\n\n\n# è¡¨é¢æµé\n\néè¿å½ååå§çæ·±åº¦å¾çæåå±ç¨ å¯çé¡¶ç¹å¾åæ³åéå¾ã\n\n 1. é¦åå¯¹å½åå¸§çæ·±åº¦å¾è¿è¡åè¾¹æ»¤æ³¢ï¼\n\n 2. å©ç¨æ·±åº¦å¾ä¿¡æ¯çæå½åå¸§çç¹äºå¾ï¼\n    \n    \n\n 3. ç¹äºå¾ä¸­ä¸ä¸ªç¹ç¡®å®ä¸ä¸ªå¹³é¢ï¼å©ç¨åä¹ç®åºè¿ä¸ªå¹³é¢çæ³åéï¼å¹¶å½ä¸åã\n    \n    \n\n 4. å¯¹æ·±åº¦å¾è¿è¡åå±ï¼æåºå±æ¯åå§çåè¾¹æ»¤æ³¢æ·±åº¦å¾ï¼æ¯é«ä¸å±ï¼ç¨åå¹³åæåè¾¨çéä½ä¸åï¼è¿éå¹³åçæ·±åº¦æ¯è·ç¦»ä¸­å¿åæ ä¸è¶è¿3Ïãç¶åè®¡ç®ç¸åºçæ³åéå¾ã\n\n\n# è¡¨é¢æ´æ°\n\nå°å½åå¸§çæçè¡¨é¢èåå°å¨å±æ¨¡åä¸­ã\n\nå¯¹äºå½åå¸§æ·±åº¦å¾ï¼åå½åä½å§¿ï¼å»ºå¾å°±æ¯éè¿tsdfèåå¢éçè¿ç¨ãtsdfæ¨¡åå¦ä¸ç®åä»ç»ï¼\n\nå°è¦éå»ºçåºæ¯æ¾å°è¿ä¸ªå¤§é¿æ¹ä½ä¸­ï¼æ¯ä¸ä¸ªå°æ­£æ¹ä½ä»£è¡¨ä¸ä¸ªä½ç´ ï¼æ¯ä¸ä¸ªä½ç´ é½æä¸ä¸ªtsdfå¼ï¼åä¸ä¸ªæéwã\n\n\n\nç°å¨è¦åçå°±æ¯ï¼å¯¹è®¡ç®æ¯ä¸ä¸ªä½ç´ çtsdfå¼åæéï¼é¦åè®¡ç®sdfç­äºç¸æºå°å®éè¡¨é¢çè·ç¦»åå»ç¸æºå°ä½ç´ çè·ç¦»ï¼å³ä½ç´ å°è¡¨é¢çè·ç¦»ãå¦æå¼ä¸ºé¶æèæ¥è¿é¶ï¼åè¿ä¸ªä½ç´ ä»£è¡¨å®éè¡¨é¢ä¸çç¹ã\n\n\n\ntä¸ºæªæ­çææï¼sdfå¼è¶åºä¸å®èå´ï¼å°±å°å¶ç½®æ­£è´1ã\n\n\n\nè®ºæä¸­æ¯ä¸ªä½ç´ pç¨è·ç¦»fåæéwæ¥è¡¨ç¤ºã\n\næ·±åº¦ä¼ æå¨æµéçæ·±åº¦åè®¾æè¯¯å·®æ­£è´uï¼ç»è¿åå¿çå°çº¿viewing rayï¼ç¦»ç¸æºåå¿çè·ç¦»rï¼å½åæµéçæ·±åº¦r(u)ï¼å¦æï¼r<(Î»rk(u)âÎ¼)ï¼Î»=âkâ1uâ2 ï¼è¿ä¸ªèå´éé½æ¯ç©ºé²ç©ºé´ï¼è¿ä¸ªèå´çä½ç´ sdfå¼è¢«æªæ­ï¼åä¹ï¼åæ¯ä¸å¯è§æµå°çç©ºé´ï¼è¿ä¸ªèå´çä½ç´ ä¸åä¸èåã\n\nè®ºæä¸­è®¡ç®è·ç¦»å¬å¼\n\n\n\nè§£éå¦ä¸\n\n\n\nä½ç´ çæå¼ä¸ºcosâ¡(Î¸)/rk(x)ï¼è¿éçÎ¸æ¯viewing ray ä¸ å®éè¡¨é¢çå¤¹è§ãå®éåç°ï¼å°æææå¼ç½®ä¸º1ï¼ä¹å¯ä»¥æå¾å¥½çéå»ºç»æã\n\nèåå¬å¼\n\n\n\nä¸é¢è®¡ç®sdfå¼æ¶ç¨çæ·±åº¦å¼æ¯åå§æ·±åº¦å¾çå¼ï¼èä¸æ¯ä½¿ç¨ç»è¿åè¾¹æ»¤æ³¢åçã\n\n\n# è¡¨é¢é¢æµ\n\nå¯¹å½åå¸§çæä¸ä¸ªè¡¨é¢ãå½åæ¶å»çé¢æµå¾æ¯éè¿ä¸ä¸æ¶å»æå»ºå®æçtsdfæ¨¡åè·å¾ï¼å¯¹äºç¥éå½åæ¶å»çä½ç½®ï¼éè¿åçº¿éå°æ¹æ³è·å¾å½åæ¶å»ç¸æºè½å¤è§æµçåºæ¯ï¼ï¼å¯¹å½åæ¶å»æ¯ä¸ªåç´ ååºä¸æ¡åçº¿ï¼æ¹åæ¯tg,kkâ1u ï¼ï¼éåè¿æ¡è·¯å¾ä¸çä½ç´ ï¼å­å¨ä½ç´ ä¸ºé¶çç¹ï¼æèå½ä½ç´ å¼ä»è´å°æ­£ï¼ä¹åæ­¢æç´¢ï¼å¯¹äºæç´¢åºæ¥çç¹ï¼éè¿ä¸å¼è®¡ç®æ³åéãï¼æ²é¢è¯¥ç¹çæ³åéç±ä¸ä¸ªæ¹åçåå¯¼æ°è¡¨ç¤ºï¼\n\n\n\né¢æµè¡¨é¢è¿ä¸æ­¥å®æä¸ä¸ªé¡¶ç¹å¾ï¼ç¹äºå¾ï¼ï¼åå¯¹åºçæ³åéã\n\n\n# ä½å§¿ä¼°è®¡\n\nå¯¹å½åå¸§çæçæµéè¡¨é¢ä¸é¢æµè¡¨é¢è¿è¡icpéåï¼ä¼°è®¡å½åå¸§çä½å§¿ãåè®¾ä¸¤å¸§ä¹é´çç¸å¯¹è¿å¨å¾å°ï¼å©ç¨ä¸ä¸å¸§çä½å§¿ä½ä¸ºå½åå¸§çåå§å¼ï¼ç¶åéè¿åå§ä½å§¿è¿è¡æå½±ï¼æ¾å°æµéè¡¨é¢åé¢æµè¡¨é¢ä¹é´çæ°æ®å³èï¼ææ·±åº¦æµéï¼åæ ç¸è¿ï¼æ³åéç¸è¿ï¼ï¼ç¶åè¿è¡ç¹å°é¢çicpã\n\nä¹ ä»¥ä¸ºå¸¸çç¹å°é¢icpè¯¯å·®é¡¹\n\n\n\n\n# åè\n\nhttps://ieeexplore.ieee.org/document/6162880\n\nhttps://blog.csdn.net/fuxingyin/article/details/51417822\n\nhttps://blog.csdn.net/qq_40213457/article/details/82383621?ops_request_misc=%257b%2522request%255fid%2522%253a%2522164566967616780271931390%2522%252c%2522scm%2522%253a%252220140713.130102334.pc%255fall.%2522%257d&request_id=164566967616780271931390&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-82383621.pc_search_result_cache&utm_term=tsdf&spm=1018.2226.3001.4187\n\nhttps://zhuanlan.zhihu.com/p/35894630",charsets:{cjk:!0}},{title:"BAD_SLAM",frontmatter:{title:"BAD_SLAM",date:"2022-03-28T11:01:06.000Z",permalink:"/pages/24a5f4/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/06.BAD_SLAM.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/06.BAD_SLAM.md",key:"v-cb83c1e2",path:"/pages/24a5f4/",headers:[{level:3,title:"ä»ç»",slug:"ä»ç»",normalizedTitle:"ä»ç»",charIndex:2},{level:3,title:"ç¸å³å·¥ä½",slug:"ç¸å³å·¥ä½",normalizedTitle:"ç¸å³å·¥ä½",charIndex:176},{level:4,title:"Frame-to-model tracking",slug:"frame-to-model-tracking",normalizedTitle:"frame-to-model tracking",charIndex:198},{level:4,title:"Map deformation",slug:"map-deformation",normalizedTitle:"map deformation",charIndex:253},{level:4,title:"Pose graph optimization",slug:"pose-graph-optimization",normalizedTitle:"pose graph optimization",charIndex:285},{level:4,title:"Fragment-based optimization",slug:"fragment-based-optimization",normalizedTitle:"fragment-based optimization",charIndex:334},{level:4,title:"Indirect (feature-based) BA",slug:"indirect-feature-based-ba",normalizedTitle:"indirect (feature-based) ba",charIndex:393},{level:4,title:"Direct BA",slug:"direct-ba",normalizedTitle:"direct ba",charIndex:457},{level:4,title:"Benchmarking RGB-D SLAM",slug:"benchmarking-rgb-d-slam",normalizedTitle:"benchmarking rgb-d slam",charIndex:504},{level:3,title:"æ°æ®è¡¨ç¤º",slug:"æ°æ®è¡¨ç¤º",normalizedTitle:"æ°æ®è¡¨ç¤º",charIndex:575},{level:3,title:"æå¤±å½æ°",slug:"æå¤±å½æ°",normalizedTitle:"æå¤±å½æ°",charIndex:730},{level:4,title:"å ä½è¯¯å·®",slug:"å ä½è¯¯å·®",normalizedTitle:"å ä½è¯¯å·®",charIndex:760},{level:4,title:"ååº¦è¯¯å·®",slug:"ååº¦è¯¯å·®",normalizedTitle:"ååº¦è¯¯å·®",charIndex:765},{level:3,title:"ç®æ³æµç¨",slug:"ç®æ³æµç¨",normalizedTitle:"ç®æ³æµç¨",charIndex:1089},{level:4,title:"åå»ºé¢å",slug:"åå»ºé¢å",normalizedTitle:"åå»ºé¢å",charIndex:1097},{level:4,title:"é¢åä¸åç´ ç¹è¿è¡å³è",slug:"é¢åä¸åç´ ç¹è¿è¡å³è",normalizedTitle:"é¢åä¸åç´ ç¹è¿è¡å³è",charIndex:1202},{level:4,title:"å¤ç¹è¿æ»¤",slug:"å¤ç¹è¿æ»¤",normalizedTitle:"å¤ç¹è¿æ»¤",charIndex:1391},{level:4,title:"é¢åçæ³åéæ´æ°",slug:"é¢åçæ³åéæ´æ°",normalizedTitle:"é¢åçæ³åéæ´æ°",charIndex:1534},{level:4,title:"é¢åçä¸­å¿ä½ç½®åæè¿°å­ä¼å",slug:"é¢åçä¸­å¿ä½ç½®åæè¿°å­ä¼å",normalizedTitle:"é¢åçä¸­å¿ä½ç½®åæè¿°å­ä¼å",charIndex:1575},{level:4,title:"é¢åèå",slug:"é¢åèå",normalizedTitle:"é¢åèå",charIndex:1701},{level:4,title:"å³é®å¸§çä½å§¿ä¼å",slug:"å³é®å¸§çä½å§¿ä¼å",normalizedTitle:"å³é®å¸§çä½å§¿ä¼å",charIndex:1798},{level:4,title:"ç¸æºååä¼å",slug:"ç¸æºååä¼å",normalizedTitle:"ç¸æºååä¼å",charIndex:1829},{level:4,title:"é¢åæ¸çåæ´æ°åå¾",slug:"é¢åæ¸çåæ´æ°åå¾",normalizedTitle:"é¢åæ¸çåæ´æ°åå¾",charIndex:1901},{level:3,title:"åç«¯",slug:"åç«¯",normalizedTitle:"åç«¯",charIndex:2009},{level:4,title:"é¢å¤ç",slug:"é¢å¤ç",normalizedTitle:"é¢å¤ç",charIndex:2040},{level:4,title:"éç¨è®¡",slug:"éç¨è®¡",normalizedTitle:"éç¨è®¡",charIndex:2063},{level:4,title:"åç¯æ£æµ",slug:"åç¯æ£æµ",normalizedTitle:"åç¯æ£æµ",charIndex:2120},{level:3,title:"åºåæ°æ®é",slug:"åºåæ°æ®é",normalizedTitle:"åºåæ°æ®é",charIndex:138},{level:4,title:"å¨å ",slug:"å¨å ",normalizedTitle:"å¨å ",charIndex:2321},{level:4,title:"åå»ºåºåæ°æ®é",slug:"åå»ºåºåæ°æ®é",normalizedTitle:"åå»ºåºåæ°æ®é",charIndex:2445}],headersStr:"ä»ç» ç¸å³å·¥ä½ Frame-to-model tracking Map deformation Pose graph optimization Fragment-based optimization Indirect (feature-based) BA Direct BA Benchmarking RGB-D SLAM æ°æ®è¡¨ç¤º æå¤±å½æ° å ä½è¯¯å·® ååº¦è¯¯å·® ç®æ³æµç¨ åå»ºé¢å é¢åä¸åç´ ç¹è¿è¡å³è å¤ç¹è¿æ»¤ é¢åçæ³åéæ´æ° é¢åçä¸­å¿ä½ç½®åæè¿°å­ä¼å é¢åèå å³é®å¸§çä½å§¿ä¼å ç¸æºååä¼å é¢åæ¸çåæ´æ°åå¾ åç«¯ é¢å¤ç éç¨è®¡ åç¯æ£æµ åºåæ°æ®é å¨å  åå»ºåºåæ°æ®é",content:"# ä»ç»\n\nå½æ¶BAç®æ³è¢«å¹¿æ³çä½¿ç¨å¨ç¹å¾ç¹æ³çç³»ç»ä¸­ï¼ä½èè®¤ä¸ºè¿äºæ¹æ³ä¸¢å¼äºå¾åçå¤§é¨åä¿¡æ¯ãå¹¶ä¸å¨ç¨ å¯éå»ºä¸­ï¼ä½¿ç¨å®æ´çBAæ¯åä¸å°å®æ¶çãå¨è¿ç¯æç« ä¸­ï¼ä½èæåºäºä¸ç§æ¹è¿BAç®æ³ï¼åºäºSurfelsæ¨¡åï¼ï¼å¯ä»¥ç¨åä¸ªGPUå°±å¯ä»¥å®ç°å®æ¶ç¨ å¯éå»ºãè¿æä¸ä¸ªè´¡ç®å°±æ¯æåºä¸ç§åºåæ°æ®éï¼å¨è¿ç§æ°æ®éä¸æµè¯ï¼SLAMç³»ç»é½è½z`ææ´å¥½çç»æã\n\n\n# ç¸å³å·¥ä½\n\nä¸æ¬æçæåºçç³»ç»çå·®å¼\n\n# Frame-to-model tracking\n\nè¿ç§æ¹æ³çç¸æºä½å§¿ä¸åè¿è¡åç»­ä¼åï¼ä¼å¯¼è´ç´¯ç§¯è¯¯å·®ã\n\n# Map deformation\n\næ²¡æä½¿ç¨ææå¯ç¨ä¿¡æ¯ã\n\n# Pose graph optimization\n\nè½ç¶å¯ä»¥ç®åä¼åé®é¢ï¼ä½ä¹åªæ¯è¿ä¼¼BAã\n\n# Fragment-based optimization\n\nåå±ä¼åï¼è½ç¶å¯ä»¥åå°ä¼åçåéï¼ä½ä¹åªæ¯è¿ä¼¼BAã\n\n# Indirect (feature-based) BA\n\nè¿éçORB-SLAM2åBundlefusionææé½å¾å¥½ã\n\n# Direct BA\n\nåæ¶ä¼åç¸æºä½å§¿ååºæ¯åæ°ï¼ä½éè¦å¤§éçè®¡ç®æ¶é´ï¼ä¸¾äºç¦»çº¿ç³»ç»ã\n\n# Benchmarking RGB-D SLAM\n\nä½èæä¾äºåºåæ°æ®éï¼è¿ç§æ°æ®éæ¯åæ­¥å¨å±å¿«é¨ï¼å¯¹æ¯ç°æçæ°æ®éï¼éå»ºçç»ææ´å¥½ã\n\n\n# æ°æ®è¡¨ç¤º\n\nä½èä½¿ç¨åºæ¯è¡¨ç¤ºæ¯surfelsï¼ä¸åªå¯¹å³é®å¸§è¿è¡BAã\n\nå³é®å¸§ä½èæ²¡æä½ä¸¥æ ¼çç­éï¼æ¯10å¸§ï¼éä¸å¸§ä½ä¸ºå³é®å¸§ã\n\nä½èçsurfelsæ¯ä¸ä¸ªåçï¼å¶åå«3Dåå¿åæ ï¼å¨å±åæ ç³»ï¼ï¼è¡¨é¢çæ³åéï¼åçåå¾ï¼æè¿°å­ã\n\nä½èéæ©surfelsæ¯å ä¸ºä»ä»¬è½å¤éè¿BAææçè¿è¡èååæ´æ°ã\n\n\n# æå¤±å½æ°\n\n\n\néåææçå³é®å¸§ï¼ææå»ºç«å¥½å³èçé¢åï¼è¿è¡å ä½è¯¯å·®ï¼ååº¦è¯¯å·®ä¼åã\n\nè¿ä¸¤ä¸ªè¯¯å·®é¡¹åé¢é½æä¸ä¸ªåç½®ÏDâ1åÏpâ1 ï¼å¯¹äºç¬¬ä¸ä¸ªåç½®ï¼ä½èè®¤ä¸ºå¯¹äºä¸ä¸ªæ å®å¥½çç¸æºï¼ä¸ç¡®å®æ§åªä¼åºç°å¨æ·±åº¦æ¹åä¸ï¼æä»¥å»ºç«ä¸ä¸ªæ¨¡åæ¶é¤æ·±åº¦ä¸çä¸ç¡®å®æ§ãç¬¬äºä¸ªçä¸ç¡®å®æ§å¨äºåå°ï¼åç§ååã\n\n# å ä½è¯¯å·®\n\n\n\nå°é¢åä¸­å¿3Dåæ æå½±å°ç¬¬Kå¸§å³é®å¸§çåæ ç³»ï¼è¿èæå½±å°ç¬¬Kå¸§å³é®å¸§åç´ å¹³é¢ï¼å¨éè¿æ·±åº¦å¾çæ·±åº¦è½¬æ¢å°Kç¸æºåæ ç³»ãç¹å°é¢çicpã\n\n# ååº¦è¯¯å·®\n\n\n\n~~è¿éIï¼ï¼ä¸æ¯ç´æ¥ç¨äº®åº¦å¼ï¼èæ¯ç¨çäº®åº¦çæ¢¯åº¦å¾çä¿¡æ¯ï¼å¯¹äº®åº¦åæ¢æ´å é²æ£ï¼ã~~è¿éç¨ä¸¤ä¸ªç¹æ¥åï¼è¿ä¸¤ä¸ªç¹æ¯å¨ä»¥é¢åä¸­å¿psä¸ºåå¿çåä¸ï¼èä¸s1âpsås2âpsæ­£äº¤ãè¿éäº®åº¦å¼ç¸åï¼æ¬è´¨ä¸æ¯æ¢¯åº¦å¼ï¼ä¸ä»¥å¾çä¸åï¼è¿éçè·¨åº¦æ¯åå¾ã\n\n\n# ç®æ³æµç¨\n\n# åå»ºé¢å\n\né¦åéåææå³é®å¸§ï¼ä¸ºæ¯ä¸ªå³é®å¸§åå»ºsurfelsï¼å°å³é®å¸§åä¸ºè¥å¹²ä¸ª4*4å¤§å°çç½æ ¼ï¼æ¯ä¸ªç½æ ¼ä¸­è³å°æä¸ä¸ªåç´ ä¸ä¸ä¸ªé¢åå³èï¼å¦ææ²¡æï¼åä»æ·±åº¦å¾ä¸­éæºéåä¸ä¸ªæ·±åº¦åå»ºä¸ä¸ªé¢åsä¸ä¹å³èã\n\n# é¢åä¸åç´ ç¹è¿è¡å³è\n\næé¢åçä¸­å¿åæ æå½±å°å³é®å¸§ä¸ï¼é¦åæå½±ç¹è¦å¨è¿ä¸ªå³é®å¸§ä¸­ï¼\n\n 1. æå½±ç¹å·ææ·±åº¦æµéï¼\n\n 2. æ·±åº¦æµéå¼åé¢åçæ·±åº¦è¶³å¤è¿ä¼¼ï¼\n\n 3. æ·±åº¦å¾çæ¹ååé¢åçæ³åéè¶³å¤è¿ä¼¼ï¼\n    \n    ç¬¦åä¸è¿°æ¡ä»¶ï¼é£ä¹å°±å»ºç«åç´ å°é¢åçå³èã\n\né¢åçå±æ§é½æ¯ç±åå»ºå®çé£ä¸ªåç´ è®¡ç®èæãè®¡ç®é¢åçä¸­å¿psï¼æ³åénsï¼åå¾rsï¼æè¿°å­dsã\n\n# å¤ç¹è¿æ»¤\n\nåç´ ä¸é¢åå³èï¼é£ä¹è¿ä¸ªåç´ éè¦ç¬¦åä¸å®æ¡ä»¶ï¼å°è¿ä¸ªåç´ ç¹ç3Dåæ æå½±å°å¶å®å³é®å¸§ï¼è®°å½æå¤å°å³é®å¸§å¯ä»¥è§æµå°è¿ä¸ªåç´ ç¹ï¼åæ²¡æè§æµå°çæ¬¡æ°ãå¦ææ²¡è§æµå°çæ¬¡æ°æ¯è§æµå°æ¬¡æ°å¤ï¼æèè§æµå°çæ¬¡æ°å°äºä¸å®éå¼ï¼åè®¤ä¸ºè¿ä¸ªåç´ ç¹æ¯å¤ç¹ï¼åä¸å¯¹è¿ä¸ªåç´ ç¹è¿è¡å³èä¸ä¸ªé¢åã\n\n# é¢åçæ³åéæ´æ°\n\nå¹³åææä¸è¯¥é¢åå³èçåç´ ç¹çæ³åéï¼éåè¿è¡å½ä¸åã\n\n# é¢åçä¸­å¿ä½ç½®åæè¿°å­ä¼å\n\nå¨æ´æ°å®é¢åçæ³åéåï¼å¯¹é¢åçä¸­å¿ä½ç½®ï¼æè¿°å­éè¿ï¼1ï¼å¼è¿è¡ä¼åãè¿éè¿éå¶é¢åçä¸­å¿çä¼åæ¹åï¼åªåè®¸æ²¿çé¢åçæ³åéæ¹åè¿è¡ä¼åï¼æä»¥ä¼åå¼å­ä¸ºps+tânsï¼åªæä¸ä¸ªä¼åétã\n\næè¿°å­æ´æ°æ¹æ³å¢ï¼ï¼ï¼ï¼\n\n# é¢åèå\n\nå¨BAçç¬¬ä¸æ¬¡è¿­ä»£åï¼å¼å§èåå·æç¸ä¼¼å±æ§çé¢åï¼æ¯å¦æ³åéæ¥è¿ï¼ä½ç½®æ¥è¿ãä¸ºäºæ´å¿«çæ¾å°éè¦èåçé¢åï¼å°é¢åæå½±å°ææçå³é®å¸§ä¸­ï¼ä½äºåä¸ä¸ª4*4çç½æ ¼ä¸­çé¢åè¿è¡èåã\n\n# å³é®å¸§çä½å§¿ä¼å\n\nå¯¹ï¼1ï¼å¼è¿è¡é«æ¯çé¡¿æ³è¿è¡ä¼åã\n\n# ç¸æºååä¼å\n\nåæ ·å¯¹ï¼1ï¼å¼è¿è¡é«æ¯çé¡¿æ³è¿è¡ä¼åï¼ä¸è¿è¿æ¬¡ä¼åçæ¯ç¸æºååï¼åæ¶ï¼ä½¿ç¨æ·±åº¦åç§»æ¨¡åï¼å»ºç«çå®æ·±åº¦ä¸åç§»çæ·±åº¦èç³»\n\n\n\n# é¢åæ¸çåæ´æ°åå¾\n\nä¸ä¸é¢çå¤ç¹è¿æ»¤æ¹æ³ç±»ä¼¼ï¼å°é¢åæå½±å°æ¯ä¸ªå³é®å¸§ï¼è®¡ç®è¿ä¸ªé¢åå¨å³é®å¸§éåºç°çæ¬¡æ°ã\n\nä¸æ³åéæ´æ°æ¹æ³ç±»ä¼¼ï¼ä¸é¢åå³èçææåç´ ç¹ï¼é½è®¡ç®åºä¸ä¸ªåå¾ï¼è¯¥é¢ååå¾æ´æ°ä¸ºæå°çåå¾ã\n\n\n\n\n# åç«¯\n\næ¬æçä¸»è¦è´¡ç®æ¯æä¾äºä¸ä¸ªåç«¯ç¨ å¯çBAæ¹æ³ã\n\n# é¢å¤ç\n\nä½¿ç¨åè¾¹æ»¤æ³¢ï¼å¯¹æ·±åº¦å¾è¿æ»¤ã\n\n# éç¨è®¡\n\néè¿ä¸ä¸å³é®å¸§ï¼ä¼°è®¡å½åå¸§çä½å§¿ï¼ä½¿ç¨æ åçç´æ¥æ³ï¼å¶ä¸­åæ¬å ä½è¯¯å·®ï¼ååº¦æ¢¯åº¦è¯¯å·®ããåèæç®ã\n\n# åç¯æ£æµ\n\nå½åå»ºä¸ä¸ªå³é®å¸§æ¶ï¼æ¯10å¸§ï¼ï¼æ§è¡åç¯æ£æµãä½¿ç¨åºäºäºè¿å¶ç¹å¾ï¼çè¯è¢æ¨¡åï¼æ¾å°å½åå³é®å¸§kä¸åå²åªä¸ªå³é®å¸§mæç¸ä¼¼ãé¦åéè¿ç¹å¾å¹éä¼°è®¡å³é®å¸§çåå§ç¸å¯¹ä½å§¿ï¼ç¶åéè¿ç´æ¥æ³å¯¹é½ãåæ¶ä¹å¯¹é½m-1ï¼m+1å¸§ï¼å¦æè¿äºå¯¹é½ï¼é½æ»¡è¶³ä¸å®æ¡ä»¶ï¼åæ¢åè§åº¦çå·®å¼ï¼ï¼åæ¥åè¿æ¬¡åç¯ãä½¿ç¨ååç®åºçä¸ä¸ªç¸å¯¹ä½å§¿çå¹³åç¸å¯¹ä½å§¿ï¼ä½¿ç¨ä½å§¿å¾ä¼åï¼éåä½¿ç¨ä½èæåºçBAä¼åã\n\n\n# åºåæ°æ®é\n\n# å¨å \n\nä½èè®¤ä¸ºï¼å¨æµè¡çTUM RGB-D æ°æ®éä¸­ï¼ä¸çå®ä¸çé½å¤å¤å°å°æåå·®ï¼å ä¸ºééæ°æ®æ¶ï¼RGBå¾ådepthå¾çæ¶é´ä¸åæ­¥ï¼æ·±åº¦å¾ç¸åï¼ä¸è½åç¡®è·å¾å¯¹åºåç´ ç¹çæ·±åº¦ï¼è¿ä¼å¯¼è´åç§RGB-D SLAMç³»ç»çè¿è¡ç»æä¹ä¼æ´å ä¸åç¡®ã\n\n# åå»ºåºåæ°æ®é\n\nä½èåå»ºåºåæ°æ®éä½¿ç¨ä¸¤ç§æ¹æ³ï¼ä¸ç§æ¯ä½èéç¨åæ­¥è£ç½®ãå¨å±å¿«é¨ç¸æºè®°å½æ°æ®éï¼å¦ä¸ç§æ¯å¨åææ°æ®ééå»ºåº3Dæ¨¡ååï¼éè¿æ°æ®éåå§è½¨è¿¹ï¼éæ°æ¸²ææ°æ®éãä½èæ¸²æåºåç§æ°æ®éï¼å·å¸å¿«é¨åå¼æ­¥çæåç»åãåºäºå¨å±å¿«é¨åæ­¥æ°æ®éï¼å·å¸å¿«é¨æ°æ®éæ¯éè¿ä¼°è®¡å·å¸å¿«é¨çæ¶é´ï¼ç¬¬ä¸è¡åæåä¸è¡çæ¶é´å·®ï¼æ¥æ¨¡æå·å¸å¿«é¨çææï¼å¯¹äºå¼æ­¥å¿«é¨æ°æ®éï¼RGBå¾åçæ·±åº¦å¯¹åºä¸¤å¼ æ¶é´è¿ç»­çæ·±åº¦å¾åä¹é´æ·±åº¦å¾åã",normalizedContent:"# ä»ç»\n\nå½æ¶baç®æ³è¢«å¹¿æ³çä½¿ç¨å¨ç¹å¾ç¹æ³çç³»ç»ä¸­ï¼ä½èè®¤ä¸ºè¿äºæ¹æ³ä¸¢å¼äºå¾åçå¤§é¨åä¿¡æ¯ãå¹¶ä¸å¨ç¨ å¯éå»ºä¸­ï¼ä½¿ç¨å®æ´çbaæ¯åä¸å°å®æ¶çãå¨è¿ç¯æç« ä¸­ï¼ä½èæåºäºä¸ç§æ¹è¿baç®æ³ï¼åºäºsurfelsæ¨¡åï¼ï¼å¯ä»¥ç¨åä¸ªgpuå°±å¯ä»¥å®ç°å®æ¶ç¨ å¯éå»ºãè¿æä¸ä¸ªè´¡ç®å°±æ¯æåºä¸ç§åºåæ°æ®éï¼å¨è¿ç§æ°æ®éä¸æµè¯ï¼slamç³»ç»é½è½z`ææ´å¥½çç»æã\n\n\n# ç¸å³å·¥ä½\n\nä¸æ¬æçæåºçç³»ç»çå·®å¼\n\n# frame-to-model tracking\n\nè¿ç§æ¹æ³çç¸æºä½å§¿ä¸åè¿è¡åç»­ä¼åï¼ä¼å¯¼è´ç´¯ç§¯è¯¯å·®ã\n\n# map deformation\n\næ²¡æä½¿ç¨ææå¯ç¨ä¿¡æ¯ã\n\n# pose graph optimization\n\nè½ç¶å¯ä»¥ç®åä¼åé®é¢ï¼ä½ä¹åªæ¯è¿ä¼¼baã\n\n# fragment-based optimization\n\nåå±ä¼åï¼è½ç¶å¯ä»¥åå°ä¼åçåéï¼ä½ä¹åªæ¯è¿ä¼¼baã\n\n# indirect (feature-based) ba\n\nè¿éçorb-slam2åbundlefusionææé½å¾å¥½ã\n\n# direct ba\n\nåæ¶ä¼åç¸æºä½å§¿ååºæ¯åæ°ï¼ä½éè¦å¤§éçè®¡ç®æ¶é´ï¼ä¸¾äºç¦»çº¿ç³»ç»ã\n\n# benchmarking rgb-d slam\n\nä½èæä¾äºåºåæ°æ®éï¼è¿ç§æ°æ®éæ¯åæ­¥å¨å±å¿«é¨ï¼å¯¹æ¯ç°æçæ°æ®éï¼éå»ºçç»ææ´å¥½ã\n\n\n# æ°æ®è¡¨ç¤º\n\nä½èä½¿ç¨åºæ¯è¡¨ç¤ºæ¯surfelsï¼ä¸åªå¯¹å³é®å¸§è¿è¡baã\n\nå³é®å¸§ä½èæ²¡æä½ä¸¥æ ¼çç­éï¼æ¯10å¸§ï¼éä¸å¸§ä½ä¸ºå³é®å¸§ã\n\nä½èçsurfelsæ¯ä¸ä¸ªåçï¼å¶åå«3dåå¿åæ ï¼å¨å±åæ ç³»ï¼ï¼è¡¨é¢çæ³åéï¼åçåå¾ï¼æè¿°å­ã\n\nä½èéæ©surfelsæ¯å ä¸ºä»ä»¬è½å¤éè¿baææçè¿è¡èååæ´æ°ã\n\n\n# æå¤±å½æ°\n\n\n\néåææçå³é®å¸§ï¼ææå»ºç«å¥½å³èçé¢åï¼è¿è¡å ä½è¯¯å·®ï¼ååº¦è¯¯å·®ä¼åã\n\nè¿ä¸¤ä¸ªè¯¯å·®é¡¹åé¢é½æä¸ä¸ªåç½®Ïdâ1åÏpâ1 ï¼å¯¹äºç¬¬ä¸ä¸ªåç½®ï¼ä½èè®¤ä¸ºå¯¹äºä¸ä¸ªæ å®å¥½çç¸æºï¼ä¸ç¡®å®æ§åªä¼åºç°å¨æ·±åº¦æ¹åä¸ï¼æä»¥å»ºç«ä¸ä¸ªæ¨¡åæ¶é¤æ·±åº¦ä¸çä¸ç¡®å®æ§ãç¬¬äºä¸ªçä¸ç¡®å®æ§å¨äºåå°ï¼åç§ååã\n\n# å ä½è¯¯å·®\n\n\n\nå°é¢åä¸­å¿3dåæ æå½±å°ç¬¬kå¸§å³é®å¸§çåæ ç³»ï¼è¿èæå½±å°ç¬¬kå¸§å³é®å¸§åç´ å¹³é¢ï¼å¨éè¿æ·±åº¦å¾çæ·±åº¦è½¬æ¢å°kç¸æºåæ ç³»ãç¹å°é¢çicpã\n\n# ååº¦è¯¯å·®\n\n\n\n~~è¿éiï¼ï¼ä¸æ¯ç´æ¥ç¨äº®åº¦å¼ï¼èæ¯ç¨çäº®åº¦çæ¢¯åº¦å¾çä¿¡æ¯ï¼å¯¹äº®åº¦åæ¢æ´å é²æ£ï¼ã~~è¿éç¨ä¸¤ä¸ªç¹æ¥åï¼è¿ä¸¤ä¸ªç¹æ¯å¨ä»¥é¢åä¸­å¿psä¸ºåå¿çåä¸ï¼èä¸s1âpsås2âpsæ­£äº¤ãè¿éäº®åº¦å¼ç¸åï¼æ¬è´¨ä¸æ¯æ¢¯åº¦å¼ï¼ä¸ä»¥å¾çä¸åï¼è¿éçè·¨åº¦æ¯åå¾ã\n\n\n# ç®æ³æµç¨\n\n# åå»ºé¢å\n\né¦åéåææå³é®å¸§ï¼ä¸ºæ¯ä¸ªå³é®å¸§åå»ºsurfelsï¼å°å³é®å¸§åä¸ºè¥å¹²ä¸ª4*4å¤§å°çç½æ ¼ï¼æ¯ä¸ªç½æ ¼ä¸­è³å°æä¸ä¸ªåç´ ä¸ä¸ä¸ªé¢åå³èï¼å¦ææ²¡æï¼åä»æ·±åº¦å¾ä¸­éæºéåä¸ä¸ªæ·±åº¦åå»ºä¸ä¸ªé¢åsä¸ä¹å³èã\n\n# é¢åä¸åç´ ç¹è¿è¡å³è\n\næé¢åçä¸­å¿åæ æå½±å°å³é®å¸§ä¸ï¼é¦åæå½±ç¹è¦å¨è¿ä¸ªå³é®å¸§ä¸­ï¼\n\n 1. æå½±ç¹å·ææ·±åº¦æµéï¼\n\n 2. æ·±åº¦æµéå¼åé¢åçæ·±åº¦è¶³å¤è¿ä¼¼ï¼\n\n 3. æ·±åº¦å¾çæ¹ååé¢åçæ³åéè¶³å¤è¿ä¼¼ï¼\n    \n    ç¬¦åä¸è¿°æ¡ä»¶ï¼é£ä¹å°±å»ºç«åç´ å°é¢åçå³èã\n\né¢åçå±æ§é½æ¯ç±åå»ºå®çé£ä¸ªåç´ è®¡ç®èæãè®¡ç®é¢åçä¸­å¿psï¼æ³åénsï¼åå¾rsï¼æè¿°å­dsã\n\n# å¤ç¹è¿æ»¤\n\nåç´ ä¸é¢åå³èï¼é£ä¹è¿ä¸ªåç´ éè¦ç¬¦åä¸å®æ¡ä»¶ï¼å°è¿ä¸ªåç´ ç¹ç3dåæ æå½±å°å¶å®å³é®å¸§ï¼è®°å½æå¤å°å³é®å¸§å¯ä»¥è§æµå°è¿ä¸ªåç´ ç¹ï¼åæ²¡æè§æµå°çæ¬¡æ°ãå¦ææ²¡è§æµå°çæ¬¡æ°æ¯è§æµå°æ¬¡æ°å¤ï¼æèè§æµå°çæ¬¡æ°å°äºä¸å®éå¼ï¼åè®¤ä¸ºè¿ä¸ªåç´ ç¹æ¯å¤ç¹ï¼åä¸å¯¹è¿ä¸ªåç´ ç¹è¿è¡å³èä¸ä¸ªé¢åã\n\n# é¢åçæ³åéæ´æ°\n\nå¹³åææä¸è¯¥é¢åå³èçåç´ ç¹çæ³åéï¼éåè¿è¡å½ä¸åã\n\n# é¢åçä¸­å¿ä½ç½®åæè¿°å­ä¼å\n\nå¨æ´æ°å®é¢åçæ³åéåï¼å¯¹é¢åçä¸­å¿ä½ç½®ï¼æè¿°å­éè¿ï¼1ï¼å¼è¿è¡ä¼åãè¿éè¿éå¶é¢åçä¸­å¿çä¼åæ¹åï¼åªåè®¸æ²¿çé¢åçæ³åéæ¹åè¿è¡ä¼åï¼æä»¥ä¼åå¼å­ä¸ºps+tânsï¼åªæä¸ä¸ªä¼åétã\n\næè¿°å­æ´æ°æ¹æ³å¢ï¼ï¼ï¼ï¼\n\n# é¢åèå\n\nå¨baçç¬¬ä¸æ¬¡è¿­ä»£åï¼å¼å§èåå·æç¸ä¼¼å±æ§çé¢åï¼æ¯å¦æ³åéæ¥è¿ï¼ä½ç½®æ¥è¿ãä¸ºäºæ´å¿«çæ¾å°éè¦èåçé¢åï¼å°é¢åæå½±å°ææçå³é®å¸§ä¸­ï¼ä½äºåä¸ä¸ª4*4çç½æ ¼ä¸­çé¢åè¿è¡èåã\n\n# å³é®å¸§çä½å§¿ä¼å\n\nå¯¹ï¼1ï¼å¼è¿è¡é«æ¯çé¡¿æ³è¿è¡ä¼åã\n\n# ç¸æºååä¼å\n\nåæ ·å¯¹ï¼1ï¼å¼è¿è¡é«æ¯çé¡¿æ³è¿è¡ä¼åï¼ä¸è¿è¿æ¬¡ä¼åçæ¯ç¸æºååï¼åæ¶ï¼ä½¿ç¨æ·±åº¦åç§»æ¨¡åï¼å»ºç«çå®æ·±åº¦ä¸åç§»çæ·±åº¦èç³»\n\n\n\n# é¢åæ¸çåæ´æ°åå¾\n\nä¸ä¸é¢çå¤ç¹è¿æ»¤æ¹æ³ç±»ä¼¼ï¼å°é¢åæå½±å°æ¯ä¸ªå³é®å¸§ï¼è®¡ç®è¿ä¸ªé¢åå¨å³é®å¸§éåºç°çæ¬¡æ°ã\n\nä¸æ³åéæ´æ°æ¹æ³ç±»ä¼¼ï¼ä¸é¢åå³èçææåç´ ç¹ï¼é½è®¡ç®åºä¸ä¸ªåå¾ï¼è¯¥é¢ååå¾æ´æ°ä¸ºæå°çåå¾ã\n\n\n\n\n# åç«¯\n\næ¬æçä¸»è¦è´¡ç®æ¯æä¾äºä¸ä¸ªåç«¯ç¨ å¯çbaæ¹æ³ã\n\n# é¢å¤ç\n\nä½¿ç¨åè¾¹æ»¤æ³¢ï¼å¯¹æ·±åº¦å¾è¿æ»¤ã\n\n# éç¨è®¡\n\néè¿ä¸ä¸å³é®å¸§ï¼ä¼°è®¡å½åå¸§çä½å§¿ï¼ä½¿ç¨æ åçç´æ¥æ³ï¼å¶ä¸­åæ¬å ä½è¯¯å·®ï¼ååº¦æ¢¯åº¦è¯¯å·®ããåèæç®ã\n\n# åç¯æ£æµ\n\nå½åå»ºä¸ä¸ªå³é®å¸§æ¶ï¼æ¯10å¸§ï¼ï¼æ§è¡åç¯æ£æµãä½¿ç¨åºäºäºè¿å¶ç¹å¾ï¼çè¯è¢æ¨¡åï¼æ¾å°å½åå³é®å¸§kä¸åå²åªä¸ªå³é®å¸§mæç¸ä¼¼ãé¦åéè¿ç¹å¾å¹éä¼°è®¡å³é®å¸§çåå§ç¸å¯¹ä½å§¿ï¼ç¶åéè¿ç´æ¥æ³å¯¹é½ãåæ¶ä¹å¯¹é½m-1ï¼m+1å¸§ï¼å¦æè¿äºå¯¹é½ï¼é½æ»¡è¶³ä¸å®æ¡ä»¶ï¼åæ¢åè§åº¦çå·®å¼ï¼ï¼åæ¥åè¿æ¬¡åç¯ãä½¿ç¨ååç®åºçä¸ä¸ªç¸å¯¹ä½å§¿çå¹³åç¸å¯¹ä½å§¿ï¼ä½¿ç¨ä½å§¿å¾ä¼åï¼éåä½¿ç¨ä½èæåºçbaä¼åã\n\n\n# åºåæ°æ®é\n\n# å¨å \n\nä½èè®¤ä¸ºï¼å¨æµè¡çtum rgb-d æ°æ®éä¸­ï¼ä¸çå®ä¸çé½å¤å¤å°å°æåå·®ï¼å ä¸ºééæ°æ®æ¶ï¼rgbå¾ådepthå¾çæ¶é´ä¸åæ­¥ï¼æ·±åº¦å¾ç¸åï¼ä¸è½åç¡®è·å¾å¯¹åºåç´ ç¹çæ·±åº¦ï¼è¿ä¼å¯¼è´åç§rgb-d slamç³»ç»çè¿è¡ç»æä¹ä¼æ´å ä¸åç¡®ã\n\n# åå»ºåºåæ°æ®é\n\nä½èåå»ºåºåæ°æ®éä½¿ç¨ä¸¤ç§æ¹æ³ï¼ä¸ç§æ¯ä½èéç¨åæ­¥è£ç½®ãå¨å±å¿«é¨ç¸æºè®°å½æ°æ®éï¼å¦ä¸ç§æ¯å¨åææ°æ®ééå»ºåº3dæ¨¡ååï¼éè¿æ°æ®éåå§è½¨è¿¹ï¼éæ°æ¸²ææ°æ®éãä½èæ¸²æåºåç§æ°æ®éï¼å·å¸å¿«é¨åå¼æ­¥çæåç»åãåºäºå¨å±å¿«é¨åæ­¥æ°æ®éï¼å·å¸å¿«é¨æ°æ®éæ¯éè¿ä¼°è®¡å·å¸å¿«é¨çæ¶é´ï¼ç¬¬ä¸è¡åæåä¸è¡çæ¶é´å·®ï¼æ¥æ¨¡æå·å¸å¿«é¨çææï¼å¯¹äºå¼æ­¥å¿«é¨æ°æ®éï¼rgbå¾åçæ·±åº¦å¯¹åºä¸¤å¼ æ¶é´è¿ç»­çæ·±åº¦å¾åä¹é´æ·±åº¦å¾åã",charsets:{cjk:!0}},{title:"intrinsic3dè®ºæéè¯»",frontmatter:{title:"intrinsic3dè®ºæéè¯»",date:"2022-05-18T11:01:06.000Z",permalink:"/pages/c06e38/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/08.intrinsic3d%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/08.intrinsic3dè®ºæéè¯».md",key:"v-66cbb422",path:"/pages/c06e38/",headers:[{level:3,title:"Introducting",slug:"introducting",normalizedTitle:"introducting",charIndex:72},{level:3,title:"Overview",slug:"overview",normalizedTitle:"overview",charIndex:944},{level:4,title:"Signed Distance Field",slug:"signed-distance-field",normalizedTitle:"signed distance field",charIndex:1213},{level:4,title:"Image Formation Model and Sampling",slug:"image-formation-model-and-sampling",normalizedTitle:"image formation model and sampling",charIndex:1428},{level:3,title:"Lighting Estimation using Spatially-varying Spherical Harmonics",slug:"lighting-estimation-using-spatially-varying-spherical-harmonics",normalizedTitle:"lighting estimation using spatially-varying spherical harmonics",charIndex:1794},{level:3,title:"Joint Optimization of Geometry, Albedo, and Image Formation Model",slug:"joint-optimization-of-geometry-albedo-and-image-formation-model",normalizedTitle:"joint optimization of geometry, albedo, and image formation model",charIndex:2370}],headersStr:"Introducting Overview Signed Distance Field Image Formation Model and Sampling Lighting Estimation using Spatially-varying Spherical Harmonics Joint Optimization of Geometry, Albedo, and Image Formation Model",content:"è¿ç¯æç« çæ ¸å¿ideaä¸»è¦æ¯çº¹çç»åï¼åæ¶ä¼ågeometry,texures,camera poseï¼è¿æ¹æ³æ¯åºäºSfSåSVSHã\n\n\n# Introducting\n\n1.ä½ç§¯èåæ¹æ³è½å¤ææçåå°ä¼ æå¨åªå£°çå½±åï¼ä½å æ­¤éå»ºçè¡¨é¢æ´ååå¹³æ»ï¼ç¼ºå°ç»èã\n\n2.å¾å¤RGB-Déå»ºæ¡æ¶åªæ¯ç®åå°å°æ·±åº¦åç´ çRGBå¼æ å°å°å ä½å¾å½¢ä¸ï¼å¨å¯¹åºä½ç´ ä¸å æå¹³åï¼è¿ä¹ä¼å¯¼è´è¡¨é¢æ¨¡ç³ã\n\nä¸ºäºè§£å³ä¸è¿°ä¸¤ä¸ªé®é¢ï¼äºæ¯æäºä¸¤ç§ç¬ç«çè§£å³æ¹æ³ï¼\n\n 1. é¦åéè¿è¿­ä»£æ±è§£ä½å§¿å¯¹é½ï¼ç¶åé¢è²å¹³åï¼å¯¹äºéè¯¯çå ä½å¯¹é½ï¼éè¿éåæ§ååæ¥ä¼åï¼æåä¹å¯ä»¥å¾å°é«è´¨éçè¡¨é¢çº¹çã\n 2. åºäºé´å½±çç»åææ¯ï¼éè¿é´å½±çº¦ææ¥å¢å¼ºæ·±åº¦å¸§ãè¿ç§ææ¯ä¸è¬æ¯ä¸ä¸ªé¡ºåºç®¡éï¼é¦åå¯¹é½RGB-Då¸§ï¼ç¶åèåRGBådepthå°ä½ç§¯ç½æ ¼ä¸­ï¼æåç»åéå»ºãä½æ¯è¿ç®¡éä¸ï¼å¦æååæéè¯¯ï¼é£ä¹åé¢ççº¹çç»åä¹ä¼è·çåºéã\n\nå¨ä½èçå·¥ä½ä¸­ï¼ç»åè¿ä¸¤ç§æ¹åå»è§£å³ä¸è¿°ä¸¤ä¸ªé®é¢ï¼è®¡ç®ç²¾ç¡®çè¡¨é¢å ä½ï¼åéæçº¹çãä½èçæè·¯å¦ä¸ï¼\n\n 1. è¡¨é¢å ä½ç±SDFæ¥è¡¨ç¤ºï¼éè¿è¾å¥çæ·±åº¦ä¿¡æ¯ï¼é´å½±ï¼RGBæ¥çº¦æã\n 2. éè¿å¨å±ååº¦åå ä½ä¸è´æ§ï¼ç«æ­£ç¸æºä½å§¿åååã\n 3. ç»åè¡¨é¢çº¹çã\n 4. ç©ºé´ååçç§æåè¡¨é¢åç§çå¼åå°RGBæµéåè¡¨é¢å ä½çéå¶ã\n\nä¸»è¦æ¯ä¸ºäºåæ°å3Dæ¨¡åã\n\n 1. æä»¬éè¿èåä¼åä¸ç»´å ä½ãè¡¨é¢ææ(åç§ç)ãæåæºå§¿æãæåæºåé¨(åæ¬éå¤´ç¸å)ä»¥åä½¿ç¨çè°åºå½æ°ç²¾ç¡®çåºæ¯ç§æï¼éæäºä¸ä¸ªä½ç¬¦å·è·ç¦»å½æ°ã\n\n 2. ä¸åªæ¯ä¼°è®¡ä¸ä¸ªåä¸çå¨å±åºæ¯ç§æï¼æä»¬ä¼°è®¡ç©ºé´ååççå½¢è°æ³¢æ¥æ£ç´¢åç¡®çåºæ¯ç§æã\n\n 3. æä»¬å©ç¨æ¶é´è§å¾éæ ·åè¿æ»¤ææ¯æ¥åè½»è¿å¨æ¨¡ç³çå½±åï¼ä»èææå°å¤çæ¥èªä½ææ¬æ¶è´¹çº§çæ°æ®RGB-Dä¼ æå¨è®¾å¤\n\nSfSæ¨å¨ä»åå¼ RGBå¾åä¸­æå3Dç»æï¼å½åæºåç¸æºä½ç½®é½æ¯å·²ç¥æ¶ï¼çè®ºå·²ç»æ¯å¾æçäºãå æ­¤é´å½±ååå°ä¼°è®¡å·²ç»æä¸ºç»åå ä½çéè¦ä¸ä¸æççº¿ç´¢ãåèæç®[20]ä½¿ç¨SDFéå»ºæ¹æ³æä¸¤ä¸ªç¼ºç¹ï¼ç¬¬ä¸ï¼åè®¾äºä¸ä¸ªåä¸çå¨å±ç§æè®¾ç½®ï¼ç¬¬äºä¼åæ¯ä¸ä¸ªé¡ºåºç®¡éï¼æå³çä½å§¿åè¡¨é¢é¢è²åªè¿è¡ä¸æ¬¡ä¼åã\n\nå¨æä»¬çæ¹æ³ä¸­ï¼ç³»ç»çè§£å³è¿äºç¼ºç¹éè¿èåä¼åç­ç¥ï¼ä»¥åç©ºé´ååç§æåæ°åã\n\n\n# Overview\n\n 1. éè¿è¾å¥å¸¦æåå§ä½å§¿çRGB-Då¾ååºåï¼é¦åä¼°è®¡ä¸ä¸ªSDFæ¨¡åãä¸ºäºåå°è¿å¨æ¨¡ç³çè¯å¾çå½±åï¼æ ¹æ®æ¨¡ç³åº¦éèªå¨éæ©è§å¾æ¥å»ºç«é¢è²çº¦æã\n 2. åå±çSDFæ¨¡åï¼RGBå¸§ï¼ä½¿ç¨éå­å¡åå±ä¼åã\n 3. å¨æ¯æ¬¡è¿­ä»£çåé¨ï¼éè¿å°SDFä½ç§¯åå²æå·æç¬ç«çå½¢è°æ³¢ï¼SHï¼åæ°çåºå®å¤§å°çå­ä½ç§¯ãå¨ä¼°è®¡è¿ç¨ä¸­èåæ±è§£ææSHåæ°ï¼éè¿å¨ç»å®ä½ç§¯ä¸­ä¸çº¿æ§æå¼è·å¾å­ä½ç§¯ã\n 4. å¨æ¡æ¶çä¸»é¶æ®µä¸­ï¼å©ç¨ä¼°è®¡çåç§æ¥èåç»åSDFçè¡¨é¢ååå°çï¼å¾åä½å§¿ï¼ååãæåéè¿Marching Cubesæ¥æåæ¨¡åã\n\n# Signed Distance Field\n\næ¯ä¸ªä½ç´ åå«SDFå¼D(v)ï¼é¢è²C(v)ï¼æéW(v)ï¼åå°ça(v)ï¼ä¼ååçSDFå¼$\\widetilde{D}(v) ãä½¿ç¨å æå¹³åèåãä½¿ç¨å æå¹³åèåD(v),W(v)å¨èåå®ææçå¾åï¼ç¨èåå¥½çæ¨¡å,å¨èåå®ææçRGBâDå¾åï¼ç¨èåå¥½çSDFæ¨¡åDï¼åå§åä¸ä¸ªä¼åçï¼åå§åä¸ä¸ªä¼åç\\widetilde{D} $ï¼éè¿ååå·®åï¼ç´æ¥è®¡ç®æ¯ä¸ªä½ç´ çæ³åéã\n\n# Image Formation Model and Sampling\n\nRGB-D Data && Camera Model è¯´æå¾åæ°æ®çä¸äºç¬¦å·å®ä¹ï¼æè½¬å¹³ç§»çä½å§¿åæ°,ååï¼æå½±æ¨¡åã\n\nKeyframe Selection ä¸ºäºåå°è¿å¨æ¨¡ç³çå½±åï¼ä½¿ç¨åèæç®[6]çæ¨¡ç³åº¦æµéæ¥éæ©è§å¾ï¼å·ä½çè¯´ï¼å¨è¿ç»­tKFå¸§ä¸­éæ©æä¸æ¨¡ç³çå¸§è¿è¡å¤çï¼ä½è¿éï¼ä»åéæ©ææçå¸§ã\n\nObservations Sampling and Colorization éè¿å³é®å¸§ï¼éæ°è®¡ç®ç­å¼é¢çä½ç´ çé¢è²å¼ï¼é¦åå¤æ­ä½ç´ æ¯å¦å¨æä¸ªç¸æºè§éï¼æåè¿ä¸ªä½ç´ çææé¢è²åæéè§æµå­æ¾å¨$\\mathcal{O}_v ä¸­ãç¶åéè¿æéå¯¹ä¸­ãç¶åéè¿æéå¯¹\\mathcal{O} _v$æåºï¼åªä¿çæå¥½çè§æµï¼ä½ç´ çé¢è²æ¯è¿äºè§æµçå æå¹³åã\n\n\n# Lighting Estimation using Spatially-varying Spherical Harmonics\n\nLighting Model ä¸ºäºè¡¨ç¤ºåºæ¯çç§æï¼å¯¹æ¯ä¸ªè¡¨é¢ç¹çé´å½±åæ°åè¡¨ç¤ºãéè¿ä½ç´ çæ³åéï¼åç§çï¼ç§æåæ°è®¡ç®ä½ç´ çé´å½±Bã\n\nB(v)=a(v)âm=1b2lmHm(n(v))\n\nSpherical Harmonics ä¸ºäºä¼°è®¡ä½ç´ çé´å½±Bï¼ä½¿ç¨b=3çSHåºå½æ°Hmæ¥åæ°åè¡¨ç¤ºåç§ãç¶èä¸ä¸ªåä¸çSHåºä¸è½å¦å®å°åæ¶è¡¨ç¤ºææè¡¨é¢ç¹çç§æã\n\nSubbolume Partitioning ä¸ºäºè§£å³ä¸ä¸ªåä¸SHåºçç¼ºç¹ï¼æä»¬æ©å±äºä¼ ç»çå¬å¼ãå°éå»ºå¥½çä½ç§¯è½¬æ¢å°ä¸ä¸ªåºå®å¤§å°çKä¸ªå­ä½ç§¯ä¸­ï¼æ¯ä¸ªå­ä½ç§¯é½åéä¸ä¸ªSHåºã\n\nSpatially-varying Spherical Harmonics æä»¬ç°å¨æKÃb2ä¸ªæªç¥åæ°ï¼è¿å¨åºæ¯ç§ææ¨¡åä¸­æä¾äºæ´å¤çå¯è¡¨è¾¾æ§ï¼ç´è§ä¸ï¼æä»¬è¯å¾ç¨ä¸åçå±é¨åç§æ¨¡åæ¥è¿ä¼¼å¤æçå¨å±åç§ãéè¿æå°åä»¥ä¸ç®æ å½æ°æ¥ä¼°è®¡å­ä½ç§¯çç§æ\n\nElightingÂ (â1,â¦,âK)=EappearanceÂ +Î»diffuseÂ EdiffuseÂ \n\nå¶ä¸­ï¼\n\nEappearanceÂ =âvâD~0(B(v)âI(v))2Ediffuse=âsâSârâNs(âsââr)2\n\n\n# Joint Optimization of Geometry, Albedo, and Image Formation Model\n\nåæ¶ä¼åç¸æºä½å§¿ï¼ä½ç´ sdfå¼ï¼åç§çï¼ç¸æºååã\n\nEsceneÂ (X)=âvâD~0Î»gEg+Î»vEv+Î»sEs+Î»aEa\n\nå¶ä¸­ï¼Egä¸ºä½ç´ vçå½åäº®åº¦ ä¸ ä½ç´ vå¨åä¸ªè§æµä¸­çäº®åº¦ çæ¢¯åº¦å·®ã\n\nEg(v)=âIiâVbestÂ wivââB(v)ââIi(Ï(vi))â22\n\nEv(v)æ¯ææ®ææ¯å¹³æ»é¡¹ï¼æ­£ååæä»¬çç¬¦å·è·ç¦»åï¼å¢å¼ºäºç¸é»ä½ç´ ä¹é´çè·ç¦»å¼çå¹³æ»æ§ã\n\nEv(v)=(â³D~(v))2\n\nEs(v)æ¯ç¨æ¥çº¦æè¡¨é¢ä¼åèå´ã\n\nEs(v)=(D~(v)âD(v))2\n\nEa(v)æ¯ç¨æ¥çº¦æå½åä½ç´ vä¸é»å±ä½ç´ vçé¢è²ï¼åç§ççå¹³æ»åº¦ã\n\nEa(v)=âuâNvÏ(Î(v)âÎ(u))â(a(v)âa(u))2",normalizedContent:"è¿ç¯æç« çæ ¸å¿ideaä¸»è¦æ¯çº¹çç»åï¼åæ¶ä¼ågeometry,texures,camera poseï¼è¿æ¹æ³æ¯åºäºsfsåsvshã\n\n\n# introducting\n\n1.ä½ç§¯èåæ¹æ³è½å¤ææçåå°ä¼ æå¨åªå£°çå½±åï¼ä½å æ­¤éå»ºçè¡¨é¢æ´ååå¹³æ»ï¼ç¼ºå°ç»èã\n\n2.å¾å¤rgb-déå»ºæ¡æ¶åªæ¯ç®åå°å°æ·±åº¦åç´ çrgbå¼æ å°å°å ä½å¾å½¢ä¸ï¼å¨å¯¹åºä½ç´ ä¸å æå¹³åï¼è¿ä¹ä¼å¯¼è´è¡¨é¢æ¨¡ç³ã\n\nä¸ºäºè§£å³ä¸è¿°ä¸¤ä¸ªé®é¢ï¼äºæ¯æäºä¸¤ç§ç¬ç«çè§£å³æ¹æ³ï¼\n\n 1. é¦åéè¿è¿­ä»£æ±è§£ä½å§¿å¯¹é½ï¼ç¶åé¢è²å¹³åï¼å¯¹äºéè¯¯çå ä½å¯¹é½ï¼éè¿éåæ§ååæ¥ä¼åï¼æåä¹å¯ä»¥å¾å°é«è´¨éçè¡¨é¢çº¹çã\n 2. åºäºé´å½±çç»åææ¯ï¼éè¿é´å½±çº¦ææ¥å¢å¼ºæ·±åº¦å¸§ãè¿ç§ææ¯ä¸è¬æ¯ä¸ä¸ªé¡ºåºç®¡éï¼é¦åå¯¹é½rgb-då¸§ï¼ç¶åèårgbådepthå°ä½ç§¯ç½æ ¼ä¸­ï¼æåç»åéå»ºãä½æ¯è¿ç®¡éä¸ï¼å¦æååæéè¯¯ï¼é£ä¹åé¢ççº¹çç»åä¹ä¼è·çåºéã\n\nå¨ä½èçå·¥ä½ä¸­ï¼ç»åè¿ä¸¤ç§æ¹åå»è§£å³ä¸è¿°ä¸¤ä¸ªé®é¢ï¼è®¡ç®ç²¾ç¡®çè¡¨é¢å ä½ï¼åéæçº¹çãä½èçæè·¯å¦ä¸ï¼\n\n 1. è¡¨é¢å ä½ç±sdfæ¥è¡¨ç¤ºï¼éè¿è¾å¥çæ·±åº¦ä¿¡æ¯ï¼é´å½±ï¼rgbæ¥çº¦æã\n 2. éè¿å¨å±ååº¦åå ä½ä¸è´æ§ï¼ç«æ­£ç¸æºä½å§¿åååã\n 3. ç»åè¡¨é¢çº¹çã\n 4. ç©ºé´ååçç§æåè¡¨é¢åç§çå¼åå°rgbæµéåè¡¨é¢å ä½çéå¶ã\n\nä¸»è¦æ¯ä¸ºäºåæ°å3dæ¨¡åã\n\n 1. æä»¬éè¿èåä¼åä¸ç»´å ä½ãè¡¨é¢ææ(åç§ç)ãæåæºå§¿æãæåæºåé¨(åæ¬éå¤´ç¸å)ä»¥åä½¿ç¨çè°åºå½æ°ç²¾ç¡®çåºæ¯ç§æï¼éæäºä¸ä¸ªä½ç¬¦å·è·ç¦»å½æ°ã\n\n 2. ä¸åªæ¯ä¼°è®¡ä¸ä¸ªåä¸çå¨å±åºæ¯ç§æï¼æä»¬ä¼°è®¡ç©ºé´ååççå½¢è°æ³¢æ¥æ£ç´¢åç¡®çåºæ¯ç§æã\n\n 3. æä»¬å©ç¨æ¶é´è§å¾éæ ·åè¿æ»¤ææ¯æ¥åè½»è¿å¨æ¨¡ç³çå½±åï¼ä»èææå°å¤çæ¥èªä½ææ¬æ¶è´¹çº§çæ°æ®rgb-dä¼ æå¨è®¾å¤\n\nsfsæ¨å¨ä»åå¼ rgbå¾åä¸­æå3dç»æï¼å½åæºåç¸æºä½ç½®é½æ¯å·²ç¥æ¶ï¼çè®ºå·²ç»æ¯å¾æçäºãå æ­¤é´å½±ååå°ä¼°è®¡å·²ç»æä¸ºç»åå ä½çéè¦ä¸ä¸æççº¿ç´¢ãåèæç®[20]ä½¿ç¨sdféå»ºæ¹æ³æä¸¤ä¸ªç¼ºç¹ï¼ç¬¬ä¸ï¼åè®¾äºä¸ä¸ªåä¸çå¨å±ç§æè®¾ç½®ï¼ç¬¬äºä¼åæ¯ä¸ä¸ªé¡ºåºç®¡éï¼æå³çä½å§¿åè¡¨é¢é¢è²åªè¿è¡ä¸æ¬¡ä¼åã\n\nå¨æä»¬çæ¹æ³ä¸­ï¼ç³»ç»çè§£å³è¿äºç¼ºç¹éè¿èåä¼åç­ç¥ï¼ä»¥åç©ºé´ååç§æåæ°åã\n\n\n# overview\n\n 1. éè¿è¾å¥å¸¦æåå§ä½å§¿çrgb-då¾ååºåï¼é¦åä¼°è®¡ä¸ä¸ªsdfæ¨¡åãä¸ºäºåå°è¿å¨æ¨¡ç³çè¯å¾çå½±åï¼æ ¹æ®æ¨¡ç³åº¦éèªå¨éæ©è§å¾æ¥å»ºç«é¢è²çº¦æã\n 2. åå±çsdfæ¨¡åï¼rgbå¸§ï¼ä½¿ç¨éå­å¡åå±ä¼åã\n 3. å¨æ¯æ¬¡è¿­ä»£çåé¨ï¼éè¿å°sdfä½ç§¯åå²æå·æç¬ç«çå½¢è°æ³¢ï¼shï¼åæ°çåºå®å¤§å°çå­ä½ç§¯ãå¨ä¼°è®¡è¿ç¨ä¸­èåæ±è§£ææshåæ°ï¼éè¿å¨ç»å®ä½ç§¯ä¸­ä¸çº¿æ§æå¼è·å¾å­ä½ç§¯ã\n 4. å¨æ¡æ¶çä¸»é¶æ®µä¸­ï¼å©ç¨ä¼°è®¡çåç§æ¥èåç»åsdfçè¡¨é¢ååå°çï¼å¾åä½å§¿ï¼ååãæåéè¿marching cubesæ¥æåæ¨¡åã\n\n# signed distance field\n\næ¯ä¸ªä½ç´ åå«sdfå¼d(v)ï¼é¢è²c(v)ï¼æéw(v)ï¼åå°ça(v)ï¼ä¼ååçsdfå¼$\\widetilde{d}(v) ãä½¿ç¨å æå¹³åèåãä½¿ç¨å æå¹³åèåd(v),w(v)å¨èåå®ææçå¾åï¼ç¨èåå¥½çæ¨¡å,å¨èåå®ææçrgbâdå¾åï¼ç¨èåå¥½çsdfæ¨¡ådï¼åå§åä¸ä¸ªä¼åçï¼åå§åä¸ä¸ªä¼åç\\widetilde{d} $ï¼éè¿ååå·®åï¼ç´æ¥è®¡ç®æ¯ä¸ªä½ç´ çæ³åéã\n\n# image formation model and sampling\n\nrgb-d data && camera model è¯´æå¾åæ°æ®çä¸äºç¬¦å·å®ä¹ï¼æè½¬å¹³ç§»çä½å§¿åæ°,ååï¼æå½±æ¨¡åã\n\nkeyframe selection ä¸ºäºåå°è¿å¨æ¨¡ç³çå½±åï¼ä½¿ç¨åèæç®[6]çæ¨¡ç³åº¦æµéæ¥éæ©è§å¾ï¼å·ä½çè¯´ï¼å¨è¿ç»­tkfå¸§ä¸­éæ©æä¸æ¨¡ç³çå¸§è¿è¡å¤çï¼ä½è¿éï¼ä»åéæ©ææçå¸§ã\n\nobservations sampling and colorization éè¿å³é®å¸§ï¼éæ°è®¡ç®ç­å¼é¢çä½ç´ çé¢è²å¼ï¼é¦åå¤æ­ä½ç´ æ¯å¦å¨æä¸ªç¸æºè§éï¼æåè¿ä¸ªä½ç´ çææé¢è²åæéè§æµå­æ¾å¨$\\mathcal{o}_v ä¸­ãç¶åéè¿æéå¯¹ä¸­ãç¶åéè¿æéå¯¹\\mathcal{o} _v$æåºï¼åªä¿çæå¥½çè§æµï¼ä½ç´ çé¢è²æ¯è¿äºè§æµçå æå¹³åã\n\n\n# lighting estimation using spatially-varying spherical harmonics\n\nlighting model ä¸ºäºè¡¨ç¤ºåºæ¯çç§æï¼å¯¹æ¯ä¸ªè¡¨é¢ç¹çé´å½±åæ°åè¡¨ç¤ºãéè¿ä½ç´ çæ³åéï¼åç§çï¼ç§æåæ°è®¡ç®ä½ç´ çé´å½±bã\n\nb(v)=a(v)âm=1b2lmhm(n(v))\n\nspherical harmonics ä¸ºäºä¼°è®¡ä½ç´ çé´å½±bï¼ä½¿ç¨b=3çshåºå½æ°hmæ¥åæ°åè¡¨ç¤ºåç§ãç¶èä¸ä¸ªåä¸çshåºä¸è½å¦å®å°åæ¶è¡¨ç¤ºææè¡¨é¢ç¹çç§æã\n\nsubbolume partitioning ä¸ºäºè§£å³ä¸ä¸ªåä¸shåºçç¼ºç¹ï¼æä»¬æ©å±äºä¼ ç»çå¬å¼ãå°éå»ºå¥½çä½ç§¯è½¬æ¢å°ä¸ä¸ªåºå®å¤§å°çkä¸ªå­ä½ç§¯ä¸­ï¼æ¯ä¸ªå­ä½ç§¯é½åéä¸ä¸ªshåºã\n\nspatially-varying spherical harmonics æä»¬ç°å¨ækÃb2ä¸ªæªç¥åæ°ï¼è¿å¨åºæ¯ç§ææ¨¡åä¸­æä¾äºæ´å¤çå¯è¡¨è¾¾æ§ï¼ç´è§ä¸ï¼æä»¬è¯å¾ç¨ä¸åçå±é¨åç§æ¨¡åæ¥è¿ä¼¼å¤æçå¨å±åç§ãéè¿æå°åä»¥ä¸ç®æ å½æ°æ¥ä¼°è®¡å­ä½ç§¯çç§æ\n\nelightingÂ (â1,â¦,âk)=eappearanceÂ +Î»diffuseÂ ediffuseÂ \n\nå¶ä¸­ï¼\n\neappearanceÂ =âvâd~0(b(v)âi(v))2ediffuse=âsâsârâns(âsââr)2\n\n\n# joint optimization of geometry, albedo, and image formation model\n\nåæ¶ä¼åç¸æºä½å§¿ï¼ä½ç´ sdfå¼ï¼åç§çï¼ç¸æºååã\n\nesceneÂ (x)=âvâd~0Î»geg+Î»vev+Î»ses+Î»aea\n\nå¶ä¸­ï¼egä¸ºä½ç´ vçå½åäº®åº¦ ä¸ ä½ç´ vå¨åä¸ªè§æµä¸­çäº®åº¦ çæ¢¯åº¦å·®ã\n\neg(v)=âiiâvbestÂ wivââb(v)ââii(Ï(vi))â22\n\nev(v)æ¯ææ®ææ¯å¹³æ»é¡¹ï¼æ­£ååæä»¬çç¬¦å·è·ç¦»åï¼å¢å¼ºäºç¸é»ä½ç´ ä¹é´çè·ç¦»å¼çå¹³æ»æ§ã\n\nev(v)=(â³d~(v))2\n\nes(v)æ¯ç¨æ¥çº¦æè¡¨é¢ä¼åèå´ã\n\nes(v)=(d~(v)âd(v))2\n\nea(v)æ¯ç¨æ¥çº¦æå½åä½ç´ vä¸é»å±ä½ç´ vçé¢è²ï¼åç§ççå¹³æ»åº¦ã\n\nea(v)=âuânvÏ(Î³(v)âÎ³(u))â(a(v)âa(u))2",charsets:{cjk:!0}},{title:"factor",frontmatter:{title:"factor",date:"2022-05-26T11:01:06.000Z",permalink:"/pages/0af3d9/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/09.factor.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/09.factor.md",key:"v-37a31fef",path:"/pages/0af3d9/",headers:[{level:3,title:"Prior and Odometry Estimation",slug:"prior-and-odometry-estimation",normalizedTitle:"prior and odometry estimation",charIndex:134},{level:3,title:"Factor Graph Representation",slug:"factor-graph-representation",normalizedTitle:"factor graph representation",charIndex:290},{level:3,title:"Pose Initialization: Interpolation on SE(3) Manifold",slug:"pose-initialization-interpolation-on-se-3-manifold",normalizedTitle:"pose initialization: interpolation on se(3) manifold",charIndex:365},{level:3,title:"Scale Initialization",slug:"scale-initialization",normalizedTitle:"scale initialization",charIndex:526},{level:3,title:"Optimization and Surfel-based Model Reconstruction",slug:"optimization-and-surfel-based-model-reconstruction",normalizedTitle:"optimization and surfel-based model reconstruction",charIndex:685}],headersStr:"Prior and Odometry Estimation Factor Graph Representation Pose Initialization: Interpolation on SE(3) Manifold Scale Initialization Optimization and Surfel-based Model Reconstruction",content:"æ¦è¿°ï¼è¯¥ç³»ç»çè¾å¥æ¯ï¼ä¸ç³»åRGB-Då¾åï¼å³é®å¸§çåå§ä½å§¿ï¼éè¿SFMç³»ç»è·å¾ï¼ï¼éè¿æå¼å³é®å¸§ï¼å¾å°ææå³é®å¸§çåå§ä½å§¿ï¼ç¶åç¸æºä½å§¿éè¿èåä¼ååå§ä½å§¿åéç¨è®¡ä½å§¿ï¼ElasticFusionç¨ å¯è·è¸ªè·å¾ï¼ï¼ä¼ååçä½å§¿ç¨æ¥æåçsurfeléå»ºã\n\n\n\n\n# Prior and Odometry Estimation\n\nä¼°è®¡å³é®å¸§ä½å§¿ï¼å¯¹è¾å¥çRGBå¾ï¼æ¯éÎ» å¸§éåä¸å¸§ä½ä¸ºå³é®å¸§ï¼ç¶åéè¿ç®åæåè¿çç®æ³COLMAPæ¥ä¼°è®¡å®çåå§ä½å§¿ä»¥åå¯¹åºçåæ¹å·®ç©éµãåè[1],[2]ã\n\nä¼°è®¡éç¨è®¡ä½å§¿ï¼ä½¿ç¨ElasticFusionæ¥ä¼°è®¡å¸§i,jä¹é´çç¸å¯¹ä½å§¿ã\n\n\n# Factor Graph Representation\n\nè¿éæ¯ç³»ç»çæ ¸å¿ï¼éç¨ä½èæåºçå å­å¾å¬å¼ï¼èåä¼åå³é®å¸§çåå§ä½å§¿åéç¨è®¡ä½å§¿ã\n\n\n# Pose Initialization: Interpolation on SE(3) Manifold\n\nä½¿ç¨[25]æ¥åå§åä¸¤ä¸ªå³é®å¸§ä¹é´çä½å§¿ãé¦åè®¡ç®ä¸¤ä¸ªå³é®å¸§ä½å§¿çå·®å¼ï¼ç¶åæ å°å°se(3)ä¸Î´Î¾ï¼ä»¥æ»¡è¶³çº¿æ§æä½ãæåä¼°è®¡ç¬¬kå¸§çä½å§¿Pkï¼Piæ¯ä¸ä¸ä¸ªå³é®å¸§çä½å§¿ã\n\nPk=Piexp(kâiÎ»Î´Î¾)\n\n\n# Scale Initialization\n\nç±äºSFMä¼°è®¡çä½å§¿æå°ºåº¦ä¸ç¡®å®æ§ï¼æä»¥éè¦æ¾å°ä¸ä¸ªå°ºåº¦å å­å»å¯¹é½è¿ä¸¤ç»ä½å§¿ãå¯¹äºä¸ç»å·²ç¥çå¨å±åæ ç3Dè·¯æ ç¹Xsfmä»¥åè¿äºè·¯æ å¨ç¬¬ä¸å¸§éçåç´ åæ ï¼ç¶åéè¿æ·±åº¦ä¿¡æ¯ï¼è®¡ç®åºè·¯æ åç´ ç¹å¯¹åºç3Dåæ Xslamï¼éè¿icpä½¿ç¨SVDåè§£ä¼°è®¡ä¸¤ç»3Dç¹çåæ¢ç©éµã\n\n\n# Optimization and Surfel-based Model Reconstruction\n\nå½è·å¾æ°çéç¨è®¡ä½å§¿ï¼å°å¶æå¥å°å å­å¾ä¸­ï¼ä½¿ç¨iSAM2è¿è¡å¢éä¼å[27]ãéè¿å¨å±ä¸è´çåéªä½å§¿çº¦æéç¨è®¡ä½å§¿ã",normalizedContent:"æ¦è¿°ï¼è¯¥ç³»ç»çè¾å¥æ¯ï¼ä¸ç³»årgb-då¾åï¼å³é®å¸§çåå§ä½å§¿ï¼éè¿sfmç³»ç»è·å¾ï¼ï¼éè¿æå¼å³é®å¸§ï¼å¾å°ææå³é®å¸§çåå§ä½å§¿ï¼ç¶åç¸æºä½å§¿éè¿èåä¼ååå§ä½å§¿åéç¨è®¡ä½å§¿ï¼elasticfusionç¨ å¯è·è¸ªè·å¾ï¼ï¼ä¼ååçä½å§¿ç¨æ¥æåçsurfeléå»ºã\n\n\n\n\n# prior and odometry estimation\n\nä¼°è®¡å³é®å¸§ä½å§¿ï¼å¯¹è¾å¥çrgbå¾ï¼æ¯éÎ» å¸§éåä¸å¸§ä½ä¸ºå³é®å¸§ï¼ç¶åéè¿ç®åæåè¿çç®æ³colmapæ¥ä¼°è®¡å®çåå§ä½å§¿ä»¥åå¯¹åºçåæ¹å·®ç©éµãåè[1],[2]ã\n\nä¼°è®¡éç¨è®¡ä½å§¿ï¼ä½¿ç¨elasticfusionæ¥ä¼°è®¡å¸§i,jä¹é´çç¸å¯¹ä½å§¿ã\n\n\n# factor graph representation\n\nè¿éæ¯ç³»ç»çæ ¸å¿ï¼éç¨ä½èæåºçå å­å¾å¬å¼ï¼èåä¼åå³é®å¸§çåå§ä½å§¿åéç¨è®¡ä½å§¿ã\n\n\n# pose initialization: interpolation on se(3) manifold\n\nä½¿ç¨[25]æ¥åå§åä¸¤ä¸ªå³é®å¸§ä¹é´çä½å§¿ãé¦åè®¡ç®ä¸¤ä¸ªå³é®å¸§ä½å§¿çå·®å¼ï¼ç¶åæ å°å°se(3)ä¸Î´Î¾ï¼ä»¥æ»¡è¶³çº¿æ§æä½ãæåä¼°è®¡ç¬¬kå¸§çä½å§¿pkï¼piæ¯ä¸ä¸ä¸ªå³é®å¸§çä½å§¿ã\n\npk=piexp(kâiÎ»Î´Î¾)\n\n\n# scale initialization\n\nç±äºsfmä¼°è®¡çä½å§¿æå°ºåº¦ä¸ç¡®å®æ§ï¼æä»¥éè¦æ¾å°ä¸ä¸ªå°ºåº¦å å­å»å¯¹é½è¿ä¸¤ç»ä½å§¿ãå¯¹äºä¸ç»å·²ç¥çå¨å±åæ ç3dè·¯æ ç¹xsfmä»¥åè¿äºè·¯æ å¨ç¬¬ä¸å¸§éçåç´ åæ ï¼ç¶åéè¿æ·±åº¦ä¿¡æ¯ï¼è®¡ç®åºè·¯æ åç´ ç¹å¯¹åºç3dåæ xslamï¼éè¿icpä½¿ç¨svdåè§£ä¼°è®¡ä¸¤ç»3dç¹çåæ¢ç©éµã\n\n\n# optimization and surfel-based model reconstruction\n\nå½è·å¾æ°çéç¨è®¡ä½å§¿ï¼å°å¶æå¥å°å å­å¾ä¸­ï¼ä½¿ç¨isam2è¿è¡å¢éä¼å[27]ãéè¿å¨å±ä¸è´çåéªä½å§¿çº¦æéç¨è®¡ä½å§¿ã",charsets:{cjk:!0}},{title:"CLD_MVS",frontmatter:{title:"CLD_MVS",date:"2022-05-31T11:01:06.000Z",permalink:"/pages/3a8868/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/10.CLD_MVS.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/10.CLD_MVS.md",key:"v-4633e0e5",path:"/pages/3a8868/",headers:[{level:3,title:"summarized",slug:"summarized",normalizedTitle:"summarized",charIndex:2},{level:3,title:"Related Work",slug:"related-work",normalizedTitle:"related work",charIndex:194},{level:4,title:"volumetric-based",slug:"volumetric-based",normalizedTitle:"volumetric-based",charIndex:225},{level:4,title:"mesh-based",slug:"mesh-based",normalizedTitle:"mesh-based",charIndex:269},{level:4,title:"feature-based",slug:"feature-based",normalizedTitle:"feature-based",charIndex:311},{level:4,title:"depth map-based",slug:"depth-map-based",normalizedTitle:"depth map-based",charIndex:340},{level:4,title:"Confidence Prediction",slug:"confidence-prediction",normalizedTitle:"confidence prediction",charIndex:409},{level:3,title:"Approach",slug:"approach",normalizedTitle:"approach",charIndex:458}],headersStr:"summarized Related Work volumetric-based mesh-based feature-based depth map-based Confidence Prediction Approach",content:"# summarized\n\n 1. CLD_MVSç®¡éç± åå§éå»ºï¼èªä¿¡åº¦é¢æµï¼èªä¿¡åº¦é©±å¨ï¼è¾¹çæå¼ï¼åç´ çº§ä¼åã\n 2. æåºäºä¸ç§normal-aware PatchMatchæ¥æé«æ³çº¿è´´å¾çç²¾åº¦ã\n 3. æåºäºä¸ç§åºäºç½®ä¿¡åº¦é©±å¨åè¾¹çæç¥çæå¼æ¹å¼ï¼è·å¾å¯é çåéªæ·±åº¦å¾ãå°ç©ºé´ç½®ä¿¡åº¦åè§å·®å¾ç½®ä¿¡åº¦ç»åæ¥æ£æµå¯é çå°é¢æ§å¶ç¹ã\n 4. éè¿é«åº¦å¹éè¯¯å·®æé«è§å·®å¾çç²¾åº¦ã\n\n\n# Related Work\n\nMVSæ¹æ³å¯ä»¥åä¸ºåä¸ªç±»å«\n\n# volumetric-based\n\nåè®¾3Dåºæ¯åµå¥å¨ä¸ä¸ªé¢åå®ä¹ç3Dä½åä¸­ã\n\n# mesh-based\n\nå¯¹ä¸è§meshè¿è¡æå°åè½éå½æ°åå½¢å¯¹é½å°çæ¯è¡¨é¢ã\n\n# feature-based\n\néå»ºæç¹å¾ç¹çåºåã\n\n# depth map-based\n\nä¸è¬åä¸ºä¸¤ä¸ªé¶æ®µæ·±åº¦ä¼°è®¡åæ·±åº¦èåãæ¯ä¸å¼ å¾é¡¹éæ©è§å¾ç¶åå»ºç«å±é¨å³èï¼æåºå¤ç¹ï¼ç¶åç¹äºèåã\n\n# Confidence Prediction\n\nç½®ä¿¡åº¦åº¦éæ¹æ³å¯ä»¥æ¹åç«ä½å¹éä¸­çè§å·®å¾ã\n\n\n# Approach\n\nè¯¥æ¹æ³çä¸»è¦ææ³æ¯åºäºçå®åºæ¯ä¸­å­å¨è®¸å¤åºçº¹çè¡¨é¢ï¼ä¸é¾ä»¥éè¿å¤è§å¾å¹éè¿è¡å¯é éæçåè®¾ï¼æä»¬æåºäºååå©ç¨å¯é éæé¨åæ¥å¸®å©ä¸å¯é éæé¨åçæ¹æ³ãæä»¬é¦åéè¦ä¸ä¸ªåå§çç¨ å¯éå»ºåä¸ä¸ªæ£æµéå»ºå¥½é¨åçç½®ä¿¡åº¦çæ¹æ³ãç¶åä½¿ç¨ä¸ä¸ªå¯é çæå¼æ¹æ³æ¥å¡«åç¼ºå¤±çè¡¨é¢æ¥æ¹åè§å·®å¾çä¸è´æ§åå ä½ç»èãå¨ç»å®ä¸ä¸ªåèè§å¾ï¼éç¨ä¸ä¸åä¸ªæ­¥éª¤æ¥ä¼°è®¡æ·±åº¦å¾åæ³çº¿è´´å¾ã\n\n 1. ä½¿ç¨PatchMatchç®æ³æ¥åæ­¥ä¼°è®¡æ·±åº¦åæ³çº¿è´´å¾ã\n 2. å°è§å·®å¾ä¸è´æ§åç©ºé´ä¸è´æ§çç½®ä¿¡åº¦ç¸ç»åï¼å¯é çé¢æµæ¯ä¸ªæ·±åº¦çæ­£ç¡®æ§ãç¨DCNNsæ¥ç®ç©ºé´ä¸è´æ§çç½®ä¿¡åº¦ã\n 3. éè¿å¨æåéææå¯¼çç½®ä¿¡åº¦é©±å¨åè¾¹çæç¥æå¼æ¥è·å¾å¯é çæ·±åº¦åæ³çº¿ä¼°è®¡ã\n 4. è¿ä¸æ­¥ä¼åæ·±åº¦åæ³çº¿è¯¯å·®ã\n\n",normalizedContent:"# summarized\n\n 1. cld_mvsç®¡éç± åå§éå»ºï¼èªä¿¡åº¦é¢æµï¼èªä¿¡åº¦é©±å¨ï¼è¾¹çæå¼ï¼åç´ çº§ä¼åã\n 2. æåºäºä¸ç§normal-aware patchmatchæ¥æé«æ³çº¿è´´å¾çç²¾åº¦ã\n 3. æåºäºä¸ç§åºäºç½®ä¿¡åº¦é©±å¨åè¾¹çæç¥çæå¼æ¹å¼ï¼è·å¾å¯é çåéªæ·±åº¦å¾ãå°ç©ºé´ç½®ä¿¡åº¦åè§å·®å¾ç½®ä¿¡åº¦ç»åæ¥æ£æµå¯é çå°é¢æ§å¶ç¹ã\n 4. éè¿é«åº¦å¹éè¯¯å·®æé«è§å·®å¾çç²¾åº¦ã\n\n\n# related work\n\nmvsæ¹æ³å¯ä»¥åä¸ºåä¸ªç±»å«\n\n# volumetric-based\n\nåè®¾3dåºæ¯åµå¥å¨ä¸ä¸ªé¢åå®ä¹ç3dä½åä¸­ã\n\n# mesh-based\n\nå¯¹ä¸è§meshè¿è¡æå°åè½éå½æ°åå½¢å¯¹é½å°çæ¯è¡¨é¢ã\n\n# feature-based\n\néå»ºæç¹å¾ç¹çåºåã\n\n# depth map-based\n\nä¸è¬åä¸ºä¸¤ä¸ªé¶æ®µæ·±åº¦ä¼°è®¡åæ·±åº¦èåãæ¯ä¸å¼ å¾é¡¹éæ©è§å¾ç¶åå»ºç«å±é¨å³èï¼æåºå¤ç¹ï¼ç¶åç¹äºèåã\n\n# confidence prediction\n\nç½®ä¿¡åº¦åº¦éæ¹æ³å¯ä»¥æ¹åç«ä½å¹éä¸­çè§å·®å¾ã\n\n\n# approach\n\nè¯¥æ¹æ³çä¸»è¦ææ³æ¯åºäºçå®åºæ¯ä¸­å­å¨è®¸å¤åºçº¹çè¡¨é¢ï¼ä¸é¾ä»¥éè¿å¤è§å¾å¹éè¿è¡å¯é éæçåè®¾ï¼æä»¬æåºäºååå©ç¨å¯é éæé¨åæ¥å¸®å©ä¸å¯é éæé¨åçæ¹æ³ãæä»¬é¦åéè¦ä¸ä¸ªåå§çç¨ å¯éå»ºåä¸ä¸ªæ£æµéå»ºå¥½é¨åçç½®ä¿¡åº¦çæ¹æ³ãç¶åä½¿ç¨ä¸ä¸ªå¯é çæå¼æ¹æ³æ¥å¡«åç¼ºå¤±çè¡¨é¢æ¥æ¹åè§å·®å¾çä¸è´æ§åå ä½ç»èãå¨ç»å®ä¸ä¸ªåèè§å¾ï¼éç¨ä¸ä¸åä¸ªæ­¥éª¤æ¥ä¼°è®¡æ·±åº¦å¾åæ³çº¿è´´å¾ã\n\n 1. ä½¿ç¨patchmatchç®æ³æ¥åæ­¥ä¼°è®¡æ·±åº¦åæ³çº¿è´´å¾ã\n 2. å°è§å·®å¾ä¸è´æ§åç©ºé´ä¸è´æ§çç½®ä¿¡åº¦ç¸ç»åï¼å¯é çé¢æµæ¯ä¸ªæ·±åº¦çæ­£ç¡®æ§ãç¨dcnnsæ¥ç®ç©ºé´ä¸è´æ§çç½®ä¿¡åº¦ã\n 3. éè¿å¨æåéææå¯¼çç½®ä¿¡åº¦é©±å¨åè¾¹çæç¥æå¼æ¥è·å¾å¯é çæ·±åº¦åæ³çº¿ä¼°è®¡ã\n 4. è¿ä¸æ­¥ä¼åæ·±åº¦åæ³çº¿è¯¯å·®ã\n\n",charsets:{cjk:!0}},{title:"TextureMe",frontmatter:{title:"TextureMe",date:"2022-04-06T11:01:06.000Z",permalink:"/pages/49bbb9/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/11.TextureMe.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/11.TextureMe.md",key:"v-629fc96e",path:"/pages/49bbb9/",headers:[{level:3,title:"ä»ç»",slug:"ä»ç»",normalizedTitle:"ä»ç»",charIndex:20},{level:3,title:"ç¸å³å·¥ä½",slug:"ç¸å³å·¥ä½",normalizedTitle:"ç¸å³å·¥ä½",charIndex:645},{level:3,title:"ç³»ç»æ¦è¿°",slug:"ç³»ç»æ¦è¿°",normalizedTitle:"ç³»ç»æ¦è¿°",charIndex:654},{level:3,title:"çº¹çå¾éè¡¨ç¤º",slug:"çº¹çå¾éè¡¨ç¤º",normalizedTitle:"çº¹çå¾éè¡¨ç¤º",charIndex:996},{level:3,title:"çº¹çåèå",slug:"çº¹çåèå",normalizedTitle:"çº¹çåèå",charIndex:1656},{level:3,title:"çº¹çåä¼å",slug:"çº¹çåä¼å",normalizedTitle:"çº¹çåä¼å",charIndex:2248}],headersStr:"ä»ç» ç¸å³å·¥ä½ ç³»ç»æ¦è¿° çº¹çå¾éè¡¨ç¤º çº¹çåèå çº¹çåä¼å",content:"# TextureMeè®ºæéè¯»\n\n\n# ä»ç»\n\né«è´¨éççº¹çå»ºå¾ä¸è¬é½æ¯ç¦»çº¿çåå¤çæ­¥éª¤ï¼å¨è¿ç¯æç« ä¸­ï¼æåºä¸ç§å®æ¶çèåæ¢å¤3Då ä½è¡¨é¢åé«è´¨éçº¹çãæ ¸å¿æ¹æ³æ¯åå»ºä¸TSDFé¶äº¤ç¹ç¸å³èçä¸è§å½¢ã\n\nè½ç¶åºäºTSDFéå»ºï¼ä½¿ç¨æåªå£°çæ·±åº¦å¾èåï¼ä¹è½å¾å°å¹²åçè¡¨æï¼ä½ä¼ ç»çTSDFä¸ä¸ªä½ç´ åªè½å­å¨ä¸ä¸ªé¢è²å¼ï¼è¦è¡¨ç¤ºç²¾ç»çè¡¨é¢é¢è²ï¼é£ä¹å°±éè¦å¾®å°çä½ç´ ï¼å¹¶éè¦å¤§éçåå­ãéè¿Marching Cubes å¯ä»¥ä»ä¸ä¸ªä½ç´ è·å¾å¤ä¸ªä¸è§å½¢ï¼ä¸è¬ä¼ ç»çæ¹æ³éè¿å¯¹ç¸é»ä½ç´ æå¼æ¥è·å¾è¯¦ç»çä¸è§å½¢çé¢è²ï¼å æ­¤åéäºä½ç´ çåè¾¨çãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æåºäºç¦»çº¿ççº¹çè´´å¾æ¹æ³ï¼å ä¸ºéè¿èåé¢è²å¾çæ¹æ³æ¥è·å¾çº¹çå¾ä¸è¬ä¼åé¢è²å¾çä½å§¿æ¼ç§»å½±åï¼æä»¥ååæ¹æ³å°è¯åä¼åç¸æºä½å§¿åçº¹çå¾ä½ç½®æ¥è·å¾é«è´¨éççº¹çè´´å¾ã\n\næä»¬æåºä¸ä¸ªæ¡æ¶TextureMeï¼ä»RGB-Då¾ååºåèååå»ºä¸ä¸ªé«è´¨éççº¹çå°å¾åè¡¨é¢å ä½ãå¶æ ¸å¿ideaæ¯ ç»´æ¤ä¸ä¸ªå¨å±ççº¹çå°å¾é ** å¶ç±ç´è§ä¸è§å½¢ç»æï¼æä»¬ç§°çº¹çpatchï¼å­å¨éå»ºè¡¨é¢çä¸è§å½¢çé¢è²ç»è**ãå¯¹Marching Cubesè·å¾çä¸è§å½¢æ å°å°å½åå¸§å¾å°çº¹çpatchï¼ç¶åæ´ççº¹çpatchå°å¨å±çº¹çå°å¾éä¸­ã\n\næ¬æè´¡ç®ç¹æ¦è¿°ï¼\n\n * æåºä¸ä¸ªå®æ¶çåæ¶éå»ºå ä½åçº¹çç3Déå»ºæ¡æ¶ï¼æ²¡æéç¨ä»»ä½åå¤çæ­¥éª¤ï¼\n * æä»¬çæ¹æ³å¼å©ç¨äºé¢è²å¾ï¼æå»ºåæ´æ°ä¸ä¸ªå¨å±çº¹çå°å¾éï¼\n * å¤ççº¹çpatchä¸å¯¹é½ï¼ç½æ ¼è¿æ¥æ´æ°ï¼çº¹çpatchæ´æ°ç­é®é¢ï¼\n\n\n# ç¸å³å·¥ä½\n\n\n# ç³»ç»æ¦è¿°\n\nTextureMeçå ä½éå»ºæ¨¡åæ¯åºäºKinectFusionçï¼å¹¶ä¸èåRGBä¿¡æ¯ï¼ä½¿ç¨ååº¦è¯¯å·®åå ä½è¯¯å·®æ¥ä¼°è®¡å½åå¸§çä½å§¿ï¼è½ç¶ä½¿ç¨å½åå¸§çä½å§¿åæ·±åº¦å¾æ¥æ´æ°TSDFæ¨¡åã\n\nä¸ºäºéå»ºçº¹çåï¼ç½æ ¼æ¨¡åæ¯å¿è¦çãTSDFæ¯æå«è¡¨é¢çè¡¨ç¤ºæ¹æ³ï¼å æ­¤æä»¬ä½¿ç¨Marching Cubeså»è·å¾åå«é¶ç¹çä¸è§å½¢ï¼ç¶åä½¿ç¨ä½å§¿æ å°è¿äºä¸è§å½¢å°å½åå¸§ï¼æ¥è·å¾å³èçè¯¦ç»é¢è²ï¼ç¶åå¨å½åå¸§æå»ºçº¹çåï¼ä½¿ç¨çº¹çåå»æ´æ°å¨å±çº¹çå°å¾éï¼å½åå¸§ççº¹çåä¸å¨å±çº¹çå°å¾éä¸­å¯¹åºççº¹çåè¿è¡å¹³åæ´æ°ã\n\nTextureMeçæ ¸å¿æ¯å¨å¨å±çº¹çå°å¾éä¸­ææå°è¡¨ç¤ºï¼å­å¨ï¼æå»ºï¼æ´æ°çº¹çåãæ¥ä¸æ¥å°±ç¬¬4èä»ç»çº¹çåçè¡¨ç¤ºåå­å¨ï¼ç¬¬5èä»ç»çº¹çå¿«çæå»ºåæ´æ°ï¼ç¬¬6èä»ç»ä¼åè¯¯å¯¹é½ççº¹çåã\n\n\n# çº¹çå¾éè¡¨ç¤º\n\nçº¹çå æ¯ä¸ä¸ªå¸¦æè¯¦ç»é¢è²ä¿¡æ¯çç´è§ä¸è§å½¢ï¼å­å¨å¨çº¹çå°å¾éä¸­ã\n\nçº¹çå°å¾é çº¹çå¾éæ¯å­å¨äºä¸ç»ç´è§ä¸è§å½¢çº¹çåçå¤§åå¾åï¼å¨éå»ºå¼å§ä¹åï¼é¢åä¸ºçº¹çå°å¾éåéæ¾å­ï¼åæ¶ï¼éè¿å°çº¹çå¾éååååä¸ºç´è§ä¸è§å½¢ï¼é¢åè®¡ç®çº¹çå¾éä¸­æ¯ä¸ªçº¹çåçé¡¶ç¹çUVåæ ï¼é¢åå®ä¹ä¸ä¸ªæå°çº¹çåçå¤§å°ï¼å®å¯ä»¥å­å¨ä»è¾å¥çå½©è²å¾åä¸­å¯è½çæå¤§çº¹çç»èãå·ä½æ¥è¯´ï¼å°ä½ç´ æå½±å°å½åçå½©è²å¾ä¸­ï¼æ¥è®¡ç®çº¹çåçç´è§ä¸è§å½¢å¤§å°ã\n\nå­å¨ æä»¬ä»é¶äº¤åä½ç´ ä¸­çæä¸è§å½¢å¹¶åéä¸ä¸ªå¯ä¸ççº¹çåç´¢å¼ï¼å½ä¸ä¸ªä½ç´ ç¬¬ä¸æ¬¡è¡¨ç¤ºä¸ä¸ªè¡¨é¢æ¶ï¼ç»ä»åå»ºä¸ä¸ªçº¹çåï¼ç¶åå­å¨å¨çº¹çå¾éä¸­ãè®¾å®æ¯ä¸ªä½ç´ æå¤è½æååºntriä¸ªä¸è§ç½æ ¼ï¼åè®¾å½åæ´ä¸ªä½ç§¯ænvï¼é£ä¹å°±è¦ç»çº¹çå¾éåéntriÃnvä¸ªçº¹çåçå¤§å°ï¼è¿æ¾ç¶ä¼æµªè´¹å·¨å¤§çæ¾å­ç©ºé´ãä½èä½¿ç¨ä¸ä¸ªç©ºé²æ åç®¡ççº¹çåï¼ç¨æ¥å­å¨å¨çº¹çå¾éä¸­ææ å¯¹åºççº¹çåçç´¢å¼ãä¸å¼å§ç©ºé²æ å¡«åçº¹çåæ°éçæå¤§å¼ä¸ªç´¢å¼ï¼æ¯å½åå»ºä¸ä¸ªçº¹çåï¼å°±ä»ç©ºé²æ ä¸­popåºä¸ä¸ªç´¢å¼åéç»è¿ä¸ªçº¹çåï¼å½æ¸é¤ä¸ä¸ªçº¹çåæ¶ï¼å°±pushå¯¹åºçç´¢å¼å°ç©ºé²æ ä¸­ã\n\nå¦å¾ï¼ä½ç´ Aæ3ä¸ªçº¹çåï¼å½éæ¾ä½ç´ Aççº¹çåæ¶ï¼free list pushè¿å»çº¹çåçç´¢å¼ï¼å½ä½ç´ Béè¦åå»ºä¸ä¸ªçº¹çåæ¶ï¼ä»free list ä¸­popä¸ä¸ªç´¢å¼åºæ¥ã\n\n\n\næä¸å¸§ä½¿ç¨Marching Cubeså¨ä½ç´ Aåå»ºäºæç§ç±»åççº¹çåï¼ä½éåæå¸§å¨ä½ç´ Aåå»ºäºä¸ä¹åä¸åæ°éæä¸åç±»åççº¹çåï¼è¿æ¶åå°±éè¦å é¤ä¹åççº¹çåï¼éæ°åå»ºçº¹çåãï¼ééæ ·ï¼\n\n\n# çº¹çåèå\n\næä»¬é¦åéè¿æ´æ°åçTSDFä½ç§¯ä¸­æåä¸è§å½¢ï¼å°å¶æå½±å°å½åå½©è²å¾åä¸æ¥æé æ°ççº¹çåï¼ç¶åèªéåºå°å°æ¥èªå½åå¸§çæ°çº¹çåä¸ç°æçº¹çå¾éä¸­ççº¹çåè¿è¡èåï¼éç¨å¾åæ¨¡ç³åº¦çå æèåï¼çº¹çåèååè¿è¦è§£å³ç½æ ¼è¿æ¥é®é¢ã\n\næå»º Mkè¡¨ç¤ºç¬¬kå¸§ä»TSDFæ¨¡åä¸­æåçä¸è§ç½æ ¼ï¼ä¸ºæ¯ä¸ä¸ªç½æ ¼æå»ºä¸ä¸ªçº¹çåTkâ²ï¼å°è¿ä¸ªç½æ ¼æå½±å°å½åçé¢è²å¾Ckä¸­ï¼å¯ä»¥å¨é¢è²å¾Ckä¸­æ¾å°å¯¹åºçä¸è§å½¢ã\n\n\n\næ´æ° å¯¹çº¹çåçé¢è²è¿è¡å æå¹³åï¼ç±»ä¼¼ä¸TSDFçæ´æ°æ¹å¼ãå¦æå½åä½ç´ ä¸­ççº¹çåç±»åæ°éé½æ²¡åï¼é£ä¹å¨å¨å±çº¹çå¾éä¸­æä¸ä¸ªå½åä½ç´ ä¸­ççº¹çåå¯¹åºï¼ç¶åéç¨å¦ä¸çæ´æ°æ¹å¼ï¼\n\nTk=Wkâ1âTkâ1+Wkâ²âTkâ²Wkâ1+Wkâ²Wkâ²(p)=wnâwdâwb\n\nè¿æ»¤ é¿åä½ç´ çé¡¶ç¹å¨é¶ç¹éè¿åå¤æ¨ªè·³ï¼ä»èé¿åæåçä¸è§å½¢ä¼ç»å¸¸æ¹åã\n\ntkâ²={tkÂ ifÂ |tk|â¥Î´+Î´Â ifÂ |tk|<Î´Â andÂ tkâ1â¥+Î´âÎ´Â ifÂ |tk|<Î´Â andÂ tkâ1â¤âÎ´tkâ1â²Â otherwiseÂ (|tk|<Î´Â andÂ |tkâ1|<Î´)\n\nééæ · ånå¸§å¨ä½ç´ Aåå»ºäºæç§ç±»åççº¹çåï¼ä½éåå¸§å¨ä½ç´ Aåå»ºäºä¸ä¹åä¸åæ°éæä¸åç±»åççº¹çåï¼è¿æ¶åå°±éè¦å é¤ä¹åççº¹çåï¼éæ°åå»ºçº¹çåãå°æ°åå»ºççº¹çåæå½±å°é¢æµè¡¨é¢ï¼KinectFusionï¼è¿è¡éæ ·é¢è²ä¿¡æ¯ã\n\n\n# çº¹çåä¼å\n\nå®éä¸­ï¼ç¸æºä½å§¿ä¸å¯è½å®ç¾åç¡®ï¼è¾å¥çå½©è²å¾åæ¬èº«ä¹ç»å¸¸æ¶å°éå¤´åå½¢ãå¿«é¨å¤±çä»¥åä¸å®ç¾çé¢è²åæ·±åº¦å¾ååæ­¥çå½±åãå¨è¿ä¸èä¸­ä»ç»ä¸ç§ä¼åæ¹æ³ä½¿å¾å¯¹è¿äºæåµæ´å é²æ£ãï¼å¯¹ä¸å¯¹é½ä¸æ¯è·è¸ªçäºæåï¼è¿éè¿ä¼åå¥å¢ï¼æå¨èµ£ä»é­ï¼\n\nå¾ååå½¢åº çæ³æåµä¸ï¼è¾å¥å¾ååå½åæ¨¡åæ¸²æåºæ¥çå¾åï¼é¢æµå¾ï¼åºè¯¥æ¯å®ç¾å¯¹é½ä¸çï¼ä½å®éä¸ä¼å­å¨è¯¯å¯¹é½ãå¨è¾å¥çå¾ååé¢æµå¾é½å»ºç«è§åçç½æ ¼åå½¢åºã\n\nç®æ  æå°åå½åé¢è²å¾åé¢æµå¾å¨ä½ç½®sçååº¦è¯¯å·®ï¼è¿ésæ¯2Dä¸è§ç½æ ¼çéå¿åæ ãç¨ç½æ ¼çè¾¹é¿ä½ä¸ºæ©ç½é¡¹ã\n\nå¤å°ºåº¦ä¼å éå­å¡ã\n\nä¼åçº¹çåéæ ·æµç¨ å½åå¸§ä»æ¨¡åä¸­æååºçº¹çåï¼å½åå¸§é¢è²å¾åé¢æµå¾é½è§åçåæç½æ ¼ï¼",normalizedContent:"# texturemeè®ºæéè¯»\n\n\n# ä»ç»\n\né«è´¨éççº¹çå»ºå¾ä¸è¬é½æ¯ç¦»çº¿çåå¤çæ­¥éª¤ï¼å¨è¿ç¯æç« ä¸­ï¼æåºä¸ç§å®æ¶çèåæ¢å¤3då ä½è¡¨é¢åé«è´¨éçº¹çãæ ¸å¿æ¹æ³æ¯åå»ºä¸tsdfé¶äº¤ç¹ç¸å³èçä¸è§å½¢ã\n\nè½ç¶åºäºtsdféå»ºï¼ä½¿ç¨æåªå£°çæ·±åº¦å¾èåï¼ä¹è½å¾å°å¹²åçè¡¨æï¼ä½ä¼ ç»çtsdfä¸ä¸ªä½ç´ åªè½å­å¨ä¸ä¸ªé¢è²å¼ï¼è¦è¡¨ç¤ºç²¾ç»çè¡¨é¢é¢è²ï¼é£ä¹å°±éè¦å¾®å°çä½ç´ ï¼å¹¶éè¦å¤§éçåå­ãéè¿marching cubes å¯ä»¥ä»ä¸ä¸ªä½ç´ è·å¾å¤ä¸ªä¸è§å½¢ï¼ä¸è¬ä¼ ç»çæ¹æ³éè¿å¯¹ç¸é»ä½ç´ æå¼æ¥è·å¾è¯¦ç»çä¸è§å½¢çé¢è²ï¼å æ­¤åéäºä½ç´ çåè¾¨çãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æåºäºç¦»çº¿ççº¹çè´´å¾æ¹æ³ï¼å ä¸ºéè¿èåé¢è²å¾çæ¹æ³æ¥è·å¾çº¹çå¾ä¸è¬ä¼åé¢è²å¾çä½å§¿æ¼ç§»å½±åï¼æä»¥ååæ¹æ³å°è¯åä¼åç¸æºä½å§¿åçº¹çå¾ä½ç½®æ¥è·å¾é«è´¨éççº¹çè´´å¾ã\n\næä»¬æåºä¸ä¸ªæ¡æ¶texturemeï¼ä»rgb-då¾ååºåèååå»ºä¸ä¸ªé«è´¨éççº¹çå°å¾åè¡¨é¢å ä½ãå¶æ ¸å¿ideaæ¯ ç»´æ¤ä¸ä¸ªå¨å±ççº¹çå°å¾é ** å¶ç±ç´è§ä¸è§å½¢ç»æï¼æä»¬ç§°çº¹çpatchï¼å­å¨éå»ºè¡¨é¢çä¸è§å½¢çé¢è²ç»è**ãå¯¹marching cubesè·å¾çä¸è§å½¢æ å°å°å½åå¸§å¾å°çº¹çpatchï¼ç¶åæ´ççº¹çpatchå°å¨å±çº¹çå°å¾éä¸­ã\n\næ¬æè´¡ç®ç¹æ¦è¿°ï¼\n\n * æåºä¸ä¸ªå®æ¶çåæ¶éå»ºå ä½åçº¹çç3déå»ºæ¡æ¶ï¼æ²¡æéç¨ä»»ä½åå¤çæ­¥éª¤ï¼\n * æä»¬çæ¹æ³å¼å©ç¨äºé¢è²å¾ï¼æå»ºåæ´æ°ä¸ä¸ªå¨å±çº¹çå°å¾éï¼\n * å¤ççº¹çpatchä¸å¯¹é½ï¼ç½æ ¼è¿æ¥æ´æ°ï¼çº¹çpatchæ´æ°ç­é®é¢ï¼\n\n\n# ç¸å³å·¥ä½\n\n\n# ç³»ç»æ¦è¿°\n\ntexturemeçå ä½éå»ºæ¨¡åæ¯åºäºkinectfusionçï¼å¹¶ä¸èårgbä¿¡æ¯ï¼ä½¿ç¨ååº¦è¯¯å·®åå ä½è¯¯å·®æ¥ä¼°è®¡å½åå¸§çä½å§¿ï¼è½ç¶ä½¿ç¨å½åå¸§çä½å§¿åæ·±åº¦å¾æ¥æ´æ°tsdfæ¨¡åã\n\nä¸ºäºéå»ºçº¹çåï¼ç½æ ¼æ¨¡åæ¯å¿è¦çãtsdfæ¯æå«è¡¨é¢çè¡¨ç¤ºæ¹æ³ï¼å æ­¤æä»¬ä½¿ç¨marching cubeså»è·å¾åå«é¶ç¹çä¸è§å½¢ï¼ç¶åä½¿ç¨ä½å§¿æ å°è¿äºä¸è§å½¢å°å½åå¸§ï¼æ¥è·å¾å³èçè¯¦ç»é¢è²ï¼ç¶åå¨å½åå¸§æå»ºçº¹çåï¼ä½¿ç¨çº¹çåå»æ´æ°å¨å±çº¹çå°å¾éï¼å½åå¸§ççº¹çåä¸å¨å±çº¹çå°å¾éä¸­å¯¹åºççº¹çåè¿è¡å¹³åæ´æ°ã\n\ntexturemeçæ ¸å¿æ¯å¨å¨å±çº¹çå°å¾éä¸­ææå°è¡¨ç¤ºï¼å­å¨ï¼æå»ºï¼æ´æ°çº¹çåãæ¥ä¸æ¥å°±ç¬¬4èä»ç»çº¹çåçè¡¨ç¤ºåå­å¨ï¼ç¬¬5èä»ç»çº¹çå¿«çæå»ºåæ´æ°ï¼ç¬¬6èä»ç»ä¼åè¯¯å¯¹é½ççº¹çåã\n\n\n# çº¹çå¾éè¡¨ç¤º\n\nçº¹çå æ¯ä¸ä¸ªå¸¦æè¯¦ç»é¢è²ä¿¡æ¯çç´è§ä¸è§å½¢ï¼å­å¨å¨çº¹çå°å¾éä¸­ã\n\nçº¹çå°å¾é çº¹çå¾éæ¯å­å¨äºä¸ç»ç´è§ä¸è§å½¢çº¹çåçå¤§åå¾åï¼å¨éå»ºå¼å§ä¹åï¼é¢åä¸ºçº¹çå°å¾éåéæ¾å­ï¼åæ¶ï¼éè¿å°çº¹çå¾éååååä¸ºç´è§ä¸è§å½¢ï¼é¢åè®¡ç®çº¹çå¾éä¸­æ¯ä¸ªçº¹çåçé¡¶ç¹çuvåæ ï¼é¢åå®ä¹ä¸ä¸ªæå°çº¹çåçå¤§å°ï¼å®å¯ä»¥å­å¨ä»è¾å¥çå½©è²å¾åä¸­å¯è½çæå¤§çº¹çç»èãå·ä½æ¥è¯´ï¼å°ä½ç´ æå½±å°å½åçå½©è²å¾ä¸­ï¼æ¥è®¡ç®çº¹çåçç´è§ä¸è§å½¢å¤§å°ã\n\nå­å¨ æä»¬ä»é¶äº¤åä½ç´ ä¸­çæä¸è§å½¢å¹¶åéä¸ä¸ªå¯ä¸ççº¹çåç´¢å¼ï¼å½ä¸ä¸ªä½ç´ ç¬¬ä¸æ¬¡è¡¨ç¤ºä¸ä¸ªè¡¨é¢æ¶ï¼ç»ä»åå»ºä¸ä¸ªçº¹çåï¼ç¶åå­å¨å¨çº¹çå¾éä¸­ãè®¾å®æ¯ä¸ªä½ç´ æå¤è½æååºntriä¸ªä¸è§ç½æ ¼ï¼åè®¾å½åæ´ä¸ªä½ç§¯ænvï¼é£ä¹å°±è¦ç»çº¹çå¾éåéntriÃnvä¸ªçº¹çåçå¤§å°ï¼è¿æ¾ç¶ä¼æµªè´¹å·¨å¤§çæ¾å­ç©ºé´ãä½èä½¿ç¨ä¸ä¸ªç©ºé²æ åç®¡ççº¹çåï¼ç¨æ¥å­å¨å¨çº¹çå¾éä¸­ææ å¯¹åºççº¹çåçç´¢å¼ãä¸å¼å§ç©ºé²æ å¡«åçº¹çåæ°éçæå¤§å¼ä¸ªç´¢å¼ï¼æ¯å½åå»ºä¸ä¸ªçº¹çåï¼å°±ä»ç©ºé²æ ä¸­popåºä¸ä¸ªç´¢å¼åéç»è¿ä¸ªçº¹çåï¼å½æ¸é¤ä¸ä¸ªçº¹çåæ¶ï¼å°±pushå¯¹åºçç´¢å¼å°ç©ºé²æ ä¸­ã\n\nå¦å¾ï¼ä½ç´ aæ3ä¸ªçº¹çåï¼å½éæ¾ä½ç´ aççº¹çåæ¶ï¼free list pushè¿å»çº¹çåçç´¢å¼ï¼å½ä½ç´ béè¦åå»ºä¸ä¸ªçº¹çåæ¶ï¼ä»free list ä¸­popä¸ä¸ªç´¢å¼åºæ¥ã\n\n\n\næä¸å¸§ä½¿ç¨marching cubeså¨ä½ç´ aåå»ºäºæç§ç±»åççº¹çåï¼ä½éåæå¸§å¨ä½ç´ aåå»ºäºä¸ä¹åä¸åæ°éæä¸åç±»åççº¹çåï¼è¿æ¶åå°±éè¦å é¤ä¹åççº¹çåï¼éæ°åå»ºçº¹çåãï¼ééæ ·ï¼\n\n\n# çº¹çåèå\n\næä»¬é¦åéè¿æ´æ°åçtsdfä½ç§¯ä¸­æåä¸è§å½¢ï¼å°å¶æå½±å°å½åå½©è²å¾åä¸æ¥æé æ°ççº¹çåï¼ç¶åèªéåºå°å°æ¥èªå½åå¸§çæ°çº¹çåä¸ç°æçº¹çå¾éä¸­ççº¹çåè¿è¡èåï¼éç¨å¾åæ¨¡ç³åº¦çå æèåï¼çº¹çåèååè¿è¦è§£å³ç½æ ¼è¿æ¥é®é¢ã\n\næå»º mkè¡¨ç¤ºç¬¬kå¸§ä»tsdfæ¨¡åä¸­æåçä¸è§ç½æ ¼ï¼ä¸ºæ¯ä¸ä¸ªç½æ ¼æå»ºä¸ä¸ªçº¹çåtkâ²ï¼å°è¿ä¸ªç½æ ¼æå½±å°å½åçé¢è²å¾ckä¸­ï¼å¯ä»¥å¨é¢è²å¾ckä¸­æ¾å°å¯¹åºçä¸è§å½¢ã\n\n\n\næ´æ° å¯¹çº¹çåçé¢è²è¿è¡å æå¹³åï¼ç±»ä¼¼ä¸tsdfçæ´æ°æ¹å¼ãå¦æå½åä½ç´ ä¸­ççº¹çåç±»åæ°éé½æ²¡åï¼é£ä¹å¨å¨å±çº¹çå¾éä¸­æä¸ä¸ªå½åä½ç´ ä¸­ççº¹çåå¯¹åºï¼ç¶åéç¨å¦ä¸çæ´æ°æ¹å¼ï¼\n\ntk=wkâ1âtkâ1+wkâ²âtkâ²wkâ1+wkâ²wkâ²(p)=wnâwdâwb\n\nè¿æ»¤ é¿åä½ç´ çé¡¶ç¹å¨é¶ç¹éè¿åå¤æ¨ªè·³ï¼ä»èé¿åæåçä¸è§å½¢ä¼ç»å¸¸æ¹åã\n\ntkâ²={tkÂ ifÂ |tk|â¥Î´+Î´Â ifÂ |tk|<Î´Â andÂ tkâ1â¥+Î´âÎ´Â ifÂ |tk|<Î´Â andÂ tkâ1â¤âÎ´tkâ1â²Â otherwiseÂ (|tk|<Î´Â andÂ |tkâ1|<Î´)\n\nééæ · ånå¸§å¨ä½ç´ aåå»ºäºæç§ç±»åççº¹çåï¼ä½éåå¸§å¨ä½ç´ aåå»ºäºä¸ä¹åä¸åæ°éæä¸åç±»åççº¹çåï¼è¿æ¶åå°±éè¦å é¤ä¹åççº¹çåï¼éæ°åå»ºçº¹çåãå°æ°åå»ºççº¹çåæå½±å°é¢æµè¡¨é¢ï¼kinectfusionï¼è¿è¡éæ ·é¢è²ä¿¡æ¯ã\n\n\n# çº¹çåä¼å\n\nå®éä¸­ï¼ç¸æºä½å§¿ä¸å¯è½å®ç¾åç¡®ï¼è¾å¥çå½©è²å¾åæ¬èº«ä¹ç»å¸¸æ¶å°éå¤´åå½¢ãå¿«é¨å¤±çä»¥åä¸å®ç¾çé¢è²åæ·±åº¦å¾ååæ­¥çå½±åãå¨è¿ä¸èä¸­ä»ç»ä¸ç§ä¼åæ¹æ³ä½¿å¾å¯¹è¿äºæåµæ´å é²æ£ãï¼å¯¹ä¸å¯¹é½ä¸æ¯è·è¸ªçäºæåï¼è¿éè¿ä¼åå¥å¢ï¼æå¨èµ£ä»é­ï¼\n\nå¾ååå½¢åº çæ³æåµä¸ï¼è¾å¥å¾ååå½åæ¨¡åæ¸²æåºæ¥çå¾åï¼é¢æµå¾ï¼åºè¯¥æ¯å®ç¾å¯¹é½ä¸çï¼ä½å®éä¸ä¼å­å¨è¯¯å¯¹é½ãå¨è¾å¥çå¾ååé¢æµå¾é½å»ºç«è§åçç½æ ¼åå½¢åºã\n\nç®æ  æå°åå½åé¢è²å¾åé¢æµå¾å¨ä½ç½®sçååº¦è¯¯å·®ï¼è¿ésæ¯2dä¸è§ç½æ ¼çéå¿åæ ãç¨ç½æ ¼çè¾¹é¿ä½ä¸ºæ©ç½é¡¹ã\n\nå¤å°ºåº¦ä¼å éå­å¡ã\n\nä¼åçº¹çåéæ ·æµç¨ å½åå¸§ä»æ¨¡åä¸­æååºçº¹çåï¼å½åå¸§é¢è²å¾åé¢æµå¾é½è§åçåæç½æ ¼ï¼",charsets:{cjk:!0}},{title:"bundlefusion",frontmatter:{title:"bundlefusion",date:"2023-02-26T11:01:06.000Z",permalink:"/pages/cdb05f/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/bundlefusion.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/bundlefusion.md",key:"v-ca2c37f2",path:"/pages/cdb05f/",headers:[{level:2,title:"è®ºæ",slug:"è®ºæ",normalizedTitle:"è®ºæ",charIndex:2},{level:3,title:"æè¦",slug:"æè¦",normalizedTitle:"æè¦",charIndex:9},{level:3,title:"ä»ç»",slug:"ä»ç»",normalizedTitle:"ä»ç»",charIndex:165},{level:3,title:"æ¹æ³æ¦è¿°",slug:"æ¹æ³æ¦è¿°",normalizedTitle:"æ¹æ³æ¦è¿°",charIndex:476},{level:3,title:"å¯»æ¾ç¹å¾å³è",slug:"å¯»æ¾ç¹å¾å³è",normalizedTitle:"å¯»æ¾ç¹å¾å³è",charIndex:753},{level:4,title:"å»é¤ä¸¤å¸§ä¹é´çå³è",slug:"å»é¤ä¸¤å¸§ä¹é´çå³è",normalizedTitle:"å»é¤ä¸¤å¸§ä¹é´çå³è",charIndex:838},{level:4,title:"å»é¤å³é®ç¹è¯¯å¹é",slug:"å»é¤å³é®ç¹è¯¯å¹é",normalizedTitle:"å»é¤å³é®ç¹è¯¯å¹é",charIndex:944},{level:4,title:"éè¿è¡¨é¢è¿æ»¤",slug:"éè¿è¡¨é¢è¿æ»¤",normalizedTitle:"éè¿è¡¨é¢è¿æ»¤",charIndex:1107},{level:4,title:"å¯ééªè¯",slug:"å¯ééªè¯",normalizedTitle:"å¯ééªè¯",charIndex:1242},{level:3,title:"åå±ä¼å",slug:"åå±ä¼å",normalizedTitle:"åå±ä¼å",charIndex:1319},{level:4,title:"ååå±é¨å¯¹é½",slug:"ååå±é¨å¯¹é½",normalizedTitle:"ååå±é¨å¯¹é½",charIndex:1410},{level:4,title:"å³é®å¸§ä¼å",slug:"å³é®å¸§ä¼å",normalizedTitle:"å³é®å¸§ä¼å",charIndex:1654},{level:4,title:"å¨å±åé´ä¼å",slug:"å¨å±åé´ä¼å",normalizedTitle:"å¨å±åé´ä¼å",charIndex:1720},{level:2,title:"åèæç®",slug:"åèæç®",normalizedTitle:"åèæç®",charIndex:1798},{level:4,title:"åºäºéç»æåç¹çè¡¨ç¤º",slug:"åºäºéç»æåç¹çè¡¨ç¤º",normalizedTitle:"åºäºéç»æåç¹çè¡¨ç¤º",charIndex:1806},{level:4,title:"åºäº2.5Dæ·±åº¦å¾",slug:"åºäº2-5dæ·±åº¦å¾",normalizedTitle:"åºäº2.5dæ·±åº¦å¾",charIndex:2508},{level:4,title:"åºäºé«åº¦åº",slug:"åºäºé«åº¦åº",normalizedTitle:"åºäºé«åº¦åº",charIndex:2855},{level:4,title:"åºäºå ç¨ç½æ ¼çä½ç§¯",slug:"åºäºå ç¨ç½æ ¼çä½ç§¯",normalizedTitle:"åºäºå ç¨ç½æ ¼çä½ç§¯",charIndex:3009},{level:4,title:"åºäºéå¼æ²é¢",slug:"åºäºéå¼æ²é¢",normalizedTitle:"åºäºéå¼æ²é¢",charIndex:3459},{level:4,title:"åºäºTSDFï¼éå¼æªæ­ç¬¦å·è·ç¦»ï¼",slug:"åºäºtsdf-éå¼æªæ­ç¬¦å·è·ç¦»",normalizedTitle:"åºäºtsdfï¼éå¼æªæ­ç¬¦å·è·ç¦»ï¼",charIndex:3761},{level:4,title:"æè¿æçªåºçä¾å­æ¯ KinectFusion [20, 34]ï¼å¶ä¸­å±ç¤ºäºè¾å°åºæ¯çå®æ¶ä½ç§¯èåã",slug:"æè¿æçªåºçä¾å­æ¯-kinectfusion-20-34-å¶ä¸­å±ç¤ºäºè¾å°åºæ¯çå®æ¶ä½ç§¯èåã",normalizedTitle:"æè¿æçªåºçä¾å­æ¯ kinectfusion [20, 34]ï¼å¶ä¸­å±ç¤ºäºè¾å°åºæ¯çå®æ¶ä½ç§¯èåã",charIndex:4389},{level:4,title:"ç¨äºä½ç§¯èåçå®æ¶é«ææ°æ®ç»æã",slug:"ç¨äºä½ç§¯èåçå®æ¶é«ææ°æ®ç»æã",normalizedTitle:"ç¨äºä½ç§¯èåçå®æ¶é«ææ°æ®ç»æã",charIndex:4948},{level:4,title:"éè¿ä¼åæ´ä¸ªä½å§¿è½¨è¿¹æ¥å¾å°å¨å±ä¸è´çæ¨¡å",slug:"éè¿ä¼åæ´ä¸ªä½å§¿è½¨è¿¹æ¥å¾å°å¨å±ä¸è´çæ¨¡å",normalizedTitle:"éè¿ä¼åæ´ä¸ªä½å§¿è½¨è¿¹æ¥å¾å°å¨å±ä¸è´çæ¨¡å",charIndex:6344},{level:4,title:"å®æ¶åç®RGBæ¹æ³",slug:"å®æ¶åç®rgbæ¹æ³",normalizedTitle:"å®æ¶åç®rgbæ¹æ³",charIndex:7124},{level:4,title:"ç¨ç",slug:"ç¨ç",normalizedTitle:"ç¨ç",charIndex:488},{level:4,title:"åç¨ å¯",slug:"åç¨ å¯",normalizedTitle:"åç¨ å¯",charIndex:7263},{level:4,title:"ç´æ¥æ³",slug:"ç´æ¥æ³",normalizedTitle:"ç´æ¥æ³",charIndex:7547},{level:4,title:"ä½å§¿å¾ä¼å",slug:"ä½å§¿å¾ä¼å",normalizedTitle:"ä½å§¿å¾ä¼å",charIndex:7877},{level:4,title:"æç»è°æ´",slug:"æç»è°æ´",normalizedTitle:"æç»è°æ´",charIndex:8064},{level:4,title:"ICP",slug:"icp",normalizedTitle:"icp",charIndex:8832}],headersStr:"è®ºæ æè¦ ä»ç» æ¹æ³æ¦è¿° å¯»æ¾ç¹å¾å³è å»é¤ä¸¤å¸§ä¹é´çå³è å»é¤å³é®ç¹è¯¯å¹é éè¿è¡¨é¢è¿æ»¤ å¯ééªè¯ åå±ä¼å ååå±é¨å¯¹é½ å³é®å¸§ä¼å å¨å±åé´ä¼å åèæç® åºäºéç»æåç¹çè¡¨ç¤º åºäº2.5Dæ·±åº¦å¾ åºäºé«åº¦åº åºäºå ç¨ç½æ ¼çä½ç§¯ åºäºéå¼æ²é¢ åºäºTSDFï¼éå¼æªæ­ç¬¦å·è·ç¦»ï¼ æè¿æçªåºçä¾å­æ¯ KinectFusion [20, 34]ï¼å¶ä¸­å±ç¤ºäºè¾å°åºæ¯çå®æ¶ä½ç§¯èåã ç¨äºä½ç§¯èåçå®æ¶é«ææ°æ®ç»æã éè¿ä¼åæ´ä¸ªä½å§¿è½¨è¿¹æ¥å¾å°å¨å±ä¸è´çæ¨¡å å®æ¶åç®RGBæ¹æ³ ç¨ç åç¨ å¯ ç´æ¥æ³ ä½å§¿å¾ä¼å æç»è°æ´ ICP",content:"# è®ºæ\n\n\n# æè¦\n\nä¸è¬éå»ºç»ææ¯è¾å¥½çæ¹æ³é½éè¦å ä¸ªå°æ¶çç¦»çº¿å¤çãæè¿å¨çº¿éå»ºçææè¿æ²¡é£ä¹å¥½ï¼æä»¥ä¸é®é¢\n\n * éè¦å åéçå¤çï¼ä¸è½è¾¾å°å®æ¶ï¼\n * èå¼±çè·è¸ªæ¨¡åï¼å¯¼è´è·è¸ªå¤±è´¥ï¼\n * ä»æ¯æåºäºç¹çéç»æåè¡¨ç¤ºï¼è¿éå¶äºæ«æè´¨éåéç¨æ§ã\n\næä»¬æ¶é¤äºå¯¹æ¶é´è·è¸ªçä¸¥éä¾èµï¼èæ¯ä¸æ­å®ä½å°å¨å±ä¼åçå¸§\n\n\n# ä»ç»\n\nå¤§è§æ¨¡å®æ¶3Déå»ºé®é¢éè¦æ»¡è¶³ä»¥ä¸æ¡ä»¶\n\né«è´¨éçè¡¨é¢æ¨¡å\n\næä»¬éè¦ä¸ä¸ªåä¸ççº¹çåæ åªç¹ 3D åºæ¯æ¨¡åï¼å¯ç±æ åå¾å½¢åºç¨ç¨åºä½¿ç¨ã è¿éè¦ä¸ä¸ªå¯ä»¥æ¨¡æè¿ç»­è¡¨é¢èä¸æ¯ç¦»æ£ç¹çé«è´¨éè¡¨ç¤ºã\n\nå¯æ©å±æ§\n\nå¨å±æ¨¡åä¸è´æ§\n\néçè§æ¨¡çåå½ï¼éè¦çº æ­£å§¿ææ¼ç§»åä¼°è®¡è¯¯å·®ã\n\né²æ£çç¸æºè·è¸ª\n\nå¨ç¹å¾ä¸ææ¾çåºåå¯è½è·è¸ªå¤±è´¥ï¼éè¦æéå®ä½è½åãè®¸å¤åæçæ¹æ³æ¯åºäºä¸åä¸éµçæ¥è¿åº¦ï¼ä»èéå¶äºç¸æºå¿«éè¿å¨ãæä»¬å°±éè¦å¨ä¸ä¾èµæ¶é´è¿è´¯æ§çæåµä¸çç¨³å¥çæ¹æ³éå®ä½ã\n\nå³æ¶æ¨¡åæ´æ°\n\næ ¹æ®ææ°çå§¿æä¼°è®¡æ´æ°æ¨¡åã\n\nç±äºæä»¬å¨å±å³èæ¯ä¸ª RGB-D å¸§ï¼å æ­¤å¯ä»¥éå¼ä¸è¿ç»­å°å¤çåç¯ï¼ä»èæ éä»»ä½æ¾å¼åç¯æ£æµã\n\n\n# æ¹æ³æ¦è¿°\n\næä»¬ä½¿ç¨ä¸ç»ç¨çç¹å¾å¯¹åºæ¥è·å¾ç²ç¥çå¨å±å¯¹é½ï¼å ä¸ºç¨çç¹å¾åºæå°æä¾äºåç¯æ£æµåéæ°å®ä½ãç¶åéè¿ä¼åå¯éçååº¦åå ä½ä¸è´æ§æ¥ç»åè¿ç§å¯¹é½æ¹å¼ã\n\næåSIFTå³é®ç¹ï¼åä»¥åææå¸§è¿è¡å¹éï¼å¹¶ä¸ä¸¥æ ¼çååºæ å¹éã\n\nä½¿ç¨è¿æ»¤åçå³èï¼åå±å°å±é¨å°å¨å±çä½å§¿ä¼åæ¹æ³ï¼å¨ç¬¬ä¸å±ï¼è¿ç»­nå¸§ï¼æ¶é´ï¼ç»æä¸ä¸ªchunkï¼å¨ååè¿è¡å±é¨ä½å§¿ä¼åãå¨ç¬¬äºå±ï¼ææçchunkç¸äºå³èè¿è¡å¨å±ä¼åãè¿ç§ä¼åç­ç¥åå°äºæªç¥éä¿è¯å¤§èå´éå»ºã\n\nä¸ºäºä½¿ç¨æ¹è¿çä¼°è®¡æ¥è·æ°å¸§çä½å§¿ï¼ä½¿ç¨æ°çå®æ¶åç¦»æ­¥éª¤ç§»é¤æ§ä½å§¿çRGB-Då¾åï¼å¹¶å¨æ°ä½å§¿å¤éæ°æ´åã\n\n\n# å¯»æ¾ç¹å¾å³è\n\nå¯¹äºæ°æ¥çæ¯ä¸å¸§ï¼æåSIFTç¹å¾ï¼åä»¥åææå¸§è¿è¡å¹éãä¹åç­éæ²¡ä¸¤å¸§ä¹é´çå¹éï¼ååºå¹éï¼å¹¶çæææçæå¯¹å³èçåè¡¨ï¼ä½ä¸ºå¨å±ä½å§¿ä¼åçè¾å¥ã\n\n# å»é¤ä¸¤å¸§ä¹é´çå³è\n\nä¸ºäºæå°åå¤ç¹ï¼æ ¹æ®å ä½åååº¦ä¸è´æ§è¿æ»¤æ£æµå°çæå¯¹å¯¹åºéãå¨è¿è¡ä¼ååç®åºä¸ä¸ªæ®å·®ï¼å¦æå¤§äºæä¸ªå¼ï¼å°±ç§»é¤è¿ä¸¤å¸§ä¹é´ææçå¹éï¼å¦å¤ï¼å¦ææä¸å¸§ä¸ä»»ä½ä¸å¸§é½æ²¡æå³èï¼åç§°ä¸ºæ æå¸§ã\n\n# å»é¤å³é®ç¹è¯¯å¹é\n\nå½åå³èPcurï¼Qcurï¼å¯¹äºæ°æ·»å çå³èï¼p,qï¼è®¡ç®åºä¸ä¸ªåæ¢ï¼ä½¿å¾Pcur, QcurçRMSDæå°ãä¹åè®¡ç®Pcurï¼Qcurçä¸äºæå³è¯¯å·®çæ°ï¼å¦æå¤§äºä¸ä¸ªéå¼ï¼è´¼è®¤ä¸ºç³»ç»æ¯ä¸ç¨³å®çï¼é£ä¹å°±ç§»é¤è¿äºå³èï¼ç´å°è¿ä¸å¤è®¡ç®åºä¸ä¸ªåæ¢ãå¦æè®¡ç®ä¸åºä¸ä¸ªåæ¢ï¼é£ä¹å°±æè¿ä¸¤å¸§ä¹é´çææå³èç§»é¤ã\n\n# éè¿è¡¨é¢è¿æ»¤\n\næ£æ¥ç¹å¾è·¨è¶çè¡¨é¢æ¯å¦è¶³å¤å¤§ï¼å ä¸ºè·¨è¶å¤ªå°çå°ºå¯¸çå³èä¼å¼èµ·æ­§ä¹ãå¯¹äºæ¯ç»3Dç¹ï¼æä»¬å°å®ä»¬æå½±å°ç±å®ä»¬çä¸¤ä¸ªä¸»è½´æ¹åï¼å¯ä»¥ç¨ä¸­å¿è·åéå¿æ±åºï¼ç»å®çå¹³é¢ä¸­ï¼è¡¨é¢ç§¯ç±çæçæå½±ç¹ç2Då®åè¾¹çæ¡ç»å®ãå¦æè·¨è¶çåºåä¸è¶³å¤å°å¹³ç±³ï¼åè¯¥ç»å¹éè¢«ä¸¢å¼ã\n\n# å¯ééªè¯\n\n\n\nä»¥ä¸å¼å­é½éè¿ï¼å°±æ·»å è¿å³èå°ææçå³èéä¸­ï¼è¿ä¹åç¨æ¥åä½å§¿ä¼åãå¦æä¸¤å¸§ä¹é´å³èæ°éå¤§äºä¸å®å¼ï¼ååªä½¿ç¨å¸§é´å¹éæ¥ä¼°è®¡ä½å§¿ã\n\n\n# åå±ä¼å\n\nå¨è¾å¥çå¾ååºåä¸­ï¼è¿ç»­nå¸§ç»æä¸ä¸ªchunkãå¨åºå±ä¼åä¸­ï¼å¨ä¸ä¸ªååè¿è¡å±é¨å¯¹é½ãå¨ç¬¬äºå±ï¼æ¯ä¸åçç¬¬ä¸å¸§ï¼ä½ä¸ºè¿ä¸ªåçå³é®å¸§ï¼å¨å±ä¼åå°±æ¯ï¼å¯¹é½è¿äºå³é®å¸§ã\n\n# ååå±é¨å¯¹é½\n\nåºäºè¾å¥RGB-Dæµä¸­è¿ç»­11ä¸ªå¸§ï¼ç»æä¸ä¸ªåï¼ç¸é»çåéå 1å¸§ãå±é¨ä½å§¿ä¼åæ¯ï¼è®¡ç®ä¸åèå¸§ï¼åçç¬¬ä¸å¸§ï¼æä¼çç¸å¯¹ä½å§¿ãä¼åçæ¹æ³æ¯ï¼é¦åæ¯ä¸é¢çå¯»æ¾ç¹å¾å³èï¼å¹¶ä¸ä½¿ç¨è½éå½æ°\n\n\n\nwdenseæ¯çº¿æ§å¢å çï¼è¿è®©ç¦»æ£é¡¹æ¾å°ä¸ä¸ªæ¯è¾å¥½çå¨å±ç»æï¼ç¶åä½¿ç¨ç¨ å¯é¡¹ä¼åã\n\nå¨ç¦»æ£çå¹éé¡¹ï¼æå°åSä¸­ææå¸§å¯¹ï¼ææå³èçç¹å¾ï¼æå½±å°ä¸çåæ ç³»ï¼çå·®ã\n\n\n\nC(i, j)æ¯ç¬¬iå¸§åç¬¬jå¸§å³èçç¹å¾ã\n\nä¹åå¯¹åè¿è¡å¯ééªè¯ï¼å¦æéæå½±è¯¯å·®å¤§äºéå¼ï¼åä¸¢å¼è¿ä¸ªåã\n\n# å³é®å¸§ä¼å\n\nä¸æ¦ä¸ä¸ªåå®æä¼åï¼é£ä¹å°±å®ä¹ååç¬¬ä¸å¸§ä½ä¸ºå³é®å¸§ãè·å¾ä¸ä¸ªå³é®å¸§ç¹å¾éï¼ä¸æ¦è·å¾å³é®å¸§ç¹å¾éï¼å°±ä¸¢å¼åæ°æ®ã\n\n# å¨å±åé´ä¼å\n\nä¸æ¦ä¸ä¸ªå³é®å¸§æ²¡ææ¾å°ä¸ä¸ªä»¥åçå¸§ä½ä¸ºå¹éï¼é£ä¹å°±è§ä¸ºæ æå¸§ï¼ä¹åå¯ä»¥æ¢å¤ãåå±é¨ååä¼åä¸æ ·ï¼ä½¿ç¨ç¦»æ£é¡¹åå¯éé¡¹æ¥ä¼åå¨å±ä½å§¿ã\n\n\n# åèæç®\n\n# åºäºéç»æåç¹çè¡¨ç¤º\n\nP. Henry, M. Krainin, E. Herbst, X. Ren, and D. Fox. 2010. RGB-D mapping: Using depth cameras for dense 3D modeling of indoor environments. In Proc. Int. Symp. Experimental Robotics, Vol. 20. 22â25.\n\nMaik Keller, Damien LeÂoch, Martin Lambers, Shahram Izadi, Tim Weyrich, and Andreas Kolb. 2013. Real-time 3D Reconstruction in Dynamic Scenes using Point-based Fusion. In Proc. 3DV. IEEE, 1â8.\n\nT. Weise, T. Wismer, B. Leibe, and L. Van Gool. 2009. In-hand scanning with online loop closure. In Proc. ICCV Workshops. 1630â1637.\n\nT. Whelan, S. Leutenegger, R. F. Salas-Moreno, B. Glocker, and A. J. Davison. 2015. ElasticFusion: Dense SLAM Without A Pose Graph. In Proc. RSS. Rome, Italy.\n\n# åºäº2.5Dæ·±åº¦å¾\n\nMaxime Meilland, Andrew Comport, and others. 2013. On unifying key-frame and voxel-based dense visual SLAM at large scales. In Proc. IROS. IEEE, 3677â3683.\n\nP. Merrell, A. Akbarzadeh, L. Wang, P. Mordohai, J.M. Frahm, R. Yang, D. Nister, Â´ and M. Pollefeys. 2007. Real-time visibility-based fusion of depth maps. In Proc. ICCV. 1â8.\n\n# åºäºé«åº¦åº\n\nDavid Gallup, Marc Pollefeys, and Jan-Michael Frahm. 2010. 3D reconstruction using an n-layer heightmap. In PaÂern Recognition. Springer, 1â10.\n\n# åºäºå ç¨ç½æ ¼çä½ç§¯\n\nAlberto Elfes and Larry MaÂhies. 1987. Sensor integration for robot navigation: combining sonar and stereo range data in a grid-based representataion. In Decision and Control, 1987. 26th IEEE Conference on, Vol. 26. IEEE, 1802â1807.\n\nKai M Wurm, Armin Hornung, Maren Bennewitz, Cyrill Stachniss, and Wolfram Burgard. 2010. OctoMap: A probabilistic, Âexible, and compact 3D map representation for robotic systems. In Proc. ICRA, Vol. 2.\n\n# åºäºéå¼æ²é¢\n\nBrian Curless and Marc Levoy. 1996. A volumetric method for building complex models from range images. In In Proc. SIGGRAPH. ACM, 303â312.\n\nA. Hilton, A. Stoddart, J. Illingworth, and T. WindeaÂ. 1996. Reliable surface reconstruction from multiple range images. JProc. ECCV (1996), 117â126.\n\n# åºäºTSDFï¼éå¼æªæ­ç¬¦å·è·ç¦»ï¼\n\nNicola Fioraio, Jonathan Taylor, Andrew Fitzgibbon, Luigi Di Stefano, and Shahram Izadi. 2015. Large-Scale and DriÂ-Free Surface Reconstruction Using Online Subvolume Registration. Proc. CVPR (June 2015).\n\nSimon Fuhrmann and Michael Goesele. 2014. Floating Scale Surface Reconstruction. In Proc. SIGGRAPH.\n\nMarc Levoy, Kari Pulli, Brian Curless, Szymon Rusinkiewicz, David Koller, Lucas Pereira, MaÂ Ginzton, Sean Anderson, James Davis, Jeremy Ginsberg, and others. 2000. Âe digital Michelangelo project: 3D scanning of large statues. In In Proc. SIGGRAPH. ACM Press/Addison-Wesley Publishing Co., 131â144.\n\n# æè¿æçªåºçä¾å­æ¯ KinectFusion [20, 34]ï¼å¶ä¸­å±ç¤ºäºè¾å°åºæ¯çå®æ¶ä½ç§¯èåã\n\nS. Izadi, D. Kim, O. Hilliges, D. Molyneaux, R. Newcombe, P. Kohli, J. ShoÂon, S. Hodges, D. Freeman, A. Davison, and A. Fitzgibbon. 2011. KinectFusion: Realtime 3D reconstruction and interaction using a moving depth camera. In Proc. UIST. 559â568.\n\nRichard A Newcombe, Shahram Izadi, Otmar Hilliges, David Molyneaux, David Kim, Andrew J Davison, Pushmeet Kohli, Jamie ShoÂon, Steve Hodges, and Andrew Fitzgibbon. 2011. KinectFusion: Real-time dense surface mapping and tracking. In Proc. ISMAR. 127â136.\n\n# ç¨äºä½ç§¯èåçå®æ¶é«ææ°æ®ç»æã\n\nJiawen Chen, Dennis Bautembach, and Shahram Izadi. 2013. Scalable real-time volumetric surface reconstruction. ACM TOG 32, 4 (2013), 113.\n\nMaik Keller, Damien LeÂoch, Martin Lambers, Shahram Izadi, Tim Weyrich, and Andreas Kolb. 2013. Real-time 3D Reconstruction in Dynamic Scenes using Point-based Fusion. In Proc. 3DV. IEEE, 1â8.\n\nM. NieÃner, M. Zollhofer, S. Izadi, and M. Stamminger. 2013. Real-time 3D Â¨ Reconstruction at Scale using Voxel Hashing. ACM TOG (2013).\n\nF Reichl, J Weiss, and R Westermann. 2015. Memory-EÂcient Interactive Online Reconstruction From Depth Image Streams. In Computer Graphics Forum. Wiley Online Library\n\nH. Roth and M. Vona. 2012. Moving Volume KinectFusion. In Proc. BMVC\n\nF. Steinbruecker, J. Sturm, and D. Cremers. 2014. Volumetric 3D Mapping in RealTime on a CPU. In 2014 IEEE International Conference on Robotics and Automation (ICRA). Hongkong, China.\n\nT Whelan, H Johannsson, M Kaess, J Leonard, and J McDonald. 2012. Robust Tracking for Real-Time Dense RGB-D Mapping with Kintinuous. Technical Report. Âery date: 2012-10-25.\n\nM. Zeng, F. Zhao, J. Zheng, and X. Liu. 2012. Octree-based Fusion for Realtime 3D Reconstruction. Graphical Models (2012).\n\nYizhong Zhang, Weiwei Xu, Yiying Tong, and Kun Zhou. 2015. Online structure analysis for real-time indoor scene reconstruction. ACM Transactions on Graphics (TOG) 34, 5 (2015), 159.\n\n# éè¿ä¼åæ´ä¸ªä½å§¿è½¨è¿¹æ¥å¾å°å¨å±ä¸è´çæ¨¡å\n\nSungjoon Choi, Qian-Yi Zhou, and Vladlen Koltun. 2015. Robust Reconstruction of Indoor Scenes. Proc. CVPR (June 2015).\n\nHao Li, Etienne Vouga, Anton Gudym, Linjie Luo, Jonathan T Barron, and Gleb Gusev. 2013. 3D self-portraits. ACM TOG 32, 6 (2013), 187.\n\nQian-Yi Zhou and Vladlen Koltun. 2013. Dense scene reconstruction with points of interest. ACM Transactions on Graphics (TOG) 32, 4 (2013), 112.\n\nQian-Yi Zhou and Vladlen Koltun. 2014. Color map optimization for 3D reconstruction with consumer depth cameras. ACM Transactions on Graphics (TOG) 33, 4 (2014), 155.\n\nQian-Yi Zhou, Steven Miller, and Vladlen Koltun. 2013. Elastic fragments for dense scene reconstruction. In Computer Vision (ICCV), 2013 IEEE International Conference on. IEEE, 473â480\n\n# å®æ¶åç®RGBæ¹æ³\n\n# ç¨ç\n\nGeorg Klein and David Murray. 2007. Parallel Tracking and Mapping for Small AR Workspaces. In Proc. ISMAR. Nara, Japan\n\n# åç¨ å¯\n\nJakob Engel, Jurgen Sturm, and Daniel Cremers. 2013. Semi-dense visual odometry for a monocular camera. In Proc. ICCV. IEEE, 1449â1456.\n\nChristian Forster, Matia Pizzoli, and Davide Scaramuzza. 2014. SVO: Fast semidirect monocular visual odometry. In Proc. ICRA. IEEE, 15â22.\n\n# ç´æ¥æ³\n\nJ. Engel, T. Schops, and D. Cremers. 2014. LSD-SLAM: Large-Scale Direct Monoc- Â¨ ular SLAM. In European Conference on Computer Vision.\n\nMaxime Meilland, A Comport, Patrick Rives, and INRIA Sophia Antipolis Mediterran Â´ ee. 2011. Real-time dense visual tracking under large lighting varia- Â´ tions. In Proc. BMVC, Vol. 29.\n\n# ä½å§¿å¾ä¼å\n\nRainer Kummerle, Giorgio GriseÂi, Hauke Strasdat, Kurt Konolige, and Wolfram Â¨ Burgard. 2011. g 2 o: A general framework for graph optimization. In Proc. ICRA. IEEE, 3607â3613.\n\n# æç»è°æ´\n\nBill Triggs, Philip F McLauchlan, Richard I Hartley, and Andrew W Fitzgibbon. 2000. Bundle adjustmen, a modern synthesis. In Vision algorithms: theory and practice. Springer, 298â372\n\nMonoFusion [38] éè¿å¯éä½ç§¯èåå¢å¼ºäºç¨ç SLAM æè°æ´ï¼å¨å°è§æ¨¡åºæ¯ä¸­æ¾ç¤ºåºä»¤äººä¿¡æçåç®ç»æã å®æ¶ SLAM æ¹æ³éå¸¸é¦åéå¸§ä¼°è®¡ä½å§¿ï¼ç¶åå¨åå°çº¿ç¨ä¸­æ§è¡æ ¡æ­£ï¼è¿è¡éåº¦ä½äºå®æ¶éçï¼ä¾å¦ï¼1Hzï¼ã\n\nVivek Pradeep, Christoph Rhemann, Shahram Izadi, Christopher Zach, Michael Bleyer, and Steven Bathiche. 2013. MonoFusion: Real-time 3D reconstruction of small scenes with a single web camera. In Proc. ISMAR. 83â88.\n\nç¸æ¯ä¹ä¸ï¼DTAM [35] ä½¿ç¨å¸§å°æ¨¡åè·è¸ªçæ¦å¿µï¼æ¥èª KinectFusion [20, 34]ï¼ç´æ¥ä»éå»ºçå¯é 3D æ¨¡åä¼°è®¡å§¿å¿ã è¿çç¥äºæ ¡æ­£æ­¥éª¤çéè¦ï¼ä½æ¾ç¶ä¸è½æ©å±å°æ´å¤§çåºæ¯ã\n\nRichard A. Newcombe, Steven J. Lovegrove, and Andrew J. Davison. 2011. DTAM: Dense Tracking and Mapping in Real-time. In Proc. ICCV. 2320â2327.\n\n# ICP\n\nP.J. Besl and N.D. McKay. 1992. A method for registration of 3-D shapes. IEEE Trans. PAMI 14, 2 (1992), 239â256.\n\nS. Rusinkiewicz and M. Levoy. 2001. EÂcient variants of the ICP algorithm. In Proc. 3DIM. 145â152.",normalizedContent:"# è®ºæ\n\n\n# æè¦\n\nä¸è¬éå»ºç»ææ¯è¾å¥½çæ¹æ³é½éè¦å ä¸ªå°æ¶çç¦»çº¿å¤çãæè¿å¨çº¿éå»ºçææè¿æ²¡é£ä¹å¥½ï¼æä»¥ä¸é®é¢\n\n * éè¦å åéçå¤çï¼ä¸è½è¾¾å°å®æ¶ï¼\n * èå¼±çè·è¸ªæ¨¡åï¼å¯¼è´è·è¸ªå¤±è´¥ï¼\n * ä»æ¯æåºäºç¹çéç»æåè¡¨ç¤ºï¼è¿éå¶äºæ«æè´¨éåéç¨æ§ã\n\næä»¬æ¶é¤äºå¯¹æ¶é´è·è¸ªçä¸¥éä¾èµï¼èæ¯ä¸æ­å®ä½å°å¨å±ä¼åçå¸§\n\n\n# ä»ç»\n\nå¤§è§æ¨¡å®æ¶3déå»ºé®é¢éè¦æ»¡è¶³ä»¥ä¸æ¡ä»¶\n\né«è´¨éçè¡¨é¢æ¨¡å\n\næä»¬éè¦ä¸ä¸ªåä¸ççº¹çåæ åªç¹ 3d åºæ¯æ¨¡åï¼å¯ç±æ åå¾å½¢åºç¨ç¨åºä½¿ç¨ã è¿éè¦ä¸ä¸ªå¯ä»¥æ¨¡æè¿ç»­è¡¨é¢èä¸æ¯ç¦»æ£ç¹çé«è´¨éè¡¨ç¤ºã\n\nå¯æ©å±æ§\n\nå¨å±æ¨¡åä¸è´æ§\n\néçè§æ¨¡çåå½ï¼éè¦çº æ­£å§¿ææ¼ç§»åä¼°è®¡è¯¯å·®ã\n\né²æ£çç¸æºè·è¸ª\n\nå¨ç¹å¾ä¸ææ¾çåºåå¯è½è·è¸ªå¤±è´¥ï¼éè¦æéå®ä½è½åãè®¸å¤åæçæ¹æ³æ¯åºäºä¸åä¸éµçæ¥è¿åº¦ï¼ä»èéå¶äºç¸æºå¿«éè¿å¨ãæä»¬å°±éè¦å¨ä¸ä¾èµæ¶é´è¿è´¯æ§çæåµä¸çç¨³å¥çæ¹æ³éå®ä½ã\n\nå³æ¶æ¨¡åæ´æ°\n\næ ¹æ®ææ°çå§¿æä¼°è®¡æ´æ°æ¨¡åã\n\nç±äºæä»¬å¨å±å³èæ¯ä¸ª rgb-d å¸§ï¼å æ­¤å¯ä»¥éå¼ä¸è¿ç»­å°å¤çåç¯ï¼ä»èæ éä»»ä½æ¾å¼åç¯æ£æµã\n\n\n# æ¹æ³æ¦è¿°\n\næä»¬ä½¿ç¨ä¸ç»ç¨çç¹å¾å¯¹åºæ¥è·å¾ç²ç¥çå¨å±å¯¹é½ï¼å ä¸ºç¨çç¹å¾åºæå°æä¾äºåç¯æ£æµåéæ°å®ä½ãç¶åéè¿ä¼åå¯éçååº¦åå ä½ä¸è´æ§æ¥ç»åè¿ç§å¯¹é½æ¹å¼ã\n\næåsiftå³é®ç¹ï¼åä»¥åææå¸§è¿è¡å¹éï¼å¹¶ä¸ä¸¥æ ¼çååºæ å¹éã\n\nä½¿ç¨è¿æ»¤åçå³èï¼åå±å°å±é¨å°å¨å±çä½å§¿ä¼åæ¹æ³ï¼å¨ç¬¬ä¸å±ï¼è¿ç»­nå¸§ï¼æ¶é´ï¼ç»æä¸ä¸ªchunkï¼å¨ååè¿è¡å±é¨ä½å§¿ä¼åãå¨ç¬¬äºå±ï¼ææçchunkç¸äºå³èè¿è¡å¨å±ä¼åãè¿ç§ä¼åç­ç¥åå°äºæªç¥éä¿è¯å¤§èå´éå»ºã\n\nä¸ºäºä½¿ç¨æ¹è¿çä¼°è®¡æ¥è·æ°å¸§çä½å§¿ï¼ä½¿ç¨æ°çå®æ¶åç¦»æ­¥éª¤ç§»é¤æ§ä½å§¿çrgb-då¾åï¼å¹¶å¨æ°ä½å§¿å¤éæ°æ´åã\n\n\n# å¯»æ¾ç¹å¾å³è\n\nå¯¹äºæ°æ¥çæ¯ä¸å¸§ï¼æåsiftç¹å¾ï¼åä»¥åææå¸§è¿è¡å¹éãä¹åç­éæ²¡ä¸¤å¸§ä¹é´çå¹éï¼ååºå¹éï¼å¹¶çæææçæå¯¹å³èçåè¡¨ï¼ä½ä¸ºå¨å±ä½å§¿ä¼åçè¾å¥ã\n\n# å»é¤ä¸¤å¸§ä¹é´çå³è\n\nä¸ºäºæå°åå¤ç¹ï¼æ ¹æ®å ä½åååº¦ä¸è´æ§è¿æ»¤æ£æµå°çæå¯¹å¯¹åºéãå¨è¿è¡ä¼ååç®åºä¸ä¸ªæ®å·®ï¼å¦æå¤§äºæä¸ªå¼ï¼å°±ç§»é¤è¿ä¸¤å¸§ä¹é´ææçå¹éï¼å¦å¤ï¼å¦ææä¸å¸§ä¸ä»»ä½ä¸å¸§é½æ²¡æå³èï¼åç§°ä¸ºæ æå¸§ã\n\n# å»é¤å³é®ç¹è¯¯å¹é\n\nå½åå³èpcurï¼qcurï¼å¯¹äºæ°æ·»å çå³èï¼p,qï¼è®¡ç®åºä¸ä¸ªåæ¢ï¼ä½¿å¾pcur, qcurçrmsdæå°ãä¹åè®¡ç®pcurï¼qcurçä¸äºæå³è¯¯å·®çæ°ï¼å¦æå¤§äºä¸ä¸ªéå¼ï¼è´¼è®¤ä¸ºç³»ç»æ¯ä¸ç¨³å®çï¼é£ä¹å°±ç§»é¤è¿äºå³èï¼ç´å°è¿ä¸å¤è®¡ç®åºä¸ä¸ªåæ¢ãå¦æè®¡ç®ä¸åºä¸ä¸ªåæ¢ï¼é£ä¹å°±æè¿ä¸¤å¸§ä¹é´çææå³èç§»é¤ã\n\n# éè¿è¡¨é¢è¿æ»¤\n\næ£æ¥ç¹å¾è·¨è¶çè¡¨é¢æ¯å¦è¶³å¤å¤§ï¼å ä¸ºè·¨è¶å¤ªå°çå°ºå¯¸çå³èä¼å¼èµ·æ­§ä¹ãå¯¹äºæ¯ç»3dç¹ï¼æä»¬å°å®ä»¬æå½±å°ç±å®ä»¬çä¸¤ä¸ªä¸»è½´æ¹åï¼å¯ä»¥ç¨ä¸­å¿è·åéå¿æ±åºï¼ç»å®çå¹³é¢ä¸­ï¼è¡¨é¢ç§¯ç±çæçæå½±ç¹ç2då®åè¾¹çæ¡ç»å®ãå¦æè·¨è¶çåºåä¸è¶³å¤å°å¹³ç±³ï¼åè¯¥ç»å¹éè¢«ä¸¢å¼ã\n\n# å¯ééªè¯\n\n\n\nä»¥ä¸å¼å­é½éè¿ï¼å°±æ·»å è¿å³èå°ææçå³èéä¸­ï¼è¿ä¹åç¨æ¥åä½å§¿ä¼åãå¦æä¸¤å¸§ä¹é´å³èæ°éå¤§äºä¸å®å¼ï¼ååªä½¿ç¨å¸§é´å¹éæ¥ä¼°è®¡ä½å§¿ã\n\n\n# åå±ä¼å\n\nå¨è¾å¥çå¾ååºåä¸­ï¼è¿ç»­nå¸§ç»æä¸ä¸ªchunkãå¨åºå±ä¼åä¸­ï¼å¨ä¸ä¸ªååè¿è¡å±é¨å¯¹é½ãå¨ç¬¬äºå±ï¼æ¯ä¸åçç¬¬ä¸å¸§ï¼ä½ä¸ºè¿ä¸ªåçå³é®å¸§ï¼å¨å±ä¼åå°±æ¯ï¼å¯¹é½è¿äºå³é®å¸§ã\n\n# ååå±é¨å¯¹é½\n\nåºäºè¾å¥rgb-dæµä¸­è¿ç»­11ä¸ªå¸§ï¼ç»æä¸ä¸ªåï¼ç¸é»çåéå 1å¸§ãå±é¨ä½å§¿ä¼åæ¯ï¼è®¡ç®ä¸åèå¸§ï¼åçç¬¬ä¸å¸§ï¼æä¼çç¸å¯¹ä½å§¿ãä¼åçæ¹æ³æ¯ï¼é¦åæ¯ä¸é¢çå¯»æ¾ç¹å¾å³èï¼å¹¶ä¸ä½¿ç¨è½éå½æ°\n\n\n\nwdenseæ¯çº¿æ§å¢å çï¼è¿è®©ç¦»æ£é¡¹æ¾å°ä¸ä¸ªæ¯è¾å¥½çå¨å±ç»æï¼ç¶åä½¿ç¨ç¨ å¯é¡¹ä¼åã\n\nå¨ç¦»æ£çå¹éé¡¹ï¼æå°åsä¸­ææå¸§å¯¹ï¼ææå³èçç¹å¾ï¼æå½±å°ä¸çåæ ç³»ï¼çå·®ã\n\n\n\nc(i, j)æ¯ç¬¬iå¸§åç¬¬jå¸§å³èçç¹å¾ã\n\nä¹åå¯¹åè¿è¡å¯ééªè¯ï¼å¦æéæå½±è¯¯å·®å¤§äºéå¼ï¼åä¸¢å¼è¿ä¸ªåã\n\n# å³é®å¸§ä¼å\n\nä¸æ¦ä¸ä¸ªåå®æä¼åï¼é£ä¹å°±å®ä¹ååç¬¬ä¸å¸§ä½ä¸ºå³é®å¸§ãè·å¾ä¸ä¸ªå³é®å¸§ç¹å¾éï¼ä¸æ¦è·å¾å³é®å¸§ç¹å¾éï¼å°±ä¸¢å¼åæ°æ®ã\n\n# å¨å±åé´ä¼å\n\nä¸æ¦ä¸ä¸ªå³é®å¸§æ²¡ææ¾å°ä¸ä¸ªä»¥åçå¸§ä½ä¸ºå¹éï¼é£ä¹å°±è§ä¸ºæ æå¸§ï¼ä¹åå¯ä»¥æ¢å¤ãåå±é¨ååä¼åä¸æ ·ï¼ä½¿ç¨ç¦»æ£é¡¹åå¯éé¡¹æ¥ä¼åå¨å±ä½å§¿ã\n\n\n# åèæç®\n\n# åºäºéç»æåç¹çè¡¨ç¤º\n\np. henry, m. krainin, e. herbst, x. ren, and d. fox. 2010. rgb-d mapping: using depth cameras for dense 3d modeling of indoor environments. in proc. int. symp. experimental robotics, vol. 20. 22â25.\n\nmaik keller, damien leÂoch, martin lambers, shahram izadi, tim weyrich, and andreas kolb. 2013. real-time 3d reconstruction in dynamic scenes using point-based fusion. in proc. 3dv. ieee, 1â8.\n\nt. weise, t. wismer, b. leibe, and l. van gool. 2009. in-hand scanning with online loop closure. in proc. iccv workshops. 1630â1637.\n\nt. whelan, s. leutenegger, r. f. salas-moreno, b. glocker, and a. j. davison. 2015. elasticfusion: dense slam without a pose graph. in proc. rss. rome, italy.\n\n# åºäº2.5dæ·±åº¦å¾\n\nmaxime meilland, andrew comport, and others. 2013. on unifying key-frame and voxel-based dense visual slam at large scales. in proc. iros. ieee, 3677â3683.\n\np. merrell, a. akbarzadeh, l. wang, p. mordohai, j.m. frahm, r. yang, d. nister, Â´ and m. pollefeys. 2007. real-time visibility-based fusion of depth maps. in proc. iccv. 1â8.\n\n# åºäºé«åº¦åº\n\ndavid gallup, marc pollefeys, and jan-michael frahm. 2010. 3d reconstruction using an n-layer heightmap. in paÂern recognition. springer, 1â10.\n\n# åºäºå ç¨ç½æ ¼çä½ç§¯\n\nalberto elfes and larry maÂhies. 1987. sensor integration for robot navigation: combining sonar and stereo range data in a grid-based representataion. in decision and control, 1987. 26th ieee conference on, vol. 26. ieee, 1802â1807.\n\nkai m wurm, armin hornung, maren bennewitz, cyrill stachniss, and wolfram burgard. 2010. octomap: a probabilistic, Âexible, and compact 3d map representation for robotic systems. in proc. icra, vol. 2.\n\n# åºäºéå¼æ²é¢\n\nbrian curless and marc levoy. 1996. a volumetric method for building complex models from range images. in in proc. siggraph. acm, 303â312.\n\na. hilton, a. stoddart, j. illingworth, and t. windeaÂ. 1996. reliable surface reconstruction from multiple range images. jproc. eccv (1996), 117â126.\n\n# åºäºtsdfï¼éå¼æªæ­ç¬¦å·è·ç¦»ï¼\n\nnicola fioraio, jonathan taylor, andrew fitzgibbon, luigi di stefano, and shahram izadi. 2015. large-scale and driÂ-free surface reconstruction using online subvolume registration. proc. cvpr (june 2015).\n\nsimon fuhrmann and michael goesele. 2014. floating scale surface reconstruction. in proc. siggraph.\n\nmarc levoy, kari pulli, brian curless, szymon rusinkiewicz, david koller, lucas pereira, maÂ ginzton, sean anderson, james davis, jeremy ginsberg, and others. 2000. Âe digital michelangelo project: 3d scanning of large statues. in in proc. siggraph. acm press/addison-wesley publishing co., 131â144.\n\n# æè¿æçªåºçä¾å­æ¯ kinectfusion [20, 34]ï¼å¶ä¸­å±ç¤ºäºè¾å°åºæ¯çå®æ¶ä½ç§¯èåã\n\ns. izadi, d. kim, o. hilliges, d. molyneaux, r. newcombe, p. kohli, j. shoÂon, s. hodges, d. freeman, a. davison, and a. fitzgibbon. 2011. kinectfusion: realtime 3d reconstruction and interaction using a moving depth camera. in proc. uist. 559â568.\n\nrichard a newcombe, shahram izadi, otmar hilliges, david molyneaux, david kim, andrew j davison, pushmeet kohli, jamie shoÂon, steve hodges, and andrew fitzgibbon. 2011. kinectfusion: real-time dense surface mapping and tracking. in proc. ismar. 127â136.\n\n# ç¨äºä½ç§¯èåçå®æ¶é«ææ°æ®ç»æã\n\njiawen chen, dennis bautembach, and shahram izadi. 2013. scalable real-time volumetric surface reconstruction. acm tog 32, 4 (2013), 113.\n\nmaik keller, damien leÂoch, martin lambers, shahram izadi, tim weyrich, and andreas kolb. 2013. real-time 3d reconstruction in dynamic scenes using point-based fusion. in proc. 3dv. ieee, 1â8.\n\nm. nieÃner, m. zollhofer, s. izadi, and m. stamminger. 2013. real-time 3d Â¨ reconstruction at scale using voxel hashing. acm tog (2013).\n\nf reichl, j weiss, and r westermann. 2015. memory-eÂcient interactive online reconstruction from depth image streams. in computer graphics forum. wiley online library\n\nh. roth and m. vona. 2012. moving volume kinectfusion. in proc. bmvc\n\nf. steinbruecker, j. sturm, and d. cremers. 2014. volumetric 3d mapping in realtime on a cpu. in 2014 ieee international conference on robotics and automation (icra). hongkong, china.\n\nt whelan, h johannsson, m kaess, j leonard, and j mcdonald. 2012. robust tracking for real-time dense rgb-d mapping with kintinuous. technical report. Âery date: 2012-10-25.\n\nm. zeng, f. zhao, j. zheng, and x. liu. 2012. octree-based fusion for realtime 3d reconstruction. graphical models (2012).\n\nyizhong zhang, weiwei xu, yiying tong, and kun zhou. 2015. online structure analysis for real-time indoor scene reconstruction. acm transactions on graphics (tog) 34, 5 (2015), 159.\n\n# éè¿ä¼åæ´ä¸ªä½å§¿è½¨è¿¹æ¥å¾å°å¨å±ä¸è´çæ¨¡å\n\nsungjoon choi, qian-yi zhou, and vladlen koltun. 2015. robust reconstruction of indoor scenes. proc. cvpr (june 2015).\n\nhao li, etienne vouga, anton gudym, linjie luo, jonathan t barron, and gleb gusev. 2013. 3d self-portraits. acm tog 32, 6 (2013), 187.\n\nqian-yi zhou and vladlen koltun. 2013. dense scene reconstruction with points of interest. acm transactions on graphics (tog) 32, 4 (2013), 112.\n\nqian-yi zhou and vladlen koltun. 2014. color map optimization for 3d reconstruction with consumer depth cameras. acm transactions on graphics (tog) 33, 4 (2014), 155.\n\nqian-yi zhou, steven miller, and vladlen koltun. 2013. elastic fragments for dense scene reconstruction. in computer vision (iccv), 2013 ieee international conference on. ieee, 473â480\n\n# å®æ¶åç®rgbæ¹æ³\n\n# ç¨ç\n\ngeorg klein and david murray. 2007. parallel tracking and mapping for small ar workspaces. in proc. ismar. nara, japan\n\n# åç¨ å¯\n\njakob engel, jurgen sturm, and daniel cremers. 2013. semi-dense visual odometry for a monocular camera. in proc. iccv. ieee, 1449â1456.\n\nchristian forster, matia pizzoli, and davide scaramuzza. 2014. svo: fast semidirect monocular visual odometry. in proc. icra. ieee, 15â22.\n\n# ç´æ¥æ³\n\nj. engel, t. schops, and d. cremers. 2014. lsd-slam: large-scale direct monoc- Â¨ ular slam. in european conference on computer vision.\n\nmaxime meilland, a comport, patrick rives, and inria sophia antipolis mediterran Â´ ee. 2011. real-time dense visual tracking under large lighting varia- Â´ tions. in proc. bmvc, vol. 29.\n\n# ä½å§¿å¾ä¼å\n\nrainer kummerle, giorgio griseÂi, hauke strasdat, kurt konolige, and wolfram Â¨ burgard. 2011. g 2 o: a general framework for graph optimization. in proc. icra. ieee, 3607â3613.\n\n# æç»è°æ´\n\nbill triggs, philip f mclauchlan, richard i hartley, and andrew w fitzgibbon. 2000. bundle adjustmen, a modern synthesis. in vision algorithms: theory and practice. springer, 298â372\n\nmonofusion [38] éè¿å¯éä½ç§¯èåå¢å¼ºäºç¨ç slam æè°æ´ï¼å¨å°è§æ¨¡åºæ¯ä¸­æ¾ç¤ºåºä»¤äººä¿¡æçåç®ç»æã å®æ¶ slam æ¹æ³éå¸¸é¦åéå¸§ä¼°è®¡ä½å§¿ï¼ç¶åå¨åå°çº¿ç¨ä¸­æ§è¡æ ¡æ­£ï¼è¿è¡éåº¦ä½äºå®æ¶éçï¼ä¾å¦ï¼1hzï¼ã\n\nvivek pradeep, christoph rhemann, shahram izadi, christopher zach, michael bleyer, and steven bathiche. 2013. monofusion: real-time 3d reconstruction of small scenes with a single web camera. in proc. ismar. 83â88.\n\nç¸æ¯ä¹ä¸ï¼dtam [35] ä½¿ç¨å¸§å°æ¨¡åè·è¸ªçæ¦å¿µï¼æ¥èª kinectfusion [20, 34]ï¼ç´æ¥ä»éå»ºçå¯é 3d æ¨¡åä¼°è®¡å§¿å¿ã è¿çç¥äºæ ¡æ­£æ­¥éª¤çéè¦ï¼ä½æ¾ç¶ä¸è½æ©å±å°æ´å¤§çåºæ¯ã\n\nrichard a. newcombe, steven j. lovegrove, and andrew j. davison. 2011. dtam: dense tracking and mapping in real-time. in proc. iccv. 2320â2327.\n\n# icp\n\np.j. besl and n.d. mckay. 1992. a method for registration of 3-d shapes. ieee trans. pami 14, 2 (1992), 239â256.\n\ns. rusinkiewicz and m. levoy. 2001. eÂcient variants of the icp algorithm. in proc. 3dim. 145â152.",charsets:{cjk:!0}},{title:"åºäºä¿¡æ¯è®ºèªä¸»æ¢ç´¢",frontmatter:{title:"åºäºä¿¡æ¯è®ºèªä¸»æ¢ç´¢",date:"2022-06-15T12:47:36.000Z",permalink:"/pages/8487b5/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/02.%E5%9F%BA%E4%BA%8E%E4%BF%A1%E6%81%AF%E8%AE%BA%E8%87%AA%E4%B8%BB%E6%8E%A2%E7%B4%A2.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/02.åºäºä¿¡æ¯è®ºèªä¸»æ¢ç´¢.md",key:"v-13e764ec",path:"/pages/8487b5/",headersStr:null,content:"éè¿ä¿¡æ¯è®ºçæ¹æ³æ¥è§£å³æºå¨äººèªä¸»æ¢ç´¢é®é¢ï¼å¨æºå¨äººè§éåï¼éæ©ä¸ä¸ªåå«ä¿¡æ¯éæå¤§çä½ç½®ãè¯¥è®ºææåºï¼ä½¿ç¨è´å¶æ¯ä¼åé¢æµäºä¿¡æ¯(MI)ï¼æºå¨äººæç¥åéå¨ä½ç±è´å¶æ¯ä¼åç»åºï¼ç¶åæ·»å å°é«æ¯è¿ç¨ä¸­è®­ç»ï¼é«æ¯è¿ç¨ä¼°è®¡æºå¨äººæ´ä¸ªå¨ä½ç©ºé´çMIï¼ç¶åéè¿acquisition functionéæ©ä¸ä¸ä¸ªåéå¨ä½ï¼\n\nèªä¸»æ¢ç´¢é®é¢ï¼å¨ä¸ä¸ªæ²¡æåéªçç¯å¢ä¸­ï¼ä¾æ¬¡å³å®ä¸ä¸ä¸ªå¨ä½ãæç»ç®æ è®©æ´ä¸ªæ æ ¼å°å¾çµåå°ï¼å¾è¿äºçå°±æ¯æ¯æ¬¡æ¾MIæå¤§çå¨ä½ã\n\næ¬æå·¥ä½ä¸­ï¼æ¾ç¤ºå°è®¡ç®MIãä½¿ç¨é«æ¯è¿ç¨çåéªmean functionä¼°è®¡MIãå¨æ¯æ¬¡è´å¶æ¯ä¼åè¿­ä»£ä¸­ï¼è®¡ç®åºä¸ä¸ªåéå¨ä½ï¼ç¶åæ·»å å°ä¸ä¸ªç¨äºè¿ä¼¼MIçå¨ä½æ± ä¸­ï¼ï¼é«æ¯è¿ç¨å¯ä»¥ä¼°è®¡MIï¼ä¹å½¢æacquisition functionç¨äºéæ©ä¸ä¸ä¸ªåéå¨ä½ï¼ï¼äºéé¾éã",normalizedContent:"éè¿ä¿¡æ¯è®ºçæ¹æ³æ¥è§£å³æºå¨äººèªä¸»æ¢ç´¢é®é¢ï¼å¨æºå¨äººè§éåï¼éæ©ä¸ä¸ªåå«ä¿¡æ¯éæå¤§çä½ç½®ãè¯¥è®ºææåºï¼ä½¿ç¨è´å¶æ¯ä¼åé¢æµäºä¿¡æ¯(mi)ï¼æºå¨äººæç¥åéå¨ä½ç±è´å¶æ¯ä¼åç»åºï¼ç¶åæ·»å å°é«æ¯è¿ç¨ä¸­è®­ç»ï¼é«æ¯è¿ç¨ä¼°è®¡æºå¨äººæ´ä¸ªå¨ä½ç©ºé´çmiï¼ç¶åéè¿acquisition functionéæ©ä¸ä¸ä¸ªåéå¨ä½ï¼\n\nèªä¸»æ¢ç´¢é®é¢ï¼å¨ä¸ä¸ªæ²¡æåéªçç¯å¢ä¸­ï¼ä¾æ¬¡å³å®ä¸ä¸ä¸ªå¨ä½ãæç»ç®æ è®©æ´ä¸ªæ æ ¼å°å¾çµåå°ï¼å¾è¿äºçå°±æ¯æ¯æ¬¡æ¾miæå¤§çå¨ä½ã\n\næ¬æå·¥ä½ä¸­ï¼æ¾ç¤ºå°è®¡ç®miãä½¿ç¨é«æ¯è¿ç¨çåéªmean functionä¼°è®¡miãå¨æ¯æ¬¡è´å¶æ¯ä¼åè¿­ä»£ä¸­ï¼è®¡ç®åºä¸ä¸ªåéå¨ä½ï¼ç¶åæ·»å å°ä¸ä¸ªç¨äºè¿ä¼¼miçå¨ä½æ± ä¸­ï¼ï¼é«æ¯è¿ç¨å¯ä»¥ä¼°è®¡miï¼ä¹å½¢æacquisition functionç¨äºéæ©ä¸ä¸ä¸ªåéå¨ä½ï¼ï¼äºéé¾éã",charsets:{cjk:!0}},{title:"ORB_SLAM2åçãä»£ç æµç¨ææ¡£",frontmatter:{title:"ORB_SLAM2åçãä»£ç æµç¨ææ¡£",date:"2021-11-21T11:08:31.000Z",permalink:"/pages/cc3afe/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/14.ORB_SLAM2%E5%8E%9F%E7%90%86%E3%80%81%E4%BB%A3%E7%A0%81%E6%B5%81%E7%A8%8B%E6%96%87%E6%A1%A3.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/14.ORB_SLAM2åçãä»£ç æµç¨ææ¡£.md",key:"v-4f35af8e",path:"/pages/cc3afe/",headers:[{level:2,title:"ç®æ³åç",slug:"ç®æ³åç",normalizedTitle:"ç®æ³åç",charIndex:2},{level:3,title:"Tracking",slug:"tracking",normalizedTitle:"tracking",charIndex:22},{level:3,title:"LocalMapping",slug:"localmapping",normalizedTitle:"localmapping",charIndex:31},{level:3,title:"LoopClosing",slug:"loopclosing",normalizedTitle:"loopclosing",charIndex:44},{level:3,title:"â  æ£æµé­ç¯",slug:"_1-æ£æµé­ç¯",normalizedTitle:"â  æ£æµé­ç¯",charIndex:6922},{level:3,title:"â¡ è®¡ç®sim3 ç¸ä¼¼åæ¢",slug:"_2-è®¡ç®sim3-ç¸ä¼¼åæ¢",normalizedTitle:"â¡ è®¡ç®sim3 ç¸ä¼¼åæ¢",charIndex:7272},{level:3,title:"â¢ åç¯ç«æ­£",slug:"_3-åç¯ç«æ­£",normalizedTitle:"â¢ åç¯ç«æ­£",charIndex:7777},{level:2,title:"ä»£ç æµç¨",slug:"ä»£ç æµç¨",normalizedTitle:"ä»£ç æµç¨",charIndex:8440},{level:3,title:"æä»¶çè°ç¨å³ç³»",slug:"æä»¶çè°ç¨å³ç³»",normalizedTitle:"æä»¶çè°ç¨å³ç³»",charIndex:8449},{level:3,title:"éè¦åéçæä¹",slug:"éè¦åéçæä¹",normalizedTitle:"éè¦åéçæä¹",charIndex:8595},{level:3,title:"Trackingæµç¨",slug:"trackingæµç¨",normalizedTitle:"trackingæµç¨",charIndex:17329},{level:3,title:"LocalMappingæµç¨",slug:"localmappingæµç¨",normalizedTitle:"localmappingæµç¨",charIndex:20004},{level:3,title:"LoopClosingæµç¨",slug:"loopclosingæµç¨",normalizedTitle:"loopclosingæµç¨",charIndex:22450}],headersStr:"ç®æ³åç Tracking LocalMapping LoopClosing â  æ£æµé­ç¯ â¡ è®¡ç®sim3 ç¸ä¼¼åæ¢ â¢ åç¯ç«æ­£ ä»£ç æµç¨ æä»¶çè°ç¨å³ç³» éè¦åéçæä¹ Trackingæµç¨ LocalMappingæµç¨ LoopClosingæµç¨",content:'# ç®æ³åç\n\nç®æ³ç±ä¸å¤§é¨åç»æï¼åå«æ¯ TrackingãLocalMappingãLoopClosing ä¸ä¸ªçº¿ç¨\n\n\n# Tracking\n\n 1. ç¹å¾ç¹çæåï¼ORB Extractionï¼ å¨æ­¤ä¹åï¼ç¹å¾ç¹çæåæ¹æ³æsiftï¼surfç­ï¼ä½ç¸æ¯ORBé½æ¯è¾èæ¶ãORBç®æ³åæåFASTè§ç¹ï¼åè®¡ç®BRIEFæè¿°å­ï¼æç»å©ç¨Bowè¯è¢æ¨¡åæ¥å¹éç¹å¾ç¹ã\n    \n    * å»ºç«å¾åéå­å¡ï¼å°åå¾åæä¸åæ¯ä¾ç¼©å°ï¼å¾å°å¤å¼ å¾çï¼åå«å¯¹æ¯å¼ å¾çè¿è¡ä¸è¿°æä½ã\n    \n    * FASTè§ç¹æåï¼å¯¹ææåç´ ç¹è¿è¡æåï¼\n      \n      * å°å¾åè½¬ä¸ºç°åº¦å¾ï¼éååç´  pï¼ åè®¾ä»çäº®åº¦ä¸º Ip\n      * è®¾å®ä¸ä¸ªéå¼ Tï¼å¶å¤§å°ä¸ Ip ææ­£æ¯\n      * ä»¥ p ä¸ºä¸­å¿ï¼åå¾ä¸º3çåä¸é16ä¸ªåç´ ç¹\n      * å¦ææè¿ç»­Nä¸ªç¹äº®åº¦å¤§äº Ip+T æå°äºIpâTï¼å p è¢«è®¤ä¸ºæ¯ä¸ä¸ªFASTè§ç¹ ![å¨è¿éæå¥å¾çæè¿°](https://img-blog.csdnimg.cn/c20d47d96bd34496b6479aa829565f2b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQUTni5fkuJw=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center =400x200)\n    \n    ----------------------------------------\n    \n    * BRIEFæè¿°å­ï¼å¯¹ææçFASTè§ç¹è®¡ç®æè¿°å­ï¼\n      \n      * è®¡ç®æ¯ä¸ªFASTè§ç¹åå¿å°è´¨å¿ç¹çæ¹å\n      \n      * å°æ¯ä¸ªè§ç¹å¯¹åºçååè¿è¡æè½¬ï¼æè½¬è³ææè§ç¹å¯¹åºçæ¹åç¸åã ![å¨è¿éæå¥å¾çæè¿°](https://img-blog.csdnimg.cn/bed388824aab4c818d38ead3a1c21f5a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQUTni5fkuJw=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center =300x135)\n      \n      * åååéåNä¸ªç¹å¯¹ï¼é»è®¤æå®äº128å¯¹ç¹ï¼ï¼éè¿å°äº®åº¦çæ¯è¾ç»æï¼å°è§ç¹æ å°ä¸ºï¼åªç±0ã1ç»æç128ç»´åéï¼å°æ­¤åéä½ä¸ºBRIEFæè¿°å­\n      \n      * æåï¼å¯¹æ¯ä¸ªFASTè§ç¹ï¼é½çæäº128ç»´æè¿°å­ã\n      \n      * å½è¢«ææç©ä½æ¾å¤§æèç¼©å°æ¶ï¼FASTè§ç¹ä¼äº§çä¸åçæåç»æï¼æ¯å¦ç¼©å°ä¼å¼èµ·è§ç¹æ¶å¤±ï¼ï¼ä½å¨å¾åéå­å¡çå¶ä»å±ä¸­ä¾ç¶å¯ä»¥æåå°ç¼©æ¾åå¯¹åºçFASTè§ç¹ï¼ä»èå·æè¯å¥½çå°ºåº¦ä¸åæ§ãå½è¢«ææç©ä½åçæè½¬æ¶ï¼å¶FASTè§ç¹çæ¹åä¹ä¼éä¹æè½¬ï¼è®¡ç®BRIEFæè¿°å­åï¼å°ææFASTè§ç¹æè½¬è³åä¸æ¹åï¼ç¸å½äºå°ææææå¯¹è±¡é½æè½¬å°åä¸æ¹åï¼ä»èå·æè¯å¥½çæè½¬ä¸åæ§\n    \n    * BoW è¯è¢æ¨¡åï¼å¯¹å¾çãç¹å¾è¿è¡æ¥æ¾åç´¢å¼ï¼\n      * è¯è¢æ¨¡åä½ä¸ºæææè¿°å­çå­å¸ï¼ ç¨äºéåä¸¤å¼ å¾æä¸¤ä¸ªç¹å¾ç¹çç¸ä¼¼æ§\n      * å­å¸çæ°æ®ç»æä¸º kåæ ï¼ä¸å±æ¯ä¸å±çèç±»ï¼æåºå±çæ¯ä¸ªå¶å­èç¹å¯¹åºçæ¯æå°ç¹å¾ååï¼BRIEFæè¿°å­\n      * è·å¾æè¿°å­åï¼éè¿æ¬¡æ¥æ¾kåæ ï¼æ¥å¾å°æ­¤æè¿°å­çå¹éç¹ï¼éä½äºæ¥æ¾å¹éçå¤æåº¦\n\n 2. æè½¬ä¸åæ§æ¥èªï¼æåFASTç¹å¾æ¶ï¼è®¡ç®äºæ¯ä¸ªè§ç¹çä¸­å¿ç¹å°è´¨å¿ç¹çæ¹ååéï¼å³ä½¿ç©ä½åçäºæè½¬ï¼ä¹å¯å©ç¨æ¹ååéæ¥è¯å«ã\n\n 3. å°ºåº¦ä¸åæ§æ¥èªï¼å¯¹æ¯ä¸å¸§ï¼å»ºç«4å±çé«æ¯éå­å¡ï¼åå«å¨æ¯å±éå­å¡ä¸åç¹å¾æåï¼å³ä½¿Aå¾ä¸­çç¹å¾å¨Bå¾ä¸­åå°ï¼ä¹å¯ä»¥å¨Aå¾éå­å¡é«å±æåå°Bå¾ä¸­åå°ºåº¦çç¹å¾\n    \n    ----------------------------------------\n\n 4. ç¹äºåå§å è¿é¨åå¨è®ºæä¸­æ²¡ææåãåçå¨æ´ä¸ªç®æ³åå¼å§è¿è¡æ¶ï¼ç¹äºçåå§åæ¯æ­¤åæ¯ä¸å¸§è½æåå®ä½çåæ\n    \n    * ä½ç¨ï¼ç¹å¾å¹éãä¸è§åï¼å¾å°åå§ç¹äºå¾ï¼å¯¹äºåç®æ¥è¯´ï¼å°±æ¯å°P2Pé®é¢è½¬ä¸ºPnPé®é¢\n    * æ­¥éª¤(ä»¥åç®ä¸ºä¾ï¼ï¼\n      * åå§éå2ä¸ªç¹å¾ç¹è¾å¤çå¸§ï¼ ç¹å¾ç¹æ°ç¹å¾ç¹æ°>100 )ï¼å¹¶å¨è¯è¢ä¸­è¿è¡ç¹å¾å¹é\n      * å¹¶è¡è®¡ç®ååºæ§ç©éµ H ååºç¡ç©éµ F ã å½å¯¹æçº¦æä¸æç«çæ¶åï¼ç¸æºåªææè½¬æ²¡æå¹³ç§»ï¼ï¼æåºæ¯é½å¨åä¸å¹³é¢æ¶ï¼ç¨ååºæ§ç©éµæ¥è®¡ç®ä¸¤å¸§ä¹é´çåæ¢ç©éµãå¦åç¨åºç¡ç©éµè®¡ç®åæ¢ç©éµ\n      * å°ç¬¬ä¸å¸§çä½å§¿è®¾ç½®ä¸ºåºåä½å§¿ï¼ç¬¬äºå¸§çä½å§¿ä¸ºä¸ä¸æ­¥ææ±åºçåæ¢ç©éµ\n      * åå»ºå°å¾ç¹å¯¹è±¡MapPointï¼æ¢å¤åºææå¹éç¹å¯¹åºçä¸çåæ \n    \n    ----------------------------------------\n\n 5. ä½å§¿åå§åï¼Initial Pose Estimationï¼ å¯¹ CurrFrame (æ­¤å»çå¸§)ä½å§¿ä¼åä¹åï¼åè¦æä¸ä¸ªå¤§æ¦çä¼°è®¡ï¼ä½ä¸ºä¹åä¼åä½å§¿çåå¼ãæ ¹æ®å½åè·è¸ªç¶æçä¸åï¼ä¸å±æä¸ç§åå§åæ¹æ³ï¼æ ¹æ®åèå³é®å¸§ä¼°è®¡ï¼æ ¹æ®åéè¿å¨æ¨¡åä¼°è®¡ï¼éå®ä½ãé¤æ­¤ä¹å¤ï¼è¿è¦å¯¹æ­¤å¸§è§æµå°çç¹å¾ç¹è¿è¡ä¼°è®¡\n    \n    * ä½ç¨ï¼ä¼°è®¡å¸§çä½ç½®ï¼ä»¥åè§æµå°çå±é¨å°å¾ç¹\n    * æ­¥éª¤ï¼\n      \n      * è·è¸ªç¶æä¸ºLOSTæ¶ï¼\n        \n        * ç¨éå®ä½ä¼°è®¡ä½å§¿ï¼Relocationï¼ï¼ç¨è¯è¢æ¨¡åå¯»æ¾ä¸ CurrFrame æç¸ä¼¼çå¸§ RelocFrameï¼è¿è¡ç¹å¾å¹é\n        * ç»è®¡ CurrFrame ä¸å¹éç¹æ°éï¼æ°éå¤ªå°åè®¤ä¸ºå¹éææå·®ï¼ä¿æç¶æä¸ºLOSTï¼ç»æå¯¹æ­¤å¸§çå¤çï¼ç­å¾ä¸ä¸å¸§ï¼æ°éè¶³å¤çè¯ï¼è¿è¡ä¸æ¬¡ä»ä¼åä½å§¿çBAï¼motion-only BAï¼ï¼æ°éä¸å¤åèå¼æ­¤å¸§\n      \n      * è·è¸ªç¶æNORMALæ¶ï¼\n        \n        * æ ¹æ®åéè¿å¨æ¨¡åä¼°è®¡ä½å§¿ï¼é»è®¤ä¸ä¸å¸§å° CurrFrame çåæ¢ç©éµç­äºä¸ä¸å¸§å°ä¸ä¸å¸§çåæ¢ç©éµãï¼track with Motion modelï¼\n        * å°ä¸ä¸å¸§ï¼LastFrameï¼è§æµå°çMapPoint æå½±å°ä¼°è®¡çä½å§¿ä¸ï¼è§æµæå¤å°æå½±ç¹ä¸ç¹å¾ç¹ä½ç½®éåï¼éååè®¤ä¸ºæ¯ä¸å¯¹å¹éç¹ï¼å¦æéåçè¶³å¤å¤ï¼åè¿è¡ä¸æ¬¡ä»ä¼åä½å§¿çBAï¼å¦æéåçä¸ªæ°å¤ªå°ï¼è¡¨æå¹éå¤±è´¥æ¹ç¨åèå³é®å¸§ä¼°è®¡ï¼\n      \n      * æ ¹æ®åèå³é®å¸§ä¼°è®¡ä½å§¿ï¼ï¼Track with RefFrameï¼\n        \n        * ç¨è¯è¢æ¨¡åï¼å° CurrFrame ä¸åèå³é®å¸§ï¼ææ°çå³é®å¸§ï¼è¿è¡ç¹å¾å¹é\n        * å¹éåæ§è¡ä¸æ¬¡ä»ä¼åä½å§¿çBAï¼motion-only BAï¼\n        * ç»è®¡å¹éç¹å¾ç¹æ°ï¼æ°éå°åè®¤ä¸ºå¹éå¤±è´¥ï¼å°ç¶ææ¹ä¸ºLOSTï¼ç»æå¯¹æ­¤å¸§çå¤çï¼ç­å¾ä¸ä¸å¸§ï¼\n    * éè¦æ³¨æï¼åå§ååçFrame ä¸­ä»ä¼æå¤§éç¹å¾ç¹æ²¡å»ºç«å¹é ï¼è¿ä¹ä½ç°äºtrackingçº¿ç¨çéè¦ææ³ï¼å¨å°½å¯è½å°çå»ºç«å¹éçæåµä¸ï¼åå§ååºç¸æºçä½å§¿ã\n    \n    ----------------------------------------\n\n 6. å±é¨ä½å§¿ä¼åï¼Track Local Mapï¼ ç»è¿ä¸é¢çåå§åï¼å¤±è´¥ç Frame ï¼è¯´æå¶ä¸å°å¾èç³»ä¸å¤ç´§å¯ï¼æ æ³å»ºç«ç¨³å¥ççº¦æåä¼°è®¡ï¼èä¸å°å¾èç³»ç´§å¯çFrame ååå§åæåã ä½åååå§åæå¾ä½å§¿ä»ä¾èµäºä¸æä¸å¸§ï¼åä¸å¸§æåèå³é®å¸§ï¼ä¸­çå¹éå³ç³»ï¼ç½®ä¿¡åº¦è¾ä½ã æ¥ä¸æ¥ï¼æä»¬å¨å±é¨å¾ä¸­å¯»æ¾æ´å¤çå¹éå³ç³»ï¼å©ç¨è¿äºå¹éå³ç³»è¿ä¸æ­¥ä¼åCurrFrameçä½å§¿ã\n    \n    * covisibility graphå®ä¹ï¼covisibility graphï¼æ¯æ åå æå¾ï¼å¦æä¸¤ä¸ªå³é®å¸§ä¹é´æå±è§å³ç³»ï¼å±åè§æµå°>15ä¸ªå°å¾ç¹ï¼å°±è¿æä¸æ¡ææè¾¹ï¼è¿äºè¾¹åææå³é®å¸§èç¹ç»æå±è§å¾ã\n    * å¨å±è§å¾ä¸­ï¼éå¯¹CurrFrameå®ä¹ä¸ç»å³é®å¸§ä¸ºå±é¨å³é®å¸§ï¼å±é¨å³é®å¸§ç±åç§é»å±ç»æãè¿åç§é»å±ä¸ºï¼\n      * ä¸ CurrFrame æå±è§ç¹çå¸§ï¼ä¸çº§å±è§å¸§ï¼\n      * ä¸ ä¸çº§å±è§å¸§ æå±è§ç¹çååä¸ªå¸§ï¼äºçº§å±è§å¸§ï¼ï¼æå±è§ç¹ä¸ªæ°æåºï¼\n      * ä¸çº§å±è§å¸§çå­å³é®å¸§\n      * ä¸çº§å±è§å¸§çç¶å³é®å¸§ï¼ä¸ä¸çº§å±è§å¸§å±è§ç¨åº¦æé«çå¸§ï¼\n    * å° CurrFrameãå±é¨å³é®å¸§ ãä»¥åè¿äºå¸§è§æµå°ç MapPointä½ä¸ºï¼å±é¨å¾ ï¼localmapï¼\n    * å°localmap ä¸­çMapPointå CurrFrame æå½±![è¯·æ·»å å¾çæè¿°](https://img-blog.csdnimg.cn/38d7c6d141d34d95837c80abd9b6a72b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQUTni5fkuJw=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center =420x350)\n    * å¯¹ CurrFrameåè¿è¡ä¸æ¬¡ä»ä½å§¿BAï¼motion-only BAï¼ä¼åï¼ä¼°è®¡åºåä¸ªå±é¨å³é®å¸§çä½å§¿\n    \n    ----------------------------------------\n\n 7. å³é®å¸§çå®¡æ ¸ä¸çæ (New Keyframe Decision)\n    \n    * æ£æµç³»ç»æ¯å¦åè®¸å³é®å¸§çæå¥\n      * only_Tracking æ¨¡å¼ä¸ï¼ä¸éè¦å³é®å¸§\n      * localmap è¢« loopclosingçº¿ç¨å ç¨ï¼ä¸è½æå¥å³é®å¸§\n      * å³é®å¸§æ»æ°è¾å¤ï¼ä¸è·ç¦»ä¸ä¸ä¸ªå³é®å¸§è·ç¦»å¾è¿ï¼ä¸éè¦æå¥å³é®å¸§\n    * å®¡æ ¸CurrFrameæ¯å¦æèµæ ¼åå³é®å¸§\n      * è®°å½CurrFrame è§å¯å°çMapPointæ»æ°ï¼numcurr\n      * è®°å½RefFrame è§å¯å°çMapPointæ»æ°ï¼numref![è¯·æ·»å å¾çæè¿°](https://img-blog.csdnimg.cn/3789e59c73034275a21d8a682ed6d9d4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQUTni5fkuJw=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center =420x350)\n      * å¦ænumcurrnumrefå°äºä¸å®éå¼ï¼ååè®¸ CurrFrameä½ä¸ºä¸ä¸ªå³é®å¸§\n    * å° CurrFrame è®¾ç½®ä¸ºå³é®å¸§\n      * å°èªå·±çæçå³é®å¸§PkF ä½ä¸ºCurrFrame çåèå³é®å¸§\n      * å¨å°å¾ä¸­æ°å»ºå°å¾ç¹ ![è¯·æ·»å å¾çæè¿°](https://img-blog.csdnimg.cn/e33fd597a7484bbc9529fe590caa24be.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQUTni5fkuJw=,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center =420x350)\n    \n    ----------------------------------------\n\n * æ»ç»\n * Trackingçº¿ç¨æ ¹æ®ç¶æçä¸åï¼ä»¥ä¸ç§æ¹å¼æ¥åå§åæ¯ä¸å¸§çä½ç½®åå§¿æï¼è¿ä¸ç§æ¹å¼éåº¦ç±æ¢å°å¿«ä¸ºï¼\n * åé¡¾Trackingè¿ç¨\n   * æ´ä¸ªè¿ç¨å¯ä»¥çåä¸æ­¥ï¼è·åä½ç½®ãä¼åä½ç½®ãå³é®å¸§å®¡æ ¸\n   * å¨å°½å¯è½å°å»ºç«å¹éæèä¸å»ºç«å¹éçæåµä¸ï¼è¿è¡ä½å§¿åå§åï¼è·åä½ç½®ï¼\n   * å°½å¯è½å»ºç«ä¸ä¸ªï¼ä½éå°½éå°ãä½ä¸CurrFrameå³ç³»è¶³å¤å¤ï¼åç§é»å±ï¼çå±é¨å¾ï¼å¨æ­¤å±é¨å¾çåºç¡ä¸è¿è¡å¾ä¼åBA ï¼ä¼åä½ç½®ï¼\n   * å¨è·è¸ªå°çç¹è¶³å¤å¤çæåµä¸ï¼>50ä¸ªï¼ï¼å°½å¯è½å¤å°çæå³é®å¸§ï¼å ä¸ºåé¢çå³é®å¸§å é¤ç­ç¥å¾ä¸¥æ ¼ï¼è¿éå³é®å¸§ççææ¯è¾å®½æ¾ï¼å³é®å¸§å®¡æ ¸ï¼\n * å¯ä»¥çåºï¼Trackingçä¸ä¸ªéè¦ç¹ç¹æ¯æéï¼ä¸å°ä¸ä¸å¾å·²ï¼ä¸è¿è¡èæ¶çå¹éæä½ï¼\n\n\n# LocalMapping\n\n 1. å½å¾å¤çKeyFrameéåéç©ºï¼ localMappingçº¿ç¨å°±å¼å§å·¥ä½ã\n\n 2. å°æ­¤KeyFrameæå¥å±è§å¾ä¸­ï¼KeyFrame Insertionï¼\n    \n    * è®¡ç®æ­¤KeyFrameå¯¹åºçè¯è¢åéï¼åºè¯¥æ¯å¨åç¯æ£æµä¼ç¨å°ï¼\n    * è·ålocalMapä¸­ï¼è¢«æ­¤KeyFrameè§æµå°çç¹ï¼å¨Trackingçº¿ç¨ä¸­çä½å§¿åå§åæ­¥éª¤å·²ç»è¢«åå§åï¼ï¼æ´æ°æ­¤KeyFrameçå¹³åè§æµæ¹åï¼ä»¥ååä¸ªMapPointçæä½³æè¿°å­\n    * æ ¹æ®å±è§ç¨åº¦åå»ºææè¾¹ï¼å°KeyFrameæå¥å±è§å¾ä¸­\n\n----------------------------------------\n\n 4. å é¤å¤ä½çMapPoint æ­¤åLocalMappingçº¿ç¨å¯è½å é¤äºä¸äºåä½å³é®å¸§ï¼å¯¼è´å¯¹åºçå°å¾ç¹æ¥è¿äºâæ å¸§è§æµâçç¶æï¼ä¸æ»¡è¶³ä»¥ä¸2æ¡ä»¶ä¸­ä»»æä¸æ¡çMapPointä¼è¢«ç§»é¤\n    * å¯¹äºlocalmapä¸­çä»»æå°å¾ç¹Pï¼å¦æ å®éè§æµå°çå¸§æ°éé¢æµä¼è§æµå°çå¸§æ°éå®éè§æµå°Pçå¸§æ°éé¢æµä¼è§æµå°Pçå¸§æ°é>25%\n    * å¦æè§æµå°Pçæ¯ä¸ä¸ªå³é®å¸§ï¼åè³å°ä¸ä¸ªè¿ç»­å³é®å¸§é½è§æµå°P\n\n----------------------------------------\n\n 5. åå»ºæ°çMapPoint\n    * åå»ºMapPointç¹ï¼å¯¹å½åå³é®å¸§ï¼Kcï¼çæªå¹éç¹å¾ç¹ï¼å¨ææå¶ä»å³é®å¸§ä¸­å¯»æ¾ç¹å¾å¹éï¼å©ç¨è¯è¢æ¨¡åï¼ï¼å¾ä¸å®æ°éçæä½³å±è§å³é®å¸§ï¼Kiï¼ï¼ç¸äºå¹éåè¿è¡ä¸è§åï¼è®¡ç®åºæ°MapPoint P çä½ç½®\n    * æå»ºMapPointãKcä¸å¨å±mapçèç³»ï¼å¾åºMapPointçä½ç½®åï¼è¿éè¦å°Pä¸å¨å±mapèåï¼ä¹å°±æ¯å»ºç«Pä¸å¶ä»å³é®å¸§çèç³»\n      * å®ä¹ä¸çº§äºçº§å³é®å¸§ï¼\n        * ä¸çº§å³é®å¸§ï¼å¨å±è§å¾ä¸­æé10ä¸ªå±è§ç¨åº¦æä½³çé»å±\n        * äºçº§å³é®å¸§ï¼å¯¹æ¯ä¸ªä¸çº§å³é®å¸§ï¼åå«æé5ä¸ªå±è§ç¨åº¦æé«çé»å±\n      * æ­£åæå½±èåï¼æ­¤æ¶Pç¹åªè¢«KcåKiä¸¤ä¸ªå¸§æè§æµå°ï¼è¿éå°Påå«æå½±å°ä¸ãäºçº§å³é®å¸§ï¼è§å¯æ¯å¦ä¸å¶ä»å³é®å¸§ä¸­çç¹å¾ç¹å¹é æå½±è³ä¸ãäºçº§å³é®å¸§ä¸åï¼å¦ææå½±ç¹æ°å¥½ä¸æä¸ªç¹å¾ç¹éåï¼ä¼æä¸¤ç§æåµ\n        * ç¹å¾ç¹æ²¡æå¯¹åºçMapPointï¼ è®¾ç½®Pä¸ºæ­¤ç¹å¾ç¹å¯¹åºçMapPoint\n        * ç¹å¾ç¹æå¯¹åºçMapPoint Pâ²ï¼å é¤ãPãPâ²å¶ä¸­ä¹ä¸ï¼å³è¢«è§æµå¸§æ°æå°ç\n        * æ­¤æ¶å½åå¸§Kcçææå°å¾ç¹å·²ä¸localmapèåãå»ºç«èç³»ï¼\n      * ååæå½±èåï¼å°ä¸ãäºçº§å³é®å¸§è§æµçç¹å¾ç¹æå½±å°Kcï¼æå½±ååæ ·ä¼æä¸¤ç§æåµï¼å¤çæ¹å¼åä¸\n      * è³æ­¤ï¼å½åå¸§Kcçææå°å¾ç¹å·²ä¸å¨å±mapèåï¼ä¸ãäºçº§å³é®å¸§è§æµçç¹å¾ç¹ä¹ä¸Kcå»ºç«å¹éå³ç³»\n\n----------------------------------------\n\n 6. è¿è¡å¨å±BAä¼åï¼ä¼åææçMapPointãææçKeyPoint\n\n----------------------------------------\n\n 7. å é¤åä½çå³é®å¸§ ä¸ºäºé²æ­¢å³é®å¸§æ°éæ ä¸éå¢é¿ï¼éè¦ä¸åæ£æµåä½çå³é®å¸§ï¼å¦æKcä¸­ 90%çç¹å·²ç»å¨å¶ä»å¸§ä¸­è¢«è§æµå°ï¼å°±å°åä½å³é®å¸§Kcå é¤ï¼æ¹æ³å¦ä¸ï¼\n    * é¦åéåå±è§å¾ä¸­çé»å±Kciï¼åéåKcçæ¯ä¸ªMapPoint Pi ( i=0,1,...n)\n    * è®°å½è¢«è§æµæ°å¤§äº3çPiï¼å¦ææ­¤ç±»Piå ææPiè¶è¿90% ï¼å°±å°Kcå é¤ã\n\n\n# LoopClosing\n\n\n# â  æ£æµé­ç¯\n\n\n\nå³é®å¸§ ä¸ å¶ å±è§å¸§ ç»æä¸ä¸ªåéå³é®å¸§ç» ï¼ ä¸ååéå³é®å¸§ç»ä¸­æç¸åçå³é®å¸§ï¼åç§°è¿ä¸¤ä¸ªç»æ¯è¿ç»­çã\n\n 1. ä»éåå¤´ä¸­ååºä¸ä¸ªå³é®å¸§, ä½ä¸ºå½åæ£æµé­ç¯çå³é®å¸§ï¼\n 2. å¦æè·ç¦»ä¸æ¬¡é­ç¯æ²¡è¿å¤ä¹, æèmapä¸­å³é®å¸§æ»å±è¿æ²¡æ10å¸§, åä¸è¿è¡é­ç¯æ£æµï¼\n 3. è®¡ç®è¿ä¸ªå³é®å¸§ä¸å®ææçå±è§å¸§çBowç¸ä¼¼åº¦å¾å, å¾å°æä½å¾åminScoreï¼\n 4. è®¡ç®è¿ä¸ªå³é®å¸§ä¸å³é®å¸§æ°æ®åºä¸­ææå¸§çç¸ä¼¼åº¦å¾å, å°å¾åå¤§äºminScoreçä½ä¸ºåéå³é®å¸§ï¼æ¾å¥åéå³é®å¸§ç» åè¡¨ä¸­ï¼\n 5. å¨åéå³é®å¸§ä¸­æ£æµå·æè¿ç»­æ§ > 3 çåéå¸§ï¼\n 6. å°æ»¡è¶³è¦æ±çå³é®å¸§å­æ¾å¨åè¡¨ mvpEnoughConsistentCandidates ä¸­(æä¼è´¨å³é®å¸§ç»)ã\n\n\n# â¡ è®¡ç®sim3 ç¸ä¼¼åæ¢\n\n 1.  éåä¸ä¸æ­¥å¾å°çæ¯ä¸ä¸ªé­ç¯åéå³é®å¸§ï¼\n 2.  éè¿Bowå éå¾å° é­ç¯åéå³é®å¸§ ä¸ å½åå³é®å¸§ ä¹é´çå¹éç¹ï¼\n 3.  å¦æå¹éç¹ä¸ªæ° å°äº 20ï¼ ååé¤è¯¥ é­ç¯åéå³é®å¸§ï¼\n 4.  è®¡ç®é­ç¯åéå³é®å¸§ ä¸ å½åå³é®å¸§ ä¹é´ç Sim3 åæ¢ï¼\n 5.  éè¿RANSAC ç®æ³è¿­ä»£äºæ¬¡ï¼æ±åºåéå¸§å°å½åå³é®å¸§çSim3åæ¢Scmï¼\n 6.  éè¿Sim3åæ¢æåéå¸§çç¹å¾ç¹åæ¢å°å½åå³é®å¸§ä¸­ï¼åä¹åçï¼æ±åºç¸äºå¹éçç¹å¾ç¹ï¼\n 7.  åéè¿ä¸ä¸æ­¥ æ±åºçç¹å¾ç¹ï¼éè¿g2oæ¥ä¼åååçScmï¼å¾å°mg2oScwï¼ç®åºä¸ä¸ªå¥½çï¼ä¸ºmpMatchedKFï¼å°±éåºå¾ªç¯ï¼\n 8.  å°ä¸é¢è½ç®çå¥½çmpMatchedKFï¼å°å¶ä¸å¶å±è§å³é®å¸§é½æ¾å¥åè¡¨vpLoopConnectedKFsä¸­ï¼å®ä»¬å¯¹åºçå°å¾ç¹æ¾å¥åè¡¨mvpLoopMapPointsä¸­ï¼\n 9.  åå°mvpLoopMapPointsä¸­çå°å¾ç¹ï¼éè¿Sim3åæ¢æå½±å°å½åå³é®å¸§ï¼æç´¢æ´å¤çå¹éå¯¹ï¼\n 10. å¦æå¹éå¯¹è¶è¿40ï¼åç¯æåãæç»çå½¢æåç¯çå¸§æ¯mpMatchedKFã\n\n\n# â¢ åç¯ç«æ­£\n\n 1. éè¦è¯·æ±å±é¨å°å¾åæ­¢ï¼é²æ­¢å®åç¼å²åºæå¥æ°çå³é®å¸§ã\n 2. å ä¸ºï¼æ­¥éª¤åä¸­ç6ï¼å°å½åå³é®å¸§éè¿ä¸æ¬¡Sim3åæ¢ä¸æ¬¡ï¼æä»¥éè¦å¯¹å½åå³é®å¸§éè¿å±è§å³ç³»æ´æ°å®çè¿æ¥å³ç³»ï¼\n 3. éåå½åå³é®å¸§ç»ï¼éè¿å³é®å¸§åå±è§å¸§çå¯¹åºå³ç³»ï¼å¾å®¹ææ±åºå±è§å¸§çSim3åæ¢ï¼å½åå³é®å¸§å°å¶å±è§å¸§çSim3åæ¢g2oSic * mg2oScwï¼å°è¿ä¸ªéè¿g2oä¼åå¥½çSim3åæ¢å­å¥å°åè¡¨CorrectedSim3ä¸­ãä¸ç´æ¥æ±åºè¿ä¸å¸§çç¸æºåæ ç³»ä½å§¿GetPose()åæ¢ï¼è½¬æ¢æSimåæ¢ï¼å­å¥å°åè¡¨NonCorrectedSim3ä¸­ï¼\n 4. éåå½åå³é®å¸§çå±è§å³é®å¸§ï¼ä¿®æ­£è¿äºå±è§å³é®å¸§çå°å¾ç¹ãåæ¢å³ç³»ï¼è¿ä¸ªç¹çä¸çåæ ç³» --(NonCorrectedSim3ä¸­çåæ¢)--\x3e æªç«æ­£çç¸æºåæ ç³» --(CorrectedSim3ä¸­çéåæ¢)--\x3e ç«æ­£åçä¸çåæ ç³»ãå°è¿ä¸ªå±è§å³é®å¸§çä½å§¿è®¾ç½®ä¸ºCorrectedSim3ä¸­çåæ¢ï¼\n 5. æ£æ¥å½åå¸§å°å¾ç¹ä¸ç»è¿é­ç¯å¹éåè¯¥å¸§çå°å¾ç¹æ¯å¦å­å¨å²çªï¼å¯¹å²çªè¿è¡æ¿æ¢æèå¡«è¡¥ãåæ¶éåå¹éç¹åå½åå³é®å¸§çå°å¾ç¹ï¼å¦æå½åå³é®å¸§å°å¾ç¹å­å¨ï¼é£ä¹å°±ç¨å¹éç¹ä»£æ¿ï¼å¦åå°±æå¹éç¹æ·»å å°å½åå³é®å¸§å°å¾ç¹ï¼\n 6. åçï¼å°é­ç¯å³é®å¸§ç»çå°å¾ç¹ï¼æå½±å°å½åå³é®å¸§ç»å°å¾ç¹è¿è¡å¹éï¼èåï¼æ°å¢æèæ¿æ¢ï¼\n 7. æ´æ°å½åå³é®å¸§ç»ä¹é´çä¸¤çº§å±è§ç¸è¿å³ç³»ï¼\n 8. è¿è¡æ¬è´¨å¾ä¼åï¼ä¼åæ¬è´¨å¾ä¸­ææå³é®å¸§çä½å§¿åå°å¾ç¹ï¼\n 9. æ°å»ºä¸ä¸ªçº¿ç¨ç¨äºå¨å±BAä¼åã\n\n\n# ä»£ç æµç¨\n\n\n# æä»¶çè°ç¨å³ç³»\n\nä¸»å½æ°åªè°ç¨äºTrackingçº¿ç¨ LocalMappingãLoopClosingçº¿ç¨ä¸æ­æ¥æ¾å³é®å¸§éåï¼å¦æéåéç©ºï¼LocalMappingçº¿ç¨å¼å§å·¥ä½ï¼LoopClosingçº¿ç¨ç»§ç»­æ£æ¥æ¯å¦ææåç¯ï¼å¦æéåéç©ºä¸ææåç¯åLoopClosingå¼å§å·¥ä½ã\n\n\n# éè¦åéçæä¹\n\nçº¿ç¨            å½æ°å                          åéå                             åéç±»å                             æä¹\nTracking      track()                      mState                          bool                             æ å¿ç³»ç»ç¶æï¼æªåå§åãæ­£å¸¸æä¸¢å¤±\n                                           bOK                             bool                             è¡¡étrack()ä¸­æ¯ä¸æ­¥è·è¸ªçè´¨é\n                                           mbOnlyTracking                  bool                             æ å¿ç³»ç»æ¯å¦å¤äºåªè·è¸ªä¸å»ºå¾æ¨¡å¼\n              CheckReplacedInLastFrame()   mLastFrame                      Frame                            å½åå¸§çä¸ä¸å¸§\n              TrackWithMotionModel()       vpMapPointMatches               vector<MapPoint*>                ä¸ä¸å¸§ä¸å½åå¸§çå¹éå³ç³»\n                                           nmatchesMap                     int                              è®°å½ç¹å¾å¹éçåç¹æ°ç®\n              TrackReferenceKeyFrame()     vpMapPointMatches               vector<MapPoint*>                ä¸ä¸å¸§ä¸å½åå¸§çå¹éå³ç³»\n                                           nmatchesMap                     int                              è®°å½ç¹å¾å¹éçåç¹æ°ç®\n              Relocalization()             vpCandidateKFs                  vector<KeyFrame*>                ä¸å½åå¸§æç¸ä¼¼çå³é®å¸§éå\n                                           vvpMapPointMatches              vector<vector<MapPoint*> >       å¸§éåä¸­ææå¸§ä¸å½åå¸§çå¹éå³ç³»\n                                           nCandidates                     int                              è´¨éå¥½çåéå¸§æ°é\n                                           bNoMore                         bool                             ä¸ºtrueè¡¨ç¤ºRANSACå·²è¾¾å°æå¤§è¿­ä»£æ¬¡æ°\n                                           sFound                          set<MapPoint*>                   æå½±å°å½åå¸§ä¸ºåç¹çMapPointéå\n              NeedNewKeyFrame()            mpLocalMapper                   LocalMapping*                    å±é¨å»ºå¾çº¿ç¨å¯¹è±¡\n                                           mpMap                           Map*                             å¨å±å°å¾å¯¹è±¡\n                                           nKFs                            int                              å¨å±å°å¾ä¸­çå³é®å¸§æ°\n                                           nMinObs                         int                              è§å®çæå°è§æµæ¬¡æ°\n                                           mpReferenceKF                   KeyFrame*                        ææ°çå³é®å¸§ä½ä¸ºåèå³é®å¸§\n                                           nRefMatches                     int                              åèå³é®å¸§ä¸­,è¢«è§æµæ¬¡æ°>nMinObsçå°å¾ç¹æ°é\n                                           thRefRatio                      int                              å¼è¶å¤§ï¼è¶å¾åäºæ¥åå³é®å¸§\n              CreateNewKeyFrame()          pKF                             KeyFrame*                        æ°å»ºçå³é®å¸§å¯¹è±¡\n                                           mpLastKeyFrame                  KeyFrame*                        ææ°çå³é®å¸§\n                                           mlNewKeyFrames                  list<KeyFrame*>                  å­æ¾Trackingäº§ççå³é®å¸§\n                                                                                                            \nLoopMapping   ProcessNewKeyFrame()         vpMapPointMatches               vector<MapPoint*>                å½åå¸§å¯¹åºçææå°å¾ç¹\n                                           mlpRecentAddedMapPoints         list<MapPoint*>                  è¿éè¢«MapCullingæ£éªçå°å¾ç¹åè¡¨\n                                           mspKeyFrames                    set<KeyFrame*>                   å­å¨å¨å±mapä¸­ææçå³é®å¸§\n              MapPointCulling()            nThObs                          int                              æ ¹æ®ç¸æºç±»åè®¾ç½®ä¸åçè§æµéå¼\n                                           mlpRecentAddedMapPoints         list<MapPoint*>                  è¿éè¢«MapCullingæ£éªçå°å¾ç¹åè¡¨\n                                           nCurrentKFid                    unsigned long                    å½åå¸§çid\n                                           mnFirstKFid                     int                              å°å¾ç¹å¯¹è±¡çå±æ§ï¼è®°å½åå»ºæ­¤å°å¾ç¹çå³é®å¸§id\n              CreateNewMapPoints()         nn                              int                              éåä¸çº§å±è§å³é®å¸§çä¸ªæ°\n                                           vpNeighKFs                      vector<KeyFrame*>                å­æ¾nnä¸ªä¸çº§å±è§å³é®å¸§\n                                           .......å¾æ´æ°                                                       \n              SearchInNeighbors()          nn                              int                              éåä¸çº§å±è§å³é®å¸§çä¸ªæ°\n                                           vpNeighKFs                      vector<KeyFrame*>                å­æ¾nnä¸ªä¸çº§å±è§å³é®å¸§\n                                           pKFi                            KeyFrame*                        ä¸çº§å±è§å³é®å¸§\n                                           vpSecondNeighKFs                vector<KeyFrame*>                å­æ¾5ä¸ªäºçº§å³é®å¸§\n                                           vpFuseCandidates                vector<MapPoint*>                ä¸ãäºçº§å³é®å¸§ä¸­ï¼éè¦ä¸å½åå¸§èåçå°å¾ç¹\n              KeyFrameCulling()            vpLocalKeyFrames                vector<KeyFrame*>                å½åå¸§çææä¸çº§å±è§å³é®å¸§\n                                           vpMapPoints                     vector<MapPoint*>                æ¯ä¸ªå±è§å³é®å¸§å¯¹åºçå°å¾ç¹\n                                           nRedundantObservations          int                              è®°å½åä½ç¹çæ°é\n                                           thObs                           int                              è§å®çæå°è§æµæ¬¡æ°\n                                           scaleLevel                      int                              å³é®å¸§çéå­å¡å°ºåº¦ï¼å¼è¶å¤§è¶é è¿é¡¶ç«¯\n                                           nObs                            int                              è®°å½æå¤å°ä¸ªå³é®å¸§é«è´¨éå°è§æµå°åä¸ä¸ªå°å¾ç¹\n                                           nMPs                            int                              è®°å½å½åå¸§ä¸­éåç¹çä¸ªæ°\n              InsertKeyFrame()             mlpLoopKeyFrameQueue            list<KeyFrame*>                  å­æ¾LoopClosingäº§ççå³é®å¸§\n                                                                                                            \nLoopClosing   DetectLoop()                 mlpLoopKeyFrameQueue            list<KeyFrame*>                  å³é®å¸§ç¼å²éå\n                                           vpConnectedKeyFrames            vector<KeyFrame *>               ä¸å½åå¸§ç¸è¿çå±è§å³é®å¸§\n                                           mpORBVocabulary                 ORBVocabulary* mpORBVocabulary   è¯è¢æ¨¡åä¸­çå¤§è¯å¸\n                                           vpCandidateKFs                  vector<KeyFrame *>               å½åå¸§çåéåç¯å³é®å¸§\n                                           mvConsistentGroups              vector                           ä¸ä¸æ¬¡äº§ççè¿ç»­ç»\n                                           vCurrentConsistentGroups        vector                           ç­éåºæ¥çè¿ç»­ç»\n                                           ConsistentGroup                 pair<set<KeyFrame*>,int>         è¿ç»­ç»ç»æ\n                                           mvpEnoughConsistentCandidates   std::vector<KeyFrame*>           æä¼è´¨çé­ç¯åéå¸§\n              DetectLoopCandidates()       spConnectedKeyFrames            set<KeyFrame*>                   ä¸å½åå¸§ç¸è¿çå³é®å¸§\n                                           lKFsSharingWords                list<KeyFrame*>                  å¯è½ä¸å½åå³é®å¸§å½¢æé­ç¯çåéå¸§\n                                           mBowVec                         map<WordId, WordValue>           WordId å WordValue è¡¨ç¤ºWordå¨å¶å­ä¸­çidåæé\n                                           mvInvertedFile                  vector<list<KeyFrame*> >         vectorçä¸æ æ¯WordIdï¼listæ¯åå«è¿ä¸ªWordçææå³é®å¸§\n                                           lKFsSharingWords                list<KeyFrame *>                 åæ­¥åéå³é®å¸§åè¡¨\n                                           lScoreAndMatch                  list<pair<float, KeyFrame *>>    ç­éåè¯æ°åçåéå³é®å¸§åè¡¨\n                                           vpLoopCandidates                vector<KeyFrame *>               æåè¿åçå³é®å¸§åè¡¨\n              UpdateConnections()          KFcounter                       map<KeyFrame*,int>               å³é®å¸§ -- å±è§ç¨åº¦(å°å¾ç¹ä¸ªæ°)\n                                           vpMP                            vector<MapPoint*>                å³é®å¸§çå°å¾ç¹\n                                           observations                    map<KeyFrame*,size_t>            è§å¯å°è¿ä¸ªå°å¾ç¹çå³é®å¸§ï¼size_tè¡¨ç¤ºè¿ä¸ªå°å¾ç¹å¯¹åºå¨è¯¥å³é®å¸§çç¹å¾ç¹id\n              ComputeSim3()                vvpMapPointMatches              vector<vector<MapPoint *>>       å­å¨æ¯ä¸ªåéå¸§çå¹éå°å¾ç¹ä¿¡æ¯\n                                           mvpCurrentMatchedPoints         vector<MapPoint*>                å­å¨çå°å¾ç¹å¨"å½åå³é®å¸§"ä¸­æåå°æ¾å°äºå¹éç¹çå°å¾ç¹çéå\n              CorrectLoop()                CorrectedSim3                   map<KeyFrame *, Sim3>            å­å¨çå°å¾ç¹å¨"å½åå³é®å¸§"ä¸­æåå°æ¾å°äºå¹éç¹çå°å¾ç¹çéå\n                                           NonCorrectedSim3                map<KeyFrame *, Sim3>            å­æ¾æ²¡æç«æ­£çå½åå³é®å¸§çå±è§å³é®å¸§çä¸çåæ ç³»ä¸Simåæ¢\n\n\n# Trackingæµç¨\n\n 1. ä½å§¿åå§åï¼æªåé¨åï¼ï¼æ ¹æ®ç³»ç»ç¶åµãè·è¸ªææéæ©ä¸åçä½å§¿åå§åæ¹æ³\n    \n    if(mState==OK){\n        CheckReplacedInLastFrame();\n        \n        if(mVelocity.empty() || mCurrentFrame.mnId<mnLastRelocFrameId+2)\n            bOK = TrackReferenceKeyFrame();\n        else{\n            bOK = TrackWithMotionModel();\n            if(!bOK)\n                //æ ¹æ®æéæ¨¡åå¤±è´¥ï¼æ ¹æ®åèå³é®å¸§æ¥è·è¸ª\n                bOK = TrackReferenceKeyFrame();\n        }\n    }\n    else\n        bOK = Relocalization();\n    \n    \n    CheckReplacedInLastFrame() ==æ´æ°ä¸ä¸å¸§ä¸­çå°å¾ç¹==\n    \n    >   - æ£æ¥$CurrFrame$ä¸­æ¯å¦æå°å¾ç¹è¢«LocalMappingçº¿ç¨æ¿æ¢æèå é¤\n    >   \t\t\t\t\t\n    >   \t- è¢«æ¿æ¢åæ´æ°ï¼è¢«å é¤åå°å°å¾ç¹èµå¼ä¸ºNULL\n    \n    ----------------------------------------\n    \n    TrackWithMotionModel() ==ç¨åéè¿å¨æ¨¡åï¼å¯¹CurrFrameè¿è¡ä½å§¿åå§å==\n    \n    >   - é»è®¤ä¸ä¸å¸§å° $CurrFrame$ çåæ¢ç©éµç­äºä¸ä¸å¸§å°ä¸ä¸å¸§çåæ¢ç©éµã\n    >   \t\t\t\t\t\n    >   - å°ä¸ä¸å¸§è§æµå°çå°å¾ç¹ï¼æå½±å°$CurrFrame$ ï¼æå½±ç¹ä¸ç¹å¾ç¹çé´è·ä½ä¸ºerrorï¼å¦æå¹éç¹ä¸å¤ï¼åè¿è¡`TrackReferenceKeyFrame()`\n    >   - å¦æå¹éç¹è¶³å¤ï¼è¿è¡ä¸æ¬¡ä»ä½å§¿çBAä¼åï¼ä¼å$CurrFrame$çposeï¼ä½¿erroræå°\n    \n    ----------------------------------------\n    \n    TrackReferenceKeyFrame() ==ç¨ä¸ä¸å¸§ï¼å¯¹CurrFrameè¿è¡ä½å§¿åå§å==\n    \n    >   - ç¨**è¯è¢æ¨¡å**ï¼å° $CurrFrame$ ä¸**åèå³é®å¸§**ï¼ææ°çå³é®å¸§ï¼è¿è¡ç¹å¾å¹é\n    >   \t\t\t\t\t\n    >   - å° **åèå³é®å¸§**çå°å¾ç¹æå½±å°$CurrFrame$ ï¼æå½±ç¹ä¸ç¹å¾ç¹çé´è·ä½ä¸ºerror\n    >   - å¦æå¹éç¹è¶³å¤ï¼è¿è¡ä»ä½å§¿çBAä¼åï¼ä¼å$CurrFrame$çposeï¼ä½¿erroræå°\n    \n    ----------------------------------------\n    \n    Relocalization() ==ç¨è¯è¢æ¨¡åå¯»æ¾RelocFrameï¼å¯¹CurrFrameè¿è¡ä½å§¿åå§å==\n    \n    >   - å¨ææå³é®å¸§ä¸­ï¼åç¨è¯è¢æ¨¡åæ¾åºä¸æ¹ï¼ä¸$CurrFrame$å±ååè¯æå¤çå³é®å¸§ï¼ä½ä¸ºåéå³é®å¸§`vpCandidateKFs`\n    >   \t\t\t\t\t\n    >   - éå`vpCandidateKFs`ï¼ç¨è¯è¢æ¨¡åï¼æ¾åºä¸$CurrFrame$ç¸ä¼¼åº¦æé«çå¸§ä½ä¸º$RelocFrame$\n    >   -  ç¨**è¯è¢æ¨¡å**ï¼å° $CurrFrame$ ä¸ **$RelocFrame$** è¿è¡ç¹å¾å¹é\n    >   - å° **$RelocFrame$**çå¯¹åºå°å¾ç¹æå½±å°$CurrFrame$ ä¸ï¼æå½±ç¹ä¸ç¹å¾ç¹çé´è·ä½ä¸ºerror\n    >   - å¦æå¹éç¹è¶³å¤ï¼è¿è¡ä»ä½å§¿çBAä¼åï¼ä¼å$CurrFrame$çposeï¼ä½¿erroræå°\n    \n    ----------------------------------------\n\n 2. å±é¨ä½å§¿ä¼å ãå³é®å¸§å®¡æ ¸ï¼æªåé¨åï¼\n\n//æ´æ°åèå³é®å¸§\nmCurrentFrame.mpReferenceKF = mpReferenceKF;\nif(!mbOnlyTracking){\nif(bOK)\n    bOK = TrackLocalMap();\n}\nelse\n{\nif(bOK && !mbVO)\n    bOK = TrackLocalMap();\n}\n\n//æ´æ°ç³»ç»ç¶æãæ´æ°æ¾ç¤ºã ç­ç­\n.....\n\n\nif(NeedNewKeyFrame())\n    CreateNewKeyFrame();\n\n\nTrackLocalMap() ==å±é¨å°å¾ä¸­ï¼ç¨BAä¼å CurrFrame çä½å§¿==\n\n>  * æ´æ°å±é¨å³é®å¸§ãå±é¨å°å¾ç¹ï¼æå»ºå±é¨å°å¾\n> \n>  * å°å±é¨å°å¾ä¸­çMapPointæå½±å°CurrFrameï¼å»ºç«æ°çå¹éå³ç³»\n> \n>  * ä»ä½å§¿çBAä¼å\n> \n>  * æ´æ°CurrFrameå¯¹åºçæ¯ä¸ªMapPointçè¢«è§æµä¿¡æ¯ãå é¤å¤ç¹\n\n * æ ¹æ®å¹éç¹æ°ç®å¤æ­å±é¨ä½å§¿ä¼åçå¥½åï¼å¥½çè¯(æåå¹é50ä¸ªç¹)è¿åtrueï¼å¦åflase\n\n----------------------------------------\n\nNeedNewKeyFrame() ==æ£æµç³»ç»æ¯å¦éè¦æå¥å³é®å¸§==\n\n>  * çº¯Trackingæ¨¡å¼ï¼ä¸çäº§å³é®å¸§\n> \n>  * LoopCLosingçº¿ç¨æ­£å¨ä½¿ç¨å±é¨å°å¾æ¶ï¼ä¸çäº§å³é®å¸§\n> \n>  * å³é®å¸§æ°ç®è¾å¤ãä¸ä½ç½®ç¦»ä¸ä¸ä¸ªå³é®å¸§è¾è¿ï¼ä¸çäº§å³é®å¸§\n\n * å½LocalMappingçº¿ç¨ä¸å¿ï¼ä¸numcurrnumrefå°äºä¸å®éå¼ï¼åéè¦çäº§å³é®å¸§ï¼è¿åtrue\n\n----------------------------------------\n\nCreateNewKeyFrame() å°è®¾ç½®ä¸ºä¸ä¸ªå³é®å¸§å¯¹è±¡ï¼å¹¶æå¥CurrFrameè®¾ç½®ä¸ºä¸ä¸ªå³é®å¸§å¯¹è±¡ï¼å¹¶æå¥mlNewKeyFrames\n\n----------------------------------------\n\n\n# LocalMappingæµç¨\n\nå½æ°ä¸»ä½ï¼æªåé¨åï¼\n\nif(CheckNewKeyFrames())\n{\n    ProcessNewKeyFrame();\n    \n    MapPointCulling();\n    \n    CreateNewMapPoints();\n    \n    if(!CheckNewKeyFrames())\n        SearchInNeighbors();\n                \n    mbAbortBA = false;\n    \n    if(!CheckNewKeyFrames() && !stopRequested())\n    {\n        if(mpMap->KeyFramesInMap()>2)\n            Optimizer::LocalBundleAdjustment(mpCurrentKeyFrame,&mbAbortBA, mpMap);\n        KeyFrameCulling();\n    }\n    mpLoopCloser->InsertKeyFrame(mpCurrentKeyFrame);\n}\n\n\nCheckNewKeyFrames() ==æ£æ¥å³é®å¸§éåmlNewKeyFramesæ¯å¦éç©º==\n\n----------------------------------------\n\nProcessNewKeyFrame()\n==å°æ­¤å¸§å¯¹å°å¾ç¹çè§æµä¿¡æ¯è¡¥åè¿ï¼èå¥ï¼å¨å±å¾ï¼åå°æ­¤å¸§ä½ä¸ºèç¹æå¥å±è§å¾åå¨å±å°å¾==\n\n>  * è®¡ç®æ­¤å³é®å¸§å¸§çBOWè¯è¢åé\n>  * è·åå¨å±å¾ä¸­è¢«æ­¤å³é®å¸§è§æµå°çå°å¾ç¹ vpMapPointMatches\n>  * å¯¹vpMapPointMatchesä¸­æ¯ä¸ä¸ªå°å¾ç¹ï¼æ´æ°ï¼å°å¾ç¹çè¢«è§æµæ°ï¼+1ï¼ï¼å¹³åè§æµæ¹åãæä½³æè¿°å­ç­ï¼ä¸å¤ç¡®å®çå°å¾ç¹ï¼è®°å½å¨ mlpLoopKeyFrameQueueï¼éè¿ä¸æ­¥æ£æ¥\n>  * æå¸§æå¥å±è§å¾ï¼å¯»æ¾å±è§å³ç³»ï¼æ´æ°å±è§å¾é¾æ¥å³ç³»\n>  * æå¸§æå¥å¨å±å°å¾\n\n----------------------------------------\n\nMapPointCulling() ==éåmlpLoopKeyFrameQueue ä¸­å°å¾ç¹Pï¼å é¤å¶ä¸­è´¨éä¸å¥½çç¹==\n\n>  * Pä¸ºåç¹ï¼ç´æ¥å é¤\n>  * å®éä¸è§æµå°çå¸§æ°çè®ºä¸åºè¯¥è§æµå°çå¸§æ°å®éä¸è§æµå°Pçå¸§æ°çè®ºä¸åºè¯¥è§æµå°Pçå¸§æ°<25% ï¼å é¤P\n>  * å½åå³é®å¸§ID - åå»ºPçå¸§ID>2ï¼ç¸å½äºå¨æ¶é´ç©ºé´ä¸å·²ç»è¿è¡äºä¸æ®µæ¶é´ï¼ä½å®éè§æµæ°ä»å°äºä¸ä¸ªéå¼cnTHObsï¼å é¤P\n\n----------------------------------------\n\nCreateNewMapPoints() ==å°å³é®å¸§ä¸­çç¹å¾ç¹ä¸è§åï¼åå»ºæ°MapPoint==\n\n>  * æ¿å°Trackingå®¡æ ¸å¾å°çå³é®å¸§CurrFrameåï¼è·åå±è§ç¨åº¦æé«çå¸§ä½ä¸ºç¸é»å³é®å¸§\n>  * éåç¸é»å±è§å³é®å¸§ï¼åå«ä¸CurrFrameè¿è¡ç¹å¾å¹éåä¸è§åï¼çæå°å¾ç¹\n>  * çæçå°å¾ç¹è®°å½å¨mlpLoopKeyFrameQueueï¼è¿éè¿ä¸æ­¥æ£æ¥\n\n----------------------------------------\n\nSearchInNeighbors() ==å°æææ°çMapPointèå¥å¨å±mapä¸­ï¼å¹¶å»ºç«ä¸å¶ä»å¸§çèç³»== ==å°å½åå³é®å¸§èå¥å¨å±mapä¸­ï¼å»ºç«ä¸å¶ä»å°å¾ç¹çèç³»==\n\n>  * è·åæ­¤å³é®å¸§å¨å±è§å¾ä¸­çä¸çº§ãäºçº§ç¸é»å³é®å¸§ï¼å¹¶å­æ¾å¨éåvpTargetKFsä¸­\n>  * æ­£åæå½±èåï¼å°Kcè§æµå°çMapPointæå½±è³vpTargetKFsä¸­çå³é®å¸§ï¼ä¸å¶ä¸­çç¹å¾ç¹å»ºç«å¹éå³ç³»\n>  * è·åä¸ãäºçº§ç¸é»å³é®å¸§è§æµå°çMapPointéåï¼å¹¶å­æ¾å¨vpFuseCandidatesä¸­\n>  * ååæå½±èåï¼å°vpFuseCandidatesä¸­çMapPointæå½±å°Kcï¼ä¸Kcä¸­çç¹å¾ç¹å»ºç«å¹éå³ç³»\n>  * ç»è¿ä»¥ä¸æ­¥éª¤ï¼æ°å»ºäºè®¸å¤å±è§å³ç³»ï¼æä»¥è¿éæ´æ°å±è§å¾ä¸­Kcçé»å±\n\n----------------------------------------\n\nKeyFrameCulling() ==å é¤åä½å³é®å¸§==\n\n>  * è·åæ­¤å³é®å¸§å¨å±è§å¾ä¸­çä¸çº§ç¸é»å³é®å¸§ï¼å¹¶å­æ¾å¨éåvpLocalKeyFramesä¸­\n>  * éåvpLocalKeyFramesï¼è·åæ¯ä¸å±è§å³é®å¸§vitæè§æµå°çå°å¾ç¹pMPï¼å­æ¾å¨éåvpMapPointsä¸­\n>  * éåvpMapPointsä¸­æ¯ä¸ä¸ªå°å¾ç¹pMPï¼æ ¹æ®pMP->GetObservations()éåææè½è§æµå°pMPçå³é®å¸§mit\n>  * æ­¤æ¶ï¼ mitãvité½è§æµå°pMPï¼å¦æmitå¯¹åºçå³é®å¸§å°ºåº¦æ¯è¾å°ï¼è¯´æmitå¯¹åºçå³é®å¸§è¦æ¯vitå¯¹åºçå³é®å¸§æ´é è¿éå­å¡åºé¨ï¼åmitå¯¹pMPè§æµçæææ´å¥½\n>  * å¦æpMPè¢«è¶è¿3ä¸ªmitæ´å¥½å°è§æµï¼åå°åä½ç¹æ°ç®nRedundantObservations+1\n>  * éåå®æ¯ä¸ªvitåå¶å¯¹åºçæ¯ä¸ªmitåï¼ç»è®¡nRedundantObservationnï¼å¦ænRedundantObservationn>90% ï¼å é¤å³é®å¸§Kc\n\n----------------------------------------\n\nMapPoint::GetObservations() ==è·å¾ææè½è§æµå°MapPoint çå³é®å¸§éå==\n\n----------------------------------------\n\nInsertKeyFrame(mpCurrentKeyFrame) ==å°æä¸å¸§æ¾å¥åç¯æ£æµå¤çéå==\n\n\n# LoopClosingæµç¨\n\nå½æ°ä¸»é¢\n\nwhile (1)\n\t{\n    // æ£æ¥ç¼å²éåä¸­æ¯å¦æå³é®å¸§\n    if (CheckNewKeyFrames())\n    {\n\t\t// æ£æµé­ç¯\n        if (DetectLoop())\n        {\n            // è®¡ç®sim3 ç¸ä¼¼åæ¢\n            if (ComputeSim3())\n            {\n                // é­ç¯ç«æ­£\n                CorrectLoop();\n            }\n        }\n    }\n\n\nGetVectorCovisibleKeyFrames()\n\n==è·å¾è¯¥å¸§çå±è§å¸§(å·²ææå¼æåº)==\n\nDetectLoopCandidates()\n\n==æ¾åºåæ­¥é­ç¯åéå³é®å¸§==\n\n>  * éåå½åå³é®å¸§çææåè¯ï¼æ¾å°è¿äºåè¯çææå³é®å¸§ï¼ä¸åå«ä¸å½åå¸§ç¸è¿çå³é®å¸§ï¼ï¼ä½ä¸ºåéå³é®å¸§ï¼æ¾å¥éålKFsSharingWordsä¸­ï¼å¹¶è®°å½åéå³é®å¸§ä¸å½åå¸§çå±ååè¯æ°mnLoopWordsï¼\n>  * ä»lKFsSharingWordsååºå³é®å¸§ï¼ç¡®å®æå°å¬å±åè¯æ°ä¸ºæå¤§å¬å±åè¯æ°ç®ç0.8åï¼å¹¶ä¸ä¸å½åå¸§çç¸ä¼¼åº¦å¾åè¦å¤§äºéå¼minScoreï¼ç¬¦åè¦æ±çåéå³é®å¸§æ¾å¥éålScoreAndMatchï¼\n>  * ä»lScoreAndMatchä¸­ååºå³é®å¸§pKFiï¼pKFiä¸å¶å10çå±è§å¸§ç»æä¸ä¸ªç»ï¼è®¡ç®è¿ä¸ªç»çæé«å¾ååç´¯è®¡å¾åï¼åªçä¸æé«ç´¯è®¡å¾åç0.75åçç»ï¼å°çä¸çç»éæé«å¾åçå³é®å¸§æ¾å¥å°vpLoopCandidatesè¿åã\n\nSearchByBoW()\n\n==éè¿è¯è¢åéè¿è¡ç¹å¾å¹é==\n\n>  * éåä¸¤ä¸ªå³é®å¸§Bowçææç¸ånodeçç¹å¾ç¹ï¼éè¿æè¿°å­è·ç¦»è¿è¡å¹éï¼\n>  * éè¿è·ç¦»ãæ¯ä¾éå¼åè§åº¦ç´æ¹å¾æç¥¨åé¤éè¯¯å¹éã\n> \n> è¿éä¹åå¯è½ä¼ç®åºä¸ä¸ªSim3åæ¢ï¼å°å¾ç¹åçäºååã\n\nSearchBySim3()\n\n==éè¿Sim3åæ¢ç¸äºæå½±ç¹å¾å¹é==\n\n>  * é¦åè®¡ç®ä¸äºå¿è¦çç©éµï¼è¿è¡ä½å§¿åæ¢ï¼æå½±ï¼\n>  * å°å³é®å¸§KF1çç¹å¾ç¹æå½±å°KF2ï¼å¨ä¸ä¸ªåå¾èå´åå°±ç®ç¹å¾å¹éæåï¼\n>  * åçï¼å°å³é®å¸§KF2çç¹å¾ç¹æå½±å°KF1ï¼\n>  * ä¿çä¸¤æ¬¡å¹éé½åºç°çå¹éã\n> \n> è¿éä¹åä¼å¯¹Sim3åæ¢è¿è¡ä¼åã\n\nSearchByProjection()\n\n==æå½±ä¸æ¬¡ï¼æ¥æ¾ç¹å¾å¹éï¼èå´æ¯è¾å¤§==\n\n>  * è·³è¿**SearchBySim3()**çå¹éï¼éåé­ç¯KFåå¶å±è§KFçææå°å¾ç¹ï¼æå½±å°å½åKFï¼\n>  * æç´¢åå¾10ï¼æç´¢æ°çå¹éç¹ã\n\nUpdateConnections()\n\n==æ´æ°å³é®å¸§ä¹é´çå±è§å³ç³»==\n\n>  * è·åè¯¥å³é®å¸§çå°å¾ç¹vpMPï¼éåå°å¾ç¹ï¼å¾å°ææè§æµå°è¯¥å°å¾ç¹çå³é®å¸§observationsï¼å¹¶è®°å½å³é®å¸§å±è§çå°å¾ç¹ä¸ªæ°ï¼å³é®å¸§åå±è§ç¹ä¸ªæ°ç»æä¸ä¸ªpair\n>  * å¯¹pairæåºï¼å°å±è§ç¹ä¸ªæ°å¤§äºéå¼th=15çå³é®å¸§ï¼å»ºç«ä¸å½åå¸§çå±è§å³ç³»ã\n\nSearchAndFuse()\n\n==èååæ¿æ¢å°å¾ç¹==\n\n>  * éåå¾ç«æ­£çå½åå³é®å¸§çç¸è¿å³é®å¸§ï¼\n>  * å°é­ç¯å¸§ç»ææå°å¾ç¹mvpLoopMapPointsï¼æå½±å°å½åå³é®å¸§ï¼\n>  * æ¿æ¢æèåé­ç¯å¸§ç»ä¸­çå°å¾ç¹mvpLoopMapPointsã',normalizedContent:'# ç®æ³åç\n\nç®æ³ç±ä¸å¤§é¨åç»æï¼åå«æ¯ trackingãlocalmappingãloopclosing ä¸ä¸ªçº¿ç¨\n\n\n# tracking\n\n 1. ç¹å¾ç¹çæåï¼orb extractionï¼ å¨æ­¤ä¹åï¼ç¹å¾ç¹çæåæ¹æ³æsiftï¼surfç­ï¼ä½ç¸æ¯orbé½æ¯è¾èæ¶ãorbç®æ³åæåfastè§ç¹ï¼åè®¡ç®briefæè¿°å­ï¼æç»å©ç¨bowè¯è¢æ¨¡åæ¥å¹éç¹å¾ç¹ã\n    \n    * å»ºç«å¾åéå­å¡ï¼å°åå¾åæä¸åæ¯ä¾ç¼©å°ï¼å¾å°å¤å¼ å¾çï¼åå«å¯¹æ¯å¼ å¾çè¿è¡ä¸è¿°æä½ã\n    \n    * fastè§ç¹æåï¼å¯¹ææåç´ ç¹è¿è¡æåï¼\n      \n      * å°å¾åè½¬ä¸ºç°åº¦å¾ï¼éååç´  pï¼ åè®¾ä»çäº®åº¦ä¸º ip\n      * è®¾å®ä¸ä¸ªéå¼ tï¼å¶å¤§å°ä¸ ip ææ­£æ¯\n      * ä»¥ p ä¸ºä¸­å¿ï¼åå¾ä¸º3çåä¸é16ä¸ªåç´ ç¹\n      * å¦ææè¿ç»­nä¸ªç¹äº®åº¦å¤§äº ip+t æå°äºipâtï¼å p è¢«è®¤ä¸ºæ¯ä¸ä¸ªfastè§ç¹ ![å¨è¿éæå¥å¾çæè¿°](https://img-blog.csdnimg.cn/c20d47d96bd34496b6479aa829565f2b.png?x-oss-process=image/watermark,type_zhjvawrzyw5zzmfsbgjhy2s,shadow_50,text_q1netibaqutni5fkujw=,size_20,color_ffffff,t_70,g_se,x_16#pic_center =400x200)\n    \n    ----------------------------------------\n    \n    * briefæè¿°å­ï¼å¯¹ææçfastè§ç¹è®¡ç®æè¿°å­ï¼\n      \n      * è®¡ç®æ¯ä¸ªfastè§ç¹åå¿å°è´¨å¿ç¹çæ¹å\n      \n      * å°æ¯ä¸ªè§ç¹å¯¹åºçååè¿è¡æè½¬ï¼æè½¬è³ææè§ç¹å¯¹åºçæ¹åç¸åã ![å¨è¿éæå¥å¾çæè¿°](https://img-blog.csdnimg.cn/bed388824aab4c818d38ead3a1c21f5a.png?x-oss-process=image/watermark,type_zhjvawrzyw5zzmfsbgjhy2s,shadow_50,text_q1netibaqutni5fkujw=,size_20,color_ffffff,t_70,g_se,x_16#pic_center =300x135)\n      \n      * åååéånä¸ªç¹å¯¹ï¼é»è®¤æå®äº128å¯¹ç¹ï¼ï¼éè¿å°äº®åº¦çæ¯è¾ç»æï¼å°è§ç¹æ å°ä¸ºï¼åªç±0ã1ç»æç128ç»´åéï¼å°æ­¤åéä½ä¸ºbriefæè¿°å­\n      \n      * æåï¼å¯¹æ¯ä¸ªfastè§ç¹ï¼é½çæäº128ç»´æè¿°å­ã\n      \n      * å½è¢«ææç©ä½æ¾å¤§æèç¼©å°æ¶ï¼fastè§ç¹ä¼äº§çä¸åçæåç»æï¼æ¯å¦ç¼©å°ä¼å¼èµ·è§ç¹æ¶å¤±ï¼ï¼ä½å¨å¾åéå­å¡çå¶ä»å±ä¸­ä¾ç¶å¯ä»¥æåå°ç¼©æ¾åå¯¹åºçfastè§ç¹ï¼ä»èå·æè¯å¥½çå°ºåº¦ä¸åæ§ãå½è¢«ææç©ä½åçæè½¬æ¶ï¼å¶fastè§ç¹çæ¹åä¹ä¼éä¹æè½¬ï¼è®¡ç®briefæè¿°å­åï¼å°ææfastè§ç¹æè½¬è³åä¸æ¹åï¼ç¸å½äºå°ææææå¯¹è±¡é½æè½¬å°åä¸æ¹åï¼ä»èå·æè¯å¥½çæè½¬ä¸åæ§\n    \n    * bow è¯è¢æ¨¡åï¼å¯¹å¾çãç¹å¾è¿è¡æ¥æ¾åç´¢å¼ï¼\n      * è¯è¢æ¨¡åä½ä¸ºæææè¿°å­çå­å¸ï¼ ç¨äºéåä¸¤å¼ å¾æä¸¤ä¸ªç¹å¾ç¹çç¸ä¼¼æ§\n      * å­å¸çæ°æ®ç»æä¸º kåæ ï¼ä¸å±æ¯ä¸å±çèç±»ï¼æåºå±çæ¯ä¸ªå¶å­èç¹å¯¹åºçæ¯æå°ç¹å¾ååï¼briefæè¿°å­\n      * è·å¾æè¿°å­åï¼éè¿æ¬¡æ¥æ¾kåæ ï¼æ¥å¾å°æ­¤æè¿°å­çå¹éç¹ï¼éä½äºæ¥æ¾å¹éçå¤æåº¦\n\n 2. æè½¬ä¸åæ§æ¥èªï¼æåfastç¹å¾æ¶ï¼è®¡ç®äºæ¯ä¸ªè§ç¹çä¸­å¿ç¹å°è´¨å¿ç¹çæ¹ååéï¼å³ä½¿ç©ä½åçäºæè½¬ï¼ä¹å¯å©ç¨æ¹ååéæ¥è¯å«ã\n\n 3. å°ºåº¦ä¸åæ§æ¥èªï¼å¯¹æ¯ä¸å¸§ï¼å»ºç«4å±çé«æ¯éå­å¡ï¼åå«å¨æ¯å±éå­å¡ä¸åç¹å¾æåï¼å³ä½¿aå¾ä¸­çç¹å¾å¨bå¾ä¸­åå°ï¼ä¹å¯ä»¥å¨aå¾éå­å¡é«å±æåå°bå¾ä¸­åå°ºåº¦çç¹å¾\n    \n    ----------------------------------------\n\n 4. ç¹äºåå§å è¿é¨åå¨è®ºæä¸­æ²¡ææåãåçå¨æ´ä¸ªç®æ³åå¼å§è¿è¡æ¶ï¼ç¹äºçåå§åæ¯æ­¤åæ¯ä¸å¸§è½æåå®ä½çåæ\n    \n    * ä½ç¨ï¼ç¹å¾å¹éãä¸è§åï¼å¾å°åå§ç¹äºå¾ï¼å¯¹äºåç®æ¥è¯´ï¼å°±æ¯å°p2pé®é¢è½¬ä¸ºpnpé®é¢\n    * æ­¥éª¤(ä»¥åç®ä¸ºä¾ï¼ï¼\n      * åå§éå2ä¸ªç¹å¾ç¹è¾å¤çå¸§ï¼ ç¹å¾ç¹æ°ç¹å¾ç¹æ°>100 )ï¼å¹¶å¨è¯è¢ä¸­è¿è¡ç¹å¾å¹é\n      * å¹¶è¡è®¡ç®ååºæ§ç©éµ h ååºç¡ç©éµ f ã å½å¯¹æçº¦æä¸æç«çæ¶åï¼ç¸æºåªææè½¬æ²¡æå¹³ç§»ï¼ï¼æåºæ¯é½å¨åä¸å¹³é¢æ¶ï¼ç¨ååºæ§ç©éµæ¥è®¡ç®ä¸¤å¸§ä¹é´çåæ¢ç©éµãå¦åç¨åºç¡ç©éµè®¡ç®åæ¢ç©éµ\n      * å°ç¬¬ä¸å¸§çä½å§¿è®¾ç½®ä¸ºåºåä½å§¿ï¼ç¬¬äºå¸§çä½å§¿ä¸ºä¸ä¸æ­¥ææ±åºçåæ¢ç©éµ\n      * åå»ºå°å¾ç¹å¯¹è±¡mappointï¼æ¢å¤åºææå¹éç¹å¯¹åºçä¸çåæ \n    \n    ----------------------------------------\n\n 5. ä½å§¿åå§åï¼initial pose estimationï¼ å¯¹ currframe (æ­¤å»çå¸§)ä½å§¿ä¼åä¹åï¼åè¦æä¸ä¸ªå¤§æ¦çä¼°è®¡ï¼ä½ä¸ºä¹åä¼åä½å§¿çåå¼ãæ ¹æ®å½åè·è¸ªç¶æçä¸åï¼ä¸å±æä¸ç§åå§åæ¹æ³ï¼æ ¹æ®åèå³é®å¸§ä¼°è®¡ï¼æ ¹æ®åéè¿å¨æ¨¡åä¼°è®¡ï¼éå®ä½ãé¤æ­¤ä¹å¤ï¼è¿è¦å¯¹æ­¤å¸§è§æµå°çç¹å¾ç¹è¿è¡ä¼°è®¡\n    \n    * ä½ç¨ï¼ä¼°è®¡å¸§çä½ç½®ï¼ä»¥åè§æµå°çå±é¨å°å¾ç¹\n    * æ­¥éª¤ï¼\n      \n      * è·è¸ªç¶æä¸ºlostæ¶ï¼\n        \n        * ç¨éå®ä½ä¼°è®¡ä½å§¿ï¼relocationï¼ï¼ç¨è¯è¢æ¨¡åå¯»æ¾ä¸ currframe æç¸ä¼¼çå¸§ relocframeï¼è¿è¡ç¹å¾å¹é\n        * ç»è®¡ currframe ä¸å¹éç¹æ°éï¼æ°éå¤ªå°åè®¤ä¸ºå¹éææå·®ï¼ä¿æç¶æä¸ºlostï¼ç»æå¯¹æ­¤å¸§çå¤çï¼ç­å¾ä¸ä¸å¸§ï¼æ°éè¶³å¤çè¯ï¼è¿è¡ä¸æ¬¡ä»ä¼åä½å§¿çbaï¼motion-only baï¼ï¼æ°éä¸å¤åèå¼æ­¤å¸§\n      \n      * è·è¸ªç¶ænormalæ¶ï¼\n        \n        * æ ¹æ®åéè¿å¨æ¨¡åä¼°è®¡ä½å§¿ï¼é»è®¤ä¸ä¸å¸§å° currframe çåæ¢ç©éµç­äºä¸ä¸å¸§å°ä¸ä¸å¸§çåæ¢ç©éµãï¼track with motion modelï¼\n        * å°ä¸ä¸å¸§ï¼lastframeï¼è§æµå°çmappoint æå½±å°ä¼°è®¡çä½å§¿ä¸ï¼è§æµæå¤å°æå½±ç¹ä¸ç¹å¾ç¹ä½ç½®éåï¼éååè®¤ä¸ºæ¯ä¸å¯¹å¹éç¹ï¼å¦æéåçè¶³å¤å¤ï¼åè¿è¡ä¸æ¬¡ä»ä¼åä½å§¿çbaï¼å¦æéåçä¸ªæ°å¤ªå°ï¼è¡¨æå¹éå¤±è´¥æ¹ç¨åèå³é®å¸§ä¼°è®¡ï¼\n      \n      * æ ¹æ®åèå³é®å¸§ä¼°è®¡ä½å§¿ï¼ï¼track with refframeï¼\n        \n        * ç¨è¯è¢æ¨¡åï¼å° currframe ä¸åèå³é®å¸§ï¼ææ°çå³é®å¸§ï¼è¿è¡ç¹å¾å¹é\n        * å¹éåæ§è¡ä¸æ¬¡ä»ä¼åä½å§¿çbaï¼motion-only baï¼\n        * ç»è®¡å¹éç¹å¾ç¹æ°ï¼æ°éå°åè®¤ä¸ºå¹éå¤±è´¥ï¼å°ç¶ææ¹ä¸ºlostï¼ç»æå¯¹æ­¤å¸§çå¤çï¼ç­å¾ä¸ä¸å¸§ï¼\n    * éè¦æ³¨æï¼åå§ååçframe ä¸­ä»ä¼æå¤§éç¹å¾ç¹æ²¡å»ºç«å¹é ï¼è¿ä¹ä½ç°äºtrackingçº¿ç¨çéè¦ææ³ï¼å¨å°½å¯è½å°çå»ºç«å¹éçæåµä¸ï¼åå§ååºç¸æºçä½å§¿ã\n    \n    ----------------------------------------\n\n 6. å±é¨ä½å§¿ä¼åï¼track local mapï¼ ç»è¿ä¸é¢çåå§åï¼å¤±è´¥ç frame ï¼è¯´æå¶ä¸å°å¾èç³»ä¸å¤ç´§å¯ï¼æ æ³å»ºç«ç¨³å¥ççº¦æåä¼°è®¡ï¼èä¸å°å¾èç³»ç´§å¯çframe ååå§åæåã ä½åååå§åæå¾ä½å§¿ä»ä¾èµäºä¸æä¸å¸§ï¼åä¸å¸§æåèå³é®å¸§ï¼ä¸­çå¹éå³ç³»ï¼ç½®ä¿¡åº¦è¾ä½ã æ¥ä¸æ¥ï¼æä»¬å¨å±é¨å¾ä¸­å¯»æ¾æ´å¤çå¹éå³ç³»ï¼å©ç¨è¿äºå¹éå³ç³»è¿ä¸æ­¥ä¼åcurrframeçä½å§¿ã\n    \n    * covisibility graphå®ä¹ï¼covisibility graphï¼æ¯æ åå æå¾ï¼å¦æä¸¤ä¸ªå³é®å¸§ä¹é´æå±è§å³ç³»ï¼å±åè§æµå°>15ä¸ªå°å¾ç¹ï¼å°±è¿æä¸æ¡ææè¾¹ï¼è¿äºè¾¹åææå³é®å¸§èç¹ç»æå±è§å¾ã\n    * å¨å±è§å¾ä¸­ï¼éå¯¹currframeå®ä¹ä¸ç»å³é®å¸§ä¸ºå±é¨å³é®å¸§ï¼å±é¨å³é®å¸§ç±åç§é»å±ç»æãè¿åç§é»å±ä¸ºï¼\n      * ä¸ currframe æå±è§ç¹çå¸§ï¼ä¸çº§å±è§å¸§ï¼\n      * ä¸ ä¸çº§å±è§å¸§ æå±è§ç¹çååä¸ªå¸§ï¼äºçº§å±è§å¸§ï¼ï¼æå±è§ç¹ä¸ªæ°æåºï¼\n      * ä¸çº§å±è§å¸§çå­å³é®å¸§\n      * ä¸çº§å±è§å¸§çç¶å³é®å¸§ï¼ä¸ä¸çº§å±è§å¸§å±è§ç¨åº¦æé«çå¸§ï¼\n    * å° currframeãå±é¨å³é®å¸§ ãä»¥åè¿äºå¸§è§æµå°ç mappointä½ä¸ºï¼å±é¨å¾ ï¼localmapï¼\n    * å°localmap ä¸­çmappointå currframe æå½±![è¯·æ·»å å¾çæè¿°](https://img-blog.csdnimg.cn/38d7c6d141d34d95837c80abd9b6a72b.png?x-oss-process=image/watermark,type_zhjvawrzyw5zzmfsbgjhy2s,shadow_50,text_q1netibaqutni5fkujw=,size_20,color_ffffff,t_70,g_se,x_16#pic_center =420x350)\n    * å¯¹ currframeåè¿è¡ä¸æ¬¡ä»ä½å§¿baï¼motion-only baï¼ä¼åï¼ä¼°è®¡åºåä¸ªå±é¨å³é®å¸§çä½å§¿\n    \n    ----------------------------------------\n\n 7. å³é®å¸§çå®¡æ ¸ä¸çæ (new keyframe decision)\n    \n    * æ£æµç³»ç»æ¯å¦åè®¸å³é®å¸§çæå¥\n      * only_tracking æ¨¡å¼ä¸ï¼ä¸éè¦å³é®å¸§\n      * localmap è¢« loopclosingçº¿ç¨å ç¨ï¼ä¸è½æå¥å³é®å¸§\n      * å³é®å¸§æ»æ°è¾å¤ï¼ä¸è·ç¦»ä¸ä¸ä¸ªå³é®å¸§è·ç¦»å¾è¿ï¼ä¸éè¦æå¥å³é®å¸§\n    * å®¡æ ¸currframeæ¯å¦æèµæ ¼åå³é®å¸§\n      * è®°å½currframe è§å¯å°çmappointæ»æ°ï¼numcurr\n      * è®°å½refframe è§å¯å°çmappointæ»æ°ï¼numref![è¯·æ·»å å¾çæè¿°](https://img-blog.csdnimg.cn/3789e59c73034275a21d8a682ed6d9d4.png?x-oss-process=image/watermark,type_zhjvawrzyw5zzmfsbgjhy2s,shadow_50,text_q1netibaqutni5fkujw=,size_20,color_ffffff,t_70,g_se,x_16#pic_center =420x350)\n      * å¦ænumcurrnumrefå°äºä¸å®éå¼ï¼ååè®¸ currframeä½ä¸ºä¸ä¸ªå³é®å¸§\n    * å° currframe è®¾ç½®ä¸ºå³é®å¸§\n      * å°èªå·±çæçå³é®å¸§pkf ä½ä¸ºcurrframe çåèå³é®å¸§\n      * å¨å°å¾ä¸­æ°å»ºå°å¾ç¹ ![è¯·æ·»å å¾çæè¿°](https://img-blog.csdnimg.cn/e33fd597a7484bbc9529fe590caa24be.png?x-oss-process=image/watermark,type_zhjvawrzyw5zzmfsbgjhy2s,shadow_50,text_q1netibaqutni5fkujw=,size_20,color_ffffff,t_70,g_se,x_16#pic_center =420x350)\n    \n    ----------------------------------------\n\n * æ»ç»\n * trackingçº¿ç¨æ ¹æ®ç¶æçä¸åï¼ä»¥ä¸ç§æ¹å¼æ¥åå§åæ¯ä¸å¸§çä½ç½®åå§¿æï¼è¿ä¸ç§æ¹å¼éåº¦ç±æ¢å°å¿«ä¸ºï¼\n * åé¡¾trackingè¿ç¨\n   * æ´ä¸ªè¿ç¨å¯ä»¥çåä¸æ­¥ï¼è·åä½ç½®ãä¼åä½ç½®ãå³é®å¸§å®¡æ ¸\n   * å¨å°½å¯è½å°å»ºç«å¹éæèä¸å»ºç«å¹éçæåµä¸ï¼è¿è¡ä½å§¿åå§åï¼è·åä½ç½®ï¼\n   * å°½å¯è½å»ºç«ä¸ä¸ªï¼ä½éå°½éå°ãä½ä¸currframeå³ç³»è¶³å¤å¤ï¼åç§é»å±ï¼çå±é¨å¾ï¼å¨æ­¤å±é¨å¾çåºç¡ä¸è¿è¡å¾ä¼åba ï¼ä¼åä½ç½®ï¼\n   * å¨è·è¸ªå°çç¹è¶³å¤å¤çæåµä¸ï¼>50ä¸ªï¼ï¼å°½å¯è½å¤å°çæå³é®å¸§ï¼å ä¸ºåé¢çå³é®å¸§å é¤ç­ç¥å¾ä¸¥æ ¼ï¼è¿éå³é®å¸§ççææ¯è¾å®½æ¾ï¼å³é®å¸§å®¡æ ¸ï¼\n * å¯ä»¥çåºï¼trackingçä¸ä¸ªéè¦ç¹ç¹æ¯æéï¼ä¸å°ä¸ä¸å¾å·²ï¼ä¸è¿è¡èæ¶çå¹éæä½ï¼\n\n\n# localmapping\n\n 1. å½å¾å¤çkeyframeéåéç©ºï¼ localmappingçº¿ç¨å°±å¼å§å·¥ä½ã\n\n 2. å°æ­¤keyframeæå¥å±è§å¾ä¸­ï¼keyframe insertionï¼\n    \n    * è®¡ç®æ­¤keyframeå¯¹åºçè¯è¢åéï¼åºè¯¥æ¯å¨åç¯æ£æµä¼ç¨å°ï¼\n    * è·ålocalmapä¸­ï¼è¢«æ­¤keyframeè§æµå°çç¹ï¼å¨trackingçº¿ç¨ä¸­çä½å§¿åå§åæ­¥éª¤å·²ç»è¢«åå§åï¼ï¼æ´æ°æ­¤keyframeçå¹³åè§æµæ¹åï¼ä»¥ååä¸ªmappointçæä½³æè¿°å­\n    * æ ¹æ®å±è§ç¨åº¦åå»ºææè¾¹ï¼å°keyframeæå¥å±è§å¾ä¸­\n\n----------------------------------------\n\n 4. å é¤å¤ä½çmappoint æ­¤ålocalmappingçº¿ç¨å¯è½å é¤äºä¸äºåä½å³é®å¸§ï¼å¯¼è´å¯¹åºçå°å¾ç¹æ¥è¿äºâæ å¸§è§æµâçç¶æï¼ä¸æ»¡è¶³ä»¥ä¸2æ¡ä»¶ä¸­ä»»æä¸æ¡çmappointä¼è¢«ç§»é¤\n    * å¯¹äºlocalmapä¸­çä»»æå°å¾ç¹pï¼å¦æ å®éè§æµå°çå¸§æ°éé¢æµä¼è§æµå°çå¸§æ°éå®éè§æµå°pçå¸§æ°éé¢æµä¼è§æµå°pçå¸§æ°é>25%\n    * å¦æè§æµå°pçæ¯ä¸ä¸ªå³é®å¸§ï¼åè³å°ä¸ä¸ªè¿ç»­å³é®å¸§é½è§æµå°p\n\n----------------------------------------\n\n 5. åå»ºæ°çmappoint\n    * åå»ºmappointç¹ï¼å¯¹å½åå³é®å¸§ï¼kcï¼çæªå¹éç¹å¾ç¹ï¼å¨ææå¶ä»å³é®å¸§ä¸­å¯»æ¾ç¹å¾å¹éï¼å©ç¨è¯è¢æ¨¡åï¼ï¼å¾ä¸å®æ°éçæä½³å±è§å³é®å¸§ï¼kiï¼ï¼ç¸äºå¹éåè¿è¡ä¸è§åï¼è®¡ç®åºæ°mappoint p çä½ç½®\n    * æå»ºmappointãkcä¸å¨å±mapçèç³»ï¼å¾åºmappointçä½ç½®åï¼è¿éè¦å°pä¸å¨å±mapèåï¼ä¹å°±æ¯å»ºç«pä¸å¶ä»å³é®å¸§çèç³»\n      * å®ä¹ä¸çº§äºçº§å³é®å¸§ï¼\n        * ä¸çº§å³é®å¸§ï¼å¨å±è§å¾ä¸­æé10ä¸ªå±è§ç¨åº¦æä½³çé»å±\n        * äºçº§å³é®å¸§ï¼å¯¹æ¯ä¸ªä¸çº§å³é®å¸§ï¼åå«æé5ä¸ªå±è§ç¨åº¦æé«çé»å±\n      * æ­£åæå½±èåï¼æ­¤æ¶pç¹åªè¢«kcåkiä¸¤ä¸ªå¸§æè§æµå°ï¼è¿éå°påå«æå½±å°ä¸ãäºçº§å³é®å¸§ï¼è§å¯æ¯å¦ä¸å¶ä»å³é®å¸§ä¸­çç¹å¾ç¹å¹é æå½±è³ä¸ãäºçº§å³é®å¸§ä¸åï¼å¦ææå½±ç¹æ°å¥½ä¸æä¸ªç¹å¾ç¹éåï¼ä¼æä¸¤ç§æåµ\n        * ç¹å¾ç¹æ²¡æå¯¹åºçmappointï¼ è®¾ç½®pä¸ºæ­¤ç¹å¾ç¹å¯¹åºçmappoint\n        * ç¹å¾ç¹æå¯¹åºçmappoint pâ²ï¼å é¤ãpãpâ²å¶ä¸­ä¹ä¸ï¼å³è¢«è§æµå¸§æ°æå°ç\n        * æ­¤æ¶å½åå¸§kcçææå°å¾ç¹å·²ä¸localmapèåãå»ºç«èç³»ï¼\n      * ååæå½±èåï¼å°ä¸ãäºçº§å³é®å¸§è§æµçç¹å¾ç¹æå½±å°kcï¼æå½±ååæ ·ä¼æä¸¤ç§æåµï¼å¤çæ¹å¼åä¸\n      * è³æ­¤ï¼å½åå¸§kcçææå°å¾ç¹å·²ä¸å¨å±mapèåï¼ä¸ãäºçº§å³é®å¸§è§æµçç¹å¾ç¹ä¹ä¸kcå»ºç«å¹éå³ç³»\n\n----------------------------------------\n\n 6. è¿è¡å¨å±baä¼åï¼ä¼åææçmappointãææçkeypoint\n\n----------------------------------------\n\n 7. å é¤åä½çå³é®å¸§ ä¸ºäºé²æ­¢å³é®å¸§æ°éæ ä¸éå¢é¿ï¼éè¦ä¸åæ£æµåä½çå³é®å¸§ï¼å¦ækcä¸­ 90%çç¹å·²ç»å¨å¶ä»å¸§ä¸­è¢«è§æµå°ï¼å°±å°åä½å³é®å¸§kcå é¤ï¼æ¹æ³å¦ä¸ï¼\n    * é¦åéåå±è§å¾ä¸­çé»å±kciï¼åéåkcçæ¯ä¸ªmappoint pi ( i=0,1,...n)\n    * è®°å½è¢«è§æµæ°å¤§äº3çpiï¼å¦ææ­¤ç±»piå ææpiè¶è¿90% ï¼å°±å°kcå é¤ã\n\n\n# loopclosing\n\n\n# â  æ£æµé­ç¯\n\n\n\nå³é®å¸§ ä¸ å¶ å±è§å¸§ ç»æä¸ä¸ªåéå³é®å¸§ç» ï¼ ä¸ååéå³é®å¸§ç»ä¸­æç¸åçå³é®å¸§ï¼åç§°è¿ä¸¤ä¸ªç»æ¯è¿ç»­çã\n\n 1. ä»éåå¤´ä¸­ååºä¸ä¸ªå³é®å¸§, ä½ä¸ºå½åæ£æµé­ç¯çå³é®å¸§ï¼\n 2. å¦æè·ç¦»ä¸æ¬¡é­ç¯æ²¡è¿å¤ä¹, æèmapä¸­å³é®å¸§æ»å±è¿æ²¡æ10å¸§, åä¸è¿è¡é­ç¯æ£æµï¼\n 3. è®¡ç®è¿ä¸ªå³é®å¸§ä¸å®ææçå±è§å¸§çbowç¸ä¼¼åº¦å¾å, å¾å°æä½å¾åminscoreï¼\n 4. è®¡ç®è¿ä¸ªå³é®å¸§ä¸å³é®å¸§æ°æ®åºä¸­ææå¸§çç¸ä¼¼åº¦å¾å, å°å¾åå¤§äºminscoreçä½ä¸ºåéå³é®å¸§ï¼æ¾å¥åéå³é®å¸§ç» åè¡¨ä¸­ï¼\n 5. å¨åéå³é®å¸§ä¸­æ£æµå·æè¿ç»­æ§ > 3 çåéå¸§ï¼\n 6. å°æ»¡è¶³è¦æ±çå³é®å¸§å­æ¾å¨åè¡¨ mvpenoughconsistentcandidates ä¸­(æä¼è´¨å³é®å¸§ç»)ã\n\n\n# â¡ è®¡ç®sim3 ç¸ä¼¼åæ¢\n\n 1.  éåä¸ä¸æ­¥å¾å°çæ¯ä¸ä¸ªé­ç¯åéå³é®å¸§ï¼\n 2.  éè¿bowå éå¾å° é­ç¯åéå³é®å¸§ ä¸ å½åå³é®å¸§ ä¹é´çå¹éç¹ï¼\n 3.  å¦æå¹éç¹ä¸ªæ° å°äº 20ï¼ ååé¤è¯¥ é­ç¯åéå³é®å¸§ï¼\n 4.  è®¡ç®é­ç¯åéå³é®å¸§ ä¸ å½åå³é®å¸§ ä¹é´ç sim3 åæ¢ï¼\n 5.  éè¿ransac ç®æ³è¿­ä»£äºæ¬¡ï¼æ±åºåéå¸§å°å½åå³é®å¸§çsim3åæ¢scmï¼\n 6.  éè¿sim3åæ¢æåéå¸§çç¹å¾ç¹åæ¢å°å½åå³é®å¸§ä¸­ï¼åä¹åçï¼æ±åºç¸äºå¹éçç¹å¾ç¹ï¼\n 7.  åéè¿ä¸ä¸æ­¥ æ±åºçç¹å¾ç¹ï¼éè¿g2oæ¥ä¼åååçscmï¼å¾å°mg2oscwï¼ç®åºä¸ä¸ªå¥½çï¼ä¸ºmpmatchedkfï¼å°±éåºå¾ªç¯ï¼\n 8.  å°ä¸é¢è½ç®çå¥½çmpmatchedkfï¼å°å¶ä¸å¶å±è§å³é®å¸§é½æ¾å¥åè¡¨vploopconnectedkfsä¸­ï¼å®ä»¬å¯¹åºçå°å¾ç¹æ¾å¥åè¡¨mvploopmappointsä¸­ï¼\n 9.  åå°mvploopmappointsä¸­çå°å¾ç¹ï¼éè¿sim3åæ¢æå½±å°å½åå³é®å¸§ï¼æç´¢æ´å¤çå¹éå¯¹ï¼\n 10. å¦æå¹éå¯¹è¶è¿40ï¼åç¯æåãæç»çå½¢æåç¯çå¸§æ¯mpmatchedkfã\n\n\n# â¢ åç¯ç«æ­£\n\n 1. éè¦è¯·æ±å±é¨å°å¾åæ­¢ï¼é²æ­¢å®åç¼å²åºæå¥æ°çå³é®å¸§ã\n 2. å ä¸ºï¼æ­¥éª¤åä¸­ç6ï¼å°å½åå³é®å¸§éè¿ä¸æ¬¡sim3åæ¢ä¸æ¬¡ï¼æä»¥éè¦å¯¹å½åå³é®å¸§éè¿å±è§å³ç³»æ´æ°å®çè¿æ¥å³ç³»ï¼\n 3. éåå½åå³é®å¸§ç»ï¼éè¿å³é®å¸§åå±è§å¸§çå¯¹åºå³ç³»ï¼å¾å®¹ææ±åºå±è§å¸§çsim3åæ¢ï¼å½åå³é®å¸§å°å¶å±è§å¸§çsim3åæ¢g2osic * mg2oscwï¼å°è¿ä¸ªéè¿g2oä¼åå¥½çsim3åæ¢å­å¥å°åè¡¨correctedsim3ä¸­ãä¸ç´æ¥æ±åºè¿ä¸å¸§çç¸æºåæ ç³»ä½å§¿getpose()åæ¢ï¼è½¬æ¢æsimåæ¢ï¼å­å¥å°åè¡¨noncorrectedsim3ä¸­ï¼\n 4. éåå½åå³é®å¸§çå±è§å³é®å¸§ï¼ä¿®æ­£è¿äºå±è§å³é®å¸§çå°å¾ç¹ãåæ¢å³ç³»ï¼è¿ä¸ªç¹çä¸çåæ ç³» --(noncorrectedsim3ä¸­çåæ¢)--\x3e æªç«æ­£çç¸æºåæ ç³» --(correctedsim3ä¸­çéåæ¢)--\x3e ç«æ­£åçä¸çåæ ç³»ãå°è¿ä¸ªå±è§å³é®å¸§çä½å§¿è®¾ç½®ä¸ºcorrectedsim3ä¸­çåæ¢ï¼\n 5. æ£æ¥å½åå¸§å°å¾ç¹ä¸ç»è¿é­ç¯å¹éåè¯¥å¸§çå°å¾ç¹æ¯å¦å­å¨å²çªï¼å¯¹å²çªè¿è¡æ¿æ¢æèå¡«è¡¥ãåæ¶éåå¹éç¹åå½åå³é®å¸§çå°å¾ç¹ï¼å¦æå½åå³é®å¸§å°å¾ç¹å­å¨ï¼é£ä¹å°±ç¨å¹éç¹ä»£æ¿ï¼å¦åå°±æå¹éç¹æ·»å å°å½åå³é®å¸§å°å¾ç¹ï¼\n 6. åçï¼å°é­ç¯å³é®å¸§ç»çå°å¾ç¹ï¼æå½±å°å½åå³é®å¸§ç»å°å¾ç¹è¿è¡å¹éï¼èåï¼æ°å¢æèæ¿æ¢ï¼\n 7. æ´æ°å½åå³é®å¸§ç»ä¹é´çä¸¤çº§å±è§ç¸è¿å³ç³»ï¼\n 8. è¿è¡æ¬è´¨å¾ä¼åï¼ä¼åæ¬è´¨å¾ä¸­ææå³é®å¸§çä½å§¿åå°å¾ç¹ï¼\n 9. æ°å»ºä¸ä¸ªçº¿ç¨ç¨äºå¨å±baä¼åã\n\n\n# ä»£ç æµç¨\n\n\n# æä»¶çè°ç¨å³ç³»\n\nä¸»å½æ°åªè°ç¨äºtrackingçº¿ç¨ localmappingãloopclosingçº¿ç¨ä¸æ­æ¥æ¾å³é®å¸§éåï¼å¦æéåéç©ºï¼localmappingçº¿ç¨å¼å§å·¥ä½ï¼loopclosingçº¿ç¨ç»§ç»­æ£æ¥æ¯å¦ææåç¯ï¼å¦æéåéç©ºä¸ææåç¯åloopclosingå¼å§å·¥ä½ã\n\n\n# éè¦åéçæä¹\n\nçº¿ç¨            å½æ°å                          åéå                             åéç±»å                             æä¹\ntracking      track()                      mstate                          bool                             æ å¿ç³»ç»ç¶æï¼æªåå§åãæ­£å¸¸æä¸¢å¤±\n                                           bok                             bool                             è¡¡étrack()ä¸­æ¯ä¸æ­¥è·è¸ªçè´¨é\n                                           mbonlytracking                  bool                             æ å¿ç³»ç»æ¯å¦å¤äºåªè·è¸ªä¸å»ºå¾æ¨¡å¼\n              checkreplacedinlastframe()   mlastframe                      frame                            å½åå¸§çä¸ä¸å¸§\n              trackwithmotionmodel()       vpmappointmatches               vector<mappoint*>                ä¸ä¸å¸§ä¸å½åå¸§çå¹éå³ç³»\n                                           nmatchesmap                     int                              è®°å½ç¹å¾å¹éçåç¹æ°ç®\n              trackreferencekeyframe()     vpmappointmatches               vector<mappoint*>                ä¸ä¸å¸§ä¸å½åå¸§çå¹éå³ç³»\n                                           nmatchesmap                     int                              è®°å½ç¹å¾å¹éçåç¹æ°ç®\n              relocalization()             vpcandidatekfs                  vector<keyframe*>                ä¸å½åå¸§æç¸ä¼¼çå³é®å¸§éå\n                                           vvpmappointmatches              vector<vector<mappoint*> >       å¸§éåä¸­ææå¸§ä¸å½åå¸§çå¹éå³ç³»\n                                           ncandidates                     int                              è´¨éå¥½çåéå¸§æ°é\n                                           bnomore                         bool                             ä¸ºtrueè¡¨ç¤ºransacå·²è¾¾å°æå¤§è¿­ä»£æ¬¡æ°\n                                           sfound                          set<mappoint*>                   æå½±å°å½åå¸§ä¸ºåç¹çmappointéå\n              neednewkeyframe()            mplocalmapper                   localmapping*                    å±é¨å»ºå¾çº¿ç¨å¯¹è±¡\n                                           mpmap                           map*                             å¨å±å°å¾å¯¹è±¡\n                                           nkfs                            int                              å¨å±å°å¾ä¸­çå³é®å¸§æ°\n                                           nminobs                         int                              è§å®çæå°è§æµæ¬¡æ°\n                                           mpreferencekf                   keyframe*                        ææ°çå³é®å¸§ä½ä¸ºåèå³é®å¸§\n                                           nrefmatches                     int                              åèå³é®å¸§ä¸­,è¢«è§æµæ¬¡æ°>nminobsçå°å¾ç¹æ°é\n                                           threfratio                      int                              å¼è¶å¤§ï¼è¶å¾åäºæ¥åå³é®å¸§\n              createnewkeyframe()          pkf                             keyframe*                        æ°å»ºçå³é®å¸§å¯¹è±¡\n                                           mplastkeyframe                  keyframe*                        ææ°çå³é®å¸§\n                                           mlnewkeyframes                  list<keyframe*>                  å­æ¾trackingäº§ççå³é®å¸§\n                                                                                                            \nloopmapping   processnewkeyframe()         vpmappointmatches               vector<mappoint*>                å½åå¸§å¯¹åºçææå°å¾ç¹\n                                           mlprecentaddedmappoints         list<mappoint*>                  è¿éè¢«mapcullingæ£éªçå°å¾ç¹åè¡¨\n                                           mspkeyframes                    set<keyframe*>                   å­å¨å¨å±mapä¸­ææçå³é®å¸§\n              mappointculling()            nthobs                          int                              æ ¹æ®ç¸æºç±»åè®¾ç½®ä¸åçè§æµéå¼\n                                           mlprecentaddedmappoints         list<mappoint*>                  è¿éè¢«mapcullingæ£éªçå°å¾ç¹åè¡¨\n                                           ncurrentkfid                    unsigned long                    å½åå¸§çid\n                                           mnfirstkfid                     int                              å°å¾ç¹å¯¹è±¡çå±æ§ï¼è®°å½åå»ºæ­¤å°å¾ç¹çå³é®å¸§id\n              createnewmappoints()         nn                              int                              éåä¸çº§å±è§å³é®å¸§çä¸ªæ°\n                                           vpneighkfs                      vector<keyframe*>                å­æ¾nnä¸ªä¸çº§å±è§å³é®å¸§\n                                           .......å¾æ´æ°                                                       \n              searchinneighbors()          nn                              int                              éåä¸çº§å±è§å³é®å¸§çä¸ªæ°\n                                           vpneighkfs                      vector<keyframe*>                å­æ¾nnä¸ªä¸çº§å±è§å³é®å¸§\n                                           pkfi                            keyframe*                        ä¸çº§å±è§å³é®å¸§\n                                           vpsecondneighkfs                vector<keyframe*>                å­æ¾5ä¸ªäºçº§å³é®å¸§\n                                           vpfusecandidates                vector<mappoint*>                ä¸ãäºçº§å³é®å¸§ä¸­ï¼éè¦ä¸å½åå¸§èåçå°å¾ç¹\n              keyframeculling()            vplocalkeyframes                vector<keyframe*>                å½åå¸§çææä¸çº§å±è§å³é®å¸§\n                                           vpmappoints                     vector<mappoint*>                æ¯ä¸ªå±è§å³é®å¸§å¯¹åºçå°å¾ç¹\n                                           nredundantobservations          int                              è®°å½åä½ç¹çæ°é\n                                           thobs                           int                              è§å®çæå°è§æµæ¬¡æ°\n                                           scalelevel                      int                              å³é®å¸§çéå­å¡å°ºåº¦ï¼å¼è¶å¤§è¶é è¿é¡¶ç«¯\n                                           nobs                            int                              è®°å½æå¤å°ä¸ªå³é®å¸§é«è´¨éå°è§æµå°åä¸ä¸ªå°å¾ç¹\n                                           nmps                            int                              è®°å½å½åå¸§ä¸­éåç¹çä¸ªæ°\n              insertkeyframe()             mlploopkeyframequeue            list<keyframe*>                  å­æ¾loopclosingäº§ççå³é®å¸§\n                                                                                                            \nloopclosing   detectloop()                 mlploopkeyframequeue            list<keyframe*>                  å³é®å¸§ç¼å²éå\n                                           vpconnectedkeyframes            vector<keyframe *>               ä¸å½åå¸§ç¸è¿çå±è§å³é®å¸§\n                                           mporbvocabulary                 orbvocabulary* mporbvocabulary   è¯è¢æ¨¡åä¸­çå¤§è¯å¸\n                                           vpcandidatekfs                  vector<keyframe *>               å½åå¸§çåéåç¯å³é®å¸§\n                                           mvconsistentgroups              vector                           ä¸ä¸æ¬¡äº§ççè¿ç»­ç»\n                                           vcurrentconsistentgroups        vector                           ç­éåºæ¥çè¿ç»­ç»\n                                           consistentgroup                 pair<set<keyframe*>,int>         è¿ç»­ç»ç»æ\n                                           mvpenoughconsistentcandidates   std::vector<keyframe*>           æä¼è´¨çé­ç¯åéå¸§\n              detectloopcandidates()       spconnectedkeyframes            set<keyframe*>                   ä¸å½åå¸§ç¸è¿çå³é®å¸§\n                                           lkfssharingwords                list<keyframe*>                  å¯è½ä¸å½åå³é®å¸§å½¢æé­ç¯çåéå¸§\n                                           mbowvec                         map<wordid, wordvalue>           wordid å wordvalue è¡¨ç¤ºwordå¨å¶å­ä¸­çidåæé\n                                           mvinvertedfile                  vector<list<keyframe*> >         vectorçä¸æ æ¯wordidï¼listæ¯åå«è¿ä¸ªwordçææå³é®å¸§\n                                           lkfssharingwords                list<keyframe *>                 åæ­¥åéå³é®å¸§åè¡¨\n                                           lscoreandmatch                  list<pair<float, keyframe *>>    ç­éåè¯æ°åçåéå³é®å¸§åè¡¨\n                                           vploopcandidates                vector<keyframe *>               æåè¿åçå³é®å¸§åè¡¨\n              updateconnections()          kfcounter                       map<keyframe*,int>               å³é®å¸§ -- å±è§ç¨åº¦(å°å¾ç¹ä¸ªæ°)\n                                           vpmp                            vector<mappoint*>                å³é®å¸§çå°å¾ç¹\n                                           observations                    map<keyframe*,size_t>            è§å¯å°è¿ä¸ªå°å¾ç¹çå³é®å¸§ï¼size_tè¡¨ç¤ºè¿ä¸ªå°å¾ç¹å¯¹åºå¨è¯¥å³é®å¸§çç¹å¾ç¹id\n              computesim3()                vvpmappointmatches              vector<vector<mappoint *>>       å­å¨æ¯ä¸ªåéå¸§çå¹éå°å¾ç¹ä¿¡æ¯\n                                           mvpcurrentmatchedpoints         vector<mappoint*>                å­å¨çå°å¾ç¹å¨"å½åå³é®å¸§"ä¸­æåå°æ¾å°äºå¹éç¹çå°å¾ç¹çéå\n              correctloop()                correctedsim3                   map<keyframe *, sim3>            å­å¨çå°å¾ç¹å¨"å½åå³é®å¸§"ä¸­æåå°æ¾å°äºå¹éç¹çå°å¾ç¹çéå\n                                           noncorrectedsim3                map<keyframe *, sim3>            å­æ¾æ²¡æç«æ­£çå½åå³é®å¸§çå±è§å³é®å¸§çä¸çåæ ç³»ä¸simåæ¢\n\n\n# trackingæµç¨\n\n 1. ä½å§¿åå§åï¼æªåé¨åï¼ï¼æ ¹æ®ç³»ç»ç¶åµãè·è¸ªææéæ©ä¸åçä½å§¿åå§åæ¹æ³\n    \n    if(mstate==ok){\n        checkreplacedinlastframe();\n        \n        if(mvelocity.empty() || mcurrentframe.mnid<mnlastrelocframeid+2)\n            bok = trackreferencekeyframe();\n        else{\n            bok = trackwithmotionmodel();\n            if(!bok)\n                //æ ¹æ®æéæ¨¡åå¤±è´¥ï¼æ ¹æ®åèå³é®å¸§æ¥è·è¸ª\n                bok = trackreferencekeyframe();\n        }\n    }\n    else\n        bok = relocalization();\n    \n    \n    checkreplacedinlastframe() ==æ´æ°ä¸ä¸å¸§ä¸­çå°å¾ç¹==\n    \n    >   - æ£æ¥$currframe$ä¸­æ¯å¦æå°å¾ç¹è¢«localmappingçº¿ç¨æ¿æ¢æèå é¤\n    >   \t\t\t\t\t\n    >   \t- è¢«æ¿æ¢åæ´æ°ï¼è¢«å é¤åå°å°å¾ç¹èµå¼ä¸ºnull\n    \n    ----------------------------------------\n    \n    trackwithmotionmodel() ==ç¨åéè¿å¨æ¨¡åï¼å¯¹currframeè¿è¡ä½å§¿åå§å==\n    \n    >   - é»è®¤ä¸ä¸å¸§å° $currframe$ çåæ¢ç©éµç­äºä¸ä¸å¸§å°ä¸ä¸å¸§çåæ¢ç©éµã\n    >   \t\t\t\t\t\n    >   - å°ä¸ä¸å¸§è§æµå°çå°å¾ç¹ï¼æå½±å°$currframe$ ï¼æå½±ç¹ä¸ç¹å¾ç¹çé´è·ä½ä¸ºerrorï¼å¦æå¹éç¹ä¸å¤ï¼åè¿è¡`trackreferencekeyframe()`\n    >   - å¦æå¹éç¹è¶³å¤ï¼è¿è¡ä¸æ¬¡ä»ä½å§¿çbaä¼åï¼ä¼å$currframe$çposeï¼ä½¿erroræå°\n    \n    ----------------------------------------\n    \n    trackreferencekeyframe() ==ç¨ä¸ä¸å¸§ï¼å¯¹currframeè¿è¡ä½å§¿åå§å==\n    \n    >   - ç¨**è¯è¢æ¨¡å**ï¼å° $currframe$ ä¸**åèå³é®å¸§**ï¼ææ°çå³é®å¸§ï¼è¿è¡ç¹å¾å¹é\n    >   \t\t\t\t\t\n    >   - å° **åèå³é®å¸§**çå°å¾ç¹æå½±å°$currframe$ ï¼æå½±ç¹ä¸ç¹å¾ç¹çé´è·ä½ä¸ºerror\n    >   - å¦æå¹éç¹è¶³å¤ï¼è¿è¡ä»ä½å§¿çbaä¼åï¼ä¼å$currframe$çposeï¼ä½¿erroræå°\n    \n    ----------------------------------------\n    \n    relocalization() ==ç¨è¯è¢æ¨¡åå¯»æ¾relocframeï¼å¯¹currframeè¿è¡ä½å§¿åå§å==\n    \n    >   - å¨ææå³é®å¸§ä¸­ï¼åç¨è¯è¢æ¨¡åæ¾åºä¸æ¹ï¼ä¸$currframe$å±ååè¯æå¤çå³é®å¸§ï¼ä½ä¸ºåéå³é®å¸§`vpcandidatekfs`\n    >   \t\t\t\t\t\n    >   - éå`vpcandidatekfs`ï¼ç¨è¯è¢æ¨¡åï¼æ¾åºä¸$currframe$ç¸ä¼¼åº¦æé«çå¸§ä½ä¸º$relocframe$\n    >   -  ç¨**è¯è¢æ¨¡å**ï¼å° $currframe$ ä¸ **$relocframe$** è¿è¡ç¹å¾å¹é\n    >   - å° **$relocframe$**çå¯¹åºå°å¾ç¹æå½±å°$currframe$ ä¸ï¼æå½±ç¹ä¸ç¹å¾ç¹çé´è·ä½ä¸ºerror\n    >   - å¦æå¹éç¹è¶³å¤ï¼è¿è¡ä»ä½å§¿çbaä¼åï¼ä¼å$currframe$çposeï¼ä½¿erroræå°\n    \n    ----------------------------------------\n\n 2. å±é¨ä½å§¿ä¼å ãå³é®å¸§å®¡æ ¸ï¼æªåé¨åï¼\n\n//æ´æ°åèå³é®å¸§\nmcurrentframe.mpreferencekf = mpreferencekf;\nif(!mbonlytracking){\nif(bok)\n    bok = tracklocalmap();\n}\nelse\n{\nif(bok && !mbvo)\n    bok = tracklocalmap();\n}\n\n//æ´æ°ç³»ç»ç¶æãæ´æ°æ¾ç¤ºã ç­ç­\n.....\n\n\nif(neednewkeyframe())\n    createnewkeyframe();\n\n\ntracklocalmap() ==å±é¨å°å¾ä¸­ï¼ç¨baä¼å currframe çä½å§¿==\n\n>  * æ´æ°å±é¨å³é®å¸§ãå±é¨å°å¾ç¹ï¼æå»ºå±é¨å°å¾\n> \n>  * å°å±é¨å°å¾ä¸­çmappointæå½±å°currframeï¼å»ºç«æ°çå¹éå³ç³»\n> \n>  * ä»ä½å§¿çbaä¼å\n> \n>  * æ´æ°currframeå¯¹åºçæ¯ä¸ªmappointçè¢«è§æµä¿¡æ¯ãå é¤å¤ç¹\n\n * æ ¹æ®å¹éç¹æ°ç®å¤æ­å±é¨ä½å§¿ä¼åçå¥½åï¼å¥½çè¯(æåå¹é50ä¸ªç¹)è¿åtrueï¼å¦åflase\n\n----------------------------------------\n\nneednewkeyframe() ==æ£æµç³»ç»æ¯å¦éè¦æå¥å³é®å¸§==\n\n>  * çº¯trackingæ¨¡å¼ï¼ä¸çäº§å³é®å¸§\n> \n>  * loopclosingçº¿ç¨æ­£å¨ä½¿ç¨å±é¨å°å¾æ¶ï¼ä¸çäº§å³é®å¸§\n> \n>  * å³é®å¸§æ°ç®è¾å¤ãä¸ä½ç½®ç¦»ä¸ä¸ä¸ªå³é®å¸§è¾è¿ï¼ä¸çäº§å³é®å¸§\n\n * å½localmappingçº¿ç¨ä¸å¿ï¼ä¸numcurrnumrefå°äºä¸å®éå¼ï¼åéè¦çäº§å³é®å¸§ï¼è¿åtrue\n\n----------------------------------------\n\ncreatenewkeyframe() å°è®¾ç½®ä¸ºä¸ä¸ªå³é®å¸§å¯¹è±¡ï¼å¹¶æå¥currframeè®¾ç½®ä¸ºä¸ä¸ªå³é®å¸§å¯¹è±¡ï¼å¹¶æå¥mlnewkeyframes\n\n----------------------------------------\n\n\n# localmappingæµç¨\n\nå½æ°ä¸»ä½ï¼æªåé¨åï¼\n\nif(checknewkeyframes())\n{\n    processnewkeyframe();\n    \n    mappointculling();\n    \n    createnewmappoints();\n    \n    if(!checknewkeyframes())\n        searchinneighbors();\n                \n    mbabortba = false;\n    \n    if(!checknewkeyframes() && !stoprequested())\n    {\n        if(mpmap->keyframesinmap()>2)\n            optimizer::localbundleadjustment(mpcurrentkeyframe,&mbabortba, mpmap);\n        keyframeculling();\n    }\n    mploopcloser->insertkeyframe(mpcurrentkeyframe);\n}\n\n\nchecknewkeyframes() ==æ£æ¥å³é®å¸§éåmlnewkeyframesæ¯å¦éç©º==\n\n----------------------------------------\n\nprocessnewkeyframe()\n==å°æ­¤å¸§å¯¹å°å¾ç¹çè§æµä¿¡æ¯è¡¥åè¿ï¼èå¥ï¼å¨å±å¾ï¼åå°æ­¤å¸§ä½ä¸ºèç¹æå¥å±è§å¾åå¨å±å°å¾==\n\n>  * è®¡ç®æ­¤å³é®å¸§å¸§çbowè¯è¢åé\n>  * è·åå¨å±å¾ä¸­è¢«æ­¤å³é®å¸§è§æµå°çå°å¾ç¹ vpmappointmatches\n>  * å¯¹vpmappointmatchesä¸­æ¯ä¸ä¸ªå°å¾ç¹ï¼æ´æ°ï¼å°å¾ç¹çè¢«è§æµæ°ï¼+1ï¼ï¼å¹³åè§æµæ¹åãæä½³æè¿°å­ç­ï¼ä¸å¤ç¡®å®çå°å¾ç¹ï¼è®°å½å¨ mlploopkeyframequeueï¼éè¿ä¸æ­¥æ£æ¥\n>  * æå¸§æå¥å±è§å¾ï¼å¯»æ¾å±è§å³ç³»ï¼æ´æ°å±è§å¾é¾æ¥å³ç³»\n>  * æå¸§æå¥å¨å±å°å¾\n\n----------------------------------------\n\nmappointculling() ==éåmlploopkeyframequeue ä¸­å°å¾ç¹pï¼å é¤å¶ä¸­è´¨éä¸å¥½çç¹==\n\n>  * pä¸ºåç¹ï¼ç´æ¥å é¤\n>  * å®éä¸è§æµå°çå¸§æ°çè®ºä¸åºè¯¥è§æµå°çå¸§æ°å®éä¸è§æµå°pçå¸§æ°çè®ºä¸åºè¯¥è§æµå°pçå¸§æ°<25% ï¼å é¤p\n>  * å½åå³é®å¸§id - åå»ºpçå¸§id>2ï¼ç¸å½äºå¨æ¶é´ç©ºé´ä¸å·²ç»è¿è¡äºä¸æ®µæ¶é´ï¼ä½å®éè§æµæ°ä»å°äºä¸ä¸ªéå¼cnthobsï¼å é¤p\n\n----------------------------------------\n\ncreatenewmappoints() ==å°å³é®å¸§ä¸­çç¹å¾ç¹ä¸è§åï¼åå»ºæ°mappoint==\n\n>  * æ¿å°trackingå®¡æ ¸å¾å°çå³é®å¸§currframeåï¼è·åå±è§ç¨åº¦æé«çå¸§ä½ä¸ºç¸é»å³é®å¸§\n>  * éåç¸é»å±è§å³é®å¸§ï¼åå«ä¸currframeè¿è¡ç¹å¾å¹éåä¸è§åï¼çæå°å¾ç¹\n>  * çæçå°å¾ç¹è®°å½å¨mlploopkeyframequeueï¼è¿éè¿ä¸æ­¥æ£æ¥\n\n----------------------------------------\n\nsearchinneighbors() ==å°æææ°çmappointèå¥å¨å±mapä¸­ï¼å¹¶å»ºç«ä¸å¶ä»å¸§çèç³»== ==å°å½åå³é®å¸§èå¥å¨å±mapä¸­ï¼å»ºç«ä¸å¶ä»å°å¾ç¹çèç³»==\n\n>  * è·åæ­¤å³é®å¸§å¨å±è§å¾ä¸­çä¸çº§ãäºçº§ç¸é»å³é®å¸§ï¼å¹¶å­æ¾å¨éåvptargetkfsä¸­\n>  * æ­£åæå½±èåï¼å°kcè§æµå°çmappointæå½±è³vptargetkfsä¸­çå³é®å¸§ï¼ä¸å¶ä¸­çç¹å¾ç¹å»ºç«å¹éå³ç³»\n>  * è·åä¸ãäºçº§ç¸é»å³é®å¸§è§æµå°çmappointéåï¼å¹¶å­æ¾å¨vpfusecandidatesä¸­\n>  * ååæå½±èåï¼å°vpfusecandidatesä¸­çmappointæå½±å°kcï¼ä¸kcä¸­çç¹å¾ç¹å»ºç«å¹éå³ç³»\n>  * ç»è¿ä»¥ä¸æ­¥éª¤ï¼æ°å»ºäºè®¸å¤å±è§å³ç³»ï¼æä»¥è¿éæ´æ°å±è§å¾ä¸­kcçé»å±\n\n----------------------------------------\n\nkeyframeculling() ==å é¤åä½å³é®å¸§==\n\n>  * è·åæ­¤å³é®å¸§å¨å±è§å¾ä¸­çä¸çº§ç¸é»å³é®å¸§ï¼å¹¶å­æ¾å¨éåvplocalkeyframesä¸­\n>  * éåvplocalkeyframesï¼è·åæ¯ä¸å±è§å³é®å¸§vitæè§æµå°çå°å¾ç¹pmpï¼å­æ¾å¨éåvpmappointsä¸­\n>  * éåvpmappointsä¸­æ¯ä¸ä¸ªå°å¾ç¹pmpï¼æ ¹æ®pmp->getobservations()éåææè½è§æµå°pmpçå³é®å¸§mit\n>  * æ­¤æ¶ï¼ mitãvité½è§æµå°pmpï¼å¦æmitå¯¹åºçå³é®å¸§å°ºåº¦æ¯è¾å°ï¼è¯´æmitå¯¹åºçå³é®å¸§è¦æ¯vitå¯¹åºçå³é®å¸§æ´é è¿éå­å¡åºé¨ï¼åmitå¯¹pmpè§æµçæææ´å¥½\n>  * å¦æpmpè¢«è¶è¿3ä¸ªmitæ´å¥½å°è§æµï¼åå°åä½ç¹æ°ç®nredundantobservations+1\n>  * éåå®æ¯ä¸ªvitåå¶å¯¹åºçæ¯ä¸ªmitåï¼ç»è®¡nredundantobservationnï¼å¦ænredundantobservationn>90% ï¼å é¤å³é®å¸§kc\n\n----------------------------------------\n\nmappoint::getobservations() ==è·å¾ææè½è§æµå°mappoint çå³é®å¸§éå==\n\n----------------------------------------\n\ninsertkeyframe(mpcurrentkeyframe) ==å°æä¸å¸§æ¾å¥åç¯æ£æµå¤çéå==\n\n\n# loopclosingæµç¨\n\nå½æ°ä¸»é¢\n\nwhile (1)\n\t{\n    // æ£æ¥ç¼å²éåä¸­æ¯å¦æå³é®å¸§\n    if (checknewkeyframes())\n    {\n\t\t// æ£æµé­ç¯\n        if (detectloop())\n        {\n            // è®¡ç®sim3 ç¸ä¼¼åæ¢\n            if (computesim3())\n            {\n                // é­ç¯ç«æ­£\n                correctloop();\n            }\n        }\n    }\n\n\ngetvectorcovisiblekeyframes()\n\n==è·å¾è¯¥å¸§çå±è§å¸§(å·²ææå¼æåº)==\n\ndetectloopcandidates()\n\n==æ¾åºåæ­¥é­ç¯åéå³é®å¸§==\n\n>  * éåå½åå³é®å¸§çææåè¯ï¼æ¾å°è¿äºåè¯çææå³é®å¸§ï¼ä¸åå«ä¸å½åå¸§ç¸è¿çå³é®å¸§ï¼ï¼ä½ä¸ºåéå³é®å¸§ï¼æ¾å¥éålkfssharingwordsä¸­ï¼å¹¶è®°å½åéå³é®å¸§ä¸å½åå¸§çå±ååè¯æ°mnloopwordsï¼\n>  * ä»lkfssharingwordsååºå³é®å¸§ï¼ç¡®å®æå°å¬å±åè¯æ°ä¸ºæå¤§å¬å±åè¯æ°ç®ç0.8åï¼å¹¶ä¸ä¸å½åå¸§çç¸ä¼¼åº¦å¾åè¦å¤§äºéå¼minscoreï¼ç¬¦åè¦æ±çåéå³é®å¸§æ¾å¥éålscoreandmatchï¼\n>  * ä»lscoreandmatchä¸­ååºå³é®å¸§pkfiï¼pkfiä¸å¶å10çå±è§å¸§ç»æä¸ä¸ªç»ï¼è®¡ç®è¿ä¸ªç»çæé«å¾ååç´¯è®¡å¾åï¼åªçä¸æé«ç´¯è®¡å¾åç0.75åçç»ï¼å°çä¸çç»éæé«å¾åçå³é®å¸§æ¾å¥å°vploopcandidatesè¿åã\n\nsearchbybow()\n\n==éè¿è¯è¢åéè¿è¡ç¹å¾å¹é==\n\n>  * éåä¸¤ä¸ªå³é®å¸§bowçææç¸ånodeçç¹å¾ç¹ï¼éè¿æè¿°å­è·ç¦»è¿è¡å¹éï¼\n>  * éè¿è·ç¦»ãæ¯ä¾éå¼åè§åº¦ç´æ¹å¾æç¥¨åé¤éè¯¯å¹éã\n> \n> è¿éä¹åå¯è½ä¼ç®åºä¸ä¸ªsim3åæ¢ï¼å°å¾ç¹åçäºååã\n\nsearchbysim3()\n\n==éè¿sim3åæ¢ç¸äºæå½±ç¹å¾å¹é==\n\n>  * é¦åè®¡ç®ä¸äºå¿è¦çç©éµï¼è¿è¡ä½å§¿åæ¢ï¼æå½±ï¼\n>  * å°å³é®å¸§kf1çç¹å¾ç¹æå½±å°kf2ï¼å¨ä¸ä¸ªåå¾èå´åå°±ç®ç¹å¾å¹éæåï¼\n>  * åçï¼å°å³é®å¸§kf2çç¹å¾ç¹æå½±å°kf1ï¼\n>  * ä¿çä¸¤æ¬¡å¹éé½åºç°çå¹éã\n> \n> è¿éä¹åä¼å¯¹sim3åæ¢è¿è¡ä¼åã\n\nsearchbyprojection()\n\n==æå½±ä¸æ¬¡ï¼æ¥æ¾ç¹å¾å¹éï¼èå´æ¯è¾å¤§==\n\n>  * è·³è¿**searchbysim3()**çå¹éï¼éåé­ç¯kfåå¶å±è§kfçææå°å¾ç¹ï¼æå½±å°å½åkfï¼\n>  * æç´¢åå¾10ï¼æç´¢æ°çå¹éç¹ã\n\nupdateconnections()\n\n==æ´æ°å³é®å¸§ä¹é´çå±è§å³ç³»==\n\n>  * è·åè¯¥å³é®å¸§çå°å¾ç¹vpmpï¼éåå°å¾ç¹ï¼å¾å°ææè§æµå°è¯¥å°å¾ç¹çå³é®å¸§observationsï¼å¹¶è®°å½å³é®å¸§å±è§çå°å¾ç¹ä¸ªæ°ï¼å³é®å¸§åå±è§ç¹ä¸ªæ°ç»æä¸ä¸ªpair\n>  * å¯¹pairæåºï¼å°å±è§ç¹ä¸ªæ°å¤§äºéå¼th=15çå³é®å¸§ï¼å»ºç«ä¸å½åå¸§çå±è§å³ç³»ã\n\nsearchandfuse()\n\n==èååæ¿æ¢å°å¾ç¹==\n\n>  * éåå¾ç«æ­£çå½åå³é®å¸§çç¸è¿å³é®å¸§ï¼\n>  * å°é­ç¯å¸§ç»ææå°å¾ç¹mvploopmappointsï¼æå½±å°å½åå³é®å¸§ï¼\n>  * æ¿æ¢æèåé­ç¯å¸§ç»ä¸­çå°å¾ç¹mvploopmappointsã',charsets:{cjk:!0}},{title:"åºäºæç¥¨çå¢ééå»º",frontmatter:{title:"åºäºæç¥¨çå¢ééå»º",date:"2022-07-29T12:47:36.000Z",permalink:"/pages/9af622/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/04.%E5%9F%BA%E4%BA%8E%E6%8A%95%E7%A5%A8%E7%9A%84%E5%A2%9E%E9%87%8F%E9%87%8D%E5%BB%BA.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/04.åºäºæç¥¨çå¢ééå»º.md",key:"v-4735ad30",path:"/pages/9af622/",headers:[{level:3,title:"Priori Camera Rotations Estimation",slug:"priori-camera-rotations-estimation",normalizedTitle:"priori camera rotations estimation",charIndex:30},{level:3,title:"Camera Seeds Reconstruction",slug:"camera-seeds-reconstruction",normalizedTitle:"camera seeds reconstruction",charIndex:69},{level:3,title:"Camera Registration",slug:"camera-registration",normalizedTitle:"camera registration",charIndex:103},{level:4,title:"Camera Selection",slug:"camera-selection",normalizedTitle:"camera selection",charIndex:126},{level:4,title:"Camera Calibration",slug:"camera-calibration",normalizedTitle:"camera calibration",charIndex:148},{level:4,title:"Camera Verification",slug:"camera-verification",normalizedTitle:"camera verification",charIndex:172},{level:4,title:"Bundle Adjustment",slug:"bundle-adjustment",normalizedTitle:"bundle adjustment",charIndex:197}],headersStr:"Priori Camera Rotations Estimation Camera Seeds Reconstruction Camera Registration Camera Selection Camera Calibration Camera Verification Bundle Adjustment",content:"è¾å¥æ¯ææå¾åçè¿æ¥å¾ï¼è¾åºæ¯ç¸æºä½å§¿åç¨çæ¨¡åã\n\n\n# Priori Camera Rotations Estimation\n\n\n# Camera Seeds Reconstruction\n\n\n\n\n# Camera Registration\n\n# Camera Selection\n\n\n\n# Camera Calibration\n\n\n\n# Camera Verification\n\n\n\n# Bundle Adjustment\n\n",normalizedContent:"è¾å¥æ¯ææå¾åçè¿æ¥å¾ï¼è¾åºæ¯ç¸æºä½å§¿åç¨çæ¨¡åã\n\n\n# priori camera rotations estimation\n\n\n# camera seeds reconstruction\n\n\n\n\n# camera registration\n\n# camera selection\n\n\n\n# camera calibration\n\n\n\n# camera verification\n\n\n\n# bundle adjustment\n\n",charsets:{cjk:!0}},{title:"TheiaSfMä»£ç éè¯»",frontmatter:{title:"TheiaSfMä»£ç éè¯»",date:"2022-07-29T12:47:36.000Z",permalink:"/pages/299ec4/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/03.TheiaSfM%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/03.TheiaSfMä»£ç éè¯».md",key:"v-03535536",path:"/pages/299ec4/",headers:[{level:3,title:"0. The pipeline for estimating camera poses and structure is as follows:",slug:"_0-the-pipeline-for-estimating-camera-poses-and-structure-is-as-follows",normalizedTitle:"0. the pipeline for estimating camera poses and structure is as follows:",charIndex:2},{level:3,title:"1. View Graph",slug:"_1-view-graph",normalizedTitle:"1. view graph",charIndex:632},{level:3,title:"2. Calibrate",slug:"_2-calibrate",normalizedTitle:"2. calibrate",charIndex:720},{level:3,title:"3. Estimate Global Rotation",slug:"_3-estimate-global-rotation",normalizedTitle:"3. estimate global rotation",charIndex:783},{level:4,title:"L1L2",slug:"l1l2",normalizedTitle:"l1l2",charIndex:847},{level:4,title:"Linear",slug:"linear",normalizedTitle:"linear",charIndex:1011},{level:4,title:"nonLinear",slug:"nonlinear",normalizedTitle:"nonlinear",charIndex:1021},{level:3,title:"4. Filter Rotation",slug:"_4-filter-rotation",normalizedTitle:"4. filter rotation",charIndex:1035},{level:3,title:"5. Optimize relative translations",slug:"_5-optimize-relative-translations",normalizedTitle:"5. optimize relative translations",charIndex:1144},{level:3,title:"6. Filter relative translations",slug:"_6-filter-relative-translations",normalizedTitle:"6. filter relative translations",charIndex:1182},{level:3,title:"7. Estimate Global Positions",slug:"_7-estimate-global-positions",normalizedTitle:"7. estimate global positions",charIndex:1218},{level:3,title:"8. Triangulate features",slug:"_8-triangulate-features",normalizedTitle:"8. triangulate features",charIndex:1251},{level:3,title:"9. Bundle Adjustment",slug:"_9-bundle-adjustment",normalizedTitle:"9. bundle adjustment",charIndex:1279},{level:3,title:"10. Output",slug:"_10-output",normalizedTitle:"10. output",charIndex:1304}],headersStr:"0. The pipeline for estimating camera poses and structure is as follows: 1. View Graph 2. Calibrate 3. Estimate Global Rotation L1L2 Linear nonLinear 4. Filter Rotation 5. Optimize relative translations 6. Filter relative translations 7. Estimate Global Positions 8. Triangulate features 9. Bundle Adjustment 10. Output",content:"# 0. The pipeline for estimating camera poses and structure is as follows:\n\n>  1.  Filter potentially bad pairwise geometries by enforcing a loop constaint on rotations that form a triplet.\n>  2.  Initialize focal lengths.\n>  3.  Estimate the global rotation for each camera.\n>  4.  Remove any pairwise geometries where the relative rotation is not consistent with the global rotation.\n>  5.  Optimize the relative translation given the known rotations.\n>  6.  Filter potentially bad relative translations.\n>  7.  Estimate positions.\n>  8.  Estimate structure.\n>  9.  Bundle adjustment.\n>  10. Retriangulate, and bundle adjust.\n\n\n# 1. View Graph\n\néåView Graphä¸­ææçè¾¹ï¼å¦æè¾¹çä¸¤è§å¾åç¹å°äºéå¼ï¼åå é¤è¯¥æ¡è¾¹ã\n\néåææçè¾¹ï¼è®¡ç®æ¯æ¡è¾¹çè¿æ¥æ°ï¼ä¿çè¿æ¥æ°æå¤§çè¾¹ã\n\n\n# 2. Calibrate\n\nå å¥è§å¾æ¶è®¾ç«åç»çç»æï¼æ¯ä¸ç»è®¾ç«ä¸ä¸ªä»£è¡¨æ§çè§å¾ï¼åä¸ç»ä¸­çè§å¾å±äº«ä»£è¡¨è§å¾çååã\n\n\n# 3. Estimate Global Rotation\n\nçææå¤§çææ ï¼ä¸æå°çææ æ¹æ³ç±»ä¼¼ï¼åªéè¦ææå¼è®¾ç½®ä¸ºè´å¼ã\n\néæ©L1L2ãnonlinearãlinearæ±è§£ã\n\n# L1L2\n\næå»ºçº¿æ§ç³»ç»ï¼AÏglobalâÏrelä¸­ç Aã\n\nè®¡ç®è¯¯å·®é¡¹ Rerr=R2TâR12âR1ã\n\næå»ºæ¹ç¨ç»ï¼æ§è¡L1_solverï¼æ±è§£åºå¢éï¼æ´æ°GlobalRotationsã\n\nè®¡ç®å½åçè¯¯å·®é¡¹ï¼è¿­ä»£ã\n\nSolveIRLS()ï¼çä¸æäºã\n\n# Linear\n\n# nonLinear\n\n\n# 4. Filter Rotation\n\néè¿Rotationsè¿æ»¤è¾¹ï¼å¦æä¸æ¡è¾¹çä¸¤ä¸ªè§å¾æä»»æä¸ä¸ªè§å¾æ²¡æä¼°è®¡åºrotationï¼æèï¼å¦æä¸¤è§å¾é´çæè½¬è¿å¤§ï¼åå é¤è¿æ¡è¾¹ã\n\nç§»é¤æ²¡æè¿æ¥å°æå¤§å­å¾çè¾¹ã\n\n\n# 5. Optimize relative translations\n\n\n# 6. Filter relative translations\n\n\n# 7. Estimate Global Positions\n\n\n# 8. Triangulate features\n\n\n# 9. Bundle Adjustment\n\n\n# 10. Output",normalizedContent:"# 0. the pipeline for estimating camera poses and structure is as follows:\n\n>  1.  filter potentially bad pairwise geometries by enforcing a loop constaint on rotations that form a triplet.\n>  2.  initialize focal lengths.\n>  3.  estimate the global rotation for each camera.\n>  4.  remove any pairwise geometries where the relative rotation is not consistent with the global rotation.\n>  5.  optimize the relative translation given the known rotations.\n>  6.  filter potentially bad relative translations.\n>  7.  estimate positions.\n>  8.  estimate structure.\n>  9.  bundle adjustment.\n>  10. retriangulate, and bundle adjust.\n\n\n# 1. view graph\n\néåview graphä¸­ææçè¾¹ï¼å¦æè¾¹çä¸¤è§å¾åç¹å°äºéå¼ï¼åå é¤è¯¥æ¡è¾¹ã\n\néåææçè¾¹ï¼è®¡ç®æ¯æ¡è¾¹çè¿æ¥æ°ï¼ä¿çè¿æ¥æ°æå¤§çè¾¹ã\n\n\n# 2. calibrate\n\nå å¥è§å¾æ¶è®¾ç«åç»çç»æï¼æ¯ä¸ç»è®¾ç«ä¸ä¸ªä»£è¡¨æ§çè§å¾ï¼åä¸ç»ä¸­çè§å¾å±äº«ä»£è¡¨è§å¾çååã\n\n\n# 3. estimate global rotation\n\nçææå¤§çææ ï¼ä¸æå°çææ æ¹æ³ç±»ä¼¼ï¼åªéè¦ææå¼è®¾ç½®ä¸ºè´å¼ã\n\néæ©l1l2ãnonlinearãlinearæ±è§£ã\n\n# l1l2\n\næå»ºçº¿æ§ç³»ç»ï¼aÏglobalâÏrelä¸­ç aã\n\nè®¡ç®è¯¯å·®é¡¹ rerr=r2târ12âr1ã\n\næå»ºæ¹ç¨ç»ï¼æ§è¡l1_solverï¼æ±è§£åºå¢éï¼æ´æ°globalrotationsã\n\nè®¡ç®å½åçè¯¯å·®é¡¹ï¼è¿­ä»£ã\n\nsolveirls()ï¼çä¸æäºã\n\n# linear\n\n# nonlinear\n\n\n# 4. filter rotation\n\néè¿rotationsè¿æ»¤è¾¹ï¼å¦æä¸æ¡è¾¹çä¸¤ä¸ªè§å¾æä»»æä¸ä¸ªè§å¾æ²¡æä¼°è®¡åºrotationï¼æèï¼å¦æä¸¤è§å¾é´çæè½¬è¿å¤§ï¼åå é¤è¿æ¡è¾¹ã\n\nç§»é¤æ²¡æè¿æ¥å°æå¤§å­å¾çè¾¹ã\n\n\n# 5. optimize relative translations\n\n\n# 6. filter relative translations\n\n\n# 7. estimate global positions\n\n\n# 8. triangulate features\n\n\n# 9. bundle adjustment\n\n\n# 10. output",charsets:{cjk:!0}},{title:"å¤ç¹å»é¤",frontmatter:{title:"å¤ç¹å»é¤",date:"2022-07-31T12:47:36.000Z",permalink:"/pages/7453b3/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/05.%E5%A4%96%E7%82%B9%E5%8E%BB%E9%99%A4.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/05.å¤ç¹å»é¤.md",key:"v-44e6151e",path:"/pages/7453b3/",headers:[{level:3,title:"åºäºå¯è§æ§çå¤ç¹å»é¤",slug:"åºäºå¯è§æ§çå¤ç¹å»é¤",normalizedTitle:"åºäºå¯è§æ§çå¤ç¹å»é¤",charIndex:2},{level:4,title:"Initialization",slug:"initialization",normalizedTitle:"initialization",charIndex:16},{level:4,title:"Database Image Voting",slug:"database-image-voting",normalizedTitle:"database image voting",charIndex:94},{level:4,title:"Database Image Re-Ranking",slug:"database-image-re-ranking",normalizedTitle:"database image re-ranking",charIndex:121},{level:4,title:"Outlier Filter and Match Augmentation",slug:"outlier-filter-and-match-augmentation",normalizedTitle:"outlier filter and match augmentation",charIndex:152},{level:3,title:"åºäºå ä½çå¤ç¹å»é¤",slug:"åºäºå ä½çå¤ç¹å»é¤",normalizedTitle:"åºäºå ä½çå¤ç¹å»é¤",charIndex:196},{level:4,title:"A Data-Driven Geometrical Constraint",slug:"a-data-driven-geometrical-constraint",normalizedTitle:"a data-driven geometrical constraint",charIndex:209},{level:4,title:"The Outlier Filter",slug:"the-outlier-filter",normalizedTitle:"the outlier filter",charIndex:251}],headersStr:"åºäºå¯è§æ§çå¤ç¹å»é¤ Initialization Database Image Voting Database Image Re-Ranking Outlier Filter and Match Augmentation åºäºå ä½çå¤ç¹å»é¤ A Data-Driven Geometrical Constraint The Outlier Filter",content:"# åºäºå¯è§æ§çå¤ç¹å»é¤\n\n# Initialization\n\nå¯¹äºæ°å å¥çä¸å¹å¾åä¸­çæç¹å¾ç¹qï¼æ¾å°ç3Då³è p1stï¼p2ndï¼ å¦æä¸¤ä¸ªå¹éå³ç³»ç¸å·®è¾å¤ï¼åä¿çä¸æ¥ã\n\n\n\n# Database Image Voting\n\n\n\n# Database Image Re-Ranking\n\n\n\n# Outlier Filter and Match Augmentation\n\n\n\n\n# åºäºå ä½çå¤ç¹å»é¤\n\n# A Data-Driven Geometrical Constraint\n\n\n\n# The Outlier Filter\n\n",normalizedContent:"# åºäºå¯è§æ§çå¤ç¹å»é¤\n\n# initialization\n\nå¯¹äºæ°å å¥çä¸å¹å¾åä¸­çæç¹å¾ç¹qï¼æ¾å°ç3då³è p1stï¼p2ndï¼ å¦æä¸¤ä¸ªå¹éå³ç³»ç¸å·®è¾å¤ï¼åä¿çä¸æ¥ã\n\n\n\n# database image voting\n\n\n\n# database image re-ranking\n\n\n\n# outlier filter and match augmentation\n\n\n\n\n# åºäºå ä½çå¤ç¹å»é¤\n\n# a data-driven geometrical constraint\n\n\n\n# the outlier filter\n\n",charsets:{cjk:!0}},{title:"orbslamè®ºæéè¯»ç¬è®°",frontmatter:{title:"orbslamè®ºæéè¯»ç¬è®°",date:"2022-05-16T11:01:06.000Z",permalink:"/pages/ed705b/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/13.orbslam%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/13.orbslamè®ºæéè¯»ç¬è®°.md",key:"v-35d02571",path:"/pages/ed705b/",headersStr:null,content:"ä½¿ç¨ORBç¹å¾\n\nä¸å¤§ä¸»çº¿ç¨ï¼TrackingãLocal MappingãLoop Closingã\n\nTracking é¦åå¯¹å½åå¸§ï¼åä¸ä¸å¸§è¿è¡ç¹å¾å¹éè®¡ç®ä½å§¿ï¼ç¶åä½¿ç¨motion-only BAè¿è¡ä¼åãå¦æè·è¸ªå¤±è´¥ï¼åæ§è¡å¨å±éå®ä½ï¼è¯è¢æ¨¡åï¼ãä¸æ¦åå§åæåï¼åéè¿å±è§å¾æ¥ä¼åå½åå±é¨å°å¾ãéè¿éæå½±å¨å±é¨å°å¾ä¸­æç´¢å¹éç¹ï¼è¿ä¸æ­¥ä¼åç¸æºçä½å§¿ãæåå³å®å½åå¸§æ¯å¦æ¯å³é®å¸§ã\n\nLocal Mapping å¤çå¤çä¸ä¸ªæ°çå³é®å¸§ï¼å¹¶è¿è¡å±é¨BAæ¥ä¼åå½ååºæ¯ä¸éè¿çå¸§çä½å§¿ãå¨å±è§å¾ä¸­ä¸ç¸è¿çå³é®å¸§è¿è¡ä¸è§åï¼åå»ºå°å¾ç¹ãåé¤å°å¾ç¹ã\n\nLoop Closing æ£æµæ¯ä¸ä¸ªå³é®å¸§ãå¹éåç¯åè¿è¡ä½å§¿å¾ä¼åã\n\nä¸äºæ°æ®è¡¨ç¤ºï¼\n\nå°å¾ç¹ ä¸çåæ ç³»ä¸ç3Dåæ ï¼è§æµæ¹åï¼ä¸å³é®å¸§åå¿ç¸è¿ï¼ææå³é®å¸§çå¹³åå¼ï¼ï¼ORBæè¿°ç¬¦ï¼è§æµå°è¯¥ç¹çæå¤§æ·±åº¦åæå°æ·±åº¦ï¼\n\nå³é®å¸§ ç¸æºä½å§¿ï¼ç¸æºååï¼ORBç¹å¾ç¹ï¼\n\nå±è§å¾ å¦æä¸¤ä¸ªå³é®å¸§ä¹é´æ15ä¸ªå±åè§æµçå°å¾ç¹ï¼åä»ä»¬ä¹é´å­å¨ä¸æ¡è¾¹ï¼è¾¹çæå¼ä¸ºå±åè§æµçç¹æ°ã\n\næ¬è´¨å¾ åå«ææå³é®å¸§çæå°çææ ãå±è§å¾ä¸­æå¼å¤§äº100çè¾¹ä»¥ååç¯è¾¹ã\n\nå°å¾åå§å èªå¨éæ©ä¸ä¸ªæ¨¡åè¿è¡å°å¾åå§åï¼é¦åéè¿ä¸¤å¸§å¹¶è¡è®¡ç®Hç©éµåFç©éµï¼å¹¶ä¸è®¡ç®ä»ä»¬çå¾åï¼æ ¹æ®å¾åæ¥éæ©ä½¿ç¨Hç©éµï¼è¿æ¯Fç©éµæ¥è¿è¡åå§åãä¸è¬æ¥è¯´ï¼åºæ¯æ¯å¹³é¢æä½è§å·®å°±ç¨Hç©éµï¼éå¹³é¢è¶³å¤è§å·®å°±ç¨Fç©éµã",normalizedContent:"ä½¿ç¨orbç¹å¾\n\nä¸å¤§ä¸»çº¿ç¨ï¼trackingãlocal mappingãloop closingã\n\ntracking é¦åå¯¹å½åå¸§ï¼åä¸ä¸å¸§è¿è¡ç¹å¾å¹éè®¡ç®ä½å§¿ï¼ç¶åä½¿ç¨motion-only baè¿è¡ä¼åãå¦æè·è¸ªå¤±è´¥ï¼åæ§è¡å¨å±éå®ä½ï¼è¯è¢æ¨¡åï¼ãä¸æ¦åå§åæåï¼åéè¿å±è§å¾æ¥ä¼åå½åå±é¨å°å¾ãéè¿éæå½±å¨å±é¨å°å¾ä¸­æç´¢å¹éç¹ï¼è¿ä¸æ­¥ä¼åç¸æºçä½å§¿ãæåå³å®å½åå¸§æ¯å¦æ¯å³é®å¸§ã\n\nlocal mapping å¤çå¤çä¸ä¸ªæ°çå³é®å¸§ï¼å¹¶è¿è¡å±é¨baæ¥ä¼åå½ååºæ¯ä¸éè¿çå¸§çä½å§¿ãå¨å±è§å¾ä¸­ä¸ç¸è¿çå³é®å¸§è¿è¡ä¸è§åï¼åå»ºå°å¾ç¹ãåé¤å°å¾ç¹ã\n\nloop closing æ£æµæ¯ä¸ä¸ªå³é®å¸§ãå¹éåç¯åè¿è¡ä½å§¿å¾ä¼åã\n\nä¸äºæ°æ®è¡¨ç¤ºï¼\n\nå°å¾ç¹ ä¸çåæ ç³»ä¸ç3dåæ ï¼è§æµæ¹åï¼ä¸å³é®å¸§åå¿ç¸è¿ï¼ææå³é®å¸§çå¹³åå¼ï¼ï¼orbæè¿°ç¬¦ï¼è§æµå°è¯¥ç¹çæå¤§æ·±åº¦åæå°æ·±åº¦ï¼\n\nå³é®å¸§ ç¸æºä½å§¿ï¼ç¸æºååï¼orbç¹å¾ç¹ï¼\n\nå±è§å¾ å¦æä¸¤ä¸ªå³é®å¸§ä¹é´æ15ä¸ªå±åè§æµçå°å¾ç¹ï¼åä»ä»¬ä¹é´å­å¨ä¸æ¡è¾¹ï¼è¾¹çæå¼ä¸ºå±åè§æµçç¹æ°ã\n\næ¬è´¨å¾ åå«ææå³é®å¸§çæå°çææ ãå±è§å¾ä¸­æå¼å¤§äº100çè¾¹ä»¥ååç¯è¾¹ã\n\nå°å¾åå§å èªå¨éæ©ä¸ä¸ªæ¨¡åè¿è¡å°å¾åå§åï¼é¦åéè¿ä¸¤å¸§å¹¶è¡è®¡ç®hç©éµåfç©éµï¼å¹¶ä¸è®¡ç®ä»ä»¬çå¾åï¼æ ¹æ®å¾åæ¥éæ©ä½¿ç¨hç©éµï¼è¿æ¯fç©éµæ¥è¿è¡åå§åãä¸è¬æ¥è¯´ï¼åºæ¯æ¯å¹³é¢æä½è§å·®å°±ç¨hç©éµï¼éå¹³é¢è¶³å¤è§å·®å°±ç¨fç©éµã",charsets:{cjk:!0}},{title:"MVS",frontmatter:{title:"MVS",date:"2022-04-13T12:47:36.000Z",permalink:"/pages/98600a/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/01.MVS.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/01.MVS.md",key:"v-e08ea78c",path:"/pages/98600a/",headers:[{level:3,title:"Global View Selection",slug:"global-view-selection",normalizedTitle:"global view selection",charIndex:115},{level:3,title:"Local View Selection",slug:"local-view-selection",normalizedTitle:"local view selection",charIndex:335},{level:3,title:"Multi-View Stereo Reconstruction",slug:"multi-view-stereo-reconstruction",normalizedTitle:"multi-view stereo reconstruction",charIndex:414}],headersStr:"Global View Selection Local View Selection Multi-View Stereo Reconstruction",content:"æä»¬ä»äºèç½æ¶éçå¾çéå»ºå ä½å¾å½¢çæ¹æ³åæ¬å ä¸ªé¶æ®µ\n\n * ç¸æºæ å®\n * ä¸ºæ¯ä¸å¼ å¾åä¼°è®¡ä¸å¼ æ·±åº¦å¾\n * ä¸¤çº§è§å¾éæ©ç®æ³\n   * å¨å±è§å¾éæ©ï¼æ¾å°ä¸ç»é»åå¾åã\n   * å±é¨è§å¾éæ©ï¼åæ¾å°æå¥½çå¹éå¾åã\n\n\n# Global View Selection\n\nå¯¹äºæ¯ä¸åèè§å¾Rï¼å¨å±è§å¾éæ©æ¨å¨å¯»æ¾ä¸ç»é»åå¾åNï¼è¿äºå¾åå¨åºæ¯åå®¹ãå¤è§åå°ºåº¦æ¹é¢æ¯ç«ä½å¹éçè¯å¥½åéå¾åãåéå¾ååºä¸åèå¾åRæè¶³å¤çè§å·®ãè®¾è®¡ä¸ä¸ªè¯åå½æ°æ¥è¡¡éåéå¾åçè´¨éã\n\nå±äº«ç¹å¾å æå\n\ngR(V)=âFVâ©FRwN(f)âws(f)\n\nFXæ¯è§å¾Xçè§æµå°çç¹å¾ç¹ï¼wNæ¯è®¡ç®ä¸¤è§å¾ä¹é´ï¼å±è§çè§åº¦æéãwsæ¯è®¡ç®ä¸¤è§å¾ä¹é´å¨å±è§ç¹å¾åºåç3Dåè¾¨ççå·®å¼ã\n\n\n# Local View Selection\n\nä»å¨å±è§å¾ä¸­éåä¸ä¸ªå­éãé¦åè®¡ç®localå¾åï¼ç¶åè®¡ç®NCCå¾åï¼å¦æå¤§äºéå¼ï¼åå å¥å°å±é¨è§å¾ä¸­ã\n\n\n# Multi-View Stereo Reconstruction\n\n...",normalizedContent:"æä»¬ä»äºèç½æ¶éçå¾çéå»ºå ä½å¾å½¢çæ¹æ³åæ¬å ä¸ªé¶æ®µ\n\n * ç¸æºæ å®\n * ä¸ºæ¯ä¸å¼ å¾åä¼°è®¡ä¸å¼ æ·±åº¦å¾\n * ä¸¤çº§è§å¾éæ©ç®æ³\n   * å¨å±è§å¾éæ©ï¼æ¾å°ä¸ç»é»åå¾åã\n   * å±é¨è§å¾éæ©ï¼åæ¾å°æå¥½çå¹éå¾åã\n\n\n# global view selection\n\nå¯¹äºæ¯ä¸åèè§å¾rï¼å¨å±è§å¾éæ©æ¨å¨å¯»æ¾ä¸ç»é»åå¾ånï¼è¿äºå¾åå¨åºæ¯åå®¹ãå¤è§åå°ºåº¦æ¹é¢æ¯ç«ä½å¹éçè¯å¥½åéå¾åãåéå¾ååºä¸åèå¾åræè¶³å¤çè§å·®ãè®¾è®¡ä¸ä¸ªè¯åå½æ°æ¥è¡¡éåéå¾åçè´¨éã\n\nå±äº«ç¹å¾å æå\n\ngr(v)=âfvâ©frwn(f)âws(f)\n\nfxæ¯è§å¾xçè§æµå°çç¹å¾ç¹ï¼wnæ¯è®¡ç®ä¸¤è§å¾ä¹é´ï¼å±è§çè§åº¦æéãwsæ¯è®¡ç®ä¸¤è§å¾ä¹é´å¨å±è§ç¹å¾åºåç3dåè¾¨ççå·®å¼ã\n\n\n# local view selection\n\nä»å¨å±è§å¾ä¸­éåä¸ä¸ªå­éãé¦åè®¡ç®localå¾åï¼ç¶åè®¡ç®nccå¾åï¼å¦æå¤§äºéå¼ï¼åå å¥å°å±é¨è§å¾ä¸­ã\n\n\n# multi-view stereo reconstruction\n\n...",charsets:{cjk:!0}},{title:"å­¦ä¹ opengl",frontmatter:{title:"å­¦ä¹ opengl",date:"2022-03-17T12:47:36.000Z",permalink:"/pages/cc38e6/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/06.%E5%AD%A6%E4%B9%A0opengl.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/06.å­¦ä¹ opengl.md",key:"v-56cefa9b",path:"/pages/cc38e6/",headersStr:null,content:"é¦ååå§åã\n\nåå»ºä¸ä¸ªçªå£å¯¹è±¡ï¼åç§°ï¼å¤§å°ã\n\nå¾ªç¯æ¸²æã\n\nå¾åæ¸²æç®¡çº¿æ¥åä¸ç»3Dåæ ï¼ç¶åæä»ä»¬è½¬åä¸ºå±å¹ä¸çæè²ç2Dåç´ è¾åºãå¾å½¢æ¸²æç®¡çº¿å¯ä»¥è¢«ååä¸ºå ä¸ªé¶æ®µï¼æ¯ä¸ªé¶æ®µå°ä¼æåä¸ä¸ªçè¾åºä½ä¸ºè¾å¥ãæ¯ä¸ä¸ªé¶æ®µè¿è¡åèªçå°ç¨åºï¼çè²å¨Shaderï¼ã\n\nä¸è¬åªéè¦éç½®é¡¶ç¹çè²å¨åçæ®µçè²å¨ã\n\né¡¶ç¹çè²å¨ï¼æä¸ä¸ª3Dåæ è½¬å°å¦ä¸ç§3Dåæ ã\n\nçæ®µçè²å¨ï¼è®¡ç®åç´ æåçé¢è²è¾åºã\n\né¦åå®ä¹ä¸ç»é¡¶ç¹æ°æ®ï¼floatæ°ç»ã\n\néè¿VBOä¸æ¬¡æ§æå¤§æ¹æ°æ®åéå°GPUä¸­ã\n\nå®ä¹é¡¶ç¹çè²å¨ï¼ä½¿ç¨çè²å¨è¯­è¨GLSLã\n\nå°çè²å¨æºç éå å°çè²å¨å¯¹è±¡ä¸ï¼ç¶åç¼è¯å®ã\n\nçæ®µçè²å¨åçã\n\né¾æ¥é¡¶ç¹çè²å¨åçæ®µçè²å¨ã\n\nç»é¡¶ç¹çè²å¨è¾å¥æ°æ®ã",normalizedContent:"é¦ååå§åã\n\nåå»ºä¸ä¸ªçªå£å¯¹è±¡ï¼åç§°ï¼å¤§å°ã\n\nå¾ªç¯æ¸²æã\n\nå¾åæ¸²æç®¡çº¿æ¥åä¸ç»3dåæ ï¼ç¶åæä»ä»¬è½¬åä¸ºå±å¹ä¸çæè²ç2dåç´ è¾åºãå¾å½¢æ¸²æç®¡çº¿å¯ä»¥è¢«ååä¸ºå ä¸ªé¶æ®µï¼æ¯ä¸ªé¶æ®µå°ä¼æåä¸ä¸ªçè¾åºä½ä¸ºè¾å¥ãæ¯ä¸ä¸ªé¶æ®µè¿è¡åèªçå°ç¨åºï¼çè²å¨shaderï¼ã\n\nä¸è¬åªéè¦éç½®é¡¶ç¹çè²å¨åçæ®µçè²å¨ã\n\né¡¶ç¹çè²å¨ï¼æä¸ä¸ª3dåæ è½¬å°å¦ä¸ç§3dåæ ã\n\nçæ®µçè²å¨ï¼è®¡ç®åç´ æåçé¢è²è¾åºã\n\né¦åå®ä¹ä¸ç»é¡¶ç¹æ°æ®ï¼floatæ°ç»ã\n\néè¿vboä¸æ¬¡æ§æå¤§æ¹æ°æ®åéå°gpuä¸­ã\n\nå®ä¹é¡¶ç¹çè²å¨ï¼ä½¿ç¨çè²å¨è¯­è¨glslã\n\nå°çè²å¨æºç éå å°çè²å¨å¯¹è±¡ä¸ï¼ç¶åç¼è¯å®ã\n\nçæ®µçè²å¨åçã\n\né¾æ¥é¡¶ç¹çè²å¨åçæ®µçè²å¨ã\n\nç»é¡¶ç¹çè²å¨è¾å¥æ°æ®ã",charsets:{cjk:!0}},{title:"å¯éå¹é",frontmatter:{title:"å¯éå¹é",date:"2022-04-13T12:47:36.000Z",permalink:"/pages/8a4bae/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/07.%E5%AF%86%E9%9B%86%E5%8C%B9%E9%85%8D.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/07.å¯éå¹é.md",key:"v-db9fa682",path:"/pages/8a4bae/",headers:[{level:3,title:"åç®å¹³é¢å ä½æ¨¡å",slug:"åç®å¹³é¢å ä½æ¨¡å",normalizedTitle:"åç®å¹³é¢å ä½æ¨¡å",charIndex:371},{level:3,title:"å¤è§å¹³é¢å ä½æ¨¡å",slug:"å¤è§å¹³é¢å ä½æ¨¡å",normalizedTitle:"å¤è§å¹³é¢å ä½æ¨¡å",charIndex:409},{level:3,title:"å¯éå¹é",slug:"å¯éå¹é-2",normalizedTitle:"å¯éå¹é",charIndex:2},{level:3,title:"PatchMatch",slug:"patchmatch",normalizedTitle:"patchmatch",charIndex:1485}],headersStr:"åç®å¹³é¢å ä½æ¨¡å å¤è§å¹³é¢å ä½æ¨¡å å¯éå¹é PatchMatch",content:"# å¯éå¹é\n\nåºäºå¾åçå¯éå¹éæ¹æ³åæ¬åç®ç«ä½å¹éåå¤è§å¾ç«ä½å¹éä¸¤å¤§ç±»æ¹æ³ã\n\nåç®ç«ä½å¹é ä»¥ä¸¤å¼ ç«æ­£åçæçº¿ç«ä½å¾åä½ä¸ºè¾å¥ï¼éåå¶ä¸­ä¸å¼ å½±åä½ä¸ºåèå¾åï¼å¦ä¸å¼ å¾åä½ä¸ºå¹éå¾åï¼éè¿å¯éå¹éææ®µè·å¾åèå¾åå¯¹åºçè§å·®å¾ã\n\nå¤è§å¾ç«ä½å¹é éè¿å¤å¼ éå å¾ååæ¶è¿è¡å¯éå¹éï¼ç¸æ¯äºåç®ç«ä½å¹éï¼å©ç¨å¤è§åä½æ°æ®ï¼è½å¤ææ¾æé«åºå¼±çº¹çåé®æ¡åºåçå¹éåç¡®çï¼åæ¶éè¿å¤è§æ·±åº¦å¾ä¸è´æ§æ£éªä¹è½å¤ææçæåºè¯¯å¹éç»æã\n\nä¼ ç»çå¯éå¹éæ¹æ³åè®¾å±é¨æ¯æçªå£åçåç´ å·æç¸åçæ·±åº¦å¼ï¼å³åºæ¯å ä½æºææ»¡è¶³å¹³è¡å¹³é¢æ¡ä»¶åè®¾ãå¯¹äºçå®åºæ¯ä¸­ä»»æç¹Aï¼åªæå¶æ·±åº¦å¨æ´åç´ ä½ç½®ä¸å±é¨çªå£åç´ æ·±åº¦ç¸åæ¶ï¼å¹³è¡å¹³é¢æ¨¡åæè½å»ç»çå®çç©ä½è¡¨é¢ãçº¢è²ç­çº¿ä¸ºå±é¨çªå£ï¼ç´«è²ç¹ä¸ºå¾å¹éååï¼çå®ç¹Bå¨å±é¨çªå£ä¸­æ¾ä¸å°å¹éç¹ï¼ä»èåºç°âé¶æ¢¯âç°è±¡ã\n\n\n\n\n# åç®å¹³é¢å ä½æ¨¡å\n\n\n\næçº¿ç«æ­£ååªéä¸åä¸è¡çåç´ è¿è¡å¹éå³å¯ã\n\n\n# å¤è§å¹³é¢å ä½æ¨¡å\n\nç¨å¤è§ç«ä½å¹éå¾æå¹³é¢å ä½æ¨¡åæ¥è¡¨ç¤ºæ¬§å éå¾ç©ºé´ä¸­å¤è§å¾çåååç´ ä¸å¯¹åºçç©æ¹ç©ºé´ä¸ç»´åæ åå¶æå¨å±é¨å¾æå¹³é¢ä¹é´çèç³»ãéè¿å¾æå¹³é¢å ä½æ¨¡åçå¼å¥ï¼ å¯ä»¥å°æ·±åº¦éå»ºé®é¢è½¬æ¢ä¸ºæ±è§£ååèå½±åä¸­æ¯ä¸ªåç´ å¯¹åºç©æ¹ç©ºé´å±é¨å¾æå¹³é¢ï¼ä»èç´æ¥è·å¾å­åç´ æ·±åº¦åæ³åéãéè¿Cr,C1,C2,C3ç¸æºçä½å§¿ï¼å°±å¯ä»¥æ¨å¯¼åºCrå°Ciçååºç©éµï¼ä»èå¯ä»¥ç¥éxâ²çå¯¹åºç¹xâ²,xâ³,xâ´ã\n\n\n\n\n# å¯éå¹é\n\néå¸¸å¯éå¹éé½å¯ä»¥è½¬æ¢ä¸ºé©¬å°ç§å¤«éæºåºï¼MRFï¼è½éå½æ°æä¼åé®é¢ï¼å³éè¿å°åè½éæ¹ç¨æ¥å¾å°å¨å±æä¼çæ·±åº¦å¾\n\nï¼ï¼E(D)=Edata(D)+Esmooth(D)ï¼1ï¼\n\nå¶ä¸­ï¼Edataæ¥åº¦éåååç´ çå¾åä¸è´æ§ï¼Esmoothåº¦éç¸é»åç´ çè§å·®ä¸ä¸è´æ§ã\n\nå¦æè½éå½æ°åªåå«Edataåä»éè¿å¾åä¸è´æ§æ¥åº¦éååç´ çæ·±åº¦å¼,è¿ç±»æ¹æ³æä¸ºå±é¨æ³.\n\nå¦æè½éå½æ°åªåå«Esmoothï¼åç§°å¨å±æ³ã\n\næ è®ºå¨å±æ³è¿æ¯å±é¨æ³ï¼å¯éå¹éé½å¯ä»¥å½çº³ä¸ºä»¥ä¸åä¸ªæ­¥éª¤ï¼\n\nå¹éä»£ä»·è®¡ç® å¨ç»å®è§å·®æç´¢ç©ºé´èå´[dmin,dmax]ï¼éè¿éæ©ç¸åºçä»£ä»·å½æ°ï¼AD,HMI,ZNCCç­ï¼æ¥ç¡®å®åèå¾åä¸­ååç´ å¨ä¸ååç´ ä¸çå¹éä»£ä»·ï¼ä»èçæå¯¹åºçä¸ç»´è§å·®ç©ºé´ä½ç§¯ãä½¿ç¨èµ¢èéåï¼Winner-takes-all, WTAï¼ç­ç¥æ¥éæ©ä»£ä»·æå°çå¹éåç´ ç¹ï¼å ä¸ºååç§ç­åªå£°å½±åï¼è¿æ ·çå¹éææå¹¶ä¸å¥½ã\n\n\n\nä»£ä»·èå ä¸ºäºè¿æ»¤ä»£ä»·ä½ç§¯ä¸­åªå£°,å¿é¡»è¿è¡ä»£ä»·èå,å³åå©ç¸é»åç´ æä¾çææä¿¡æ¯è¿ä¸æ­¥æé«å¹éä»£ä»·ä½ç§¯çé²æ£æ§ãå¸¸ç¨çä»£ä»·èåæèªéåºæ¯æææ»¤æ³¢ãæå¯¼å¾æ»¤æ³¢ãéå±é¨ä»£ä»·èåä»¥åèªéåºæ¯æçªå£æ»¤æ³¢ç­ãä»£ä»·èåçæ¬è´¨æ¯å¯¹å¹éä»£ä»·è¿è¡å¹³æ»æ»¤æ³¢å¤ç\n\nè§å·®è®¡ç®æä¼å éè¿ä»£ä»·èåå¯¹ä»£ä»·ä½ç§¯éåªå,å±é¨ç«ä½å¹éæ¹æ³éç¨ WTA ç­ç¥å¾å°åèå½±åå¯¹åºçè§å·®å¾Dãä½æ¯å¯¹äºå¼±çº¹çãéå¤çº¹çä»¥ååå«å¤§éå¾ååªå£°ç­å·æææçåºå,ä»ç¶ä¼åºç°å¤§éçè¯¯å¹éç»æãå¯¹äºçå®çç¯å¢,ç±äºç¸é»ååé´æ·±åº¦å¨å¨å±ç©ºé´å·æä¸è´æ§,éè¿å¢å è¿ä¸åéªæ¡ä»¶,ä»èæ±è§£å¼(1)ä¸­çè½éæ¹ç¨å¯ä»¥ææçæ¹åææå¾ååºåçå¹éæ¨¡ç³,å¹¶è·å¾å¨å±ç©ºé´è¿ä¼¼æä¼æ·±åº¦å¾ãå¸¸ç¨çæ±è§£å¨æç½®ä¿¡åº¦ä¼ æ­(BP)ï¼å¾å²(GC)ï¼åå¨å±å¹é(SGM)ç­ã\n\nè§å·®ç²¾å ç±äºåç§ååãé®æ¡åå¼±çº¹çåºåçå­å¨,å¨å±è½éå½æ°æä¼åå¾å°çè§æ·±åº¦å¾ä¸­ä»ç¶å­å¨å¤§éçè¯¯å¹éåå,åæ¶ä¼ ç»çå¨å±æ¹æ³åªè½å¾å°è§å·®å¾çæ´åç´ ç²¾åº¦ãè§å·®ç²¾åå¤çè¿ç¨ä¸»è¦åæ¬:è§å·®å¾è¿æ»¤åæå¼ãå­åç´ å¢å¼ºãä¸­å¼æ»¤æ³¢ååè¾¹æ»¤æ³¢ç­è¿ç¨ã\n\n\n# PatchMatch\n\nPatchMatchæå¼å§è¢«æåºæ¥çç®çæ¯ç¨æ¥å¿«éå¹éç»å®å½±åä¸­å¾ååå¨å¯¹åºç®æ å¾åéä¸­æç¸ä¼¼çå¾ååãå¯¹äºå¾åAä¸­çå¾ååï¼å¨ç®æ å¾åBä¸­éæºåéä¸ä¸ªåå§çå¯¹åºä½ç½®ï¼ä¸è¬ä½¿ç¨éå­å¡ææ¯ï¼åºåè¾¨ççè¿­ä»£åçä½ç½®ç»é«åè¾¨çæä¾åå§ä½ç½®ãéè¿éæ©æä¼å¹éçç¸é»åç´ ä¼ æ­ï¼ç´å°æ¥è¿çå®å¾ååï¼è¿è¡éæºæ°å¨é¿åé·å¥å±é¨æä¼ã\n\nåºäºPatchMatchçè§å·®ä¼°è®¡æ³ï¼\n\n 1. éæºåå§å\n 2. è¿­ä»£ä¼ æ­\n    * ç©ºé´ä¼ æ­\n    * è§å¾ä¼ æ­\n    * æ¶åºä¼ æ­\n    * å¹³é¢ä¼å\n 3. åå¤ç\n\nåèåå£«è®ºæ\n\nåèåå®¢",normalizedContent:"# å¯éå¹é\n\nåºäºå¾åçå¯éå¹éæ¹æ³åæ¬åç®ç«ä½å¹éåå¤è§å¾ç«ä½å¹éä¸¤å¤§ç±»æ¹æ³ã\n\nåç®ç«ä½å¹é ä»¥ä¸¤å¼ ç«æ­£åçæçº¿ç«ä½å¾åä½ä¸ºè¾å¥ï¼éåå¶ä¸­ä¸å¼ å½±åä½ä¸ºåèå¾åï¼å¦ä¸å¼ å¾åä½ä¸ºå¹éå¾åï¼éè¿å¯éå¹éææ®µè·å¾åèå¾åå¯¹åºçè§å·®å¾ã\n\nå¤è§å¾ç«ä½å¹é éè¿å¤å¼ éå å¾ååæ¶è¿è¡å¯éå¹éï¼ç¸æ¯äºåç®ç«ä½å¹éï¼å©ç¨å¤è§åä½æ°æ®ï¼è½å¤ææ¾æé«åºå¼±çº¹çåé®æ¡åºåçå¹éåç¡®çï¼åæ¶éè¿å¤è§æ·±åº¦å¾ä¸è´æ§æ£éªä¹è½å¤ææçæåºè¯¯å¹éç»æã\n\nä¼ ç»çå¯éå¹éæ¹æ³åè®¾å±é¨æ¯æçªå£åçåç´ å·æç¸åçæ·±åº¦å¼ï¼å³åºæ¯å ä½æºææ»¡è¶³å¹³è¡å¹³é¢æ¡ä»¶åè®¾ãå¯¹äºçå®åºæ¯ä¸­ä»»æç¹aï¼åªæå¶æ·±åº¦å¨æ´åç´ ä½ç½®ä¸å±é¨çªå£åç´ æ·±åº¦ç¸åæ¶ï¼å¹³è¡å¹³é¢æ¨¡åæè½å»ç»çå®çç©ä½è¡¨é¢ãçº¢è²ç­çº¿ä¸ºå±é¨çªå£ï¼ç´«è²ç¹ä¸ºå¾å¹éååï¼çå®ç¹bå¨å±é¨çªå£ä¸­æ¾ä¸å°å¹éç¹ï¼ä»èåºç°âé¶æ¢¯âç°è±¡ã\n\n\n\n\n# åç®å¹³é¢å ä½æ¨¡å\n\n\n\næçº¿ç«æ­£ååªéä¸åä¸è¡çåç´ è¿è¡å¹éå³å¯ã\n\n\n# å¤è§å¹³é¢å ä½æ¨¡å\n\nç¨å¤è§ç«ä½å¹éå¾æå¹³é¢å ä½æ¨¡åæ¥è¡¨ç¤ºæ¬§å éå¾ç©ºé´ä¸­å¤è§å¾çåååç´ ä¸å¯¹åºçç©æ¹ç©ºé´ä¸ç»´åæ åå¶æå¨å±é¨å¾æå¹³é¢ä¹é´çèç³»ãéè¿å¾æå¹³é¢å ä½æ¨¡åçå¼å¥ï¼ å¯ä»¥å°æ·±åº¦éå»ºé®é¢è½¬æ¢ä¸ºæ±è§£ååèå½±åä¸­æ¯ä¸ªåç´ å¯¹åºç©æ¹ç©ºé´å±é¨å¾æå¹³é¢ï¼ä»èç´æ¥è·å¾å­åç´ æ·±åº¦åæ³åéãéè¿cr,c1,c2,c3ç¸æºçä½å§¿ï¼å°±å¯ä»¥æ¨å¯¼åºcrå°ciçååºç©éµï¼ä»èå¯ä»¥ç¥éxâ²çå¯¹åºç¹xâ²,xâ³,xâ´ã\n\n\n\n\n# å¯éå¹é\n\néå¸¸å¯éå¹éé½å¯ä»¥è½¬æ¢ä¸ºé©¬å°ç§å¤«éæºåºï¼mrfï¼è½éå½æ°æä¼åé®é¢ï¼å³éè¿å°åè½éæ¹ç¨æ¥å¾å°å¨å±æä¼çæ·±åº¦å¾\n\nï¼ï¼e(d)=edata(d)+esmooth(d)ï¼1ï¼\n\nå¶ä¸­ï¼edataæ¥åº¦éåååç´ çå¾åä¸è´æ§ï¼esmoothåº¦éç¸é»åç´ çè§å·®ä¸ä¸è´æ§ã\n\nå¦æè½éå½æ°åªåå«edataåä»éè¿å¾åä¸è´æ§æ¥åº¦éååç´ çæ·±åº¦å¼,è¿ç±»æ¹æ³æä¸ºå±é¨æ³.\n\nå¦æè½éå½æ°åªåå«esmoothï¼åç§°å¨å±æ³ã\n\næ è®ºå¨å±æ³è¿æ¯å±é¨æ³ï¼å¯éå¹éé½å¯ä»¥å½çº³ä¸ºä»¥ä¸åä¸ªæ­¥éª¤ï¼\n\nå¹éä»£ä»·è®¡ç® å¨ç»å®è§å·®æç´¢ç©ºé´èå´[dmin,dmax]ï¼éè¿éæ©ç¸åºçä»£ä»·å½æ°ï¼ad,hmi,znccç­ï¼æ¥ç¡®å®åèå¾åä¸­ååç´ å¨ä¸ååç´ ä¸çå¹éä»£ä»·ï¼ä»èçæå¯¹åºçä¸ç»´è§å·®ç©ºé´ä½ç§¯ãä½¿ç¨èµ¢èéåï¼winner-takes-all, wtaï¼ç­ç¥æ¥éæ©ä»£ä»·æå°çå¹éåç´ ç¹ï¼å ä¸ºååç§ç­åªå£°å½±åï¼è¿æ ·çå¹éææå¹¶ä¸å¥½ã\n\n\n\nä»£ä»·èå ä¸ºäºè¿æ»¤ä»£ä»·ä½ç§¯ä¸­åªå£°,å¿é¡»è¿è¡ä»£ä»·èå,å³åå©ç¸é»åç´ æä¾çææä¿¡æ¯è¿ä¸æ­¥æé«å¹éä»£ä»·ä½ç§¯çé²æ£æ§ãå¸¸ç¨çä»£ä»·èåæèªéåºæ¯æææ»¤æ³¢ãæå¯¼å¾æ»¤æ³¢ãéå±é¨ä»£ä»·èåä»¥åèªéåºæ¯æçªå£æ»¤æ³¢ç­ãä»£ä»·èåçæ¬è´¨æ¯å¯¹å¹éä»£ä»·è¿è¡å¹³æ»æ»¤æ³¢å¤ç\n\nè§å·®è®¡ç®æä¼å éè¿ä»£ä»·èåå¯¹ä»£ä»·ä½ç§¯éåªå,å±é¨ç«ä½å¹éæ¹æ³éç¨ wta ç­ç¥å¾å°åèå½±åå¯¹åºçè§å·®å¾dãä½æ¯å¯¹äºå¼±çº¹çãéå¤çº¹çä»¥ååå«å¤§éå¾ååªå£°ç­å·æææçåºå,ä»ç¶ä¼åºç°å¤§éçè¯¯å¹éç»æãå¯¹äºçå®çç¯å¢,ç±äºç¸é»ååé´æ·±åº¦å¨å¨å±ç©ºé´å·æä¸è´æ§,éè¿å¢å è¿ä¸åéªæ¡ä»¶,ä»èæ±è§£å¼(1)ä¸­çè½éæ¹ç¨å¯ä»¥ææçæ¹åææå¾ååºåçå¹éæ¨¡ç³,å¹¶è·å¾å¨å±ç©ºé´è¿ä¼¼æä¼æ·±åº¦å¾ãå¸¸ç¨çæ±è§£å¨æç½®ä¿¡åº¦ä¼ æ­(bp)ï¼å¾å²(gc)ï¼åå¨å±å¹é(sgm)ç­ã\n\nè§å·®ç²¾å ç±äºåç§ååãé®æ¡åå¼±çº¹çåºåçå­å¨,å¨å±è½éå½æ°æä¼åå¾å°çè§æ·±åº¦å¾ä¸­ä»ç¶å­å¨å¤§éçè¯¯å¹éåå,åæ¶ä¼ ç»çå¨å±æ¹æ³åªè½å¾å°è§å·®å¾çæ´åç´ ç²¾åº¦ãè§å·®ç²¾åå¤çè¿ç¨ä¸»è¦åæ¬:è§å·®å¾è¿æ»¤åæå¼ãå­åç´ å¢å¼ºãä¸­å¼æ»¤æ³¢ååè¾¹æ»¤æ³¢ç­è¿ç¨ã\n\n\n# patchmatch\n\npatchmatchæå¼å§è¢«æåºæ¥çç®çæ¯ç¨æ¥å¿«éå¹éç»å®å½±åä¸­å¾ååå¨å¯¹åºç®æ å¾åéä¸­æç¸ä¼¼çå¾ååãå¯¹äºå¾åaä¸­çå¾ååï¼å¨ç®æ å¾åbä¸­éæºåéä¸ä¸ªåå§çå¯¹åºä½ç½®ï¼ä¸è¬ä½¿ç¨éå­å¡ææ¯ï¼åºåè¾¨ççè¿­ä»£åçä½ç½®ç»é«åè¾¨çæä¾åå§ä½ç½®ãéè¿éæ©æä¼å¹éçç¸é»åç´ ä¼ æ­ï¼ç´å°æ¥è¿çå®å¾ååï¼è¿è¡éæºæ°å¨é¿åé·å¥å±é¨æä¼ã\n\nåºäºpatchmatchçè§å·®ä¼°è®¡æ³ï¼\n\n 1. éæºåå§å\n 2. è¿­ä»£ä¼ æ­\n    * ç©ºé´ä¼ æ­\n    * è§å¾ä¼ æ­\n    * æ¶åºä¼ æ­\n    * å¹³é¢ä¼å\n 3. åå¤ç\n\nåèåå£«è®ºæ\n\nåèåå®¢",charsets:{cjk:!0}},{title:"èªææè¿°",frontmatter:{title:"èªææè¿°",date:"2022-09-16T12:50:47.000Z",permalink:"/pages/fc7936/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/10.%E8%87%AA%E6%88%91%E6%8F%8F%E8%BF%B0.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/10.èªææè¿°.md",key:"v-384a84e1",path:"/pages/fc7936/",headers:[{level:3,title:"å¢éSfM",slug:"å¢ésfm",normalizedTitle:"å¢ésfm",charIndex:28},{level:4,title:"ä¸",slug:"ä¸",normalizedTitle:"ä¸",charIndex:37},{level:4,title:"äº",slug:"äº",normalizedTitle:"äº",charIndex:298},{level:3,title:"å¨å±SfM",slug:"å¨å±sfm",normalizedTitle:"å¨å±sfm",charIndex:347},{level:4,title:"Rotation Averaging",slug:"rotation-averaging",normalizedTitle:"rotation averaging",charIndex:388},{level:4,title:"Translation Averaging",slug:"translation-averaging",normalizedTitle:"translation averaging",charIndex:613},{level:2,title:"track selection and camera prioritization",slug:"track-selection-and-camera-prioritization",normalizedTitle:"track selection and camera prioritization",charIndex:811},{level:6,title:"é®é¢",slug:"é®é¢",normalizedTitle:"é®é¢",charIndex:858},{level:6,title:"è§£å³",slug:"è§£å³",normalizedTitle:"è§£å³",charIndex:935},{level:6,title:"é®é¢ï¼ åå§ç§å­éæ©",slug:"é®é¢-åå§ç§å­éæ©",normalizedTitle:"é®é¢ï¼ åå§ç§å­éæ©",charIndex:1032},{level:6,title:"è§£å³",slug:"è§£å³-2",normalizedTitle:"è§£å³",charIndex:935},{level:6,title:"é®é¢ï¼Track Triangulation & Selection",slug:"é®é¢-track-triangulation-selection",normalizedTitle:"é®é¢ï¼track triangulation &amp; selection",charIndex:null},{level:6,title:"è§£å³",slug:"è§£å³-3",normalizedTitle:"è§£å³",charIndex:935},{level:6,title:"RA",slug:"ra",normalizedTitle:"ra",charIndex:883},{level:2,title:"CSFM",slug:"csfm",normalizedTitle:"csfm",charIndex:1542},{level:2,title:"Rotation-Only BA",slug:"rotation-only-ba",normalizedTitle:"rotation-only ba",charIndex:1611},{level:2,title:"ROBUST AND ACCURATE HYBRID STRUCTURE-FROM-MOTION",slug:"robust-and-accurate-hybrid-structure-from-motion",normalizedTitle:"robust and accurate hybrid structure-from-motion",charIndex:1872},{level:6,title:"æ¹æ³ï¼",slug:"æ¹æ³",normalizedTitle:"æ¹æ³ï¼",charIndex:1796},{level:6,title:"åºæ¯å¾ä¼å",slug:"åºæ¯å¾ä¼å",normalizedTitle:"åºæ¯å¾ä¼å",charIndex:1978},{level:6,title:"Hybrid",slug:"hybrid",normalizedTitle:"hybrid",charIndex:2063},{level:2,title:"Hybrid Rotation Averaging: A Fast and Robust Rotation Averaging Approach",slug:"hybrid-rotation-averaging-a-fast-and-robust-rotation-averaging-approach",normalizedTitle:"hybrid rotation averaging: a fast and robust rotation averaging approach",charIndex:2125},{level:6,title:"RA",slug:"ra-2",normalizedTitle:"ra",charIndex:883},{level:2,title:"Incremental Rotation Averaging",slug:"incremental-rotation-averaging",normalizedTitle:"incremental rotation averaging",charIndex:2367},{level:6,title:"åæ°ç¹",slug:"åæ°ç¹",normalizedTitle:"åæ°ç¹",charIndex:2688},{level:6,title:"åç»­",slug:"åç»­",normalizedTitle:"åç»­",charIndex:1111},{level:2,title:"Image-Matching From Paper to Practice",slug:"image-matching-from-paper-to-practice",normalizedTitle:"image-matching from paper to practice",charIndex:2869},{level:2,title:"A hybrid global structure from motion method for synchronously estimating global rotations and global translations",slug:"a-hybrid-global-structure-from-motion-method-for-synchronously-estimating-global-rotations-and-global-translations",normalizedTitle:"a hybrid global structure from motion method for synchronously estimating global rotations and global translations",charIndex:3043},{level:6,title:"è´¡ç®",slug:"è´¡ç®",normalizedTitle:"è´¡ç®",charIndex:3161},{level:2,title:"To Learn or Not to Learn: Visual Localization from Essential Matrices",slug:"to-learn-or-not-to-learn-visual-localization-from-essential-matrices",normalizedTitle:"to learn or not to learn: visual localization from essential matrices",charIndex:3186},{level:3,title:"Essential Matrix Based Location",slug:"essential-matrix-based-location",normalizedTitle:"essential matrix based location",charIndex:3634},{level:6,title:"Retrieving",slug:"retrieving",normalizedTitle:"retrieving",charIndex:3761},{level:6,title:"Pair Selection",slug:"pair-selection",normalizedTitle:"pair selection",charIndex:3834},{level:6,title:"Pairwise Relative Pose Estimation",slug:"pairwise-relative-pose-estimation",normalizedTitle:"pairwise relative pose estimation",charIndex:3945},{level:6,title:"Absolute Pose Estimation via RANSAC",slug:"absolute-pose-estimation-via-ransac",normalizedTitle:"absolute pose estimation via ransac",charIndex:4019},{level:3,title:"Essential Matrix Estimation",slug:"essential-matrix-estimation",normalizedTitle:"essential matrix estimation",charIndex:4237},{level:6,title:"Feature-based",slug:"feature-based",normalizedTitle:"feature-based",charIndex:4268},{level:6,title:"Learning-based",slug:"learning-based",normalizedTitle:"learning-based",charIndex:4332},{level:6,title:"Hybrid: Learning Matching + five-Point Solver",slug:"hybrid-learning-matching-five-point-solver",normalizedTitle:"hybrid: learning matching + five-point solver",charIndex:4747},{level:6,title:"ç»è®º",slug:"ç»è®º",normalizedTitle:"ç»è®º",charIndex:4865},{level:2,title:"View-graph construction framework for robust and eï¬cient structure-from-motion",slug:"view-graph-construction-framework-for-robust-and-efficient-structure-from-motion",normalizedTitle:"view-graph construction framework for robust and eï¬cient structure-from-motion",charIndex:4923},{level:4,title:"æ¹æ³",slug:"æ¹æ³-2",normalizedTitle:"æ¹æ³",charIndex:151},{level:2,title:"Robust Motion Averaging for Multi-view Registration of Point Sets Based Maximum Correntropy Criterion",slug:"robust-motion-averaging-for-multi-view-registration-of-point-sets-based-maximum-correntropy-criterion",normalizedTitle:"robust motion averaging for multi-view registration of point sets based maximum correntropy criterion",charIndex:5665},{level:2,title:"Progressive Large-Scale Structure-from-Motion with Orthogonal MSTs",slug:"progressive-large-scale-structure-from-motion-with-orthogonal-msts",normalizedTitle:"progressive large-scale structure-from-motion with orthogonal msts",charIndex:6074},{level:2,title:"TC-SfM: Robust Track-Community-Based Structure-from-Motion",slug:"tc-sfm-robust-track-community-based-structure-from-motion",normalizedTitle:"tc-sfm: robust track-community-based structure-from-motion",charIndex:6504},{level:2,title:"Accurate and eï¬cient ground-to-aerial model alignment",slug:"accurate-and-efficient-ground-to-aerial-model-alignment",normalizedTitle:"accurate and eï¬cient ground-to-aerial model alignment",charIndex:6823},{level:2,title:"Progressive Structure from Motion",slug:"progressive-structure-from-motion",normalizedTitle:"progressive structure from motion",charIndex:7097},{level:4,title:"æ¹æ³ï¼",slug:"æ¹æ³-3",normalizedTitle:"æ¹æ³ï¼",charIndex:1796},{level:6,title:"view graph",slug:"view-graph",normalizedTitle:"view graph",charIndex:7350},{level:2,title:"Hybrid Camera Pose Estimation With Online Partitioning for SLAM",slug:"hybrid-camera-pose-estimation-with-online-partitioning-for-slam",normalizedTitle:"hybrid camera pose estimation with online partitioning for slam",charIndex:7552},{level:6,title:"å±é¨å±è§",slug:"å±é¨å±è§",normalizedTitle:"å±é¨å±è§",charIndex:7796},{level:6,title:"å¨å±å±è§",slug:"å¨å±å±è§",normalizedTitle:"å¨å±å±è§",charIndex:7824},{level:2,title:"Revisiting Viewing Graph Solvability: an Effective Approach Based on Cycle Consistency",slug:"revisiting-viewing-graph-solvability-an-effective-approach-based-on-cycle-consistency",normalizedTitle:"revisiting viewing graph solvability: an effective approach based on cycle consistency",charIndex:7845},{level:2,title:"Progressive Structure from Motion by Iteratively Prioritizing and Refining Match Pairs",slug:"progressive-structure-from-motion-by-iteratively-prioritizing-and-refining-match-pairs",normalizedTitle:"progressive structure from motion by iteratively prioritizing and refining match pairs",charIndex:8060},{level:6,title:"åå§å",slug:"åå§å",normalizedTitle:"åå§å",charIndex:2589},{level:6,title:"æ©å±",slug:"æ©å±",normalizedTitle:"æ©å±",charIndex:1859},{level:6,title:"colmap",slug:"colmap",normalizedTitle:"colmap",charIndex:8372},{level:6,title:"ç®æ³æµç¨",slug:"ç®æ³æµç¨",normalizedTitle:"ç®æ³æµç¨",charIndex:8403},{level:2,title:"IRAv3: Hierarchical Incremental Rotation Averaging on the Fly",slug:"irav3-hierarchical-incremental-rotation-averaging-on-the-fly",normalizedTitle:"irav3: hierarchical incremental rotation averaging on the fly",charIndex:8549},{level:4,title:"IRA",slug:"ira",normalizedTitle:"ira",charIndex:8549},{level:4,title:"IRA++",slug:"ira-2",normalizedTitle:"ira++",charIndex:8737},{level:4,title:"IRAv3",slug:"irav3",normalizedTitle:"irav3",charIndex:8549}],headersStr:"å¢éSfM ä¸ äº å¨å±SfM Rotation Averaging Translation Averaging track selection and camera prioritization é®é¢ è§£å³ é®é¢ï¼ åå§ç§å­éæ© è§£å³ é®é¢ï¼Track Triangulation & Selection è§£å³ RA CSFM Rotation-Only BA ROBUST AND ACCURATE HYBRID STRUCTURE-FROM-MOTION æ¹æ³ï¼ åºæ¯å¾ä¼å Hybrid Hybrid Rotation Averaging: A Fast and Robust Rotation Averaging Approach RA Incremental Rotation Averaging åæ°ç¹ åç»­ Image-Matching From Paper to Practice A hybrid global structure from motion method for synchronously estimating global rotations and global translations è´¡ç® To Learn or Not to Learn: Visual Localization from Essential Matrices Essential Matrix Based Location Retrieving Pair Selection Pairwise Relative Pose Estimation Absolute Pose Estimation via RANSAC Essential Matrix Estimation Feature-based Learning-based Hybrid: Learning Matching + five-Point Solver ç»è®º View-graph construction framework for robust and eï¬cient structure-from-motion æ¹æ³ Robust Motion Averaging for Multi-view Registration of Point Sets Based Maximum Correntropy Criterion Progressive Large-Scale Structure-from-Motion with Orthogonal MSTs TC-SfM: Robust Track-Community-Based Structure-from-Motion Accurate and eï¬cient ground-to-aerial model alignment Progressive Structure from Motion æ¹æ³ï¼ view graph Hybrid Camera Pose Estimation With Online Partitioning for SLAM å±é¨å±è§ å¨å±å±è§ Revisiting Viewing Graph Solvability: an Effective Approach Based on Cycle Consistency Progressive Structure from Motion by Iteratively Prioritizing and Refining Match Pairs åå§å æ©å± colmap ç®æ³æµç¨ IRAv3: Hierarchical Incremental Rotation Averaging on the Fly IRA IRA++ IRAv3",content:"# Structure from Motion\n\n\n# å¢éSfM\n\n# ä¸\n\nä»ä¸¤è§å¾æä¸è§å¾ä½ä¸ºç§å­å¼å§è¿è¡éå»ºï¼ç¶åæ·»å æ°çè§å¾å°ç³»ç»ä¸­ï¼æåè¿è¡BAãè¿ç§æ¹å¼éå¸¸ææäºåå§ç§å­éæ©ï¼åé­åç´¯è®¡è¯¯å·®ãåVSFMãCOLMAPæåºre-triangulate tracksæ¥æ¶é¤ç»æè¯¯å·®ã\n\nä¼ ç»çæ¹æ³è¿åº¦å³æ³¨ä¸ä¸ä¸ªè§å¾éæ©ï¼å¹¶ä¸æ¯æ¬¡è¿­ä»£æ¶åªæ³¨åä¸ä¸ªæå¤ä¸ªç¸æºï¼å¯¼è´BAæ§è¡å¾å¤æ¬¡ï¼è±è´¹å¾å¤è®¡ç®æ¶é´ã\n\nå¨æ¯ä¸æ¬¡è¿­ä»£ä¸­ï¼ææå¯è§çtracksé½ä¸è§ååä¼åï¼å¨è®¡ç®ç¸æºä½å§¿æ¶æ¾å¾åä½ã\n\nå¨æåæºéåè¿ç¨ä¸­ï¼éå¸¸å¿½ç¥æå ä½æµéã\n\nå¨å¢ééåæé´ï¼éè¯¯è¾¹ç¼å¯è½ä¼å°ä½SfMç³»ç»çæ§è½ã\n\n# äº\n\né¦ååå»ºå°ç3Dæ¨¡åï¼ç¶ååå¹¶ä¸åçæ¨¡åã\n\nå¢éSfMé½å­å¨ç´¯è®¡è¯¯å·®åå¤§è®¡ç®éã\n\n\n# å¨å±SfM\n\nåæ¶ä¼°è®¡ææçç¸æºä½å§¿ç¶åBAä¸æ¬¡ï¼åå«æè½¬å¹³ååå¹³ç§»å¹³åã\n\n# Rotation Averaging\n\nd(RijâRjRiT)=0\n\næå¼å§æå»ºæ±è§£è¯¥æ¹æ³çè¯¯å·®å½æ°ä½¿ç¨ååæ°çF-èæ°ã\n\næåºæä»£æ°çæè½¬å¹³åã\n\nä½¿ç¨L1ä¼åæ¹æ³æ¥æ±è§£ã\n\nWilson et al. [43]åç°æä¸¤ä¸ªå ç´ å½±åæè½¬å¹³åçç²¾åº¦ï¼ä¸ä¸ªæ¯Edge Graphï¼EGï¼ç»æï¼å¦ä¸ä¸ªæ¯æå ä½çç²¾åº¦ï¼ç¶åæ¨èå½æåæºåå¸ååæ¶ï¼å»ºè®®åå°å¶ç¾¤éã\n\nHSfMåºäºè¿ä¸ªçè®ºï¼æåºä¸ä¸ªåºäºç¤¾åºçæè½¬å¹³åæ¹æ³ç¾¤éï¼ç¶åè´ªå©ªççåå¹¶EGã\n\n# Translation Averaging\n\nÎ»ijtij=Rj(CiâCj)\n\nå¾å¤çº¿æ§æ¹æ³éè¿ç©éµåè§£çæ¹å¼æ¥æ±è§£è¯¥æ¹ç¨ï¼ä½è¿äºæ¹æ³ææäºæå ä½çå¤ç¹ã\n\nä¹æå¾å¤æ¹æ³ååé¤æå ä½çå¤ç¹ï¼éè¿åç¯ç­ï¼ä½è¿äºæ¹æ³éè¦åä½çå¾åå¯¹ã\n\nä¸äºæ¹æ³å±é¨BAæèå¤è§å¾tracksçä¸è´æ§æ¥ä¼åæå ä½ã\n\nä¹ææ¹æ³åæ¶æ±è§£ç¸æºçå¹³ç§»åä¸ç»´ç¹ã\n\nè¿ææ¹æ³éè¿èåè¾å©çæåä¿¡æ¯æ¥è·å¾ç¸æºå¹³ç§»ã\n\n\n# track selection and camera prioritization\n\n\n\n# é®é¢\n\n 1. å¨å®æ´çview-graphä¸­æ§è¡RAä»ä»èèæå¤§è¿æ¥çç´§å¯åï¼èå¿½è§ç²¾ç¡®åº¦ã\n 2. å éæåæºéåçè¿ç¨ï¼åå°BAçåå­å ç¨ã\n\n# è§£å³\n\n 1. å¨view-graphçå¤ä¸ªæ­£äº¤æå¤§çææ ä¸­æ§è¡RAãè¯¥ç²¾åº¦åå³äºview-graphçè¿æ¥ç´§å¯æ§ï¼ä»¥åæå ä½çç²¾åº¦ã\n 2. éæ©ä¸ä¸ªå­éè½¨è¿¹æ¥ä¼åæ³¨åå¥½çæåæºä½å§¿ã\n\n# é®é¢ï¼ åå§ç§å­éæ©\n\n 1. éæ©ç¹å¾å¹éæ°éå¤çå¾åå¯¹\n 2. éè¿åºç¡ç©éµè¿æ»¤å¹éç¹\n 3. è¦æ±ç§å­å·æåºéæå½±è¯¯å·®åå°åæ¹å·®\n\n# è§£å³\n\næ²¡æèèåç»­æåæºå¹éãè¯å¥½çç§å­åºä¸è§å¾ä¸­å¶å®èç¹ç´§å¯è¿æ¥ã\n\n# é®é¢ï¼Track Triangulation & Selection\n\n 1. å¨ç¸æºæ³¨åå®ï¼å¯¹ææçtracksè¿è¡ä¸è§åï¼è¿æ ·è±è´¹å¤§éæ¶é´ååå­ï¼éä½ç³»ç»çæ§è½ã\n\n# è§£å³\n\n 1. å¨ä¸äºglobal SfMä¸­ï¼éç¨track selection æ¥å éä¸è§åï¼ç¥éææç¸æºä½å§¿ã\n 2. å¨å¢éSfMä¸­ï¼ç¸æºä½å§¿æ¯éæ­¥ç¥éç\n 3. æä»¥èèï¼å¨å½åæ¬¡è¿­ä»£åä¸ä¸æ¬¡è¿­ä»£ä¸­éæ©tracksç»BAã\n\n# RA\n\n 1. F-èæ°ï¼æä»£æ°ï¼ä½¿ç¨IRLSï¼2016è§å¾ç»æä¹ä¼å½±åRAçç²¾åº¦ãç¶èå¤§å¤æ°å·¥ä½é½æ²¡æèèã\n 2. å¯¹äºç²¾åº¦ï¼éè¿å±é¨BAæ¥ä¼åæå ä½ç¸å¯¹ä½å§¿ï¼éè¿ä¸ç¦éä¸è´æ§æ¥éªè¯ç¸å¯¹ä½å§¿ï¼éè¿longer tracksæ¥ä¸è´æ§æ¥æåç¸å¯¹ä½å§¿çç²¾åº¦ã\n 3. å°è§å¾éæ©ä½ä¸ºæå°ææ¬ç½ç»æµé®é¢ã\n 4. å¿½ç¥äºç»æççº¦æã\n 5. å¯¹ä¸è¬åæ¨¡ç³çæ°æ®éä½¿ç¨ä¸åçåéªå å­ã\n\n\n# CSFM\n\n\n\né¦åï¼å¯¹æå ä½å¾ååä¸ºåç¬çç¤¾åºï¼ç¶åå¹¶è¡è§£å³æ¯ä¸ªç¤¾åºçéå»ºé®é¢ï¼æåéè¿å¨å±ç¸ä¼¼åº¦å¹³åæ¹æ³å¯¹éå»ºç»æè¿è¡åå¹¶ã\n\n\n# Rotation-Only BA\n\nBAæ¨å¨è·å¾ä¸ä¸ªä¼åçç»æç¹åç¸æºä½å§¿éè¿æå°åå¾åçéæå½±è¯¯å·®ã\n\nå¨Global SfMæ¡æ¶ä¸ï¼å¯¹æè½¬è¿è¡åç¡®çåå§çæµå¾éè¦ãæä»¥ä¸è¬ææ¹è¿æè½¬å¹³åæ¹æ³ æ ç¸å¯¹ä½å§¿è¾å¥ã\n\nç¶èç¸å¯¹ä½å§¿ä¼°è®¡ä»ä»éå¶äºä¸¤å¼ å¾åä¹é´ï¼èæè½¬å¹³åä¸ç´æ¥å©ç¨å¾åæµéï¼å³ä½¿å®ä»¬æ¯ä»å·ä½æä¸ååªå£°ç»è®¡ååå¸çä¸åç¹æ°ä¼°è®¡ï¼å®ä¹ä¼å¹³ç­å¯¹å¾ææç¸å¯¹æè½¬\n\næ¹æ³ï¼ ç»å®æè½¬çåå§ä¼°è®¡ï¼ä½¿ç¨å¾åæµéä½ä¸ºç´æ¥è¾å¥æ§è¡ä»æè½¬ä¼åã\n\nåºäºååä¸ç¯çç¬ç«äºå¹³ç§»çä»ä¼åä¸¤å¾åä¹é´çæè½¬ã\n\næ©å±å°å¤ä¸ªè§å¾ã\n\n\n# ROBUST AND ACCURATE HYBRID STRUCTURE-FROM-MOTION\n\n# æ¹æ³ï¼\n\n * æå»ºä¸ä¸ªæå¤§çææ ï¼ä½¿ç¨Global SfMéå»º\n * å©ä¸å¾çä½¿ç¨å¢éæ¹å¼è¿è¡éå»º\n\n# åºæ¯å¾ä¼å\n\nå¢éå¨å±æ¹æ³çè¾å¥é½æ¯åºæ¯å¾\n\ngraph\nA[æåä¸ä¸ªéª¨å¹²å¾] \n--\x3e \nB[éè¿åç¯ä¸è´æ§æåºè¾¹ä¹é´çè¯¯å·®]\n--\x3e\nC[ä»æå¤§çææ å¼å§]\n\n\n# Hybrid\n\ngraph\n\nA[HSfM]\n--\x3e\nB[å¢éä¼°è®¡å¹³ç§»]\n--\x3e\nC[å­å¾åå¨å± å©ä½å¾åå¢é]\n\n\n\n# Hybrid Rotation Averaging: A Fast and Robust Rotation Averaging Approach\n\nå±é¨ä¼åæ¹æ³å°½ç®¡åªæ¯ä¿è¯å±é¨æä¼ï¼ä½æ¯æå¥½çéæ©\n\nå¨å±ä¼åå¯ä»¥å¨ä½åªç¹çæåµä¸ä¿è¯å¨å±æä¼ï¼ä½éå¸¸é½ä¸æ»¡è¶³è¯¥æ¡ä»¶\n\n# RA\n\n * å±é¨æ±è§£å¨ï¼é·å¥å±é¨æå°å¼\n * å¨å±æ±è§£å¨ï¼ææäºåªç¹\n\nHSFMï¼éè¿global æ¹æ³æ±è§£æè½¬ï¼ç¶åç¸æºä¸­å¿éè¿P2Pæ¹å¼å¢éä¼°è®¡ï¼ä½ä¸äºä¼°è®¡çç»å¯¹æè½¬ä¸æ­£ç¡®ï¼å æ­¤å½±ååç»­çéå»ºè¿ç¨ã\n\n\n# Incremental Rotation Averaging\n\nç¸æ¯äºå¨å±SfMï¼å³æ¶å¢éSfMæçæ¯è¾åºï¼ä½å¶å¯ä»¥ä¿è¯ç²¾åº¦éè¿é¢ç¹çRANSACåBAã\n\nå¤§å¤æ°å¨å±SfMæ§è¡æè½¬å¹³ååå¹³ç§»å¹³åæ¯ä¸ä¸ªååé¡ºåºï¼å¨æ§è¡å¹³ç§»å¹³åæ¶åï¼æè½¬æ¯åºå®çã\n\nåå ä¸ºæè½¬å¹³ååå³äºæå ä½ï¼å¶ä¸­ååæ å¹éå½±åï¼å°¤å¶å¯¹ä¸äºäºèç½å¾çã\n\nä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼\n\n 1. å»å¯»æ¾æ´å é²æ£çæå¤±å½æ°ï¼è®©ä¼åçè¿ç¨æ´å é²æ£ã\n\nè¿äºæ¹æ³ä¸­çä¼åè¿ç¨å¨å¾å¤§ç¨åº¦ä¸åå³äºåå§åï¼å¹¶ä¸ç±äºé®é¢å¬å¼å¤æèéå¸¸æçä½ä¸ã\n\n 2. å°è¯å»åé¤EGå¾çå¤ç¹ã\n\nç¶èï¼ç¸å¯¹æè½¬å¤ç¹è¿æ»¤åç»å¯¹æè½¬ä¼°è®¡æ¯ä¸ä¸ªé¸¡ä¸èçé®é¢ï¼åªæåç¡®ä¼°è®¡ç»å¯¹æè½¬ï¼æè½ææè¿æ»¤ç¸å¯¹æè½¬å¼å¸¸å¼ã\n\n# åæ°ç¹\n\nä»¥å¢éçæ¹å¼ä¼°è®¡ç»å¯¹æè½¬ã\n\nä½¿ç¨ä¸äºå³é®ç¹ï¼åå§ä¸åç»ï¼ä¸ä¸ä¸ªæä½³è§å¾éæ©ç­ç¥ï¼è¿­ä»£åä¸çå æå±é¨/å¨å±ä¼åï¼éæ°æè½¬å¹³åã\n\nè¿­ä»£æ§è¡å¤ç¹æ£æµåé²æ£ä¼åï¼å©ç¨é¨åä¼°è®¡çç»å¯¹æè½¬æ¥ææå°æ£æµç¸å¯¹æè½¬å¤ç¹ï¼ç¶åä½¿ç¨L2èæ°æ¥ä¼°è®¡ç»å¯¹æè½¬ã\n\n# åç»­\n\néååèæ²»ä¹çç­ç¥æ¥è¿è¡å¤§è§æ¨¡çæè½¬å¹³åï¼ååä¸ºå¤ä¸ªåºæ¯å¾ï¼åå«è¿è¡æè½¬å¹³åï¼æååå¹¶ã\n\n\n# Image-Matching From Paper to Practice\n\næè¿çåªåå·²ç»è½¬åæ´ä½çç«¯å°ç«¯çè§£å³æ¹æ¡ãå°½ç®¡ä»ä»¬æå¸æä½ä»ä»¬å°æªè¶è¶åºäºåå¸è§£å³æ¹æ¡çç»å¸èå¼çåç¦»ä¸»ä¹è\n\ngraph\n\nA[æåå±é¨ç¹å¾ SIFT]\n--\x3e\nB[æè¿°ç¬¦]\n--\x3e\nC[æè¿é»æç´¢]\n--\x3e\nD[RANSACå¾ªç¯]\n--\x3e\nE[BAç®¡é]\n\n\n\n# A hybrid global structure from motion method for synchronously estimating global rotations and global translations\n\n# è´¡ç®\n\nåå±åæ­¥è§£å³å¨å±æè½¬åå¹³ç§»é®é¢ï¼\n\n\n# To Learn or Not to Learn: Visual Localization from Essential Matrices\n\næè¿ï¼å·²ç»æåºäºåºäºç¸å¯¹å§¿æä¼°è®¡çå­¦ä¹ æ¹æ³ï¼ææè½»æ¾éåºæ°åºæ¯ãç¶èï¼ä»ä»¬ç®åçåç¡®åº¦ææ¾ä½äºæåè¿çæ¹æ³ãè¿éæå´è¶£åæè¿ç§è¡ä¸ºã\n\nç»å®ä¸å¼ æ¥è¯¢å¾åï¼è§è§å®ä½ç®æ³çç®æ æ¯ä¼°è®¡å¶ç¸æºå§¿æã\n\nå½åå®ç°æåè¿çå§¿æä¼°è®¡æ¹æ³ï¼åºäº3Dä¿¡æ¯ï¼ä»ä»¬é¦åå¨æ¥è¯¢å¾åä¸­ç2Dåç´ ä½ç½®ååºæ¯ä¸­ç3Dç¹ä¹é´å»ºç«2D-3Då¹éï¼ç¶åä½¿ç¨å¾å°çå¯¹åºå³ç³»æ¥ä¼°è®¡ç¸æºå§¿æã3Dåºæ¯å ä½æ¢å¯ä»¥éè¿3Dç¹äºæ¾ç¤ºè¡¨ç¤ºï¼ä¹å¯ä»¥éè¿å·ç§¯ç¥ç»ç½ç»çæééå¼è¡¨ç¤ºã\n\nä¸åºäº3Dçæ¹æ³ç¸æ¯ï¼åºäºç¸å¯¹ä½å§¿çè§è§å®ä½æ¹æ³å·æçæ³çç¹æ§ï¼å³åºæ¯è¡¨ç¤ºçç®åæ§åçµæ´»æ§ä»¥åæäºéåºæ°åºæ¯ãæ­¤å¤ï¼å©ç¨ç°ä»£æºå¨å­¦ä¹ ææ¯è¿è¡ç¸å¯¹å§¿æä¼°è®¡ä¼¼ä¹å¾èªç¶ï¼ä½ä¸ºä»ä¹åºäºå­¦ä¹ çæ¹æ³å¨è¿ä¸­æåµä¸è¡¨ç°ä¸ä½³å¢ï¼\n\næ¬ææåºä¸ç§æ°é¢ä¸éç¨çè§è§å®ä½æ¡æ¶ï¼è¯¥æ¡æ¶ä½¿ç¨æ°é¢çRANSACæ¹æ¡ä¸­çåºæ¬ç©éµæ¥æ¢å¤ç»å¯¹ä½å§¿ã\n\n\n# Essential Matrix Based Location\n\n 1. ä½¿ç¨å¾åæ£ç´¢æ¥è¯å«ä¸ç»å¾åï¼\n 2. å¯¹æ¯ä¸ªæ£ç´¢å°çå¾åè®¡ç®å¶ä¸æ¥è¯¢å¾åçæ¬è´¨ç©éµï¼\n 3. ä½¿ç¨æ£ç´¢å°çå¾åçæ¬è´¨ç©éµï¼åå·²ç¥ç»å¯¹ä½å§¿çæ¥è¯¢å¾åï¼ä¼°è®¡æ£ç´¢å¾åçç»å¯¹ä½å§¿ã\n\n# Retrieving\n\néè¿ç¨3096ç»´DenseVLADæè¿°ç¬¦è¡¨ç¤ºæ¯ä¸ªæ°æ®åºå¾åæ¥æ§è¡å¾åæ£ç´¢ï¼è¿å·²è¢«è¯æå¯ä»¥åå·ææææ§çæ¡ä»¶ä¸å·¥ä½ã\n\n# Pair Selection\n\nç®åå°ä¸ºæ¯ä¸ªæ¥è¯¢å¾åæétop-kä¸è¶³ä»¥è·å¾è¯å¥½çæ§è½ãå¸æç¡®ä¿æ´å¤§çä¸è§æµéè§åº¦ï¼åæ¶æä¿æè¶³å¤çè§è§éå ä»¥æåè¿è¡ç¸å¯¹å§¿æä¼°è®¡ã\n\nè¿­ä»£éæ©ä¸ååæ£ç´¢å¾åæä¸å®çæå°/æå¤§è·ç¦»ã\n\n# Pairwise Relative Pose Estimation\n\nå¯¹äºæ¯ä¸ªå¾åå¯¹ï¼æä»¬è®¡ç®æ¥è¯¢å¾ååæ°æ®åºå¾åä¹é´çç¸å¯¹ä½å§¿çæ¬è´¨ç©éµã\n\n# Absolute Pose Estimation via RANSAC\n\nä½¿ç¨RANSACï¼å¨æ¯æ¬¡è¿­ä»£ä¸­ï¼æä»¬å¯¹å¾åå¯¹è¿è¡éæ ·ï¼å¹¶ä½¿ç¨ä»ä»¬æ¥ä¼°è®¡æ¥è¯¢å¾åçç»å¯¹ä½å§¿ãæ¥ä¸æ¥ç¡®å®åªäºå¾åå¯¹æ¯è¯¥ç»å¯¹ä½å§¿åè®¾çåç¹ã\n\næä»¬é¦åæå°åç»å¯¹æè½¬åç¸å¯¹æè½¬ä¹é´çè¯¯å·®ï¼å¾å°ä¸ä¸ªç»å¯¹æè½¬ï¼ç¶åç¨æ¥è¡¡éä¸é¢çç»å¯¹ä½å§¿ã\n\næäºæè½¬åè®¡ç®å¹³ç§»ï¼æµéçå¹³ç§»åé¢æµçç»å¯¹ä½å§¿ä¸­çå¹³ç§»è®¡ç®ä½å¼¦ç¸ä¼¼åº¦ï¼å°äºä¸å®éå¼åè§ä¸ºåç¹ãæåè¿åæå¤§åç¹æ°çä½å§¿ã\n\n\n# Essential Matrix Estimation\n\n# Feature-based\n\nå¨æ¥è¯¢åæ°æ®åºå¾åä¹é´å»ºç«2D2Då¹éï¼ç¶åéè¿RANSACå¾ªç¯ååºç¨5ç¹æ³å¾éæ¬è´¨ç©éµã\n\n# Learning-based\n\nRelative pose parametrizaiton\n\næ¯ç¸å¯¹ä½å§¿æ ç­¾Lw(yâây)=||tâtâ||2+Î²||qâqâ||yâ=(qâ,tâ)æ¯ç¸å¯¹ä½å§¿æ ç­¾\n\nNetwork architecture\n\n 1. ä¸ä¸ªç®åçåºå®å¹éå±ï¼EssNetï¼ï¼æ¬è´¨ä¸æ¯æ¥èªä¸¤ä¸ªå¾åçç¹å¾å¾ä¹é´çç©éµç¹ç§¯ã\n\n 2. å¯å­¦ä¹ çé¢åå±è§å¹éå±ï¼å®å¼ºå¶å¹éçå±é¨å ä½ä¸è´æ§ã\n\nä¸¤ä¸ªå¹éå±è±æµResNetçæçä¸¤ä¸ªç¹å¾å¾ç»åæä¸ä¸ªåä¸çç¹å¾åéï¼å¯ä»¥çåæ¯ä¸ä¸ªå¹éåæ°å¾ã\n\nå°åæ°å¾è¾å¥å°åå½å±æ¥é¢æµæ¬è´¨ç©éµï¼åå½å±ç±ä¸¤ä¸ªå·ç§¯å±åç»æï¼ç¶åç¨ReLUè¿è¡æ¹éå½ä¸åï¼æåæ¯ä¸ä¸ªå¨è¿æ¥å±åå½ä¸ä¸ªè¿ä¼¼äºæ¬è´¨ç©éµç9Dåéãç¶åå°è¿ä¼¼çåä¸¤ä¸ªå¥å¼å¼æ¿æ¢ä¸ºå¶åå¼ï¼å°å¶è¿ä¼¼æå½±å°ä¸ä¸ªææçæ¬è´¨ç©éµä¸ã\n\nLoss function\n\næå°åé¢æµçE åçå®E\n\nLess(EââE)=||eâeâ||2\n\n# Hybrid: Learning Matching + five-Point Solver\n\nä½ä¸ºç»å¸æ¹æ³ååå½æ¹æ³çç»åãéè¿ç¥ç»ç½ç»å­¦ä¹ ç¹å¾æååå¹éï¼ä»èäº§çä¸ç»2D-2Då¹éãç¶åä½¿ç¨RANSACå¾ªç¯5ç¹æ³ä¼°è®¡æ¬è´¨ç©éµã\n\n# ç»è®º\n\nå¨æ°æ®é©±å¨çè§è§å®ä½æ¹æ³è½å¤åç¡®å¹¶è½»æ¾å°æ¨å¹¿å°æ°åºæ¯ä¹åï¼è¿éè¦è¿è¡æ´å¤çç ç©¶ã\n\n\n# 0919\n\n\n# View-graph construction framework for robust and eï¬cient structure-from-motion\n\nä¼ ç»çç©éµåè§£æ¹å¼å¹³ç­å¯¹å¾ææçè¾¹ï¼è¿æ ·å¨è¾å°ç¹å¾å¹éå¯¹ä¼äº§çå¤ç¹ï¼èä¸ä¹ä¼å½±åå¶å®çè¾¹ã\n\nä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æä»¬æåºäºä¸ä¸ªç¨äºè§å¾å¾æå»ºçå¢ééª¨æ¶ï¼å·æå¤§éç¹å¾å¹éçå¹éå¯¹çé²æ£æ§è¢«ä¼ æ­å°å®ä»¬çè¿æ¥å¾åã\n\n# æ¹æ³\n\né¦åæå»ºä¸ä¸ªç»è¿éªè¯çæå¤§çææ ã\n\nå¯¹äºæå¤§çææ ä¸­çæ¯æ¡è¾¹ï¼æä»¬æ§è¡å±é¨ä¸­é´å¹¶éåå¶å¯è§ç¸æºã\n\nåºäºå±é¨éåï¼è®¡ç®æå¯¹çç¸å¯¹å ä½ä½å§¿ã\n\nä¸æ¹é¢ï¼ç±äºä½¿ç¨äºææç¹å¾å¹éï¼å æ­¤åä½è¾¹ç¼å¯è½ä¼å¼å¥è®¸å¤éè¯¯çè¾¹ãå°½ç®¡SfMç³»ç»éè¿å ä½éªè¯è¿æ»¤ç¹å¾å¹éå¼å¸¸å¼ï¼ä½å­å¨äºéå¤çº¹çåºåä¸­çéè¯¯å¼å¸¸å¼ä¸ä»å¨è§è§ä¸ç¸ä¼¼ï¼èä¸è¿å¯è½éè¿ä¸¤è§å¾å ä½éªè¯å¹¶å½¢æéè¯¯çç¸å¯¹å ä½ã\n\nä¸ºäºè§£å³æ­§ä¹é®é¢ï¼æ¹æ³{20ï¼21}éè¿ä¸äºéèº«å®å¶çç­ç¥é¡¾èä¸ä¸è´çè¾¹ç¼ã\n\nå¦ä¸æ¹é¢ï¼ä¸¤è§å¾æå ä½éå¸¸æ¯éè¿åè§£åºæ¬ç©éµæ¥äº§ççãå¯¹å¹éå¼å¸¸å¼ææãå°½ç®¡å ä½éªè¯å©ç¨ç¹å¯¹çº¿çº¦ææ¥è¿æ»¤åçæçº¿çå¼å¸¸å¼ï¼ä½æ æ³è¯å«ä½äºæçº¿éè¿çå¼å¸¸å¼ãè½ç¶BAå¯ä»¥è§£å³è¯¥é®é¢ï¼ä½ä»å¯è½è¿ä¼å¤±è´¥ã\n\nä¸ºè§å¾å¾æé æåºäºä¸ä¸ªå¢éæ¡æ¶ï¼å¶ä¸­èªå¨éæ©è¾¹å¹¶éè¿ä¸è§å¾è®¡ç®ç¸å¯¹å ä½ãä¸ºäºä¿è¯åºæ¯çå®æ´æ§ï¼æä»¬é¦åä»å¹éå¾ä¸­æå»ºä¸ä¸ªéªè¯çæå¤§çææ ï¼å¶ä¸­è¾¹ç¼ç±å¹éç¹å¾çæ°éå æï¼å¹¶æ§è¡éªè¯ãå¯¹äºæå¤§çææ ä¸­çæ¯æ¡è¾¹ï¼æä»¬éè¿æç¥¨éªè¯ç¸å¯¹ä½å§¿ï¼å¹¶æ§è¡å±é¨éå»ºéåå¯è§çç¸æºãæ ¹æ®å±é¨éå»ºä¸­çä½å§¿è®¡ç®ç¸å¯¹ä½å§¿ãç¶åå°è¿äºè®¡ç®åºçç¸å¯¹ä½å§¿æå¥æå¤§çææ ä¸­ãè¿­ä»£æ§è¡å®å±é¨éå»ºï¼æåå°æå¤§çææ æ©å±å°è§å¾å¾ä¸­ã\n\næ²¡æåè§£åºæ¬ç©éµï¼èæ¯å©ç¨å±é¨éå»ºæ¥è·å¾ç¸å¯¹å ä½ã\n\n\n# Robust Motion Averaging for Multi-view Registration of Point Sets Based Maximum Correntropy Criterion\n\nè¿å¨å¹³åï¼ä»ç¸å¯¹è¿å¨ä¸­æ¢å¤å¨å±è¿å¨ï¼å¹¶å©ç¨ä¿¡æ¯åä½æ¥å¹³åç´¯è®¡è¯¯å·®ãæä»¬æåºäºä¸ç§æ°é¢çè¿å¨å¹³åæ¡æ¶ï¼ç¨äºä½¿ç¨åºäºææ®ææ¯æ ¸çæå¤§ç¸å³çµååï¼LMCCï¼è¿è¡å¤è§å¾éåãå©ç¨æä»£æ°è¿å¨æ¡æ¶åç¸å³çµåº¦éï¼æä»¬æåºäºä¸ç§æ°çææ¬å½æ°ï¼è¯¥å½æ°å°ç¸å¯¹è¿å¨æä¾çææçº¦æé½èèå¨åã\n\nè·å¾ç¨äºæ ¡æ­£å¨å±è¿å¨çå¢éå¯ä»¥è¿ä¸æ­¥è¡¨è¿°ä¸ºå¨æå¤§åææ¬å½æ°çä¼åé®é¢ãå°ä¼åé®é¢åè§£ä¸ºä¸¤ä¸ªå­é®é¢ï¼æ ¹æ®å½åæ®å·®è®¡ç®æ¯ä¸ªç¸å¯¹è¿å¨çæéï¼å¹¶å¨ä¸ä¸æ¬¡è¿­ä»£ä¸­æ±è§£å¢éçäºé¶é¥è§åé®é¢ã\n\nç±äºåºæ¯æç©ä½çé®æ¡ä»¥åæ«æè§éæéï¼å¤§å¤æ°æ«æè®¾å¤åªè½æè·é¨åç¹äºãä¸ºäºä»ä¸åè§ç¹æè·çä¸ç³»åæ«æä¸­åç¡®å°æ¢å¤æ´ä¸ªæ¨¡åæåºæ¯ï¼å°±ä¼åºç°ç¹ééåé®é¢ã\n\n\n# Progressive Large-Scale Structure-from-Motion with Orthogonal MSTs\n\nç¹å¾å¹éä¸è¶³å¯è½ä¼ç ´åéå»ºåºæ¯çå®æ´æ§ï¼èåä½å¯¹å¯è½ä¼å¸¦æ¥è®¸å¤éè¯¯çå¹éãå¤å±å¾ªç¯è¿­ä»£éæ©å¾åç¸ä¼¼åº¦çæå¤§çææ æ¥æ§è¡å¾åå¹éãåå±å¾ªç¯éåç¸æºã\n\né¦åï¼åºäºä»è¯æ±æ è®¡ç®çå¾åæè¿°ç¬¦ï¼æå»ºå¾åç¸ä¼¼åº¦å¾ï¼å¶ä¸­èç¹è¡¨ç¤ºå¾åï¼è¾¹è¡¨ç¤ºè¿æ¥å¾åä¹é´çç¸ä¼¼åº¦å¾åã\n\nç¶åï¼éæ©å¾ç¸ä¼¼åº¦çMSTè¿è¡å¾åå¹éãç»å®å¹éçç¹å¾å¹éï¼ç¸æºä»¥å¢éæ¹å¼æ ¡åãä¸è½ä¿è¯ææç¸æºé½å¯ä»¥éè¿MSTæ ¡åã\n\nå æ­¤ï¼æä»¬è¿­ä»£å°éæ©æ­£äº¤MSTè¿è¡ç¸æºæ ¡åï¼åä¸æ¬¡è¿­ä»£äº§ççç¹å¾å¹éä¸æ°éæ©çMSTäº§ççç¹å¾å¹éç¸ç»åï¼å¹¶ä¸å¨åä¸æ¬¡è¿­ä»£ä¸­æ ¡åçç¸æºä½å§¿è¢«ç»§æ¿å°å½åè¿­ä»£ä¸­ã\n\næ ¹æ®ç¸æºæ å®çåé¦ï¼éæ­¥éæ©å¾åç¸ä¼¼åº¦çå¤ä¸ªæ­£äº¤MSTè¿è¡å¾åå¹éãæ­¤åï¼å¤§å¤æ°SfMæ¹æ³ä¸­ï¼ææå¹éå¯¹é½è¢«è§ä¸ºåç­éè¦ï¼å¹¶å¨ç¸æºæ ¡åä¸­åæ¶èèãçæçç¹å¾è½¨è¿¹å®¹æè¢«æ±¡æã\n\n\n# TC-SfM: Robust Track-Community-Based Structure-from-Motion\n\nç±éå¤ç»æå¼èµ·çæ¨¡ç³æ§æ»ä¼å¯¼è´éè¯¯çç¸æºä½å§¿å3Dç»æã\n\nå¨æ¬æä¸­ï¼æä»¬å»ºè®®å©ç¨åºæ¯ä¸­é«çº§ä¿¡æ¯ï¼å³å±é¨åºåçç©ºé´ä¸ä¸æä¿¡æ¯æ¥æå¯¼éå»ºã\n\ntrack-community\n\næ¯ä¸ªcommunityç±ä¸ç»trackç»æï¼å¹¶ä»£è¡¨åºæ¯ä¸­çä¸ä¸ªå±é¨çæ®µã\n\ncommunityæ£æµç®æ³ç¨äºå°åºæ¯ååä¸ºå ä¸ªé¨åã\n\néè¿åætrackçé»åæ¥æ£æµæ½å¨çæ¨¡ç³çæ®µï¼å¹¶éè¿æ£æ¥ä½å§¿ä¸è´æ§æ¥è¿è¡æ ¡æ­£ã\n\nå¯¹æ¯ä¸ä¸ªçæ®µè¿è¡é¨åéå»ºï¼å¹¶å°å®ä»¬ä¸ä¸ä¸ªæ°é¢çååä¸è´æ§ææ¬å½æ°å¯¹é½ï¼è¯¥å½æ°åæ¶èè3D-3Då¯¹åºå³ç³»åæå¯¹çç¸æºä½å§¿ã\n\n\n# Accurate and eï¬cient ground-to-aerial model alignment\n\nä¸ºäºçæå¤§è§æ¨¡å»ºç­åºæ¯çå®æ´3Déå»ºï¼éå¸¸ä¼åæ¶æè·å°é¢åèªæå¾åãä¸ç§å¸¸è§çæ¹æ³æ¯é¦ååå«ä»ä¸åçå¾åæºéå»ºæ¨¡åï¼ç¶åå°å®ä»¬å¯¹é½ã\n\nä½¿ç¨GPSåä¿¡æ¯å°å°é¢æ¨¡ååèªææ¨¡åè½¬æ¢ä¸ºå°çåèåæ ç³»è¿è¡ç²ç¥å¯¹é½ã\n\néè¿åºäºå®ä»¬ä¹é´ç3Dç¹å¯¹åºå³ç³»ä¼°è®¡çç¸ä¼¼æ§åæ¢æ¥ç»åç²å¯¹é½æ¨¡åã\n\na)éæ©åéçèªæå¾åå­éä»¥æ­£ç¡®è¦çå°é¢æ¨¡å\n\nb)å¨æéèªæå¾åçè§ç¹ä¸åææ¥èªå°é¢æ¨¡åçå¾å\n\nc)è·å¾åæå¾åä¸æéèªæå¾åä¹é´çäºç»´ç¹å¹éã\n\n\n# Progressive Structure from Motion\n\nç°æçéå»ºæ¡æ¶é½æ²¡æå®å¨è§£å³ä¸ä¸ªæ¸è¿çåºæ¯ï¼æä¾ä¸ä¸ªä¸­é´ç»æãå¢éæ¹å¼ç±äºéè¯¯çä¿¡æ¯é·å¥å±é¨æå°å¼ï¼å¨å±æ¹å¼ï¼éè¦è®¿é®å®æ´çè§å¾ï¼ä¹æ æ³æä¾ä¸ä¸ªä¸­é´ç»æã\n\næ¬ææåºä¸ç§æ¸è¿å¼æ¡æ¶ï¼èä¸æ¯æ¹å¤çã\n\nä¼ ç»æ¹å¼éå¸¸è®¾è®¡ä¸ºæ¹å¤çç®æ³ï¼å¶ä¸­å¾åééåå¾åå¤çåä¸ºä¸¤ä¸ªç¬ç«çæ­¥éª¤ãå¨ä»¥ç¨æ·ä¸ºä¸­å¿çåºæ¯ä¸­ï¼å¾åæ¯ç°åºææçï¼å¹¶ä¸ç±3Då»ºæ¨¡ç®¡éå³æ¶å¤çã\n\nå°å¨æå¨å±è§å¾å¾ä¸åºäºè¿éæ§å¾åçå±é¨èç±»ç¸ç»åã\n\n# æ¹æ³ï¼\n\n 1. éæ­¥å»ºç«åºæ¯å¾view graphï¼å¹¶å¨æ´ä¸ªéå»ºè¿ç¨ä¸­ä½ä¸ºå¨å±ç¥è¯ã\n 2. å¨ç®æ³æ¯æ¬¡è¿­ä»£ä¸­ï¼view graphé½ä¼æ ¹æ®æ¬å°è¿éæ§è¿è¡èç±»ï¼å¹¶å¨æ¬å°å¤çåä¸ªèç±»ã\n 3. å¨æ¯ä¸ªèç±»ä¸­æè½¬å¹³åï¼å¹¶ä½¿ç¨å¢éæå¨å±ä¼°ç®3Dç»æã\n 4. éè¿ä½¿ç¨éç¾¤é´çº¦ææ¥ç¨³å¥å°ä¼°è®¡å®ä»¬ä¹é´çç¸ä¼¼åæ¢ï¼æ¥ä¼°è®¡åä¸ªéç¾¤çå¨å±åæ¢ã\n\n# view graph\n\néè¿åé¾æ¥èç±»åå±çé¿ï¼ç´å°ä¸¤ä¸ªèç±»ä¹é´ä¸å­å¨dij<Î·çè¾¹ã\n\n\n# Hybrid Camera Pose Estimation With Online Partitioning for SLAM\n\néè¿å°ç©ºé´å¼ºè¿æ¥çæåæºèéå°æ¯ä¸ªåä¸­ï¼æ¾èæé«äºå±é¨BAçåç¡®æ§ï¼å¹¶å³æ¶æ´æ°ç¸æºè¿å¨ä¼°è®¡ãåºäºæ¶é´åç©ºé´å±è§å°æåæºååã\n\nåä¹é´ä¸­é´è®¡ç®å¼çä¼ æ­--\x3e1)å¨ææä¾è¯å¥½çåå§åï¼2)ææå°é¿åäºéå¤è®¡ç®ã\n\n 1. æ ¹æ®æ¶é´åç©ºé´ç¹å¾çå¯¹åºå³ç³»å¼åäºåºäºååå¯è§æ§çååºæ¹æ¡ï¼\n 2. å¼å¥è¿å¨å¹³åï¼\n 3. å¨æåé´ä¼ æ­åä¸­é´è®¡ç®å¼çååå¹¿æ­ã\n\n# å±é¨å±è§\n\néè¿å¹³åå¨ä¸ä¸ª3Dç¹éä¸çç¸æºæ°éï¼\n\n# å¨å±å±è§\n\næä¸ååæä¸å¸§çå±è§\n\n\n# Revisiting Viewing Graph Solvability: an Effective Approach Based on Cycle Consistency\n\næä¾äºä¸ç§æ°çå±è§åä¸ç§ç®æ³ï¼ç¨äºç¡®å®view graphæ¯å¦å¯è§£ï¼å³å¯ä¸å°ç¡®å®ä¸ç»æå½±ç¸æºã\n\nä¸¤å¹å¾åä¹é´å­å¨åºæ¬ç©éµæ¶ï¼å­å¨ä¸æ¡è¾¹ã\n\nå¯è§£æ§çå®ä¹ï¼å½ä¸ä»å½å¯ç¨çåºæ¬ç©éµå¯ä¸å°ç¡®å®å¶ä½åºæ¬ç©éµæ¶ï¼å¾ææ¯å¯è§£çï¼å³è¾å¥å¾å¯ä»¥è½¬æ¢ä¸ºå®æ´å¾ã\n\n\n# Progressive Structure from Motion by Iteratively Prioritizing and Refining Match Pairs\n\nä»æé®é¢çå¹éå¯¹å»æ¢å¤æ­£ç¡®çéå»ºç»æãæä»¬åºäºæææ½å¨å¹éå¯¹æå»ºäºä¸ä¸ªå æè§å¾å¾ï¼å¹¶æåºä¸ç§æ¸è¿å¼SfMæ¹æ³ï¼è¯¥æ¹æ³è¿­ä»£å°ä¼åèèåç»åå¶å¹éå¯¹ãåå§ååæ©å±ã\n\n# åå§å\n\nä»å¤ä¸ªç¬ç«çæå°çææ çèåå¯¹å¹éå¯¹è¿è¡æåºï¼å¹¶éè¿å¾ªç¯ä¸è´æ§æ¨æ­çææ³è¿è¡ä¼åï¼å¶æ¨å¨éè¿åæå¶å ä½ä¸è´æ§æ¥æ¨æ­ä¸æ­£ç¡®çè¾¹ã\n\n# æ©å±\n\nseed reconstruction è¿­ä»£æ·»å æ°çæå°çææ åç»åç¸åºçå¹éå¯¹æ¥éæ­¥æ©å±ï¼å½æ©å±å°ä¸å®çå®æ´æ§æ¶ç»æ­¢ã\n\n# colmap\n\nå¨éå¤ç»ææèç­åºçº¿çæåµå¹ééè¯¯è¾å¤\n\n# ç®æ³æµç¨\n\n 1. æç§colmapçç¨åºè·å¾æææ½å¨çå¹éå¯¹ï¼æå»ºå æè§å¾å¾ï¼è¾¹çæå¼è¶å°ï¼å¹éçæ­£ç¡®çå¯è½æ§è¶å¤§ã\n\n 2. åå§åä¸­ï¼çæä¸ä¸ªåå«å¤ä¸ªç¬ç«æå°çææ çç§å­è§å¾ï¼å¹¶ä½¿ç¨CCIè¿æ»¤ç§å­è§å¾ä¸­çå¼å¸¸å¼ã\n\n 3. æ©å±ï¼è¿­ä»£å°å¶å®æå°çææ æ©å±è¿æ¥ï¼å®ç°æ´å¯éçå¾ã\n\n\n# IRAv3: Hierarchical Incremental Rotation Averaging on the Fly\n\n# IRA\n\n 1. Initial Triplet Selectionï¼ ä»åºæ¯å¾ä¸­éåºæåçä¸ä¸ªé¡¶ç¹ï¼\n 2. NBV Selection, éæ©è¾¹å¤çä¸ä¸ä¸ªç»ç¹ï¼\n 3. å±é¨ä¼åå½åæ°æ·»å ç»ç¹çæè½¬ï¼\n 4. å¨å±ä¼åææç»ç¹çæè½¬ã\n\n# IRA++\n\n 1. å¨è¾å¥çEGä¸è¿è¡ç¤¾åºæ£æµèç±»ï¼\n 2. å¯¹æ¯ä¸ªç¤¾åºè¿è¡åºäºIRAçæè½¬å¹³åï¼è·å¾å¨å±é¨åæ ç³»ä¸­çæè½¬ï¼\n 3. åºäºVSRAçæè½¬ä¼°è®¡ï¼è·å¾æ¯ä¸ªç¤¾åºä¹é´çç¸å¯¹æè½¬ï¼\n 4. åæ¬¡æ§è¡åºäºIRAçæè½¬å¹³åï¼ä¼°è®¡æ¯ä¸ªç¤¾åºçç»å¯¹æè½¬ï¼\n 5. è¿è¡æè½¬å¯¹é½åä¼åã\n\n# IRAv3\n\n 1. åºäºç¤¾åºæ£æµçç§å­éå»ºï¼\n 2. æ½å¨èç±»åé¡¶ç¹é¢éï¼ä¸ä¸æä½³è§å¾éæ©åèç±»é¶å±å³ç³»ï¼å¢éç»å¯¹æè½¬è®¡ç®ï¼\n 3. 3~5 åä¸",normalizedContent:"# structure from motion\n\n\n# å¢ésfm\n\n# ä¸\n\nä»ä¸¤è§å¾æä¸è§å¾ä½ä¸ºç§å­å¼å§è¿è¡éå»ºï¼ç¶åæ·»å æ°çè§å¾å°ç³»ç»ä¸­ï¼æåè¿è¡baãè¿ç§æ¹å¼éå¸¸ææäºåå§ç§å­éæ©ï¼åé­åç´¯è®¡è¯¯å·®ãåvsfmãcolmapæåºre-triangulate tracksæ¥æ¶é¤ç»æè¯¯å·®ã\n\nä¼ ç»çæ¹æ³è¿åº¦å³æ³¨ä¸ä¸ä¸ªè§å¾éæ©ï¼å¹¶ä¸æ¯æ¬¡è¿­ä»£æ¶åªæ³¨åä¸ä¸ªæå¤ä¸ªç¸æºï¼å¯¼è´baæ§è¡å¾å¤æ¬¡ï¼è±è´¹å¾å¤è®¡ç®æ¶é´ã\n\nå¨æ¯ä¸æ¬¡è¿­ä»£ä¸­ï¼ææå¯è§çtracksé½ä¸è§ååä¼åï¼å¨è®¡ç®ç¸æºä½å§¿æ¶æ¾å¾åä½ã\n\nå¨æåæºéåè¿ç¨ä¸­ï¼éå¸¸å¿½ç¥æå ä½æµéã\n\nå¨å¢ééåæé´ï¼éè¯¯è¾¹ç¼å¯è½ä¼å°ä½sfmç³»ç»çæ§è½ã\n\n# äº\n\né¦ååå»ºå°ç3dæ¨¡åï¼ç¶ååå¹¶ä¸åçæ¨¡åã\n\nå¢ésfmé½å­å¨ç´¯è®¡è¯¯å·®åå¤§è®¡ç®éã\n\n\n# å¨å±sfm\n\nåæ¶ä¼°è®¡ææçç¸æºä½å§¿ç¶åbaä¸æ¬¡ï¼åå«æè½¬å¹³ååå¹³ç§»å¹³åã\n\n# rotation averaging\n\nd(rijârjrit)=0\n\næå¼å§æå»ºæ±è§£è¯¥æ¹æ³çè¯¯å·®å½æ°ä½¿ç¨ååæ°çf-èæ°ã\n\næåºæä»£æ°çæè½¬å¹³åã\n\nä½¿ç¨l1ä¼åæ¹æ³æ¥æ±è§£ã\n\nwilson et al. [43]åç°æä¸¤ä¸ªå ç´ å½±åæè½¬å¹³åçç²¾åº¦ï¼ä¸ä¸ªæ¯edge graphï¼egï¼ç»æï¼å¦ä¸ä¸ªæ¯æå ä½çç²¾åº¦ï¼ç¶åæ¨èå½æåæºåå¸ååæ¶ï¼å»ºè®®åå°å¶ç¾¤éã\n\nhsfmåºäºè¿ä¸ªçè®ºï¼æåºä¸ä¸ªåºäºç¤¾åºçæè½¬å¹³åæ¹æ³ç¾¤éï¼ç¶åè´ªå©ªççåå¹¶egã\n\n# translation averaging\n\nÎ»ijtij=rj(ciâcj)\n\nå¾å¤çº¿æ§æ¹æ³éè¿ç©éµåè§£çæ¹å¼æ¥æ±è§£è¯¥æ¹ç¨ï¼ä½è¿äºæ¹æ³ææäºæå ä½çå¤ç¹ã\n\nä¹æå¾å¤æ¹æ³ååé¤æå ä½çå¤ç¹ï¼éè¿åç¯ç­ï¼ä½è¿äºæ¹æ³éè¦åä½çå¾åå¯¹ã\n\nä¸äºæ¹æ³å±é¨baæèå¤è§å¾tracksçä¸è´æ§æ¥ä¼åæå ä½ã\n\nä¹ææ¹æ³åæ¶æ±è§£ç¸æºçå¹³ç§»åä¸ç»´ç¹ã\n\nè¿ææ¹æ³éè¿èåè¾å©çæåä¿¡æ¯æ¥è·å¾ç¸æºå¹³ç§»ã\n\n\n# track selection and camera prioritization\n\n\n\n# é®é¢\n\n 1. å¨å®æ´çview-graphä¸­æ§è¡raä»ä»èèæå¤§è¿æ¥çç´§å¯åï¼èå¿½è§ç²¾ç¡®åº¦ã\n 2. å éæåæºéåçè¿ç¨ï¼åå°baçåå­å ç¨ã\n\n# è§£å³\n\n 1. å¨view-graphçå¤ä¸ªæ­£äº¤æå¤§çææ ä¸­æ§è¡raãè¯¥ç²¾åº¦åå³äºview-graphçè¿æ¥ç´§å¯æ§ï¼ä»¥åæå ä½çç²¾åº¦ã\n 2. éæ©ä¸ä¸ªå­éè½¨è¿¹æ¥ä¼åæ³¨åå¥½çæåæºä½å§¿ã\n\n# é®é¢ï¼ åå§ç§å­éæ©\n\n 1. éæ©ç¹å¾å¹éæ°éå¤çå¾åå¯¹\n 2. éè¿åºç¡ç©éµè¿æ»¤å¹éç¹\n 3. è¦æ±ç§å­å·æåºéæå½±è¯¯å·®åå°åæ¹å·®\n\n# è§£å³\n\næ²¡æèèåç»­æåæºå¹éãè¯å¥½çç§å­åºä¸è§å¾ä¸­å¶å®èç¹ç´§å¯è¿æ¥ã\n\n# é®é¢ï¼track triangulation & selection\n\n 1. å¨ç¸æºæ³¨åå®ï¼å¯¹ææçtracksè¿è¡ä¸è§åï¼è¿æ ·è±è´¹å¤§éæ¶é´ååå­ï¼éä½ç³»ç»çæ§è½ã\n\n# è§£å³\n\n 1. å¨ä¸äºglobal sfmä¸­ï¼éç¨track selection æ¥å éä¸è§åï¼ç¥éææç¸æºä½å§¿ã\n 2. å¨å¢ésfmä¸­ï¼ç¸æºä½å§¿æ¯éæ­¥ç¥éç\n 3. æä»¥èèï¼å¨å½åæ¬¡è¿­ä»£åä¸ä¸æ¬¡è¿­ä»£ä¸­éæ©tracksç»baã\n\n# ra\n\n 1. f-èæ°ï¼æä»£æ°ï¼ä½¿ç¨irlsï¼2016è§å¾ç»æä¹ä¼å½±åraçç²¾åº¦ãç¶èå¤§å¤æ°å·¥ä½é½æ²¡æèèã\n 2. å¯¹äºç²¾åº¦ï¼éè¿å±é¨baæ¥ä¼åæå ä½ç¸å¯¹ä½å§¿ï¼éè¿ä¸ç¦éä¸è´æ§æ¥éªè¯ç¸å¯¹ä½å§¿ï¼éè¿longer tracksæ¥ä¸è´æ§æ¥æåç¸å¯¹ä½å§¿çç²¾åº¦ã\n 3. å°è§å¾éæ©ä½ä¸ºæå°ææ¬ç½ç»æµé®é¢ã\n 4. å¿½ç¥äºç»æççº¦æã\n 5. å¯¹ä¸è¬åæ¨¡ç³çæ°æ®éä½¿ç¨ä¸åçåéªå å­ã\n\n\n# csfm\n\n\n\né¦åï¼å¯¹æå ä½å¾ååä¸ºåç¬çç¤¾åºï¼ç¶åå¹¶è¡è§£å³æ¯ä¸ªç¤¾åºçéå»ºé®é¢ï¼æåéè¿å¨å±ç¸ä¼¼åº¦å¹³åæ¹æ³å¯¹éå»ºç»æè¿è¡åå¹¶ã\n\n\n# rotation-only ba\n\nbaæ¨å¨è·å¾ä¸ä¸ªä¼åçç»æç¹åç¸æºä½å§¿éè¿æå°åå¾åçéæå½±è¯¯å·®ã\n\nå¨global sfmæ¡æ¶ä¸ï¼å¯¹æè½¬è¿è¡åç¡®çåå§çæµå¾éè¦ãæä»¥ä¸è¬ææ¹è¿æè½¬å¹³åæ¹æ³ æ ç¸å¯¹ä½å§¿è¾å¥ã\n\nç¶èç¸å¯¹ä½å§¿ä¼°è®¡ä»ä»éå¶äºä¸¤å¼ å¾åä¹é´ï¼èæè½¬å¹³åä¸ç´æ¥å©ç¨å¾åæµéï¼å³ä½¿å®ä»¬æ¯ä»å·ä½æä¸ååªå£°ç»è®¡ååå¸çä¸åç¹æ°ä¼°è®¡ï¼å®ä¹ä¼å¹³ç­å¯¹å¾ææç¸å¯¹æè½¬\n\næ¹æ³ï¼ ç»å®æè½¬çåå§ä¼°è®¡ï¼ä½¿ç¨å¾åæµéä½ä¸ºç´æ¥è¾å¥æ§è¡ä»æè½¬ä¼åã\n\nåºäºååä¸ç¯çç¬ç«äºå¹³ç§»çä»ä¼åä¸¤å¾åä¹é´çæè½¬ã\n\næ©å±å°å¤ä¸ªè§å¾ã\n\n\n# robust and accurate hybrid structure-from-motion\n\n# æ¹æ³ï¼\n\n * æå»ºä¸ä¸ªæå¤§çææ ï¼ä½¿ç¨global sfméå»º\n * å©ä¸å¾çä½¿ç¨å¢éæ¹å¼è¿è¡éå»º\n\n# åºæ¯å¾ä¼å\n\nå¢éå¨å±æ¹æ³çè¾å¥é½æ¯åºæ¯å¾\n\ngraph\na[æåä¸ä¸ªéª¨å¹²å¾] \n--\x3e \nb[éè¿åç¯ä¸è´æ§æåºè¾¹ä¹é´çè¯¯å·®]\n--\x3e\nc[ä»æå¤§çææ å¼å§]\n\n\n# hybrid\n\ngraph\n\na[hsfm]\n--\x3e\nb[å¢éä¼°è®¡å¹³ç§»]\n--\x3e\nc[å­å¾åå¨å± å©ä½å¾åå¢é]\n\n\n\n# hybrid rotation averaging: a fast and robust rotation averaging approach\n\nå±é¨ä¼åæ¹æ³å°½ç®¡åªæ¯ä¿è¯å±é¨æä¼ï¼ä½æ¯æå¥½çéæ©\n\nå¨å±ä¼åå¯ä»¥å¨ä½åªç¹çæåµä¸ä¿è¯å¨å±æä¼ï¼ä½éå¸¸é½ä¸æ»¡è¶³è¯¥æ¡ä»¶\n\n# ra\n\n * å±é¨æ±è§£å¨ï¼é·å¥å±é¨æå°å¼\n * å¨å±æ±è§£å¨ï¼ææäºåªç¹\n\nhsfmï¼éè¿global æ¹æ³æ±è§£æè½¬ï¼ç¶åç¸æºä¸­å¿éè¿p2pæ¹å¼å¢éä¼°è®¡ï¼ä½ä¸äºä¼°è®¡çç»å¯¹æè½¬ä¸æ­£ç¡®ï¼å æ­¤å½±ååç»­çéå»ºè¿ç¨ã\n\n\n# incremental rotation averaging\n\nç¸æ¯äºå¨å±sfmï¼å³æ¶å¢ésfmæçæ¯è¾åºï¼ä½å¶å¯ä»¥ä¿è¯ç²¾åº¦éè¿é¢ç¹çransacåbaã\n\nå¤§å¤æ°å¨å±sfmæ§è¡æè½¬å¹³ååå¹³ç§»å¹³åæ¯ä¸ä¸ªååé¡ºåºï¼å¨æ§è¡å¹³ç§»å¹³åæ¶åï¼æè½¬æ¯åºå®çã\n\nåå ä¸ºæè½¬å¹³ååå³äºæå ä½ï¼å¶ä¸­ååæ å¹éå½±åï¼å°¤å¶å¯¹ä¸äºäºèç½å¾çã\n\nä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼\n\n 1. å»å¯»æ¾æ´å é²æ£çæå¤±å½æ°ï¼è®©ä¼åçè¿ç¨æ´å é²æ£ã\n\nè¿äºæ¹æ³ä¸­çä¼åè¿ç¨å¨å¾å¤§ç¨åº¦ä¸åå³äºåå§åï¼å¹¶ä¸ç±äºé®é¢å¬å¼å¤æèéå¸¸æçä½ä¸ã\n\n 2. å°è¯å»åé¤egå¾çå¤ç¹ã\n\nç¶èï¼ç¸å¯¹æè½¬å¤ç¹è¿æ»¤åç»å¯¹æè½¬ä¼°è®¡æ¯ä¸ä¸ªé¸¡ä¸èçé®é¢ï¼åªæåç¡®ä¼°è®¡ç»å¯¹æè½¬ï¼æè½ææè¿æ»¤ç¸å¯¹æè½¬å¼å¸¸å¼ã\n\n# åæ°ç¹\n\nä»¥å¢éçæ¹å¼ä¼°è®¡ç»å¯¹æè½¬ã\n\nä½¿ç¨ä¸äºå³é®ç¹ï¼åå§ä¸åç»ï¼ä¸ä¸ä¸ªæä½³è§å¾éæ©ç­ç¥ï¼è¿­ä»£åä¸çå æå±é¨/å¨å±ä¼åï¼éæ°æè½¬å¹³åã\n\nè¿­ä»£æ§è¡å¤ç¹æ£æµåé²æ£ä¼åï¼å©ç¨é¨åä¼°è®¡çç»å¯¹æè½¬æ¥ææå°æ£æµç¸å¯¹æè½¬å¤ç¹ï¼ç¶åä½¿ç¨l2èæ°æ¥ä¼°è®¡ç»å¯¹æè½¬ã\n\n# åç»­\n\néååèæ²»ä¹çç­ç¥æ¥è¿è¡å¤§è§æ¨¡çæè½¬å¹³åï¼ååä¸ºå¤ä¸ªåºæ¯å¾ï¼åå«è¿è¡æè½¬å¹³åï¼æååå¹¶ã\n\n\n# image-matching from paper to practice\n\næè¿çåªåå·²ç»è½¬åæ´ä½çç«¯å°ç«¯çè§£å³æ¹æ¡ãå°½ç®¡ä»ä»¬æå¸æä½ä»ä»¬å°æªè¶è¶åºäºåå¸è§£å³æ¹æ¡çç»å¸èå¼çåç¦»ä¸»ä¹è\n\ngraph\n\na[æåå±é¨ç¹å¾ sift]\n--\x3e\nb[æè¿°ç¬¦]\n--\x3e\nc[æè¿é»æç´¢]\n--\x3e\nd[ransacå¾ªç¯]\n--\x3e\ne[baç®¡é]\n\n\n\n# a hybrid global structure from motion method for synchronously estimating global rotations and global translations\n\n# è´¡ç®\n\nåå±åæ­¥è§£å³å¨å±æè½¬åå¹³ç§»é®é¢ï¼\n\n\n# to learn or not to learn: visual localization from essential matrices\n\næè¿ï¼å·²ç»æåºäºåºäºç¸å¯¹å§¿æä¼°è®¡çå­¦ä¹ æ¹æ³ï¼ææè½»æ¾éåºæ°åºæ¯ãç¶èï¼ä»ä»¬ç®åçåç¡®åº¦ææ¾ä½äºæåè¿çæ¹æ³ãè¿éæå´è¶£åæè¿ç§è¡ä¸ºã\n\nç»å®ä¸å¼ æ¥è¯¢å¾åï¼è§è§å®ä½ç®æ³çç®æ æ¯ä¼°è®¡å¶ç¸æºå§¿æã\n\nå½åå®ç°æåè¿çå§¿æä¼°è®¡æ¹æ³ï¼åºäº3dä¿¡æ¯ï¼ä»ä»¬é¦åå¨æ¥è¯¢å¾åä¸­ç2dåç´ ä½ç½®ååºæ¯ä¸­ç3dç¹ä¹é´å»ºç«2d-3då¹éï¼ç¶åä½¿ç¨å¾å°çå¯¹åºå³ç³»æ¥ä¼°è®¡ç¸æºå§¿æã3dåºæ¯å ä½æ¢å¯ä»¥éè¿3dç¹äºæ¾ç¤ºè¡¨ç¤ºï¼ä¹å¯ä»¥éè¿å·ç§¯ç¥ç»ç½ç»çæééå¼è¡¨ç¤ºã\n\nä¸åºäº3dçæ¹æ³ç¸æ¯ï¼åºäºç¸å¯¹ä½å§¿çè§è§å®ä½æ¹æ³å·æçæ³çç¹æ§ï¼å³åºæ¯è¡¨ç¤ºçç®åæ§åçµæ´»æ§ä»¥åæäºéåºæ°åºæ¯ãæ­¤å¤ï¼å©ç¨ç°ä»£æºå¨å­¦ä¹ ææ¯è¿è¡ç¸å¯¹å§¿æä¼°è®¡ä¼¼ä¹å¾èªç¶ï¼ä½ä¸ºä»ä¹åºäºå­¦ä¹ çæ¹æ³å¨è¿ä¸­æåµä¸è¡¨ç°ä¸ä½³å¢ï¼\n\næ¬ææåºä¸ç§æ°é¢ä¸éç¨çè§è§å®ä½æ¡æ¶ï¼è¯¥æ¡æ¶ä½¿ç¨æ°é¢çransacæ¹æ¡ä¸­çåºæ¬ç©éµæ¥æ¢å¤ç»å¯¹ä½å§¿ã\n\n\n# essential matrix based location\n\n 1. ä½¿ç¨å¾åæ£ç´¢æ¥è¯å«ä¸ç»å¾åï¼\n 2. å¯¹æ¯ä¸ªæ£ç´¢å°çå¾åè®¡ç®å¶ä¸æ¥è¯¢å¾åçæ¬è´¨ç©éµï¼\n 3. ä½¿ç¨æ£ç´¢å°çå¾åçæ¬è´¨ç©éµï¼åå·²ç¥ç»å¯¹ä½å§¿çæ¥è¯¢å¾åï¼ä¼°è®¡æ£ç´¢å¾åçç»å¯¹ä½å§¿ã\n\n# retrieving\n\néè¿ç¨3096ç»´densevladæè¿°ç¬¦è¡¨ç¤ºæ¯ä¸ªæ°æ®åºå¾åæ¥æ§è¡å¾åæ£ç´¢ï¼è¿å·²è¢«è¯æå¯ä»¥åå·ææææ§çæ¡ä»¶ä¸å·¥ä½ã\n\n# pair selection\n\nç®åå°ä¸ºæ¯ä¸ªæ¥è¯¢å¾åæétop-kä¸è¶³ä»¥è·å¾è¯å¥½çæ§è½ãå¸æç¡®ä¿æ´å¤§çä¸è§æµéè§åº¦ï¼åæ¶æä¿æè¶³å¤çè§è§éå ä»¥æåè¿è¡ç¸å¯¹å§¿æä¼°è®¡ã\n\nè¿­ä»£éæ©ä¸ååæ£ç´¢å¾åæä¸å®çæå°/æå¤§è·ç¦»ã\n\n# pairwise relative pose estimation\n\nå¯¹äºæ¯ä¸ªå¾åå¯¹ï¼æä»¬è®¡ç®æ¥è¯¢å¾ååæ°æ®åºå¾åä¹é´çç¸å¯¹ä½å§¿çæ¬è´¨ç©éµã\n\n# absolute pose estimation via ransac\n\nä½¿ç¨ransacï¼å¨æ¯æ¬¡è¿­ä»£ä¸­ï¼æä»¬å¯¹å¾åå¯¹è¿è¡éæ ·ï¼å¹¶ä½¿ç¨ä»ä»¬æ¥ä¼°è®¡æ¥è¯¢å¾åçç»å¯¹ä½å§¿ãæ¥ä¸æ¥ç¡®å®åªäºå¾åå¯¹æ¯è¯¥ç»å¯¹ä½å§¿åè®¾çåç¹ã\n\næä»¬é¦åæå°åç»å¯¹æè½¬åç¸å¯¹æè½¬ä¹é´çè¯¯å·®ï¼å¾å°ä¸ä¸ªç»å¯¹æè½¬ï¼ç¶åç¨æ¥è¡¡éä¸é¢çç»å¯¹ä½å§¿ã\n\næäºæè½¬åè®¡ç®å¹³ç§»ï¼æµéçå¹³ç§»åé¢æµçç»å¯¹ä½å§¿ä¸­çå¹³ç§»è®¡ç®ä½å¼¦ç¸ä¼¼åº¦ï¼å°äºä¸å®éå¼åè§ä¸ºåç¹ãæåè¿åæå¤§åç¹æ°çä½å§¿ã\n\n\n# essential matrix estimation\n\n# feature-based\n\nå¨æ¥è¯¢åæ°æ®åºå¾åä¹é´å»ºç«2d2då¹éï¼ç¶åéè¿ransacå¾ªç¯ååºç¨5ç¹æ³å¾éæ¬è´¨ç©éµã\n\n# learning-based\n\nrelative pose parametrizaiton\n\næ¯ç¸å¯¹ä½å§¿æ ç­¾lw(yâây)=||tâtâ||2+Î²||qâqâ||yâ=(qâ,tâ)æ¯ç¸å¯¹ä½å§¿æ ç­¾\n\nnetwork architecture\n\n 1. ä¸ä¸ªç®åçåºå®å¹éå±ï¼essnetï¼ï¼æ¬è´¨ä¸æ¯æ¥èªä¸¤ä¸ªå¾åçç¹å¾å¾ä¹é´çç©éµç¹ç§¯ã\n\n 2. å¯å­¦ä¹ çé¢åå±è§å¹éå±ï¼å®å¼ºå¶å¹éçå±é¨å ä½ä¸è´æ§ã\n\nä¸¤ä¸ªå¹éå±è±æµresnetçæçä¸¤ä¸ªç¹å¾å¾ç»åæä¸ä¸ªåä¸çç¹å¾åéï¼å¯ä»¥çåæ¯ä¸ä¸ªå¹éåæ°å¾ã\n\nå°åæ°å¾è¾å¥å°åå½å±æ¥é¢æµæ¬è´¨ç©éµï¼åå½å±ç±ä¸¤ä¸ªå·ç§¯å±åç»æï¼ç¶åç¨reluè¿è¡æ¹éå½ä¸åï¼æåæ¯ä¸ä¸ªå¨è¿æ¥å±åå½ä¸ä¸ªè¿ä¼¼äºæ¬è´¨ç©éµç9dåéãç¶åå°è¿ä¼¼çåä¸¤ä¸ªå¥å¼å¼æ¿æ¢ä¸ºå¶åå¼ï¼å°å¶è¿ä¼¼æå½±å°ä¸ä¸ªææçæ¬è´¨ç©éµä¸ã\n\nloss function\n\næå°åé¢æµçe åçå®e\n\nless(eââe)=||eâeâ||2\n\n# hybrid: learning matching + five-point solver\n\nä½ä¸ºç»å¸æ¹æ³ååå½æ¹æ³çç»åãéè¿ç¥ç»ç½ç»å­¦ä¹ ç¹å¾æååå¹éï¼ä»èäº§çä¸ç»2d-2då¹éãç¶åä½¿ç¨ransacå¾ªç¯5ç¹æ³ä¼°è®¡æ¬è´¨ç©éµã\n\n# ç»è®º\n\nå¨æ°æ®é©±å¨çè§è§å®ä½æ¹æ³è½å¤åç¡®å¹¶è½»æ¾å°æ¨å¹¿å°æ°åºæ¯ä¹åï¼è¿éè¦è¿è¡æ´å¤çç ç©¶ã\n\n\n# 0919\n\n\n# view-graph construction framework for robust and eï¬cient structure-from-motion\n\nä¼ ç»çç©éµåè§£æ¹å¼å¹³ç­å¯¹å¾ææçè¾¹ï¼è¿æ ·å¨è¾å°ç¹å¾å¹éå¯¹ä¼äº§çå¤ç¹ï¼èä¸ä¹ä¼å½±åå¶å®çè¾¹ã\n\nä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æä»¬æåºäºä¸ä¸ªç¨äºè§å¾å¾æå»ºçå¢ééª¨æ¶ï¼å·æå¤§éç¹å¾å¹éçå¹éå¯¹çé²æ£æ§è¢«ä¼ æ­å°å®ä»¬çè¿æ¥å¾åã\n\n# æ¹æ³\n\né¦åæå»ºä¸ä¸ªç»è¿éªè¯çæå¤§çææ ã\n\nå¯¹äºæå¤§çææ ä¸­çæ¯æ¡è¾¹ï¼æä»¬æ§è¡å±é¨ä¸­é´å¹¶éåå¶å¯è§ç¸æºã\n\nåºäºå±é¨éåï¼è®¡ç®æå¯¹çç¸å¯¹å ä½ä½å§¿ã\n\nä¸æ¹é¢ï¼ç±äºä½¿ç¨äºææç¹å¾å¹éï¼å æ­¤åä½è¾¹ç¼å¯è½ä¼å¼å¥è®¸å¤éè¯¯çè¾¹ãå°½ç®¡sfmç³»ç»éè¿å ä½éªè¯è¿æ»¤ç¹å¾å¹éå¼å¸¸å¼ï¼ä½å­å¨äºéå¤çº¹çåºåä¸­çéè¯¯å¼å¸¸å¼ä¸ä»å¨è§è§ä¸ç¸ä¼¼ï¼èä¸è¿å¯è½éè¿ä¸¤è§å¾å ä½éªè¯å¹¶å½¢æéè¯¯çç¸å¯¹å ä½ã\n\nä¸ºäºè§£å³æ­§ä¹é®é¢ï¼æ¹æ³{20ï¼21}éè¿ä¸äºéèº«å®å¶çç­ç¥é¡¾èä¸ä¸è´çè¾¹ç¼ã\n\nå¦ä¸æ¹é¢ï¼ä¸¤è§å¾æå ä½éå¸¸æ¯éè¿åè§£åºæ¬ç©éµæ¥äº§ççãå¯¹å¹éå¼å¸¸å¼ææãå°½ç®¡å ä½éªè¯å©ç¨ç¹å¯¹çº¿çº¦ææ¥è¿æ»¤åçæçº¿çå¼å¸¸å¼ï¼ä½æ æ³è¯å«ä½äºæçº¿éè¿çå¼å¸¸å¼ãè½ç¶baå¯ä»¥è§£å³è¯¥é®é¢ï¼ä½ä»å¯è½è¿ä¼å¤±è´¥ã\n\nä¸ºè§å¾å¾æé æåºäºä¸ä¸ªå¢éæ¡æ¶ï¼å¶ä¸­èªå¨éæ©è¾¹å¹¶éè¿ä¸è§å¾è®¡ç®ç¸å¯¹å ä½ãä¸ºäºä¿è¯åºæ¯çå®æ´æ§ï¼æä»¬é¦åä»å¹éå¾ä¸­æå»ºä¸ä¸ªéªè¯çæå¤§çææ ï¼å¶ä¸­è¾¹ç¼ç±å¹éç¹å¾çæ°éå æï¼å¹¶æ§è¡éªè¯ãå¯¹äºæå¤§çææ ä¸­çæ¯æ¡è¾¹ï¼æä»¬éè¿æç¥¨éªè¯ç¸å¯¹ä½å§¿ï¼å¹¶æ§è¡å±é¨éå»ºéåå¯è§çç¸æºãæ ¹æ®å±é¨éå»ºä¸­çä½å§¿è®¡ç®ç¸å¯¹ä½å§¿ãç¶åå°è¿äºè®¡ç®åºçç¸å¯¹ä½å§¿æå¥æå¤§çææ ä¸­ãè¿­ä»£æ§è¡å®å±é¨éå»ºï¼æåå°æå¤§çææ æ©å±å°è§å¾å¾ä¸­ã\n\næ²¡æåè§£åºæ¬ç©éµï¼èæ¯å©ç¨å±é¨éå»ºæ¥è·å¾ç¸å¯¹å ä½ã\n\n\n# robust motion averaging for multi-view registration of point sets based maximum correntropy criterion\n\nè¿å¨å¹³åï¼ä»ç¸å¯¹è¿å¨ä¸­æ¢å¤å¨å±è¿å¨ï¼å¹¶å©ç¨ä¿¡æ¯åä½æ¥å¹³åç´¯è®¡è¯¯å·®ãæä»¬æåºäºä¸ç§æ°é¢çè¿å¨å¹³åæ¡æ¶ï¼ç¨äºä½¿ç¨åºäºææ®ææ¯æ ¸çæå¤§ç¸å³çµååï¼lmccï¼è¿è¡å¤è§å¾éåãå©ç¨æä»£æ°è¿å¨æ¡æ¶åç¸å³çµåº¦éï¼æä»¬æåºäºä¸ç§æ°çææ¬å½æ°ï¼è¯¥å½æ°å°ç¸å¯¹è¿å¨æä¾çææçº¦æé½èèå¨åã\n\nè·å¾ç¨äºæ ¡æ­£å¨å±è¿å¨çå¢éå¯ä»¥è¿ä¸æ­¥è¡¨è¿°ä¸ºå¨æå¤§åææ¬å½æ°çä¼åé®é¢ãå°ä¼åé®é¢åè§£ä¸ºä¸¤ä¸ªå­é®é¢ï¼æ ¹æ®å½åæ®å·®è®¡ç®æ¯ä¸ªç¸å¯¹è¿å¨çæéï¼å¹¶å¨ä¸ä¸æ¬¡è¿­ä»£ä¸­æ±è§£å¢éçäºé¶é¥è§åé®é¢ã\n\nç±äºåºæ¯æç©ä½çé®æ¡ä»¥åæ«æè§éæéï¼å¤§å¤æ°æ«æè®¾å¤åªè½æè·é¨åç¹äºãä¸ºäºä»ä¸åè§ç¹æè·çä¸ç³»åæ«æä¸­åç¡®å°æ¢å¤æ´ä¸ªæ¨¡åæåºæ¯ï¼å°±ä¼åºç°ç¹ééåé®é¢ã\n\n\n# progressive large-scale structure-from-motion with orthogonal msts\n\nç¹å¾å¹éä¸è¶³å¯è½ä¼ç ´åéå»ºåºæ¯çå®æ´æ§ï¼èåä½å¯¹å¯è½ä¼å¸¦æ¥è®¸å¤éè¯¯çå¹éãå¤å±å¾ªç¯è¿­ä»£éæ©å¾åç¸ä¼¼åº¦çæå¤§çææ æ¥æ§è¡å¾åå¹éãåå±å¾ªç¯éåç¸æºã\n\né¦åï¼åºäºä»è¯æ±æ è®¡ç®çå¾åæè¿°ç¬¦ï¼æå»ºå¾åç¸ä¼¼åº¦å¾ï¼å¶ä¸­èç¹è¡¨ç¤ºå¾åï¼è¾¹è¡¨ç¤ºè¿æ¥å¾åä¹é´çç¸ä¼¼åº¦å¾åã\n\nç¶åï¼éæ©å¾ç¸ä¼¼åº¦çmstè¿è¡å¾åå¹éãç»å®å¹éçç¹å¾å¹éï¼ç¸æºä»¥å¢éæ¹å¼æ ¡åãä¸è½ä¿è¯ææç¸æºé½å¯ä»¥éè¿mstæ ¡åã\n\nå æ­¤ï¼æä»¬è¿­ä»£å°éæ©æ­£äº¤mstè¿è¡ç¸æºæ ¡åï¼åä¸æ¬¡è¿­ä»£äº§ççç¹å¾å¹éä¸æ°éæ©çmstäº§ççç¹å¾å¹éç¸ç»åï¼å¹¶ä¸å¨åä¸æ¬¡è¿­ä»£ä¸­æ ¡åçç¸æºä½å§¿è¢«ç»§æ¿å°å½åè¿­ä»£ä¸­ã\n\næ ¹æ®ç¸æºæ å®çåé¦ï¼éæ­¥éæ©å¾åç¸ä¼¼åº¦çå¤ä¸ªæ­£äº¤mstè¿è¡å¾åå¹éãæ­¤åï¼å¤§å¤æ°sfmæ¹æ³ä¸­ï¼ææå¹éå¯¹é½è¢«è§ä¸ºåç­éè¦ï¼å¹¶å¨ç¸æºæ ¡åä¸­åæ¶èèãçæçç¹å¾è½¨è¿¹å®¹æè¢«æ±¡æã\n\n\n# tc-sfm: robust track-community-based structure-from-motion\n\nç±éå¤ç»æå¼èµ·çæ¨¡ç³æ§æ»ä¼å¯¼è´éè¯¯çç¸æºä½å§¿å3dç»æã\n\nå¨æ¬æä¸­ï¼æä»¬å»ºè®®å©ç¨åºæ¯ä¸­é«çº§ä¿¡æ¯ï¼å³å±é¨åºåçç©ºé´ä¸ä¸æä¿¡æ¯æ¥æå¯¼éå»ºã\n\ntrack-community\n\næ¯ä¸ªcommunityç±ä¸ç»trackç»æï¼å¹¶ä»£è¡¨åºæ¯ä¸­çä¸ä¸ªå±é¨çæ®µã\n\ncommunityæ£æµç®æ³ç¨äºå°åºæ¯ååä¸ºå ä¸ªé¨åã\n\néè¿åætrackçé»åæ¥æ£æµæ½å¨çæ¨¡ç³çæ®µï¼å¹¶éè¿æ£æ¥ä½å§¿ä¸è´æ§æ¥è¿è¡æ ¡æ­£ã\n\nå¯¹æ¯ä¸ä¸ªçæ®µè¿è¡é¨åéå»ºï¼å¹¶å°å®ä»¬ä¸ä¸ä¸ªæ°é¢çååä¸è´æ§ææ¬å½æ°å¯¹é½ï¼è¯¥å½æ°åæ¶èè3d-3då¯¹åºå³ç³»åæå¯¹çç¸æºä½å§¿ã\n\n\n# accurate and eï¬cient ground-to-aerial model alignment\n\nä¸ºäºçæå¤§è§æ¨¡å»ºç­åºæ¯çå®æ´3déå»ºï¼éå¸¸ä¼åæ¶æè·å°é¢åèªæå¾åãä¸ç§å¸¸è§çæ¹æ³æ¯é¦ååå«ä»ä¸åçå¾åæºéå»ºæ¨¡åï¼ç¶åå°å®ä»¬å¯¹é½ã\n\nä½¿ç¨gpsåä¿¡æ¯å°å°é¢æ¨¡ååèªææ¨¡åè½¬æ¢ä¸ºå°çåèåæ ç³»è¿è¡ç²ç¥å¯¹é½ã\n\néè¿åºäºå®ä»¬ä¹é´ç3dç¹å¯¹åºå³ç³»ä¼°è®¡çç¸ä¼¼æ§åæ¢æ¥ç»åç²å¯¹é½æ¨¡åã\n\na)éæ©åéçèªæå¾åå­éä»¥æ­£ç¡®è¦çå°é¢æ¨¡å\n\nb)å¨æéèªæå¾åçè§ç¹ä¸åææ¥èªå°é¢æ¨¡åçå¾å\n\nc)è·å¾åæå¾åä¸æéèªæå¾åä¹é´çäºç»´ç¹å¹éã\n\n\n# progressive structure from motion\n\nç°æçéå»ºæ¡æ¶é½æ²¡æå®å¨è§£å³ä¸ä¸ªæ¸è¿çåºæ¯ï¼æä¾ä¸ä¸ªä¸­é´ç»æãå¢éæ¹å¼ç±äºéè¯¯çä¿¡æ¯é·å¥å±é¨æå°å¼ï¼å¨å±æ¹å¼ï¼éè¦è®¿é®å®æ´çè§å¾ï¼ä¹æ æ³æä¾ä¸ä¸ªä¸­é´ç»æã\n\næ¬ææåºä¸ç§æ¸è¿å¼æ¡æ¶ï¼èä¸æ¯æ¹å¤çã\n\nä¼ ç»æ¹å¼éå¸¸è®¾è®¡ä¸ºæ¹å¤çç®æ³ï¼å¶ä¸­å¾åééåå¾åå¤çåä¸ºä¸¤ä¸ªç¬ç«çæ­¥éª¤ãå¨ä»¥ç¨æ·ä¸ºä¸­å¿çåºæ¯ä¸­ï¼å¾åæ¯ç°åºææçï¼å¹¶ä¸ç±3då»ºæ¨¡ç®¡éå³æ¶å¤çã\n\nå°å¨æå¨å±è§å¾å¾ä¸åºäºè¿éæ§å¾åçå±é¨èç±»ç¸ç»åã\n\n# æ¹æ³ï¼\n\n 1. éæ­¥å»ºç«åºæ¯å¾view graphï¼å¹¶å¨æ´ä¸ªéå»ºè¿ç¨ä¸­ä½ä¸ºå¨å±ç¥è¯ã\n 2. å¨ç®æ³æ¯æ¬¡è¿­ä»£ä¸­ï¼view graphé½ä¼æ ¹æ®æ¬å°è¿éæ§è¿è¡èç±»ï¼å¹¶å¨æ¬å°å¤çåä¸ªèç±»ã\n 3. å¨æ¯ä¸ªèç±»ä¸­æè½¬å¹³åï¼å¹¶ä½¿ç¨å¢éæå¨å±ä¼°ç®3dç»æã\n 4. éè¿ä½¿ç¨éç¾¤é´çº¦ææ¥ç¨³å¥å°ä¼°è®¡å®ä»¬ä¹é´çç¸ä¼¼åæ¢ï¼æ¥ä¼°è®¡åä¸ªéç¾¤çå¨å±åæ¢ã\n\n# view graph\n\néè¿åé¾æ¥èç±»åå±çé¿ï¼ç´å°ä¸¤ä¸ªèç±»ä¹é´ä¸å­å¨dij<Î·çè¾¹ã\n\n\n# hybrid camera pose estimation with online partitioning for slam\n\néè¿å°ç©ºé´å¼ºè¿æ¥çæåæºèéå°æ¯ä¸ªåä¸­ï¼æ¾èæé«äºå±é¨baçåç¡®æ§ï¼å¹¶å³æ¶æ´æ°ç¸æºè¿å¨ä¼°è®¡ãåºäºæ¶é´åç©ºé´å±è§å°æåæºååã\n\nåä¹é´ä¸­é´è®¡ç®å¼çä¼ æ­--\x3e1)å¨ææä¾è¯å¥½çåå§åï¼2)ææå°é¿åäºéå¤è®¡ç®ã\n\n 1. æ ¹æ®æ¶é´åç©ºé´ç¹å¾çå¯¹åºå³ç³»å¼åäºåºäºååå¯è§æ§çååºæ¹æ¡ï¼\n 2. å¼å¥è¿å¨å¹³åï¼\n 3. å¨æåé´ä¼ æ­åä¸­é´è®¡ç®å¼çååå¹¿æ­ã\n\n# å±é¨å±è§\n\néè¿å¹³åå¨ä¸ä¸ª3dç¹éä¸çç¸æºæ°éï¼\n\n# å¨å±å±è§\n\næä¸ååæä¸å¸§çå±è§\n\n\n# revisiting viewing graph solvability: an effective approach based on cycle consistency\n\næä¾äºä¸ç§æ°çå±è§åä¸ç§ç®æ³ï¼ç¨äºç¡®å®view graphæ¯å¦å¯è§£ï¼å³å¯ä¸å°ç¡®å®ä¸ç»æå½±ç¸æºã\n\nä¸¤å¹å¾åä¹é´å­å¨åºæ¬ç©éµæ¶ï¼å­å¨ä¸æ¡è¾¹ã\n\nå¯è§£æ§çå®ä¹ï¼å½ä¸ä»å½å¯ç¨çåºæ¬ç©éµå¯ä¸å°ç¡®å®å¶ä½åºæ¬ç©éµæ¶ï¼å¾ææ¯å¯è§£çï¼å³è¾å¥å¾å¯ä»¥è½¬æ¢ä¸ºå®æ´å¾ã\n\n\n# progressive structure from motion by iteratively prioritizing and refining match pairs\n\nä»æé®é¢çå¹éå¯¹å»æ¢å¤æ­£ç¡®çéå»ºç»æãæä»¬åºäºæææ½å¨å¹éå¯¹æå»ºäºä¸ä¸ªå æè§å¾å¾ï¼å¹¶æåºä¸ç§æ¸è¿å¼sfmæ¹æ³ï¼è¯¥æ¹æ³è¿­ä»£å°ä¼åèèåç»åå¶å¹éå¯¹ãåå§ååæ©å±ã\n\n# åå§å\n\nä»å¤ä¸ªç¬ç«çæå°çææ çèåå¯¹å¹éå¯¹è¿è¡æåºï¼å¹¶éè¿å¾ªç¯ä¸è´æ§æ¨æ­çææ³è¿è¡ä¼åï¼å¶æ¨å¨éè¿åæå¶å ä½ä¸è´æ§æ¥æ¨æ­ä¸æ­£ç¡®çè¾¹ã\n\n# æ©å±\n\nseed reconstruction è¿­ä»£æ·»å æ°çæå°çææ åç»åç¸åºçå¹éå¯¹æ¥éæ­¥æ©å±ï¼å½æ©å±å°ä¸å®çå®æ´æ§æ¶ç»æ­¢ã\n\n# colmap\n\nå¨éå¤ç»ææèç­åºçº¿çæåµå¹ééè¯¯è¾å¤\n\n# ç®æ³æµç¨\n\n 1. æç§colmapçç¨åºè·å¾æææ½å¨çå¹éå¯¹ï¼æå»ºå æè§å¾å¾ï¼è¾¹çæå¼è¶å°ï¼å¹éçæ­£ç¡®çå¯è½æ§è¶å¤§ã\n\n 2. åå§åä¸­ï¼çæä¸ä¸ªåå«å¤ä¸ªç¬ç«æå°çææ çç§å­è§å¾ï¼å¹¶ä½¿ç¨cciè¿æ»¤ç§å­è§å¾ä¸­çå¼å¸¸å¼ã\n\n 3. æ©å±ï¼è¿­ä»£å°å¶å®æå°çææ æ©å±è¿æ¥ï¼å®ç°æ´å¯éçå¾ã\n\n\n# irav3: hierarchical incremental rotation averaging on the fly\n\n# ira\n\n 1. initial triplet selectionï¼ ä»åºæ¯å¾ä¸­éåºæåçä¸ä¸ªé¡¶ç¹ï¼\n 2. nbv selection, éæ©è¾¹å¤çä¸ä¸ä¸ªç»ç¹ï¼\n 3. å±é¨ä¼åå½åæ°æ·»å ç»ç¹çæè½¬ï¼\n 4. å¨å±ä¼åææç»ç¹çæè½¬ã\n\n# ira++\n\n 1. å¨è¾å¥çegä¸è¿è¡ç¤¾åºæ£æµèç±»ï¼\n 2. å¯¹æ¯ä¸ªç¤¾åºè¿è¡åºäºiraçæè½¬å¹³åï¼è·å¾å¨å±é¨åæ ç³»ä¸­çæè½¬ï¼\n 3. åºäºvsraçæè½¬ä¼°è®¡ï¼è·å¾æ¯ä¸ªç¤¾åºä¹é´çç¸å¯¹æè½¬ï¼\n 4. åæ¬¡æ§è¡åºäºiraçæè½¬å¹³åï¼ä¼°è®¡æ¯ä¸ªç¤¾åºçç»å¯¹æè½¬ï¼\n 5. è¿è¡æè½¬å¯¹é½åä¼åã\n\n# irav3\n\n 1. åºäºç¤¾åºæ£æµçç§å­éå»ºï¼\n 2. æ½å¨èç±»åé¡¶ç¹é¢éï¼ä¸ä¸æä½³è§å¾éæ©åèç±»é¶å±å³ç³»ï¼å¢éç»å¯¹æè½¬è®¡ç®ï¼\n 3. 3~5 åä¸",charsets:{cjk:!0}},{title:"è®ºæéè®°",frontmatter:{title:"è®ºæéè®°",date:"2022-03-26T12:47:36.000Z",permalink:"/pages/4a64fa/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/09.%E8%AE%BA%E6%96%87%E9%9A%8F%E8%AE%B0.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/09.è®ºæéè®°.md",key:"v-58cdf8c8",path:"/pages/4a64fa/",headers:[{level:3,title:"ä½¿ç¨æ è®°éè·¯å»ºå¾",slug:"ä½¿ç¨æ è®°éè·¯å»ºå¾",normalizedTitle:"ä½¿ç¨æ è®°éè·¯å»ºå¾",charIndex:552},{level:3,title:"çæç¹äº",slug:"çæç¹äº",normalizedTitle:"çæç¹äº",charIndex:757},{level:3,title:"ç¹äºèå",slug:"ç¹äºèå",normalizedTitle:"ç¹äºèå",charIndex:639},{level:3,title:"åç¯æ£æµ",slug:"åç¯æ£æµ",normalizedTitle:"åç¯æ£æµ",charIndex:1031},{level:3,title:"æ¬æçä¸»è¦å·¥ä½ï¼",slug:"æ¬æçä¸»è¦å·¥ä½",normalizedTitle:"æ¬æçä¸»è¦å·¥ä½ï¼",charIndex:1203},{level:3,title:"ç³»ç»æ¦è¿°",slug:"ç³»ç»æ¦è¿°",normalizedTitle:"ç³»ç»æ¦è¿°",charIndex:1637},{level:3,title:"IPM Image",slug:"ipm-image",normalizedTitle:"ipm image",charIndex:1810},{level:3,title:"Feature Detection",slug:"feature-detection",normalizedTitle:"feature detection",charIndex:1852},{level:3,title:"Local Mapping",slug:"local-mapping",normalizedTitle:"local mapping",charIndex:1907},{level:3,title:"Loop Detection",slug:"loop-detection",normalizedTitle:"loop detection",charIndex:1970},{level:3,title:"Global Optimization",slug:"global-optimization",normalizedTitle:"global optimization",charIndex:2128},{level:3,title:"Localization",slug:"localization",normalizedTitle:"localization",charIndex:2244},{level:3,title:"Parking Spot Detection",slug:"parking-spot-detection",normalizedTitle:"parking spot detection",charIndex:2521},{level:3,title:"ç³»ç»æ¦è¿°",slug:"ç³»ç»æ¦è¿°-2",normalizedTitle:"ç³»ç»æ¦è¿°",charIndex:1637},{level:3,title:"IPM",slug:"ipm",normalizedTitle:"ipm",charIndex:577},{level:3,title:"Pose Graph Optimization",slug:"pose-graph-optimization",normalizedTitle:"pose graph optimization",charIndex:2970},{level:3,title:"Local Map",slug:"local-map",normalizedTitle:"local map",charIndex:1907},{level:3,title:"Map Merging / Updating",slug:"map-merging-updating",normalizedTitle:"map merging / updating",charIndex:3224},{level:3,title:"Map Compression",slug:"map-compression",normalizedTitle:"map compression",charIndex:3330},{level:3,title:"Map Decompression",slug:"map-decompression",normalizedTitle:"map decompression",charIndex:3434},{level:3,title:"ICP Localization",slug:"icp-localization",normalizedTitle:"icp localization",charIndex:3489}],headersStr:"ä½¿ç¨æ è®°éè·¯å»ºå¾ çæç¹äº ç¹äºèå åç¯æ£æµ æ¬æçä¸»è¦å·¥ä½ï¼ ç³»ç»æ¦è¿° IPM Image Feature Detection Local Mapping Loop Detection Global Optimization Localization Parking Spot Detection ç³»ç»æ¦è¿° IPM Pose Graph Optimization Local Map Map Merging / Updating Map Compression Map Decompression ICP Localization",content:"# 2019 mapping and locatization\n\nå©ç¨éè·¯æ è®°è¯­ä¹åå²è§£å³é¿æé«ç²¾åº¦è§è§å®ä½é®é¢ã\n\nç»åè¯­ä¹ä¸å ä½çç¹äºéåæ¹æ³ã\n\nå¨çå¯¼èªå«æç³»ç»ï¼GNSSï¼ãé·è¾¾ãUWBææ¯è½ç¶æé«ç²¾åº¦å®ä½ï¼ä½ä»·æ ¼æé«ã\n\nè¿å¹´ç®æ æ£æµï¼è¯­ä¹åå²æä¾äºå¾å¤è¯­ä¹ä¿¡æ¯ï¼è¿å¯ä»¥æ´åå°å»ºå¾åå®ä½çè¿ç¨ä¸­ã\n\néå¸¸é¨ç½²ç¯è§æåæºä»¥æé«å¯¹é®æ¡çé²æ£æ§ã\n\n[17] ä¸­æåºäºä½¿ç¨ ID è¿è¡åè½¦ä½æ£æµçå°è¯ï¼ä»ä»¬å° ID è§ä¸ºè¯­ä¹æ°æ®å³èï¼å¹¶åºç¨è§è§åºåæ ç­¾æ¥è¾å©é­ç¯ï¼ä»èè·å¾æ´é«çç²¾åº¦ã(æ²¡æååå©ç¨è½¦éçº¿ä¿¡æ¯)\n\nRoad-SLAM [18] ä¸­çå·¥ä½å¯¹éè·¯æ è®°çç¹äºè¿è¡åå²ååç±»ï¼ç¶åä½¿ç¨éè·¯æ è®°å¹éæ§è¡é­ç¯ï¼ä»èè·å¾ç±³çº§å®ä½ç²¾åº¦ã\n\n>  1. ä½¿ç¨çæçç¹äºï¼èåæ¨¡åè¢«è®¾è®¡æ¥æå»ºç¨äºå¹éçå±é¨å­å¾ã\n>  2. ä¸ºäºçº æ­£èªä½æ¨ç®è¯¯å·®ç´¯ç§¯ï¼éç¨åºäºåå²ç»æçé­ç¯æ£æµéè®¿ä½ç½®ã\n>  3. ä¾æ¬¡åºç¨ä½å§¿å¾ä¼ååç¹äºæ ¡æ­£ä»¥ä¿è¯å¨å±ä¸è´æ§ã\n>  4. å¨å®ä½è¿ç¨ä¸­ï¼è¿è¡å¨å±åå§åï¼å°å½åå±é¨åæ ä¸å°å¾åæ å¯¹é½ã\n>  5. ä¸ºäºæé«å¹éç²¾åº¦ï¼æåºäºåºäºè¯­ä¹åå ä½ä¿¡æ¯çICPæ¥å¹éè¯­ä¹ç¹äºåå½åå­å¾ï¼å¹¶ä½¿ç¨æ©å±å¡å°æ¼æ»¤æ³¢å¨ï¼EKFï¼ç®æ³ä¸èªä½æ¨ç®èåï¼å®ç°é«ç²¾åº¦å®ä½ï¼æ æ¼ç§»ç§¯ç´¯ .\n\n\n# ä½¿ç¨æ è®°éè·¯å»ºå¾\n\n>  1. é¦åè¿è¡è¯­ä¹åå²åIPMï¼å°ç¸æºå¾åè½¬æ¢ä¸ºåå¸§ç¹äºã\n>  2. ç¶åï¼æåºäºèªä½æ¨ç®ï¼IMUãè½®ééç¨è®¡ï¼è¾å©çå¾åæ¼æ¥åè¯­ä¹éè·¯æ è®°è¾å©çç¹äºèåï¼ä»¥åå°æ¶é´ä¸åæ­¥åè¯¯åç±»çå½±åï¼æå»ºåç¡®çå±é¨å­å°å¾ã\n>  3. ä¸ºäºè·å¾å¨å±ä¸è´çå°å¾ï¼è®¾è®¡äºåºäºéè·¯æ è®°åå²çé­ç¯æ¥æ£æµéè®¿åºåã\n>  4. æåï¼åºäºé­ç¯ç»æï¼æä»¬éç¨å¨å±å§¿æå¾ä¼åæ¥ç¡®ä¿ææå§¿æçä¸è´æ§ã\n\n\n# çæç¹äº\n\n>  1. è¿éä½¿ç¨å¤ç±»ç¹äºï¼æ ¹æ®åå§çé±¼ç¼ç¸æºå¾åï¼è¿è¡è¯­ä¹åå²ï¼å°éè·¯æ è®°åä¸ºä¸ç±»ã\n>  2. åå»ºé¸ç°å¾ã\n>  3. åºäºé¸ç°å¾ï¼éè¿æåå¸¦æéè·¯æ è®°æ ç­¾çåç´ æ¥åå»ºç¹äºã\n>  4. ç±äºåä¸ªé±¼ç¼ç¸æºçæ¶é´é¾ä»¥åæ­¥ï¼ä½¿ç¨IMUåè½®ééç¨è®¡æ¥è¡¥å¿æ¼æ¥è¯¯å·®ã\n>  5. ä¸ºäºç¡®ä¿ç¹äºéåç®æ³ä¿ææå®çè®¡ç®å¤æåº¦ï¼æä»¬éæºå é¤ä¸äºç¹ä»¥éå¶å¨åå¸§ä¸­è§å¯å°çç¹æ°ã\n\n\n# ç¹äºèå\n\nç¡®å®æ°æ®å³èï¼è®¾è®¡åéçç­ç¥èåç¹äºã\n\nå¯¹äºç»å®çå³èï¼æ²¡ææ¾å°ç¸åºå¹éç¹çç¹ç´æ¥æ·»å å°å°å¾ä¸­ãæ²¡æå³èçæä»¥ä¸æ¹å¼èå\n\nèªå·±çå»ã\n\n\n# åç¯æ£æµ\n\néè¿ FASTæ¹å åæè½¬(ORB) æè¿°ç¬¦åè¯­ä¹æè¿°ç¬¦ï¼ç»åºé­ç¯åéï¼ç¶åéè¿DBoW2æ¨¡åè®¡ç®è¯è¢åéï¼æåè®¡ç®å³èå¾ååæ°ã\n\n\n# 2020 AVP-SLAM\n\nå¨åè½¦åºå·¥åè¿æ ·çç¯å¢ï¼ä½¿ç¨ä¼ ç»çå ä½ç¹å¾å ä¹ä¸åå®éï¼ä¼é¢ç¹çè·è¸ªä¸¢å¤±ãè¿éæåºä¸ç§è¯­ä¹ç¹å¾ï¼å¯ä»¥å¾ç¨³å®çè¯å«è½¦éçº¿ï¼è·¯æ ç­ï¼ä¸ä¸åè§è§ååçº¿çå½±åã\n\n\n# æ¬æçä¸»è¦å·¥ä½ï¼\n\n>  1. æåºå¨vslamä¸­çè¯­ä¹ç¹å¾ã\n>  2. æåºå®æ´çå»ºå¾åå®ä½ç³»ç»ã\n>  3. æé çå®çèªå¨åè½¦åºç¨ã\n\n\n\nGet:\n\n>  1. relative localization ä¹å« odometry ï¼ ä¸è¬ååå§åå¼å§çä½ç½®ï¼ç¶åå³æ³¨å½åå¸§çç¸å¯¹ä½å§¿ã\n>  2. global localization æä¸ä¸ªåºå®çåæ ï¼éå¸¸éè¿ä¸ä¸ªåéªå°å¾è¿è¡å®ä½ã\n>  3. ä¼ ç»çç¹å¾æ¹æ³ä¸è¬é½æ¯å©ç¨éåç¹å¾ï¼ç¨çç¹ãè§ç¹åç¨ å¯çå¹³é¢ï¼ï¼è¿éåªéè¦ä¼°è®¡å³é®ç¹çä½ç½®ï¼è¿äºå³é®ç¹å¯ä»¥è¿ä¸æ­¥æ·»å ä¸ä¸ªè¡¥ååºåï¼ä¾å¦SFITãSURFãORBãBRIEFæè¿°å­ãä¸è¬éè¿æåè§è§éç¨è®¡æ¥æå»ºè§è§å°å¾ï¼ç¶åå¨è¿ä¸ªå°å¾åå¯¹ç¸æºè¿è¡å®ä½ãä¾å¦ORBç¹å¾çå°å¾ï¼ä¹åå¯ä»¥éè¿ORBæè¿°å­è¿è¡å¹éæ¥å®ä½ã\n>  4. åºäºéè·¯ç¹å¾çæ¹æ³ä¸è¬éç¨éè·¯è¡¨é¢çéè·¯æ å¿ï¼è½¦éçº¿ãè·¯è¾¹åæ å¿ç­ï¼ãå¯ä»¥ä½¿ç¨é¢å¤çè®¾å¤ï¼æ¿åé·è¾¾ï¼æåæå»ºå¥½ç²¾ç¡®çå°å¾ï¼\n\n\n# ç³»ç»æ¦è¿°\n\n>  1. å¨ååå·¦å³ä½¿ç¨åå«å®è£ç¸æºï¼ä½¿ç¨IMUåè½®ééç¨è®¡æä¾ä¸ä¸ªåå§çç¸å¯¹ä½å§¿ï¼ä½ä¼å­å¨ç´¯è®¡è¯¯å·®ã\n>  2. é¦åæå»ºä¸ä¸ªå¨å±çè¯­ä¹å°å¾ï¼ä½¿ç¨ç¥ç»ç½ç»æåè¯­ä¹ç¹å¾ï¼è½¦éçº¿ãæç¤ºæ å¿ãåéå¸¦ï¼ï¼å ä¸ºå­å¨ç´¯è®¡è¯¯å·®ï¼è¿ééç¨å±é¨å°å¾çåç¯æ£æµåå°è¯¯å·®ã\n>  3. å¶æ¬¡è¿è¡å®ä½ï¼åå»ºå¾é¨åå·®ä¸å¤ï¼åç«¯éç¨EKFè¿è¡ä¼åã\n\n\n# IPM Image\n\nå°ç¸æºè·åç§ççåç´ ç¹ï¼æå½±å°ä»¥è½¦ä¸ºä¸­å¿çåæ ç³»ä¸­ã\n\n\n# Feature Detection\n\nä½¿ç¨ä¸»æµçCNNæ¹æ³åæåè¯­ä¹ç¹å¾ãå¤§å¤æ°å¾ååå²ç½ç»é½å¯ä»¥ã\n\n\n# Local Mapping\n\nå°ä¸ä¸æ­¥è¯­ä¹åå²çç¹ï¼åºäºéç¨è®¡ï¼è½¬æ¢å°ä¸çåæ ç³»ï¼è¿äºç¹ç»æä¸ä¸ªlocal mapã\n\n\n# Loop Detection\n\nå ä¸ºéç¨è®¡å­å¨ç´¯è®¡è¯¯å·®ï¼è¿éä½¿ç¨åç¯æ£æµæ¥æ¶é¤æ¼ç§»ãå¯¹äºææ°çlocal mapï¼æä»¬æ¯è¾å®å¨å´çlocal mapï¼è¿éä¸¤ä¸ªlocal mapéè¿ICPæ¹æ³æ¥å¹éãå¦ææä¸¤ä¸ªlocal mapså¹éæåï¼è®¡ç®ä¸ä¸ªç¸å¯¹ä½å§¿ï¼ç¶åæ¾å°å¨å±ä½å§¿å¾ä¼åå¨æ»è¿è¡ä¼åï¼è¿èç«æ­£æ¼ç§»ã\n\n\n# Global Optimization\n\nè¿éçä½å§¿å¾ä¸­ï¼èç¹æ¯æ¯ä¸ä¸ªlocal mapçä½å§¿ï¼è¿éæä¸¤ç§è¾¹ï¼ä¸ç§æ¯éè¿éç¨è®¡æµéä¸¤ä¸ªlocal mapsçç¸å¯¹ä½å§¿ï¼å¦ä¸ç§æ¯åç¯æ£æµè¾¹ï¼çº¦æå½¢æé­ç¯çlocal mapsã\n\n\n# Localization\n\nåºäºå·²ç»æå»ºå¥½çè¯­ä¹å°å¾ï¼å¨è½¦ç»è¿åæ ·å°æ¹æ¶å¯ä»¥å®ä½ãå¯¹äºè¾å¥çåæå¾åï¼è¿è¡è¯­ä¹ç¹å¾æ£æµï¼è½¬æ¢å°è½¦çåæ ç³»ï¼ç¶åéè¿å¨å°å¾ä¸­å¹éè½¦å½åè·åçè¯­ä¹ç¹å¾æ¥ä¼°è®¡è½¦å½åçä½å§¿ï¼è¿äºä½¿ç¨ICPæ¹æ³è¿è¡å¹é\n\n\n\nç»¿è²çæ¯è½¦å½åè·åçç¹å¾ï¼æ©è²çä¼°è®¡çè½¨è¿¹ã\n\nICPæ¹æ³çåå§è¿­ä»£å¼å¾éè¦ï¼å¨æå¼å§çåå§åä¸­ï¼è¿éæä¾äºä¸¤ç§æ¹æ³ï¼ä¸æ¯å¨åè½¦åºå¥å£å¤æ¾ç½®æ å¿ï¼äºæ¯è¿å¥å°ä¸åè½¦åºåä½¿ç¨GPSç»å®å¨å°å¾ä¸­çåå§ä½ç½®ãå¨å¾å°çº¹ççåºåä¸­ï¼éç¨EKFï¼èåäºéç¨è®¡åè§è§å®ä½çç»æï¼å¨è¿æ»¤å¨ä¸­ï¼éç¨è®¡ä½ä¸ºé¢æµï¼è§è§å®ä½ç»æç¨æ¥æ´æ°ã\n\n\n# Parking Spot Detection\n\nåè½¦ä½çè§ç¹ç¨æ¥é¢æµåè½¦çº¿ä½ç½®ï¼å¦æåè½¦çº¿è½å¤å¹éè§ç¹ï¼é£ä¹è¿æ¬¡é¢æµæ¯åç¡®çã\n\n\n# 2021 RoadMap\n\nè½¦è½½æµç»ãäºç«¯ç»´æ¤ãç¨æ·ç«¯å®ä½çæ¡æ¶ãå¨è½¦è¾ä¸æ¶éåé¢å¤çå°å¾æ°æ®ï¼å°å¤æçæ°æ®ä¸ä¼ å°äºç«¯ï¼å¨äºç«¯æ´åå¤è¾è½¦çæ°æ®ï¼å¹¶åæ¶æ´æ°è¯­ä¹å°å¾ï¼æåç»è¿åç¼©ï¼ååå°è½¦è¾ä¸­ãæåºä¸ä¸ªæ°é¢çæ³æ³ï¼ä½¿ç¨ä¼ æå¨ä¸°å¯çè½¦æ¯å¤©å»æ¶éæ°æ®åæ´æ°å°å¾ï¼æç»åçäºéäº§è½¦ä¸ã\n\n\n\n\n# ç³»ç»æ¦è¿°\n\n>  1. æ­è½½åç½®æåå¤´ï¼GPSï¼IMUåè½®ééç¨è®¡çè½¦æ¯å¤©åºå»æ¶éæ°æ®ï¼åç½®æåå¤´æ¶éçç§çæ¾å°åå²ç½ç»ï¼æåè¯­ä¹ç¹å¾ï¼ç¶åå°è¯­ä¹ç¹å¾è½¬å°å°ä¸çåæ ç³»ï¼æåå»ºç«å±é¨å°å¾ï¼ä¸ä¼ å°äºç«¯ã\n>  2. äºç«¯æ¶éå°å¤è¾ä¸è¿°çè½¦çå±é¨å°å¾ï¼èåæå¨å±å°å¾ï¼ç¶åå¯¹å°å¾è½®å»æåï¼æåå°åç¼©åçè¯­ä¹å°å¾åéç»ç¨æ·ï¼éäº§è½¦ï¼ã\n>  3. ç¨æ·ç«¯éå¤ä½ææ¬ä¼ æå¨ï¼ä¸è½½äºç«¯çå°å¾ï¼ç¶åè¿è¡å®ä½ã\n\n\n# IPM\n\nè¿éåªå¯¹ROIçIPMï¼è½¦åæ¹12m * 8mã\n\n\n# Pose Graph Optimization\n\nè½ç¶ç¨ä¸RTK-GNSSï¼åç±³çº§ç²¾åº¦ï¼åªè½å¨ç©ºæ·çåºåãè¿éçä½å§¿å¾ä¼åä¹æ¯æä¸¤ç§è¾¹ï¼GNSS RTKå¯¹èç¹ççº¦æï¼éç¨è®¡å¯¹èç¹ççº¦æã\n\n\n\n\n# Local Map\n\nåçï¼è¿éçè¯­ä¹ç¹å¾é½éè¦æå½±å°å¨å±åæ ç³»ä¸­ãè¿éè¯­ä¹ç¹å¾åç±»ç¨äºçªå£ï¼å½è½¦ç§»å¨æ¶ï¼ä¸ä¸ªåºåå¯è½ä¼è¢«è§æµå¤æ¬¡ï¼ç±äºå­å¨åå²çåªå£°ï¼è¿åºåå¯è½ä¼è¢«åä¸ºä¸åçç±»å«ã ä½¿ç¨ç»è®¡è¿æ»¤åªå£°ãå°å¾è¢«åæè®¸å¤çç½ç»ï¼å½ä¸ä¸ªè¯­ä¹ç¹è¿å¥ä¸ä¸ªç½æ ¼ï¼å¯¹åºçè¯­ä¹æ ç­¾å 1ï¼æ¬¡æ°æå¤çè¯­ä¹ä»£è¡¨è¿ä¸ªç½æ ¼ã\n\n\n# Map Merging / Updating\n\nä¸ºäºèçå¸¦å®½ï¼è¿éåªéæ©å±é¨å°å¾ä¸­è¢«æ è®°çç½ç»è¿è¡ä¸ä¼ å°äºç«¯ï¼åçäºç«¯çå°å¾ä¹åä¸ºè¥å¹²ä¸ªç½æ ¼ï¼å±é¨å°å¾ç½æ ¼ä¸­çæ ç­¾å¾åä¹å å°å¨å±å°å¾ä¸­ãè¿ä¸ªè¿ç¨æ¯å¹¶è¡çã\n\n\n# Map Compression\n\nåæ ·ä¸ºäºèçå¸¦å®½ï¼è¿éè¯­ä¹å°å¾çå¯ä»¥è¢«è½®å»ä»£è¡¨ãé¦åï¼çæè¯­ä¹å¾çé¡¶è§å¾å¾åï¼æ¯ä¸ä¸ªåç´ ä»£è¡¨ä¸ä¸ªç½æ ¼ãå¶æ¬¡ï¼æåæ¯ä¸ç»è¯­ä¹çè½®å»ãæåï¼è½®å»ç¹å­èµ·æ¥ï¼åéå°éäº§è½¦ã\n\n\n# Map Decompression\n\néäº§è½¦æ¿å°åç¼©åçæ°æ®åï¼è¿è¡è§£åï¼ç¨ç¸åæ ç­¾çç¹ï¼å¡«åè½®å»ã\n\n\n# ICP Localization\n\næ¢å¤åºè¯­ä¹å°å¾åï¼åä¸ä¸ç¯ï¼ä½¿ç¨ICPæ¹æ³è¿è¡å¹éï¼åç«¯ä½¿ç¨EKFèåéç¨è®¡åè§è§å®ä½çä¿¡æ¯ï¼è¿è¡ä¼åã\n\n\n\nç»¿è²çè½¦å½åè·åå°çè¯­ä¹ç¹å¾ã\n\nå®éªä¸­ï¼è¿å°è¯­ä¹å°å¾ä¸è°·æ­å°å¾å¯¹é½ã",normalizedContent:"# 2019 mapping and locatization\n\nå©ç¨éè·¯æ è®°è¯­ä¹åå²è§£å³é¿æé«ç²¾åº¦è§è§å®ä½é®é¢ã\n\nç»åè¯­ä¹ä¸å ä½çç¹äºéåæ¹æ³ã\n\nå¨çå¯¼èªå«æç³»ç»ï¼gnssï¼ãé·è¾¾ãuwbææ¯è½ç¶æé«ç²¾åº¦å®ä½ï¼ä½ä»·æ ¼æé«ã\n\nè¿å¹´ç®æ æ£æµï¼è¯­ä¹åå²æä¾äºå¾å¤è¯­ä¹ä¿¡æ¯ï¼è¿å¯ä»¥æ´åå°å»ºå¾åå®ä½çè¿ç¨ä¸­ã\n\néå¸¸é¨ç½²ç¯è§æåæºä»¥æé«å¯¹é®æ¡çé²æ£æ§ã\n\n[17] ä¸­æåºäºä½¿ç¨ id è¿è¡åè½¦ä½æ£æµçå°è¯ï¼ä»ä»¬å° id è§ä¸ºè¯­ä¹æ°æ®å³èï¼å¹¶åºç¨è§è§åºåæ ç­¾æ¥è¾å©é­ç¯ï¼ä»èè·å¾æ´é«çç²¾åº¦ã(æ²¡æååå©ç¨è½¦éçº¿ä¿¡æ¯)\n\nroad-slam [18] ä¸­çå·¥ä½å¯¹éè·¯æ è®°çç¹äºè¿è¡åå²ååç±»ï¼ç¶åä½¿ç¨éè·¯æ è®°å¹éæ§è¡é­ç¯ï¼ä»èè·å¾ç±³çº§å®ä½ç²¾åº¦ã\n\n>  1. ä½¿ç¨çæçç¹äºï¼èåæ¨¡åè¢«è®¾è®¡æ¥æå»ºç¨äºå¹éçå±é¨å­å¾ã\n>  2. ä¸ºäºçº æ­£èªä½æ¨ç®è¯¯å·®ç´¯ç§¯ï¼éç¨åºäºåå²ç»æçé­ç¯æ£æµéè®¿ä½ç½®ã\n>  3. ä¾æ¬¡åºç¨ä½å§¿å¾ä¼ååç¹äºæ ¡æ­£ä»¥ä¿è¯å¨å±ä¸è´æ§ã\n>  4. å¨å®ä½è¿ç¨ä¸­ï¼è¿è¡å¨å±åå§åï¼å°å½åå±é¨åæ ä¸å°å¾åæ å¯¹é½ã\n>  5. ä¸ºäºæé«å¹éç²¾åº¦ï¼æåºäºåºäºè¯­ä¹åå ä½ä¿¡æ¯çicpæ¥å¹éè¯­ä¹ç¹äºåå½åå­å¾ï¼å¹¶ä½¿ç¨æ©å±å¡å°æ¼æ»¤æ³¢å¨ï¼ekfï¼ç®æ³ä¸èªä½æ¨ç®èåï¼å®ç°é«ç²¾åº¦å®ä½ï¼æ æ¼ç§»ç§¯ç´¯ .\n\n\n# ä½¿ç¨æ è®°éè·¯å»ºå¾\n\n>  1. é¦åè¿è¡è¯­ä¹åå²åipmï¼å°ç¸æºå¾åè½¬æ¢ä¸ºåå¸§ç¹äºã\n>  2. ç¶åï¼æåºäºèªä½æ¨ç®ï¼imuãè½®ééç¨è®¡ï¼è¾å©çå¾åæ¼æ¥åè¯­ä¹éè·¯æ è®°è¾å©çç¹äºèåï¼ä»¥åå°æ¶é´ä¸åæ­¥åè¯¯åç±»çå½±åï¼æå»ºåç¡®çå±é¨å­å°å¾ã\n>  3. ä¸ºäºè·å¾å¨å±ä¸è´çå°å¾ï¼è®¾è®¡äºåºäºéè·¯æ è®°åå²çé­ç¯æ¥æ£æµéè®¿åºåã\n>  4. æåï¼åºäºé­ç¯ç»æï¼æä»¬éç¨å¨å±å§¿æå¾ä¼åæ¥ç¡®ä¿ææå§¿æçä¸è´æ§ã\n\n\n# çæç¹äº\n\n>  1. è¿éä½¿ç¨å¤ç±»ç¹äºï¼æ ¹æ®åå§çé±¼ç¼ç¸æºå¾åï¼è¿è¡è¯­ä¹åå²ï¼å°éè·¯æ è®°åä¸ºä¸ç±»ã\n>  2. åå»ºé¸ç°å¾ã\n>  3. åºäºé¸ç°å¾ï¼éè¿æåå¸¦æéè·¯æ è®°æ ç­¾çåç´ æ¥åå»ºç¹äºã\n>  4. ç±äºåä¸ªé±¼ç¼ç¸æºçæ¶é´é¾ä»¥åæ­¥ï¼ä½¿ç¨imuåè½®ééç¨è®¡æ¥è¡¥å¿æ¼æ¥è¯¯å·®ã\n>  5. ä¸ºäºç¡®ä¿ç¹äºéåç®æ³ä¿ææå®çè®¡ç®å¤æåº¦ï¼æä»¬éæºå é¤ä¸äºç¹ä»¥éå¶å¨åå¸§ä¸­è§å¯å°çç¹æ°ã\n\n\n# ç¹äºèå\n\nç¡®å®æ°æ®å³èï¼è®¾è®¡åéçç­ç¥èåç¹äºã\n\nå¯¹äºç»å®çå³èï¼æ²¡ææ¾å°ç¸åºå¹éç¹çç¹ç´æ¥æ·»å å°å°å¾ä¸­ãæ²¡æå³èçæä»¥ä¸æ¹å¼èå\n\nèªå·±çå»ã\n\n\n# åç¯æ£æµ\n\néè¿ fastæ¹å åæè½¬(orb) æè¿°ç¬¦åè¯­ä¹æè¿°ç¬¦ï¼ç»åºé­ç¯åéï¼ç¶åéè¿dbow2æ¨¡åè®¡ç®è¯è¢åéï¼æåè®¡ç®å³èå¾ååæ°ã\n\n\n# 2020 avp-slam\n\nå¨åè½¦åºå·¥åè¿æ ·çç¯å¢ï¼ä½¿ç¨ä¼ ç»çå ä½ç¹å¾å ä¹ä¸åå®éï¼ä¼é¢ç¹çè·è¸ªä¸¢å¤±ãè¿éæåºä¸ç§è¯­ä¹ç¹å¾ï¼å¯ä»¥å¾ç¨³å®çè¯å«è½¦éçº¿ï¼è·¯æ ç­ï¼ä¸ä¸åè§è§ååçº¿çå½±åã\n\n\n# æ¬æçä¸»è¦å·¥ä½ï¼\n\n>  1. æåºå¨vslamä¸­çè¯­ä¹ç¹å¾ã\n>  2. æåºå®æ´çå»ºå¾åå®ä½ç³»ç»ã\n>  3. æé çå®çèªå¨åè½¦åºç¨ã\n\n\n\nget:\n\n>  1. relative localization ä¹å« odometry ï¼ ä¸è¬ååå§åå¼å§çä½ç½®ï¼ç¶åå³æ³¨å½åå¸§çç¸å¯¹ä½å§¿ã\n>  2. global localization æä¸ä¸ªåºå®çåæ ï¼éå¸¸éè¿ä¸ä¸ªåéªå°å¾è¿è¡å®ä½ã\n>  3. ä¼ ç»çç¹å¾æ¹æ³ä¸è¬é½æ¯å©ç¨éåç¹å¾ï¼ç¨çç¹ãè§ç¹åç¨ å¯çå¹³é¢ï¼ï¼è¿éåªéè¦ä¼°è®¡å³é®ç¹çä½ç½®ï¼è¿äºå³é®ç¹å¯ä»¥è¿ä¸æ­¥æ·»å ä¸ä¸ªè¡¥ååºåï¼ä¾å¦sfitãsurfãorbãbriefæè¿°å­ãä¸è¬éè¿æåè§è§éç¨è®¡æ¥æå»ºè§è§å°å¾ï¼ç¶åå¨è¿ä¸ªå°å¾åå¯¹ç¸æºè¿è¡å®ä½ãä¾å¦orbç¹å¾çå°å¾ï¼ä¹åå¯ä»¥éè¿orbæè¿°å­è¿è¡å¹éæ¥å®ä½ã\n>  4. åºäºéè·¯ç¹å¾çæ¹æ³ä¸è¬éç¨éè·¯è¡¨é¢çéè·¯æ å¿ï¼è½¦éçº¿ãè·¯è¾¹åæ å¿ç­ï¼ãå¯ä»¥ä½¿ç¨é¢å¤çè®¾å¤ï¼æ¿åé·è¾¾ï¼æåæå»ºå¥½ç²¾ç¡®çå°å¾ï¼\n\n\n# ç³»ç»æ¦è¿°\n\n>  1. å¨ååå·¦å³ä½¿ç¨åå«å®è£ç¸æºï¼ä½¿ç¨imuåè½®ééç¨è®¡æä¾ä¸ä¸ªåå§çç¸å¯¹ä½å§¿ï¼ä½ä¼å­å¨ç´¯è®¡è¯¯å·®ã\n>  2. é¦åæå»ºä¸ä¸ªå¨å±çè¯­ä¹å°å¾ï¼ä½¿ç¨ç¥ç»ç½ç»æåè¯­ä¹ç¹å¾ï¼è½¦éçº¿ãæç¤ºæ å¿ãåéå¸¦ï¼ï¼å ä¸ºå­å¨ç´¯è®¡è¯¯å·®ï¼è¿ééç¨å±é¨å°å¾çåç¯æ£æµåå°è¯¯å·®ã\n>  3. å¶æ¬¡è¿è¡å®ä½ï¼åå»ºå¾é¨åå·®ä¸å¤ï¼åç«¯éç¨ekfè¿è¡ä¼åã\n\n\n# ipm image\n\nå°ç¸æºè·åç§ççåç´ ç¹ï¼æå½±å°ä»¥è½¦ä¸ºä¸­å¿çåæ ç³»ä¸­ã\n\n\n# feature detection\n\nä½¿ç¨ä¸»æµçcnnæ¹æ³åæåè¯­ä¹ç¹å¾ãå¤§å¤æ°å¾ååå²ç½ç»é½å¯ä»¥ã\n\n\n# local mapping\n\nå°ä¸ä¸æ­¥è¯­ä¹åå²çç¹ï¼åºäºéç¨è®¡ï¼è½¬æ¢å°ä¸çåæ ç³»ï¼è¿äºç¹ç»æä¸ä¸ªlocal mapã\n\n\n# loop detection\n\nå ä¸ºéç¨è®¡å­å¨ç´¯è®¡è¯¯å·®ï¼è¿éä½¿ç¨åç¯æ£æµæ¥æ¶é¤æ¼ç§»ãå¯¹äºææ°çlocal mapï¼æä»¬æ¯è¾å®å¨å´çlocal mapï¼è¿éä¸¤ä¸ªlocal mapéè¿icpæ¹æ³æ¥å¹éãå¦ææä¸¤ä¸ªlocal mapså¹éæåï¼è®¡ç®ä¸ä¸ªç¸å¯¹ä½å§¿ï¼ç¶åæ¾å°å¨å±ä½å§¿å¾ä¼åå¨æ»è¿è¡ä¼åï¼è¿èç«æ­£æ¼ç§»ã\n\n\n# global optimization\n\nè¿éçä½å§¿å¾ä¸­ï¼èç¹æ¯æ¯ä¸ä¸ªlocal mapçä½å§¿ï¼è¿éæä¸¤ç§è¾¹ï¼ä¸ç§æ¯éè¿éç¨è®¡æµéä¸¤ä¸ªlocal mapsçç¸å¯¹ä½å§¿ï¼å¦ä¸ç§æ¯åç¯æ£æµè¾¹ï¼çº¦æå½¢æé­ç¯çlocal mapsã\n\n\n# localization\n\nåºäºå·²ç»æå»ºå¥½çè¯­ä¹å°å¾ï¼å¨è½¦ç»è¿åæ ·å°æ¹æ¶å¯ä»¥å®ä½ãå¯¹äºè¾å¥çåæå¾åï¼è¿è¡è¯­ä¹ç¹å¾æ£æµï¼è½¬æ¢å°è½¦çåæ ç³»ï¼ç¶åéè¿å¨å°å¾ä¸­å¹éè½¦å½åè·åçè¯­ä¹ç¹å¾æ¥ä¼°è®¡è½¦å½åçä½å§¿ï¼è¿äºä½¿ç¨icpæ¹æ³è¿è¡å¹é\n\n\n\nç»¿è²çæ¯è½¦å½åè·åçç¹å¾ï¼æ©è²çä¼°è®¡çè½¨è¿¹ã\n\nicpæ¹æ³çåå§è¿­ä»£å¼å¾éè¦ï¼å¨æå¼å§çåå§åä¸­ï¼è¿éæä¾äºä¸¤ç§æ¹æ³ï¼ä¸æ¯å¨åè½¦åºå¥å£å¤æ¾ç½®æ å¿ï¼äºæ¯è¿å¥å°ä¸åè½¦åºåä½¿ç¨gpsç»å®å¨å°å¾ä¸­çåå§ä½ç½®ãå¨å¾å°çº¹ççåºåä¸­ï¼éç¨ekfï¼èåäºéç¨è®¡åè§è§å®ä½çç»æï¼å¨è¿æ»¤å¨ä¸­ï¼éç¨è®¡ä½ä¸ºé¢æµï¼è§è§å®ä½ç»æç¨æ¥æ´æ°ã\n\n\n# parking spot detection\n\nåè½¦ä½çè§ç¹ç¨æ¥é¢æµåè½¦çº¿ä½ç½®ï¼å¦æåè½¦çº¿è½å¤å¹éè§ç¹ï¼é£ä¹è¿æ¬¡é¢æµæ¯åç¡®çã\n\n\n# 2021 roadmap\n\nè½¦è½½æµç»ãäºç«¯ç»´æ¤ãç¨æ·ç«¯å®ä½çæ¡æ¶ãå¨è½¦è¾ä¸æ¶éåé¢å¤çå°å¾æ°æ®ï¼å°å¤æçæ°æ®ä¸ä¼ å°äºç«¯ï¼å¨äºç«¯æ´åå¤è¾è½¦çæ°æ®ï¼å¹¶åæ¶æ´æ°è¯­ä¹å°å¾ï¼æåç»è¿åç¼©ï¼ååå°è½¦è¾ä¸­ãæåºä¸ä¸ªæ°é¢çæ³æ³ï¼ä½¿ç¨ä¼ æå¨ä¸°å¯çè½¦æ¯å¤©å»æ¶éæ°æ®åæ´æ°å°å¾ï¼æç»åçäºéäº§è½¦ä¸ã\n\n\n\n\n# ç³»ç»æ¦è¿°\n\n>  1. æ­è½½åç½®æåå¤´ï¼gpsï¼imuåè½®ééç¨è®¡çè½¦æ¯å¤©åºå»æ¶éæ°æ®ï¼åç½®æåå¤´æ¶éçç§çæ¾å°åå²ç½ç»ï¼æåè¯­ä¹ç¹å¾ï¼ç¶åå°è¯­ä¹ç¹å¾è½¬å°å°ä¸çåæ ç³»ï¼æåå»ºç«å±é¨å°å¾ï¼ä¸ä¼ å°äºç«¯ã\n>  2. äºç«¯æ¶éå°å¤è¾ä¸è¿°çè½¦çå±é¨å°å¾ï¼èåæå¨å±å°å¾ï¼ç¶åå¯¹å°å¾è½®å»æåï¼æåå°åç¼©åçè¯­ä¹å°å¾åéç»ç¨æ·ï¼éäº§è½¦ï¼ã\n>  3. ç¨æ·ç«¯éå¤ä½ææ¬ä¼ æå¨ï¼ä¸è½½äºç«¯çå°å¾ï¼ç¶åè¿è¡å®ä½ã\n\n\n# ipm\n\nè¿éåªå¯¹roiçipmï¼è½¦åæ¹12m * 8mã\n\n\n# pose graph optimization\n\nè½ç¶ç¨ä¸rtk-gnssï¼åç±³çº§ç²¾åº¦ï¼åªè½å¨ç©ºæ·çåºåãè¿éçä½å§¿å¾ä¼åä¹æ¯æä¸¤ç§è¾¹ï¼gnss rtkå¯¹èç¹ççº¦æï¼éç¨è®¡å¯¹èç¹ççº¦æã\n\n\n\n\n# local map\n\nåçï¼è¿éçè¯­ä¹ç¹å¾é½éè¦æå½±å°å¨å±åæ ç³»ä¸­ãè¿éè¯­ä¹ç¹å¾åç±»ç¨äºçªå£ï¼å½è½¦ç§»å¨æ¶ï¼ä¸ä¸ªåºåå¯è½ä¼è¢«è§æµå¤æ¬¡ï¼ç±äºå­å¨åå²çåªå£°ï¼è¿åºåå¯è½ä¼è¢«åä¸ºä¸åçç±»å«ã ä½¿ç¨ç»è®¡è¿æ»¤åªå£°ãå°å¾è¢«åæè®¸å¤çç½ç»ï¼å½ä¸ä¸ªè¯­ä¹ç¹è¿å¥ä¸ä¸ªç½æ ¼ï¼å¯¹åºçè¯­ä¹æ ç­¾å 1ï¼æ¬¡æ°æå¤çè¯­ä¹ä»£è¡¨è¿ä¸ªç½æ ¼ã\n\n\n# map merging / updating\n\nä¸ºäºèçå¸¦å®½ï¼è¿éåªéæ©å±é¨å°å¾ä¸­è¢«æ è®°çç½ç»è¿è¡ä¸ä¼ å°äºç«¯ï¼åçäºç«¯çå°å¾ä¹åä¸ºè¥å¹²ä¸ªç½æ ¼ï¼å±é¨å°å¾ç½æ ¼ä¸­çæ ç­¾å¾åä¹å å°å¨å±å°å¾ä¸­ãè¿ä¸ªè¿ç¨æ¯å¹¶è¡çã\n\n\n# map compression\n\nåæ ·ä¸ºäºèçå¸¦å®½ï¼è¿éè¯­ä¹å°å¾çå¯ä»¥è¢«è½®å»ä»£è¡¨ãé¦åï¼çæè¯­ä¹å¾çé¡¶è§å¾å¾åï¼æ¯ä¸ä¸ªåç´ ä»£è¡¨ä¸ä¸ªç½æ ¼ãå¶æ¬¡ï¼æåæ¯ä¸ç»è¯­ä¹çè½®å»ãæåï¼è½®å»ç¹å­èµ·æ¥ï¼åéå°éäº§è½¦ã\n\n\n# map decompression\n\néäº§è½¦æ¿å°åç¼©åçæ°æ®åï¼è¿è¡è§£åï¼ç¨ç¸åæ ç­¾çç¹ï¼å¡«åè½®å»ã\n\n\n# icp localization\n\næ¢å¤åºè¯­ä¹å°å¾åï¼åä¸ä¸ç¯ï¼ä½¿ç¨icpæ¹æ³è¿è¡å¹éï¼åç«¯ä½¿ç¨ekfèåéç¨è®¡åè§è§å®ä½çä¿¡æ¯ï¼è¿è¡ä¼åã\n\n\n\nç»¿è²çè½¦å½åè·åå°çè¯­ä¹ç¹å¾ã\n\nå®éªä¸­ï¼è¿å°è¯­ä¹å°å¾ä¸è°·æ­å°å¾å¯¹é½ã",charsets:{cjk:!0}},{title:"theiaSfMä»£ç ",frontmatter:{title:"theiaSfMä»£ç ",date:"2022-08-30T13:27:20.000Z",permalink:"/pages/169752/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/11.theiaSfM%E4%BB%A3%E7%A0%81.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/11.theiaSfMä»£ç .md",key:"v-6e742411",path:"/pages/169752/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"é·è¾¾å¢å¼ºsfm",frontmatter:{title:"é·è¾¾å¢å¼ºsfm",date:"2022-07-07T12:47:36.000Z",permalink:"/pages/270f1d/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/08.%E9%9B%B7%E8%BE%BE%E5%A2%9E%E5%BC%BAsfm.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/08.é·è¾¾å¢å¼ºsfm.md",key:"v-63fd0ca6",path:"/pages/270f1d/",headers:[{level:3,title:"Correspondence Search",slug:"correspondence-search",normalizedTitle:"correspondence search",charIndex:2},{level:3,title:"Relative Motion Estimation",slug:"relative-motion-estimation",normalizedTitle:"relative motion estimation",charIndex:126}],headersStr:"Correspondence Search Relative Motion Estimation",content:"# Correspondence Search\n\nç¨OpenMVGä¸­SIFTæåç¹å¾ï¼ä½¿ç¨cascade hashing methodæ´åå¹éãæåéè¿ä¸¤è§å¾å ä½éªè¯å¹éå¯¹ï¼å¶ä¸­ä½¿ç¨RANSACä¼°è®¡Fç©éµï¼è¶³å¤å¤çç¹å¾å ä½ä¸è´æ§åè¿ä¸æ­¥è®¡ç®ã\n\n\n# Relative Motion Estimation",normalizedContent:"# correspondence search\n\nç¨openmvgä¸­siftæåç¹å¾ï¼ä½¿ç¨cascade hashing methodæ´åå¹éãæåéè¿ä¸¤è§å¾å ä½éªè¯å¹éå¯¹ï¼å¶ä¸­ä½¿ç¨ransacä¼°è®¡fç©éµï¼è¶³å¤å¤çç¹å¾å ä½ä¸è´æ§åè¿ä¸æ­¥è®¡ç®ã\n\n\n# relative motion estimation",charsets:{cjk:!0}},{title:"An Efficient and Robust Hybrid SfM Method for Large-Scale Scenes",frontmatter:{title:"An Efficient and Robust Hybrid SfM Method for Large-Scale Scenes",date:"2023-03-31T09:46:15.000Z",permalink:"/pages/24dfc7/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/12.%E6%87%8A%E6%82%94%E9%98%85%E8%AF%BB%E8%AE%BA%E6%96%871.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/12.ææéè¯»è®ºæ1.md",key:"v-389af7e5",path:"/pages/24dfc7/",headers:[{level:2,title:"å¾åèç±»ç®æ³",slug:"å¾åèç±»ç®æ³",normalizedTitle:"å¾åèç±»ç®æ³",charIndex:2},{level:2,title:"å­ç°æ©å±ç®æ³",slug:"å­ç°æ©å±ç®æ³",normalizedTitle:"å­ç°æ©å±ç®æ³",charIndex:525},{level:2,title:"å­ç°çç¨çéå»º",slug:"å­ç°çç¨çéå»º",normalizedTitle:"å­ç°çç¨çéå»º",charIndex:536},{level:2,title:"å­ç°åå¹¶",slug:"å­ç°åå¹¶",normalizedTitle:"å­ç°åå¹¶",charIndex:548}],headersStr:"å¾åèç±»ç®æ³ å­ç°æ©å±ç®æ³ å­ç°çç¨çéå»º å­ç°åå¹¶",content:"# å¾åèç±»ç®æ³\n\næå»ºå¾ï¼è®¡ç®å¾ä¸­çè¾¹æå¼ï¼ä½¿ç¨å½ä¸åéæ¥å®æå¾åååã\n\nææ´ä¸ªå¾G={V,E} ååä¸º {Gkâ£Gk={Vk,Ek}}ã\n\nç°ææ¹æ³çè¾¹çæé\n\nwpij=pnummin(Â feati,Â featj)\n\nå¶ä¸­ feati,featj æ¯æ¯ä¸ªå¾åå¯¹ i,j çç¹å¾ç¹æ°ï¼pnumæ¯ä¸å¾åå¯¹åæºç¹çç¹æ°ãä¸è¬è®¤ä¸ºwpijè¶å¤§ï¼å¾åå¯¹ä¹é´çç¸å³æ§è¶å¼ºãå¦æä»ä½¿ç¨å·æåæºç¹çç¹æ°æ¥è®¡ç®è¾¹ç¼æéï¼åç©ºé´è·ç¦»è¾è¿çå¼±è¿æ¥å¾åå¯¹å¯è½è¢«ååä¸ºåä¸å­ç°ï¼èç©ºé´è·ç¦»è¾ç­ä½ç¹æ°ç¸å¯¹è¾å°çå¾åå¯¹å·æåæºç¹å¯è½è¢«ååå°ä¸åçå­ç°ä¸­ï¼å¯¼è´å­ç°åå¾åçç©ºé´åå¸æ¾æ£çè³ç¢çåã\n\næ¹è¿\n\nå¼å¥å¾åå¯¹çéå åºåãåºæ¯ç¸å³åº¦ä¿¡æ¯ãå·æåæºç¹çç¹æ°æé æ°çæéå½æ°w(Eij)ã\n\n * å¾åå¯¹çéå åºåæ¯å¾åç©ºé´ä¸­ä¸¤ä¸ªå¾åæè·çç¸åå°é¢åºåçè¡¨ç¤ºãå¦æä¸ä¸ªå¾åå¯¹çéå é¢ç§¯å¾å°ï¼åè®¤ä¸ºè¯¥å¾åå¯¹æ´å¯è½æ¯å¼±è¿éçã\n * å¾åçå¬å±é»åæ°è¡¨ç¤ºå¾åå¯¹ä¸­ä¸¤å¹å¾åçé»åéä¸­å·æç¸åIDçå¾åçæ°éãå±åé»å±çæ°éè¶å¤ï¼å¾åå¯¹å°±è¶æå¯è½æ¯å¼ºè¿æ¥çã\n * å¾åå¯¹ä¸­å·æåæºç¹çç¹æ°è¡¨ç¤ºä¸¤å¹å¾åä¸­å¹éç¹å¾ç¹çæ°éï¼å·æåæºç¹çç¹è¶å¤ï¼ä¸¤å¹å¾åä¹é´çç¸å³æ§è¶å¼ºã\n\n\n# å­ç°æ©å±ç®æ³\n\n\n# å­ç°çç¨çéå»º\n\n\n# å­ç°åå¹¶",normalizedContent:"# å¾åèç±»ç®æ³\n\næå»ºå¾ï¼è®¡ç®å¾ä¸­çè¾¹æå¼ï¼ä½¿ç¨å½ä¸åéæ¥å®æå¾åååã\n\nææ´ä¸ªå¾g={v,e} ååä¸º {gkâ£gk={vk,ek}}ã\n\nç°ææ¹æ³çè¾¹çæé\n\nwpij=pnummin(Â feati,Â featj)\n\nå¶ä¸­ feati,featj æ¯æ¯ä¸ªå¾åå¯¹ i,j çç¹å¾ç¹æ°ï¼pnumæ¯ä¸å¾åå¯¹åæºç¹çç¹æ°ãä¸è¬è®¤ä¸ºwpijè¶å¤§ï¼å¾åå¯¹ä¹é´çç¸å³æ§è¶å¼ºãå¦æä»ä½¿ç¨å·æåæºç¹çç¹æ°æ¥è®¡ç®è¾¹ç¼æéï¼åç©ºé´è·ç¦»è¾è¿çå¼±è¿æ¥å¾åå¯¹å¯è½è¢«ååä¸ºåä¸å­ç°ï¼èç©ºé´è·ç¦»è¾ç­ä½ç¹æ°ç¸å¯¹è¾å°çå¾åå¯¹å·æåæºç¹å¯è½è¢«ååå°ä¸åçå­ç°ä¸­ï¼å¯¼è´å­ç°åå¾åçç©ºé´åå¸æ¾æ£çè³ç¢çåã\n\næ¹è¿\n\nå¼å¥å¾åå¯¹çéå åºåãåºæ¯ç¸å³åº¦ä¿¡æ¯ãå·æåæºç¹çç¹æ°æé æ°çæéå½æ°w(eij)ã\n\n * å¾åå¯¹çéå åºåæ¯å¾åç©ºé´ä¸­ä¸¤ä¸ªå¾åæè·çç¸åå°é¢åºåçè¡¨ç¤ºãå¦æä¸ä¸ªå¾åå¯¹çéå é¢ç§¯å¾å°ï¼åè®¤ä¸ºè¯¥å¾åå¯¹æ´å¯è½æ¯å¼±è¿éçã\n * å¾åçå¬å±é»åæ°è¡¨ç¤ºå¾åå¯¹ä¸­ä¸¤å¹å¾åçé»åéä¸­å·æç¸åidçå¾åçæ°éãå±åé»å±çæ°éè¶å¤ï¼å¾åå¯¹å°±è¶æå¯è½æ¯å¼ºè¿æ¥çã\n * å¾åå¯¹ä¸­å·æåæºç¹çç¹æ°è¡¨ç¤ºä¸¤å¹å¾åä¸­å¹éç¹å¾ç¹çæ°éï¼å·æåæºç¹çç¹è¶å¤ï¼ä¸¤å¹å¾åä¹é´çç¸å³æ§è¶å¼ºã\n\n\n# å­ç°æ©å±ç®æ³\n\n\n# å­ç°çç¨çéå»º\n\n\n# å­ç°åå¹¶",charsets:{cjk:!0}},{title:"EC-SfM, Efficient Covisibility-based Structure-from-Motion for Both Sequential and Unordered Images",frontmatter:{title:"EC-SfM, Efficient Covisibility-based Structure-from-Motion for Both Sequential and Unordered Images",date:"2023-03-31T11:02:32.000Z",permalink:"/pages/f9d90b/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/14.%20%E6%87%8A%E6%82%94%E9%98%85%E8%AF%BB%E8%AE%BA%E6%96%873.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/14. ææéè¯»è®ºæ3.md",key:"v-39371ab4",path:"/pages/f9d90b/",headersStr:null,content:"å¯¹äºæ åºç Internet å¾åï¼ç±äºç¼ºä¹å³äºå¾åéå çåéªç¥è¯ï¼SfM éå¸¸æ¢ã\n\nå¯¹äºåºåå¾åï¼ç¥éç¸é»å¸§ä¹é´çå¤§éå ï¼SfM å¯ä»¥éç¨å¤ç§å éç­ç¥ï¼è¿äºç­ç¥ä»éç¨äºåºåæ°æ®ã\n\nä¸ºäºè¿ä¸æ­¥æé«éå»ºæçå¹¶æç ´è¿ä¸¤ç§æ°æ®ä¹é´çç­ç¥å·®è·ï¼æ¬ææåºäºä¸ç§åºäºååå¯è§æ§çé«æå¢éSfMãä¸ä»¥åçæ¹æ³ä¸åï¼æä»¬å©ç¨å±è§æ§åæ³¨åä¾èµæ§æ¥æè¿°éç¨äºä»»ä½ç±»åæ°æ®çå¾åè¿æ¥ã\n\nåºäºè¿ç§éç¨å¾åè¿æ¥ï¼æä»¬æåºäºä¸ä¸ªç»ä¸çæ¡æ¶æ¥ææå°éå»ºåºåå¾åãæ åºå¾åä»¥åè¿ä¸¤èçæ··åå¾åãå¯¹æ åºå¾ååæ··åæ°æ®çå®éªéªè¯äºææåºæ¹æ³çæææ§ï¼è¯¥æ¹æ³å¨ç¹å¾å¹éæ¹é¢æ¯ç°æææ¯å¿«ä¸åï¼å¨ä¸çºç²åç¡®æ§çæåµä¸éå»ºéåº¦å¿«ä¸ä¸ªæ°éçº§ã",normalizedContent:"å¯¹äºæ åºç internet å¾åï¼ç±äºç¼ºä¹å³äºå¾åéå çåéªç¥è¯ï¼sfm éå¸¸æ¢ã\n\nå¯¹äºåºåå¾åï¼ç¥éç¸é»å¸§ä¹é´çå¤§éå ï¼sfm å¯ä»¥éç¨å¤ç§å éç­ç¥ï¼è¿äºç­ç¥ä»éç¨äºåºåæ°æ®ã\n\nä¸ºäºè¿ä¸æ­¥æé«éå»ºæçå¹¶æç ´è¿ä¸¤ç§æ°æ®ä¹é´çç­ç¥å·®è·ï¼æ¬ææåºäºä¸ç§åºäºååå¯è§æ§çé«æå¢ésfmãä¸ä»¥åçæ¹æ³ä¸åï¼æä»¬å©ç¨å±è§æ§åæ³¨åä¾èµæ§æ¥æè¿°éç¨äºä»»ä½ç±»åæ°æ®çå¾åè¿æ¥ã\n\nåºäºè¿ç§éç¨å¾åè¿æ¥ï¼æä»¬æåºäºä¸ä¸ªç»ä¸çæ¡æ¶æ¥ææå°éå»ºåºåå¾åãæ åºå¾åä»¥åè¿ä¸¤èçæ··åå¾åãå¯¹æ åºå¾ååæ··åæ°æ®çå®éªéªè¯äºææåºæ¹æ³çæææ§ï¼è¯¥æ¹æ³å¨ç¹å¾å¹éæ¹é¢æ¯ç°æææ¯å¿«ä¸åï¼å¨ä¸çºç²åç¡®æ§çæåµä¸éå»ºéåº¦å¿«ä¸ä¸ªæ°éçº§ã",charsets:{cjk:!0}},{title:"A Simple and Efficient Merge of Two Sparse 3D Models with Overlapped Images",frontmatter:{title:"A Simple and Efficient Merge of Two Sparse 3D Models with Overlapped Images",date:"2023-03-31T11:00:10.000Z",permalink:"/pages/7387ee/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/13.%20%E6%87%8A%E6%82%94%E9%98%85%E8%AF%BB%E8%AE%BA%E6%96%872.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/13. ææéè¯»è®ºæ2.md",key:"v-7e805f34",path:"/pages/7387ee/",headersStr:null,content:"æ¹æ³\n\né¦åï¼æ ¹æ®ä»éå å¾åéæ°æå½±ç 3D ç¹è®¡ç®ä¸¤ä¸ªæ¨¡åä¹é´çå¨å±ç¸ä¼¼æ§åæ¢ç©éµã\n\nä¹åï¼éå å¾åçç¸æºåæ°åä¸ä¸ªæ¨¡åä¸­çéæ°æå½±ç 3D ç¹ä½¿ç¨è·å¾çå¨å±ç¸ä¼¼æ§åæ¢ç©éµè¿è¡ç»åã\n\næåï¼æ ¹æ®åé¨ 2D-3D å¯¹åºä¼°è®¡ä¸¤ä¸ª 3D æ¨¡åä¹é´çç²¾ç¡®ç¸ä¼¼æ§åæ¢ç©éµï¼ä»¥åç¡®å¯¹é½ååå¹¶ä¸¤ä¸ª 3D æ¨¡åã\n\nå¯¹æ¯\n\nå¸¸è§çç¨ç 3D æ¨¡ååå¹¶æ¹æ³å°ç¸ä¼¼åæ¢ç©éµä¼°è®¡ææ¯ä¹ä¸ä¸ RANSAC ç¸ç»åã\n\nç¶èï¼ä¸ä¸ªéè¦çé®é¢æ¯ï¼å¦ææ¨¡åå¯¹é½ååéå åºåä¸­çæäºé¨åï¼ååå¹¶åçæ¨¡åå¯è½ä¼åºç°å¨å±å¯¹é½éè¯¯ã\n\næ¹è¿\n\nææåºçæ¹æ³é¦åè®¡ç®å¨å±ç¸ä¼¼åæ¢ç©éµä»¥åå°å¨å±æªå¯¹é½é®é¢ãä½¿ç¨è·å¾çå¨å±ç¸ä¼¼æ§åæ¢ç©éµï¼ææåºçæ¹æ³ç»åäºå­æ¨¡åçéå åºåãç±äºéå åºåçç»åè¿ç¨ï¼å¯ä»¥æ´åç¡®å°å¯¹é½ä¸¤ä¸ªå­æ¨¡åãææåºçæ¹æ³è®¡ç®ç²¾ç¡®çç¸ä¼¼åæ¢ç©éµå¹¶åå¹¶ä¸¤ä¸ªå­æ¨¡åã\n\n\n\nç»å®ä¸¤ä¸ªå·æéå å¾åå2D-3Då¯¹åºå³ç³»çå­æ¨¡åï¼æåºçæ¹æ³\n\n * ï¼aï¼è®¡ç®å­æ¨¡å1å2çéæ°æå¥è¯¯å·®çå¹³åå¼ï¼\n * ï¼bï¼è®¡ç®éå åºåä¹é´çå¨å±ç¸ä¼¼æ§è½¬æ¢ç©éµ\n * ï¼C ï¼ä½¿ç¨å¨å±ç¸ä¼¼æ§åæ¢ç©éµæ¥å®åå­æ¨¡åM1ä¸­çéå åºåï¼å¹¶ä¸\n * ï¼dï¼è®¡ç®éå åºåä¹é´çç²¾ç¡®ç¸ä¼¼æ§è½¬æ¢ç©éµï¼å¹¶åå¹¶ä¸¤ä¸ªå­æ¨¡åã\n\nç»å®ä¸¤ä¸ªç¨ç3Dæ¨¡åM1,M2ï¼å·æéå åºå(R)M1ï¼(R)M2ï¼ç±å·²ç¥ç 2D-3D å¯¹åºå³ç³»åç¸æºåæ° {Pi}M1 å { Pi}M2 çå±äº«å¾å {Ii}ï¼ææåºçæ¹æ³æ§è¡ä»¥ä¸è¿ç¨\n\nStep1. è®¡ç®æ¯ä¸ªå­æ¨¡åçéå åºåçéæå½±è¯¯å·®çå¹³åå¼ï¼åè®¾(R)M2çéæå½±è¯¯å·®åå¼ä½äº(R)M1ç\n\nStep2. ä½¿ç¨RANSACç­é3Dç¹æ¥è®¡ç®å¨å±ç¸ä¼¼åæ¢Tgï¼æéæ©3Dåç¹Xjæ»¡è¶³ä»¥ä¸çº¦æ\n\nÂ i)Â 1Tj{(xjiâPiTgâ1(Xj)M2)M12+(xjiâPiTg(Xj)M1)M22}â¤rthresÂ ii)Â Tjâ¥Tthres\n\nå¶ä¸­Tjä¸ºXjå¯¹åºçtrack é¿åº¦ï¼æ¬æè®¾ç½®rthres=6, Tthres = 5ãæäº3Dåç¹ï¼åºç¨æ¹æ³[7]è®¡ç®ä»M1å°M2çå¨å±ç¸ä¼¼åæ¢Tgã\n\nStep3. å°M1ä¸­çIiçç¸æºåæ°PiM1æ¿æ¢ä¸ºPiTgM2 ï¼ç¶åå°å·æ2D-3Då¯¹åºå³ç³»çç¸æºåæ°PiTgM2 çå±é¨BAåºç¨å°M1ã\n\nStep4. éæ©åç¹2D-3Då¯¹åºå³ç³»è·å¾ç²¾ç¡®çç¸ä¼¼åæ¢ç©éµTmï¼åç¹(xji,Xj) æ»¡è¶³ä¸è¿°çi,iiï¼ä»¥åä¸é¢çæ¡ä»¶\n\nmini{(xjiâPiXj)M12+(xjiâPiXj)M22}\n\nå¨éæ©å®åç¹åï¼åºç¨[5]æ¥è®¡ç®ä»M1å°M2çç²¾ç¡®ç¸ä¼¼åæ¢ç©éµTmï¼æ¥æ§è¡ä¸¤ä¸ªå­æ¨¡åM1åM2çåå¹¶è¿ç¨ã",normalizedContent:"æ¹æ³\n\né¦åï¼æ ¹æ®ä»éå å¾åéæ°æå½±ç 3d ç¹è®¡ç®ä¸¤ä¸ªæ¨¡åä¹é´çå¨å±ç¸ä¼¼æ§åæ¢ç©éµã\n\nä¹åï¼éå å¾åçç¸æºåæ°åä¸ä¸ªæ¨¡åä¸­çéæ°æå½±ç 3d ç¹ä½¿ç¨è·å¾çå¨å±ç¸ä¼¼æ§åæ¢ç©éµè¿è¡ç»åã\n\næåï¼æ ¹æ®åé¨ 2d-3d å¯¹åºä¼°è®¡ä¸¤ä¸ª 3d æ¨¡åä¹é´çç²¾ç¡®ç¸ä¼¼æ§åæ¢ç©éµï¼ä»¥åç¡®å¯¹é½ååå¹¶ä¸¤ä¸ª 3d æ¨¡åã\n\nå¯¹æ¯\n\nå¸¸è§çç¨ç 3d æ¨¡ååå¹¶æ¹æ³å°ç¸ä¼¼åæ¢ç©éµä¼°è®¡ææ¯ä¹ä¸ä¸ ransac ç¸ç»åã\n\nç¶èï¼ä¸ä¸ªéè¦çé®é¢æ¯ï¼å¦ææ¨¡åå¯¹é½ååéå åºåä¸­çæäºé¨åï¼ååå¹¶åçæ¨¡åå¯è½ä¼åºç°å¨å±å¯¹é½éè¯¯ã\n\næ¹è¿\n\nææåºçæ¹æ³é¦åè®¡ç®å¨å±ç¸ä¼¼åæ¢ç©éµä»¥åå°å¨å±æªå¯¹é½é®é¢ãä½¿ç¨è·å¾çå¨å±ç¸ä¼¼æ§åæ¢ç©éµï¼ææåºçæ¹æ³ç»åäºå­æ¨¡åçéå åºåãç±äºéå åºåçç»åè¿ç¨ï¼å¯ä»¥æ´åç¡®å°å¯¹é½ä¸¤ä¸ªå­æ¨¡åãææåºçæ¹æ³è®¡ç®ç²¾ç¡®çç¸ä¼¼åæ¢ç©éµå¹¶åå¹¶ä¸¤ä¸ªå­æ¨¡åã\n\n\n\nç»å®ä¸¤ä¸ªå·æéå å¾åå2d-3då¯¹åºå³ç³»çå­æ¨¡åï¼æåºçæ¹æ³\n\n * ï¼aï¼è®¡ç®å­æ¨¡å1å2çéæ°æå¥è¯¯å·®çå¹³åå¼ï¼\n * ï¼bï¼è®¡ç®éå åºåä¹é´çå¨å±ç¸ä¼¼æ§è½¬æ¢ç©éµ\n * ï¼c ï¼ä½¿ç¨å¨å±ç¸ä¼¼æ§åæ¢ç©éµæ¥å®åå­æ¨¡åm1ä¸­çéå åºåï¼å¹¶ä¸\n * ï¼dï¼è®¡ç®éå åºåä¹é´çç²¾ç¡®ç¸ä¼¼æ§è½¬æ¢ç©éµï¼å¹¶åå¹¶ä¸¤ä¸ªå­æ¨¡åã\n\nç»å®ä¸¤ä¸ªç¨ç3dæ¨¡åm1,m2ï¼å·æéå åºå(r)m1ï¼(r)m2ï¼ç±å·²ç¥ç 2d-3d å¯¹åºå³ç³»åç¸æºåæ° {pi}m1 å { pi}m2 çå±äº«å¾å {ii}ï¼ææåºçæ¹æ³æ§è¡ä»¥ä¸è¿ç¨\n\nstep1. è®¡ç®æ¯ä¸ªå­æ¨¡åçéå åºåçéæå½±è¯¯å·®çå¹³åå¼ï¼åè®¾(r)m2çéæå½±è¯¯å·®åå¼ä½äº(r)m1ç\n\nstep2. ä½¿ç¨ransacç­é3dç¹æ¥è®¡ç®å¨å±ç¸ä¼¼åæ¢tgï¼æéæ©3dåç¹xjæ»¡è¶³ä»¥ä¸çº¦æ\n\nÂ i)Â 1tj{(xjiâpitgâ1(xj)m2)m12+(xjiâpitg(xj)m1)m22}â¤rthresÂ ii)Â tjâ¥tthres\n\nå¶ä¸­tjä¸ºxjå¯¹åºçtrack é¿åº¦ï¼æ¬æè®¾ç½®rthres=6, tthres = 5ãæäº3dåç¹ï¼åºç¨æ¹æ³[7]è®¡ç®ä»m1å°m2çå¨å±ç¸ä¼¼åæ¢tgã\n\nstep3. å°m1ä¸­çiiçç¸æºåæ°pim1æ¿æ¢ä¸ºpitgm2 ï¼ç¶åå°å·æ2d-3då¯¹åºå³ç³»çç¸æºåæ°pitgm2 çå±é¨baåºç¨å°m1ã\n\nstep4. éæ©åç¹2d-3då¯¹åºå³ç³»è·å¾ç²¾ç¡®çç¸ä¼¼åæ¢ç©éµtmï¼åç¹(xji,xj) æ»¡è¶³ä¸è¿°çi,iiï¼ä»¥åä¸é¢çæ¡ä»¶\n\nmini{(xjiâpixj)m12+(xjiâpixj)m22}\n\nå¨éæ©å®åç¹åï¼åºç¨[5]æ¥è®¡ç®ä»m1å°m2çç²¾ç¡®ç¸ä¼¼åæ¢ç©éµtmï¼æ¥æ§è¡ä¸¤ä¸ªå­æ¨¡åm1åm2çåå¹¶è¿ç¨ã",charsets:{cjk:!0}},{title:"Graph-based parallel large scale structure from motion",frontmatter:{title:"Graph-based parallel large scale structure from motion",date:"2023-03-31T12:00:29.000Z",permalink:"/pages/696f8f/"},regularPath:"/02.%E7%A7%91%E7%A0%94/02.%E5%A4%A7%E8%A7%84%E6%A8%A1%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/15.%20%E6%87%8A%E6%82%94%E9%98%85%E8%AF%BB%E8%AE%BA%E6%96%874.html",relativePath:"02.ç§ç /02.å¤§è§æ¨¡ä¸ç»´éå»º/15. ææéè¯»è®ºæ4.md",key:"v-18245398",path:"/pages/696f8f/",headersStr:null,content:"éè¿å©ç¨å¾ç»æï¼æä»¬è½å¤ä»¥åèæ²»ä¹çæ¹å¼å¤çå¤§è§æ¨¡æ°æ®éã\n\né¦åï¼å°å¾åå»ºæ¨¡ä¸ºå¾èç¹ï¼å¨ç¹å¾å¹éåä»å ä½ä¿¡æ¯ä¸­æ£ç´¢è¾¹ã\n\nç¶åéè¿å¾åèç±»ç®æ³å°å¾åååä¸ºç¬ç«çç°ï¼ç¶åè¿è¡å­å¾æ©å±æ­¥éª¤ï¼éè¿æ²¿çæå¤§çææ è¡èµ°æ¥å¢å¼ºåºæ¯çè¿æ¥æ§åå®æ´æ§ï¼ç¨äºæé ç°ä¹é´çéå å¾åã\n\nå¶æ¬¡ï¼å°å¾åéç¾¤åå¸å°æå¡å¨ä¸­ä»¥å¹¶è¡æ¨¡å¼æ§è¡ SfMã\n\nç¬¬ä¸ï¼å¨å±é¨éå»ºå®æåï¼æä»¬æé ä¸ä¸ªæå°çææ æ¥æ¾å°åç¡®çç¸ä¼¼åæ¢ã\n\nç¶åå°æå°çææ è½¬åä¸ºæå°é«åº¦æ ä»¥æ¾å°åéçéèç¹ï¼å¹¶è¿ä¸æ­¥ç¨äºé²æ­¢éè¯¯ç´¯ç§¯ã",normalizedContent:"éè¿å©ç¨å¾ç»æï¼æä»¬è½å¤ä»¥åèæ²»ä¹çæ¹å¼å¤çå¤§è§æ¨¡æ°æ®éã\n\né¦åï¼å°å¾åå»ºæ¨¡ä¸ºå¾èç¹ï¼å¨ç¹å¾å¹éåä»å ä½ä¿¡æ¯ä¸­æ£ç´¢è¾¹ã\n\nç¶åéè¿å¾åèç±»ç®æ³å°å¾åååä¸ºç¬ç«çç°ï¼ç¶åè¿è¡å­å¾æ©å±æ­¥éª¤ï¼éè¿æ²¿çæå¤§çææ è¡èµ°æ¥å¢å¼ºåºæ¯çè¿æ¥æ§åå®æ´æ§ï¼ç¨äºæé ç°ä¹é´çéå å¾åã\n\nå¶æ¬¡ï¼å°å¾åéç¾¤åå¸å°æå¡å¨ä¸­ä»¥å¹¶è¡æ¨¡å¼æ§è¡ sfmã\n\nç¬¬ä¸ï¼å¨å±é¨éå»ºå®æåï¼æä»¬æé ä¸ä¸ªæå°çææ æ¥æ¾å°åç¡®çç¸ä¼¼åæ¢ã\n\nç¶åå°æå°çææ è½¬åä¸ºæå°é«åº¦æ ä»¥æ¾å°åéçéèç¹ï¼å¹¶è¿ä¸æ­¥ç¨äºé²æ­¢éè¯¯ç´¯ç§¯ã",charsets:{cjk:!0}},{title:"EFè®ºæçè§£",frontmatter:{title:"EFè®ºæçè§£",date:"2022-03-26T11:01:06.000Z",permalink:"/pages/c6a110/"},regularPath:"/02.%E7%A7%91%E7%A0%94/01.%E5%AE%A4%E5%86%85%E5%AE%9E%E6%97%B6%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/02.EF%E8%AE%BA%E6%96%87%E7%90%86%E8%A7%A3.html",relativePath:"02.ç§ç /01.å®¤åå®æ¶ä¸ç»´éå»º/02.EFè®ºæçè§£.md",key:"v-372327de",path:"/pages/c6a110/",headers:[{level:2,title:"ç³»ç»æ¦è¿°",slug:"ç³»ç»æ¦è¿°",normalizedTitle:"ç³»ç»æ¦è¿°",charIndex:2},{level:2,title:"èåé¢æµè·è¸ª",slug:"èåé¢æµè·è¸ª",normalizedTitle:"èåé¢æµè·è¸ª",charIndex:867},{level:3,title:"å ä½ä½å§¿ä¼°è®¡",slug:"å ä½ä½å§¿ä¼°è®¡",normalizedTitle:"å ä½ä½å§¿ä¼°è®¡",charIndex:1432},{level:3,title:"äº®åº¦ä½å§¿ä¼°è®¡",slug:"äº®åº¦ä½å§¿ä¼°è®¡",normalizedTitle:"äº®åº¦ä½å§¿ä¼°è®¡",charIndex:1622},{level:3,title:"èåä¼å",slug:"èåä¼å",normalizedTitle:"èåä¼å",charIndex:1772},{level:2,title:"åå½¢å¾",slug:"åå½¢å¾",normalizedTitle:"åå½¢å¾",charIndex:2073},{level:3,title:"æé ",slug:"æé ",normalizedTitle:"æé ",charIndex:2550},{level:3,title:"åºç¨",slug:"åºç¨",normalizedTitle:"åºç¨",charIndex:2690},{level:3,title:"ä¼å",slug:"ä¼å",normalizedTitle:"ä¼å",charIndex:1774},{level:2,title:"å±é¨åç¯",slug:"å±é¨åç¯",normalizedTitle:"å±é¨åç¯",charIndex:827},{level:2,title:"å¨å±åç¯",slug:"å¨å±åç¯",normalizedTitle:"å¨å±åç¯",charIndex:400},{level:2,title:"å¨å±åç¯ä»£ç é¨å",slug:"å¨å±åç¯ä»£ç é¨å",normalizedTitle:"å¨å±åç¯ä»£ç é¨å",charIndex:4768}],headersStr:"ç³»ç»æ¦è¿° èåé¢æµè·è¸ª å ä½ä½å§¿ä¼°è®¡ äº®åº¦ä½å§¿ä¼°è®¡ èåä¼å åå½¢å¾ æé  åºç¨ ä¼å å±é¨åç¯ å¨å±åç¯ å¨å±åç¯ä»£ç é¨å",content:"# ç³»ç»æ¦è¿°\n\næä»¬éåä¸»æµçç¨ å¯SLAMç³»ç»é£æ ·tracking å mapping çç»æï¼ä¸»è¦ä½¿ç¨CUDAæ¥å®ç°trackingé¨åï¼OpenGL Shadingè¯­è¨æ¥å®ç°å°å¾é¢æµåç®¡çãæä»¬çæ¹æ³å¯ä»¥å®æ¶çä½¿ç¨æ åçRGB-Dç¸æºæ¥ä¼°è®¡ä¸ä¸ªç¯å¢çç¨ å¯3Då°å¾ï¼ä¸é¢ä¸ºæä»¬æ¹æ³çå³é®é¨åã\n\n>  1. åå°åèæç®9çå¯åï¼ æä»¬åºäºèåé¢åçæ¨¡åæ¥ä¼°è®¡ä¸ä¸ªç¯å¢ã\n> \n>  2. å½å¨æè¿ç»å¸¸è§å¯çåºåï¼active areaï¼è¿è¡è·è¸ªåæ°æ®èåæ¶ï¼å°è¶è¿Î´tæ¶é´æ²¡æè¢«è§å¯å°çåºåè½¬æinactive areaï¼ä¸è¿ä¸é¨åä¸ç¨æ¥è·è¸ªåæ°æ®èåã\n> \n>  3. æ¯ä¸å¸§é½å°è¯å°å½åä¼°è®¡çç¸æºå¸§åçæ´»å¨æ¨¡åé¨åä¸ä½äºåä¸å¸§åçéæ´»å¨æ¨¡åé¨åè¿è¡éåï¼å¦æéåæåï¼é£ä¹å½åå¸§å°±ä¸æ§çä¸æ´»è·çæ¨¡åå½¢æåç¯ï¼ç¶åæ´ä¸ªæ¨¡åå°ä¼éåæ§åæ¢ï¼è¿æ§çä¸æ´»è·çæ¨¡åå°éæ°æ¿æ´»ã\n> \n>  4. å¯¹äºå¨å±åç¯æ£æµï¼æ·»å åºæ¯çé¢æµè§å¾å°ä¸ä¸ªéæºæ°æ®åºä¸­ï¼æ¯ä¸å¸§é½éè¿è¿ä¸ªæ°æ®åºæ¥æ¾å¹éçé¢æµè§å¾ãå¦ææ£æµå°å¹éï¼å°è§å¾éåå°ä¸èµ·ï¼å¹¶æ£æ¥è¿ä¸æ¬¡éåæ¯å¦ä¸æ¨¡åçéåå½¢ç¶å¨å±ä¸è´ï¼å¦ææ¯ï¼å¨å°å¾ä¸­ç¨éåæ§åæ¢æ¥åæ è¿ä¸ªéåï¼å¹¶ä¸å°å®å¨å±å¯¹é½ã\n\n\n\nç¨æé¢è²çè¡¨é¢æ¥è¡¨ç¤ºæ´»è·çæ¨¡åï¼ç°è²åºåè¡¨ç¤ºéæ´»è·çæ¨¡åã\n\n 1.  åå§æ¶ï¼ææçæ°æ®é½æ¯æ´»è·æ¨¡åï¼å¹¶ä¸åå·¦æ¢ç´¢ï¼\n\n 2.  éçæ¶é´æ¨ç§»ï¼æè¿è§å¯ä¸å°çåºåè¢«è®¾ç½®ä¸ºéæ´»è·ç¶æï¼\n\n 3.  ç¸æºéæ°è§å¯å°äºä¹åéæ´»è·çåºåï¼å½¢æé­ç¯å¹¶ä¸éåè¡¨é¢ï¼ä¹åéæ´»è·çåºåéæ°æ¿æ´»ï¼\n\n 4.  ç¸æºç»§ç»­åå³æ¢ç´¢ï¼å½¢æäºæ´å¤çé­ç¯ï¼\n\n 5.  ç»§ç»­æ¢ç´¢æ°çåºåï¼\n\n 6.  ç¸æºéæ°è®¿é®å°éæ´»è·çåºåï¼ä½åºç°äºæ¼ç§»ï¼\n\n 7.  è¯´æå¾6çæ¼ç§»ä¸å¯¹é½ï¼è¿éççº¢è²ç®­å¤´æ¯æ´»è·åºåçç¹æåéæ´»è·åºåçç¹ï¼è¿ä¸¤ç¹æ¯ç­ä»·çï¼\n\n 8.  ä¸æ¬¡å¨å±é­ç¯è§¦åï¼å¯¹é½æ´»è·ä¸éæ´»è·æ¨¡åï¼\n\n 9.  ç»§ç»­åå³æ¢ç´¢ï¼å½¢ææ´å¤çå±é¨åç¯ï¼è·æ´å¤éæ´»è·åºåéæ°æ¿æ´»ï¼\n\n 10. æç»å¨é¨å°å¾çè²ï¼ï¼\n\n\n# èåé¢æµè·è¸ª\n\næä»¬çåºæ¯è¡¨ç¤ºæ¯ä¸ä¸ªæ åºåè¡¨çsurfels Ms ï¼ï¼ä¸æç®9çè¡¨ç¤ºæ¹å¼ç±»ä¼¼ï¼\n\nç¹çä½ç½®ä¿¡æ¯æ³åéé¢è²ä¿¡æ¯æéé¢ççåå¾ç¹çè·åæ¶é´ä¿¡æ¯{pâR3,ç¹çä½ç½®ä¿¡æ¯nâR3,æ³åécâN3,é¢è²ä¿¡æ¯(R,G,B)wâR,Â æérâR,Â Â é¢ççåå¾t,ç¹çè·åæ¶é´ä¿¡æ¯\n\nç¶èï¼å½ä½¿ç¨å°å¾è¿è¡å§¿æä¼°è®¡æ¶ï¼æä»¬çæ¹æ³æä¸¤ä¸ªä¸åä¹å¤\n\n1. ä¸æ¯ä»éè¿ç¨äºå ä½å¸§å°æ¨¡åè·è¸ªçç¢çæ¸²ææ¥é¢æµæ·±åº¦å¾ï¼æä»¬è¿é¢æµæ¨¡åé¢çå¨å½©è²ç¢çæ¸²æä»¥æ§è¡ååº¦å¸§å°æ¨¡åè·è¸ªï¼\n\n2. æä»¬å®ä¹äºä¸ä¸ªæ¶é´çªå£éå¼ Î´tï¼å®å° M ååä¸ºæ´»è·åä¸æ´»è·çé¢åã åªææ è®°ä¸ºæ´»å¨æ¨¡åé¢åçé¢åæç¨äºç¸æºå§¿æä¼°è®¡åæ·±åº¦å¾èåã å½ M ä¸­çä¸ä¸ªé¢åèªä¸æ¬¡æ´æ°ï¼å³å·æä¸å¶å³èçåå§æ·±åº¦æµéä»¥è¿è¡èåï¼ä»¥æ¥çæ¶é´å¤§äº Î´t æ¶ï¼è¯¥é¢åè¢«å£°æä¸ºéæ´»å¨ç¶æã\n\næä»¬æè¿°äºæä»¬çèåååº¦åå ä½å§¿æä¼°è®¡çæ¹æ³ï¼è¿äºæ¹æ³æ¥èªä¸ä¸ªçé¢åé¢æµã\n\næä»¬å®ä¹å¾çåæ¯Î©âN2, æ·±åº¦å¾ï¼åç´ ï¼é¢è²...å¯¹æ¯ä¸å¼ æ·±åº¦å¾è®¡ç®æ³çº¿å¾ãp(u,D)=Kâ1vd(u), væ¯uçé½æ¬¡å½¢å¼ï¼d(u)æ¯uçæ·±åº¦ãå¯¹äºæ¶é´tçæ¯ä¸ªè¾å¥å¸§ï¼æä»¬éè¿å½åå®æ¶è¾å¥çæ·±åº¦å¾åå½©è²å¾ï¼ä¸åä¸ä¸ªä½å§¿çæ´»è·æ¨¡åçé¢æµæ·±åº¦å¾åå½©è²å¾ï¼éåï¼æ¥ä¼°è®¡ç¸æºçä½å§¿ï¼è¿éçä½å§¿ç¨æç¾¤Tæ¥è¡¨ç¤ºã\n\n\n# å ä½ä½å§¿ä¼°è®¡\n\nå¨å½åå®æ¶æ·±åº¦å¾Dtl ä¸ æ¥èªæåä¸å¸§ Dtâ1a çé¢æµçæ´»å¨æ·±åº¦å¾æ¨¡åä¹é´ï¼æä»¬æ¨å¨æ¾ä¸ä¸ªÎ¾ ä½¿å¾æå°åæå½±è¯¯å·®ã\n\nEicp=âk((vkâexpâ¡(Î¾^)Tvtk)ânk)2\n\nå¶ä¸­ï¼vtkæ¯å¨Dtlä¸­ç¬¬kä¸ªé¡¶ç¹çç¸æºåæ ï¼vkånkæ¯ä¸ä¸æ¶å»å¯¹åºé¡¶ç¹çç¸æºåæ åæ³çº¿ãTæ¯ä»åä¸ä¸ªç¸æºä½å§¿å°å½åä½å§¿åæ¢çä¼°è®¡ï¼ï¼expâ¡(Î¾^)æ¯ä¸ä¸ªå¢éï¼ã\n\n\n# äº®åº¦ä½å§¿ä¼°è®¡\n\nå¨å½åå®æ¶çé¢è²å¾Ctl å ä¸ä¸æ¶å» C^tâ1a çé¢æµæ´»è·é¢è²æ¨¡åä¹é´ï¼æä»¬æ¨å¨æ¾ä¸ä¸ªÎ¾ ä½¿å¾äº®åº¦è¯¯å·®æå°ã\n\nï¼Ergb=âuâÎ©(I(u,Ctl)âI(Ï(Kexpâ¡(Î¾^)Tp(u,Dtl)ï¼C^tâ1a)2\n\nè¿éç T åä¸ï¼æ³¨æè¿éç p å­å¨ç»´æ°çåæ¢ã\n\n\n# èåä¼å\n\nEtrack=Eicp+wrgbErgb\n\næä»¬ä½¿ç¨é«æ¯çé¡¿æ³éçº¿æ§æå°äºä¹æ³ ä¸ ä¸å±éå­å¡ æ¥ä¼åè¯¥ç®æ å½æ°ãä¸ºäºè§£å³æ¯æ¬¡è¿­ä»£ï¼æä»¬è®¡ç®æå°äºä¹è§£\n\nargminÎ¾âJÎ¾+râ2\n\näº§çæ¹è¿çç¸æºåæ¢ä¼°è®¡\n\nTâ²=expâ¡(Î¾^)TÎ¾^=[[w]Ãx0000]\n\nå¯ä»¥å¡«åç»åæµééåæ¯ç©éµ J åæ®å·® r çåï¼åæ¶æ ¹æ® wrgb è¿è¡å æï¼å¹¶ä½¿ç¨é«åº¦å¹¶è¡çæ ç¼©å CUDA æ±è§£ä»¥çæ 6Ã6 æ³çº¿æ¹ç¨ç»ï¼ç¶åç± Cholesky å¨ CPU ä¸åè§£å¾å° Î¾ ï¼è¿ä¸ªè¿ç¨çç»ææ¯ææ°çç¸æºä½å§¿ä¼°è®¡pt=TPtâ1 ï¼å®ä½¿å¾å®æ¶ç¸æº Dtl å Ctl å½åæ´»è·æ¨¡åå¼ºå¯¹é½ã\n\n\n# åå½¢å¾\n\nä¸ºäºç¡®ä¿å°å¾ä¸­çå±é¨åå¨å±è¡¨é¢ä¸è´æ§ï¼æä»¬å¨é¢å M éåä¸­åæ äºæåçè¡¨é¢ç¯é­åï¼è¿æ¯éè¿é­ç¯æä¾çè¡¨é¢çº¦æå¯¹ææé¢åï¼æ´»è·åéæ´»è·ï¼è¿è¡éåæ§åæ¢ãæä»¬éç¨åµå¥åå½¢ææ¯çç©ºé´åå½¢æ¹æ³ã\n\nåå½¢å¾ç±åå¸å¨è¦åå½¢çæ¨¡åä¸­çä¸ç»èç¹åè¾¹ç»æãæ¯ä¸ªèç¹Gnæï¼æ¶é´æ³Gt0nï¼ä½ç½®Ggnåä¸ç»é»å±èç¹N(Gn)ï¼æ¾å°åæ¢GRnåGtnï¼æ¯ä¸ªèç¹çé»å±ææäºå¾çï¼æåï¼è¾¹ï¼ä¸è¬é»å±ä¸ªæ°ä¸º4ã\n\né¢åçåå½¢åçä½ç½®ç±ä¸å¼ç»åº\n\nM^ps=Ï(Ms)=ânâI(Ms,G)wn(Ms)[GRn(MpsâGgn)+Ggn+Gtn]\n\né¢ååå½¢åçæ³çº¿ç±ä¸å¼ç»åº\n\nM^ns=ânâI(Ms,G)wn(Ms)GRnâ1â¤Mns\n\nå¶ä¸­ Ïn(Ms) æ¯ä¸ä¸ªæ éï¼è¡¨ç¤ºèç¹Gnå¯¹é¢åMsçå½±åï¼å½ n = k æ¶ï¼æ»åä¸º 1ã\n\nwn(Ms)=(1ââMpsâGgnâ2/dmax)2\n\nè¿édmax æ¯å°Msç k + 1 - æè¿èç¹çæ¬§å éå¾è·ç¦»ã\n\nå¨ä¸æä¸­ï¼æä»¬æè¿°äºæä»¬ä»ä¸ç»é¢å M ä¸­éæ ·åå½¢å¾ Gçæ¹æ³ä»¥åæä»¬ç¡®å®å¾è¿éæ§çæ¹æ³ã\n\n\n# æé \n\næ¯æ¬¡åå§åæ°ç Deformation Graphï¼æ¯æ¬¡åå§åæ°ç Deformation Graph è¦æ¯ä¿ææ´æ°åä¸ä¸ª graph è®¡ç®éå°èä¸è¿è¦ç®åå¯è¡ãåå§æ¶ï¼ä»é¢åä¸­ç³»ç»æ½æ ·ï¼åååå¸ï¼èç¹ï¼èç¹çä½ç½®åæ¶é´æ³ï¼é½ä¸ºé¢åçä½ç½®åæ¶é´æ³ã(åé¢çä¸æ)\n\n\n# åºç¨\n\nä¸ºäºåºç¨ä¼ååçåå½¢å¾ï¼å¨ä¸ä¸èä¸­è¯¦ç»è¯´æï¼æ¥æ´æ°å°å¾ï¼å¿é¡»ç¡®å®å½±åæ¯ä¸ªé¢åMsçèç¹éãç®æ³ 1 ä¸­ååºäºå®ç° I(M s , G) å¹¶å°åå½¢å¾ G åºç¨äºç»å®é¢åçç®æ³ãå½æ¯ä¸ªé¢ååå½¢æ¶ï¼ä¼å¨æ´ä¸ªåå½¢èç¹éåä¸­æç´¢æ¶é´ä¸æè¿çèç¹ãè¿ä¸ª L 1 -èæ°æå°åçè§£å³æ¹æ¡å®éä¸æ¯å¯¹éå G çäºåæç´¢ï¼å ä¸ºå®å·²ç»æ¯æåºçã ä»è¿éå¼å§ï¼æ¶éæ¶é´ä¸éè¿çå¶ä»èç¹ï¼å¹¶éæ©æè¿ç k ä¸ªèç¹ï¼å¨æ¬§å éå¾·è·ç¦»æä¹ä¸ï¼ä½ä¸º I(M s , G)ãæåï¼æ¯ä¸ªèç¹çæéæç§å¬å¼ 10 è®¡ç®ï¼å¹¶åºç¨å¬å¼ 8 å 9 çåæ¢ã æ´æ°åçé¢å MÌ s çææå¶ä»å±æ§åä» M s å¤å¶ã\n\nç®æ³1æè¿°ä¸ºï¼\n\n>   \t1.  $\\alpha$ number of nodes to explore;\n>   \t2.  Find closest node in time;\n>   \t3.  Gather set of temporally nearby nodes $-\\alpha/2$  to  $\\alpha/2$ ;\n>   \t4.  Take closest k as influencing nodes;\n>   \t5.  Compute weights;\n>   \t6.  Apply transformations.\n\n\n# ä¼å\n\nç»å®ä¸ç»è¡¨é¢å¯¹åº Qï¼å¯ä»¥ä¼ååå½¢å¾çåæ°ä»¥åæ è¡¨é¢æ¨¡å M ä¸­çè¡¨é¢éåãä»¥ä¸å®ä¹åä¸ªæå¤±å½æ°\n\nç¬¬ä¸ä¸ªæå¤§ååå½¢ååº¦ï¼\n\nErot=âlâGRlâ¤GRlâIâF2\n\nä½¿ç¨ Frobenius èæ°ã ç¬¬äºä¸ªæ¯æ­£ååé¡¹ï¼å¯ç¡®ä¿æ´ä¸ªå¾çå¹³æ»åå½¢ï¼\n\nEregÂ =âlânâN(Gl)âGRl(GgnâGgl)+Ggl+Gtlâ(Ggn+Gtn)â22\n\nç¬¬ä¸ä¸ªæ¯æå°åä½ç½®çº¦æ Q ä¸çè¯¯å·®ççº¦æé¡¹ï¼\n\nEcon=âpâÏ(Qsp)âQdpâ22\n\nè¿äºè¡¨é¢å¯ä»¥å¤æ¬¡éè¿éåæ§åå½¢å¯¹é½ï¼ä»èå°æ°çæ°æ®èåå°å°å¾ä¸­å·²ç»è®¿é®è¿çåºåãæåçè¯¯å·®å½æ°ä¿è¯éæ´»è·åºååºå®ï¼å°æ´»è·åºååå½¢å°éæ´»è·åºåçåæ ç³»ä¸­ï¼\n\nEpin=âpâÏ(Qdp)âQdpâ22\n\næç»çæå¤±å½æ°ä¸ºï¼\n\nEdef=wrotErot+wregEreg+wconEcon+wconEpin\n\næä»¬ä½¿ç¨é«æ¯çé¡¿æ³è¿­ä»£ç®è¯¯å·®å½æ°æå°çRåtï¼è¿ä¸ªé®é¢çéåæ¯ç©éµæ¯ç¨ççï¼å æ­¤æä»¬ä½¿ç¨Choleskyåè§£æ¥ä½¿ææå°è§£å³CPUç³»ç»ä¸çé®é¢ãè¿éåå½¢å¾ä½¿ç¨GPUæ¥è®¡ç®ï¼åºç¨å°æ´ä¸ªè¡¨é¢è´´å¾ã\n\n\n# å±é¨åç¯\n\nä¸ºäºç¡®ä¿æ´ä¸ªå°å¾çå±é¨è¡¨é¢ä¸è´æ§ï¼æä»¬çç³»ç»å¨éæ°è®¿é®è¿äºåºåæ¶ä¼å½¢æå¾å¤å°çåç¯ï¼æä»¬èåå°æ¨¡åçæ´»å¨åºåï¼åæ¶éæ¸å°ä¸æ®µæ¶é´åæªåºç°çé¢åæ è®°ä¸ºä¸æ´»å¨ãéæ´»è·åºåä¸åä¸è·è¸ªåèåè¿ç¨ï¼ç´å°å¨æ´»è·åºååéæ´»è·åºåå½¢æåç¯ï¼å¹éå°çéæ´»è·åºåä¸­çç¹è½¬åç§°æ´»è·ã\n\nå°å°å¾ä¸­çä¸ç»é¢ååä¸ºæ´»è·åºååéæ´»è·åºåï¼å¦æå¨å±åç¯æ£æµæ²¡ææ£æµå°ï¼é£ä¹å°±å°è¯è®¡ç®è¿ä¸¤ä¸ªåºåçå¹éåº¦ã\n\néªè¯è¿æ¬¡å¹éæ¯å¦æè´¨éï¼æåæ·»å ä¸ä¸ªæ¡ä»¶ï¼è¦è®©Etrackè¶³å¤å°ï¼åæ¶è¿è¦æ£æ¥æµ·æ£®ç©éµçç¹å¾å¼è¦å°äºä¸ä¸ªéå¼ã\n\nå¦æå®ç°äºé«è´¨éçå¯¹é½ï¼æä»¬ä¼çæä¸ç»è¡¨é¢çº¦æQï¼å°ä»è¾å¥å°ä¸é¢ä¼åè¿ç¨ä¸­ï¼è¿è¡å¯¹é½ãæä»¬ååå°éæ ·ä¸ç»åç´ åæ  U â Î© æ¥è®¡ç®éå Qãå¯¹äºæ¯ä¸ªåç´  u â U æä»¬å¡«åä¸ä¸ªçº¦æï¼\n\nQp=((HPt)p(u,Dta);Ptp(u,Dta);Tti(u);t)\n\nåå½¢åçåï¼æ°çææ°ç¸æºä½å§¿è§£æä¸º PÌ t = HP t ãæ­¤æ¶ï¼ä½ä¸ºå¯¹é½ä¸é¨åçä¸ç»é¢åè¢«éæ°æ¿æ´»ï¼ä»¥åè®¸å®æ¶æåæºè·è¸ªå¹¶ä¸ç°æçæ´»å¨é¢åèåãæ´»å¨æ¨¡åæ·±åº¦çææ°é¢æµå¿é¡»æ¸²æä»¥åæ éæ´»å¨é¢çæ·±åº¦æµè¯çåå½¢ï¼ å¯¹äºæ¯ä¸ªé¢å M s ï¼\n\nMts={tÂ ifÂ Ï(KP^tâ1Mps)âÎ©Â andÂ (KP^tâ1Mps)zâ²D~ta(Ï(KP^tâ1Mps))MtsÂ else.Â \n\næ¬èä¸­æè¿°çè¿ç¨ä½¿æ¨¡åçæ´»å¨åºåä¸æ¨¡åçéæ´»å¨åºåç´§å¯å¯¹é½ï¼ä»¥å®ç°ç´§å¯çå±é¨è¡¨é¢ç¯é­åãæ´»å¨æ¨¡åä¸éæ´»å¨æ¨¡åæ¼ç§»å¤ªè¿ï¼å¯¼è´å±é¨å¯¹é½æ æ³æ¶æãæä»¬éç¨åºäºå¤è§çå¨å±é­ç¯æ¹æ³æ¥å¼å¯¼è¡¨é¢åå½¢å®å°æ´»å¨æ¨¡åä¸åºå±éæ´»å¨æ¨¡åéæ°å¯¹é½ï¼ä»¥è·å¾ç´§å¯çå¨å±é­ç¯åè¡¨é¢å¨å±ä¸è´æ§ã\n\n\n# å¨å±åç¯\n\næä»¬å©ç¨Fernç¼ç æ¹æ³è¿è¡åºäºå¤è§çä½ç½®è¯å«ï¼Ferns å° RGB-D å¾åç¼ç ä¸ºä¸ä¸²ä»£ç ï¼ç±ä¸ç»åºå®åç´ ä½ç½®ä¸­æ¯ä¸ª RGB-D ééçäºè¿å¶æµè¯å¼ç»æãåä¸é¢ä¸æ ·ï¼å¦æå¹éæåï¼æ·»å ä¸ç»è¡¨é¢çº¦æQä½ä¸ºåå½¢çè¾å¥ï¼å¶ä¸­uæ¯ä¸ä¸ªéæºéæ ·çFernç¼ç çåç´ ä½ç½®ï¼\n\nQp=((HEPi)p(u,Dta);Ptp(u,Dta);Eti;t)\n\nè¿éçåç¯ä¹éè¦è¿è¡æ£éªEconï¼è¿éçåå½¢ä¸ä¿®æ¹æ´»è·åéæ´»è·é¢åç»ãæ­£ç¡®çå¨å±é­ç¯ä½¿å°å¾çæ´»å¨åéæ´»å¨åºåè¶³å¤æ¥è¿å¯¹é½ï¼ä»¥å¨ä¸ä¸å¸§è§¦åå±é¨é­ç¯ï¼å¹¶ä¸è¿åè®¸å°å¾ä»å¯è½ä¸æ­£ç¡®çå¨å±é­ç¯ä¸­æ¢å¤ãå¦æç¸æºè·è¸ªå¤±è´¥ï¼æä»¬è¿å¯ä»¥éæ©ä¾èµFernç¼ç æ°æ®åºè¿è¡å¨å±éæ°å®ä½ã\n\n\n# å¨å±åç¯ä»£ç é¨å\n\n// éæºåå§å Ferns çä½ç½®ï¼åç´ ééåéå¼å¤§å°\nvoid Ferns::generateFerns()\n{\n    for(int i = 0; i < num; i++)\n    {\n        Fern f;\n\n        //éæºåå§å Fern çä½ç½®\n        f.pos(0) = widthDist(random);\n        f.pos(1) = heightDist(random);\n\n        // éæºåå§åæ¯ä¸ªééçéå¼\n        f.rgbd(0) = rgbDist(random);\n        f.rgbd(1) = rgbDist(random);\n        f.rgbd(2) = rgbDist(random);\n        f.rgbd(3) = dDist(random);\n\n        conservatory.push_back(f);\n    }\n}\n\n\n//æ°è¾å¥çå¸§åä»¥åå¸§è¿è¡æ¯è¾ï¼å¦æç¸ä¼¼åº¦å°äºä¸å®éå¼ï¼åå°å½åå¸§æå¥ä½ä¸ºåç¯æ£æµçå³é®å¸§\nbool Ferns::addFrame(GPUTexture * imageTexture, GPUTexture * vertexTexture, GPUTexture * normalTexture, const Eigen::Matrix4f & pose, int srcTime, const float threshold)\n{\n    Img<Eigen::Matrix<unsigned char, 3, 1>> img(height, width);\n    Img<Eigen::Vector4f> verts(height, width);\n    Img<Eigen::Vector4f> norms(height, width);\n\n    resize.image(imageTexture, img);\n    resize.vertex(vertexTexture, verts);\n    resize.vertex(normalTexture, norms);\n\n    Frame * frame = new Frame(num,\n                              frames.size(),\n                              pose,\n                              srcTime,\n                              width * height,\n                              (unsigned char *)img.data,\n                              (Eigen::Vector4f *)verts.data,\n                              (Eigen::Vector4f *)norms.data);\n\n    int * coOccurrences = new int[frames.size()];\n\n    memset(coOccurrences, 0, sizeof(int) * frames.size());\n\n    for(int i = 0; i < num; i++)\n    {\n        unsigned char code = badCode;\n\n        if(verts.at<Eigen::Vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) > 0)\n        {\n            const Eigen::Matrix<unsigned char, 3, 1> & pix = img.at<Eigen::Matrix<unsigned char, 3, 1>>(conservatory.at(i).pos(1), conservatory.at(i).pos(0));\n\n            //éæºéååç´ ç¹å¤çç¼ç \n            code = (pix(0) > conservatory.at(i).rgbd(0)) << 3 |\n                   (pix(1) > conservatory.at(i).rgbd(1)) << 2 |\n                   (pix(2) > conservatory.at(i).rgbd(2)) << 1 |\n                   (int(verts.at<Eigen::Vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) * 1000.0f) > conservatory.at(i).rgbd(3));\n\n            frame->goodCodes++;\n\n            // è®¡ç®åä»¥åå­å¨å¸§ä¹é´çç¸ä¼¼åº¦\n            for(size_t j = 0; j < conservatory.at(i).ids[code].size(); j++)\n            {\n                coOccurrences[conservatory.at(i).ids[code].at(j)]++;\n            }\n        }\n\n        frame->codes[i] = code;\n    }\n\n    float minimum = std::numeric_limits<float>::max();\n\n    if(frame->goodCodes > 0)\n    {\n        for(size_t i = 0; i < frames.size(); i++)\n        {\n            float maxCo = std::min(frame->goodCodes, frames.at(i)->goodCodes);\n\n            float dissim = (float)(maxCo - coOccurrences[i]) / (float)maxCo;\n\n            if(dissim < minimum)\n            {\n                minimum = dissim;\n            }\n        }\n    }\n\n    delete [] coOccurrences;\n\n    if((minimum > threshold || frames.size() == 0) && frame->goodCodes > 0)\n    {\n        for(int i = 0; i < num; i++)\n        {\n            if(frame->codes[i] != badCode)\n            {\n                //conservatory å­å¨å³ç³»ï¼ç¬¬ä¸å± fern çç¼å·ï¼ç¬¬äºå± code çç¼å·ï¼ç¬¬ä¸å±å¾åå¸§çç¼å·\n                conservatory.at(i).ids[frame->codes[i]].push_back(frame->id);\n            }\n        }\n\n        frames.push_back(frame);\n\n        return true;\n    }\n    else\n    {\n        delete frame;\n\n        return false;\n    }\n}\n\n\n// å¯¹äºè¾å¥çå¾åè¿è¡å¨å±çåç¯æ£æµï¼éè¿å¤æ­åä»¥åå­å¨çå¸§ç¼ç ç¸ä¼¼åº¦ï¼å¤æ­å½åå¸§æ¯å¦ä½ä¸ºå³é®å¸§\nEigen::Matrix4f Ferns::findFrame(std::vector<SurfaceConstraint> & constraints,\n                                 const Eigen::Matrix4f & currPose,\n                                 GPUTexture * vertexTexture,\n                                 GPUTexture * normalTexture,\n                                 GPUTexture * imageTexture,\n                                 const int time,\n                                 const bool lost)\n{\n    lastClosest = -1;\n\n    Img<Eigen::Matrix<unsigned char, 3, 1>> imgSmall(height, width);\n    Img<Eigen::Vector4f> vertSmall(height, width);\n    Img<Eigen::Vector4f> normSmall(height, width);\n\n    //å¯¹è¾å¥å¾åééæ · 8X8 å\n    resize.image(imageTexture, imgSmall);\n    resize.vertex(vertexTexture, vertSmall);\n    resize.vertex(normalTexture, normSmall);\n\n    Frame * frame = new Frame(num, 0, Eigen::Matrix4f::Identity(), 0, width * height);\n\n    int * coOccurrences = new int[frames.size()];\n\n    memset(coOccurrences, 0, sizeof(int) * frames.size());\n\n    for(int i = 0; i < num; i++)\n    {\n        unsigned char code = badCode;\n\n        if(vertSmall.at<Eigen::Vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) > 0)\n        {\n            const Eigen::Matrix<unsigned char, 3, 1> & pix = imgSmall.at<Eigen::Matrix<unsigned char, 3, 1>>(conservatory.at(i).pos(1), conservatory.at(i).pos(0));\n\n            //æå®åç´ ç¹å¤åç¼ç \n            code = (pix(0) > conservatory.at(i).rgbd(0)) << 3 |\n                   (pix(1) > conservatory.at(i).rgbd(1)) << 2 |\n                   (pix(2) > conservatory.at(i).rgbd(2)) << 1 |\n                   (int(vertSmall.at<Eigen::Vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) * 1000.0f) > conservatory.at(i).rgbd(3));\n\n            frame->goodCodes++;\n\n            // conservatory.at(i) è¡¨ç¤ºç¬¬ i ä¸ª fern æ»å±éæºéæ ·äº num ä¸ª\n            // conservatory.at(i).ids[code] è¡¨ç¤ºç¬¬ i ä¸ª fern ç¼ç å¼ä¸º code ç vector\n            // conservatory.at(i).ids[code].at(j) å¼è¡¨ç¤ºç¬¬ at(j) å¸§å¾å\n            for(size_t j = 0; j < conservatory.at(i).ids[code].size(); j++)\n            {\n                // coOccurrences[conservatory.at(i).ids[code].at(j)] è¡¨ç¤ºåç¬¬ conservatory.at(i).ids[code].at(j) å¸§å¾åçç¸ä¼¼åº¦\n                coOccurrences[conservatory.at(i).ids[code].at(j)]++;\n            }\n        }\n\n        frame->codes[i] = code;\n    }\n\n    float minimum = std::numeric_limits<float>::max();\n    int minId = -1;\n\n    //å¨ææå¸§ä¸­æ¾ç¸ä¼¼åº¦æå°çå¸§\n    for(size_t i = 0; i < frames.size(); i++)\n    {\n        float maxCo = std::min(frame->goodCodes, frames.at(i)->goodCodes);\n\n        float dissim = (float)(maxCo - coOccurrences[i]) / (float)maxCo;\n\n        if(dissim < minimum && time - frames.at(i)->srcTime > 300)\n        {\n            minimum = dissim;\n            minId = i;\n        }\n    }\n\n\n//æ ¹æ®å¾åçç¼ç è®¡ç®ä¸¤å¸§ä¹é´çç¸ä¼¼åº¦\nfloat Ferns::blockHDAware(const Frame * f1, const Frame * f2)\n{\n    int count = 0;\n    float val = 0;\n\n    for(int i = 0; i < num; i++)\n    {\n        if(f1->codes[i] != badCode && f2->codes[i] != badCode)\n        {\n            count++;\n\n            if(f1->codes[i] == f2->codes[i])\n            {\n                val += 1.0f;\n            }\n        }\n    }\n\n    return val / (float)count;\n}\n",normalizedContent:"# ç³»ç»æ¦è¿°\n\næä»¬éåä¸»æµçç¨ å¯slamç³»ç»é£æ ·tracking å mapping çç»æï¼ä¸»è¦ä½¿ç¨cudaæ¥å®ç°trackingé¨åï¼opengl shadingè¯­è¨æ¥å®ç°å°å¾é¢æµåç®¡çãæä»¬çæ¹æ³å¯ä»¥å®æ¶çä½¿ç¨æ åçrgb-dç¸æºæ¥ä¼°è®¡ä¸ä¸ªç¯å¢çç¨ å¯3då°å¾ï¼ä¸é¢ä¸ºæä»¬æ¹æ³çå³é®é¨åã\n\n>  1. åå°åèæç®9çå¯åï¼ æä»¬åºäºèåé¢åçæ¨¡åæ¥ä¼°è®¡ä¸ä¸ªç¯å¢ã\n> \n>  2. å½å¨æè¿ç»å¸¸è§å¯çåºåï¼active areaï¼è¿è¡è·è¸ªåæ°æ®èåæ¶ï¼å°è¶è¿Î´tæ¶é´æ²¡æè¢«è§å¯å°çåºåè½¬æinactive areaï¼ä¸è¿ä¸é¨åä¸ç¨æ¥è·è¸ªåæ°æ®èåã\n> \n>  3. æ¯ä¸å¸§é½å°è¯å°å½åä¼°è®¡çç¸æºå¸§åçæ´»å¨æ¨¡åé¨åä¸ä½äºåä¸å¸§åçéæ´»å¨æ¨¡åé¨åè¿è¡éåï¼å¦æéåæåï¼é£ä¹å½åå¸§å°±ä¸æ§çä¸æ´»è·çæ¨¡åå½¢æåç¯ï¼ç¶åæ´ä¸ªæ¨¡åå°ä¼éåæ§åæ¢ï¼è¿æ§çä¸æ´»è·çæ¨¡åå°éæ°æ¿æ´»ã\n> \n>  4. å¯¹äºå¨å±åç¯æ£æµï¼æ·»å åºæ¯çé¢æµè§å¾å°ä¸ä¸ªéæºæ°æ®åºä¸­ï¼æ¯ä¸å¸§é½éè¿è¿ä¸ªæ°æ®åºæ¥æ¾å¹éçé¢æµè§å¾ãå¦ææ£æµå°å¹éï¼å°è§å¾éåå°ä¸èµ·ï¼å¹¶æ£æ¥è¿ä¸æ¬¡éåæ¯å¦ä¸æ¨¡åçéåå½¢ç¶å¨å±ä¸è´ï¼å¦ææ¯ï¼å¨å°å¾ä¸­ç¨éåæ§åæ¢æ¥åæ è¿ä¸ªéåï¼å¹¶ä¸å°å®å¨å±å¯¹é½ã\n\n\n\nç¨æé¢è²çè¡¨é¢æ¥è¡¨ç¤ºæ´»è·çæ¨¡åï¼ç°è²åºåè¡¨ç¤ºéæ´»è·çæ¨¡åã\n\n 1.  åå§æ¶ï¼ææçæ°æ®é½æ¯æ´»è·æ¨¡åï¼å¹¶ä¸åå·¦æ¢ç´¢ï¼\n\n 2.  éçæ¶é´æ¨ç§»ï¼æè¿è§å¯ä¸å°çåºåè¢«è®¾ç½®ä¸ºéæ´»è·ç¶æï¼\n\n 3.  ç¸æºéæ°è§å¯å°äºä¹åéæ´»è·çåºåï¼å½¢æé­ç¯å¹¶ä¸éåè¡¨é¢ï¼ä¹åéæ´»è·çåºåéæ°æ¿æ´»ï¼\n\n 4.  ç¸æºç»§ç»­åå³æ¢ç´¢ï¼å½¢æäºæ´å¤çé­ç¯ï¼\n\n 5.  ç»§ç»­æ¢ç´¢æ°çåºåï¼\n\n 6.  ç¸æºéæ°è®¿é®å°éæ´»è·çåºåï¼ä½åºç°äºæ¼ç§»ï¼\n\n 7.  è¯´æå¾6çæ¼ç§»ä¸å¯¹é½ï¼è¿éççº¢è²ç®­å¤´æ¯æ´»è·åºåçç¹æåéæ´»è·åºåçç¹ï¼è¿ä¸¤ç¹æ¯ç­ä»·çï¼\n\n 8.  ä¸æ¬¡å¨å±é­ç¯è§¦åï¼å¯¹é½æ´»è·ä¸éæ´»è·æ¨¡åï¼\n\n 9.  ç»§ç»­åå³æ¢ç´¢ï¼å½¢ææ´å¤çå±é¨åç¯ï¼è·æ´å¤éæ´»è·åºåéæ°æ¿æ´»ï¼\n\n 10. æç»å¨é¨å°å¾çè²ï¼ï¼\n\n\n# èåé¢æµè·è¸ª\n\næä»¬çåºæ¯è¡¨ç¤ºæ¯ä¸ä¸ªæ åºåè¡¨çsurfels ms ï¼ï¼ä¸æç®9çè¡¨ç¤ºæ¹å¼ç±»ä¼¼ï¼\n\nç¹çä½ç½®ä¿¡æ¯æ³åéé¢è²ä¿¡æ¯æéé¢ççåå¾ç¹çè·åæ¶é´ä¿¡æ¯{pâr3,ç¹çä½ç½®ä¿¡æ¯nâr3,æ³åécân3,é¢è²ä¿¡æ¯(r,g,b)wâr,Â æérâr,Â Â é¢ççåå¾t,ç¹çè·åæ¶é´ä¿¡æ¯\n\nç¶èï¼å½ä½¿ç¨å°å¾è¿è¡å§¿æä¼°è®¡æ¶ï¼æä»¬çæ¹æ³æä¸¤ä¸ªä¸åä¹å¤\n\n1. ä¸æ¯ä»éè¿ç¨äºå ä½å¸§å°æ¨¡åè·è¸ªçç¢çæ¸²ææ¥é¢æµæ·±åº¦å¾ï¼æä»¬è¿é¢æµæ¨¡åé¢çå¨å½©è²ç¢çæ¸²æä»¥æ§è¡ååº¦å¸§å°æ¨¡åè·è¸ªï¼\n\n2. æä»¬å®ä¹äºä¸ä¸ªæ¶é´çªå£éå¼ Î´tï¼å®å° m ååä¸ºæ´»è·åä¸æ´»è·çé¢åã åªææ è®°ä¸ºæ´»å¨æ¨¡åé¢åçé¢åæç¨äºç¸æºå§¿æä¼°è®¡åæ·±åº¦å¾èåã å½ m ä¸­çä¸ä¸ªé¢åèªä¸æ¬¡æ´æ°ï¼å³å·æä¸å¶å³èçåå§æ·±åº¦æµéä»¥è¿è¡èåï¼ä»¥æ¥çæ¶é´å¤§äº Î´t æ¶ï¼è¯¥é¢åè¢«å£°æä¸ºéæ´»å¨ç¶æã\n\næä»¬æè¿°äºæä»¬çèåååº¦åå ä½å§¿æä¼°è®¡çæ¹æ³ï¼è¿äºæ¹æ³æ¥èªä¸ä¸ªçé¢åé¢æµã\n\næä»¬å®ä¹å¾çåæ¯Ïân2, æ·±åº¦å¾ï¼åç´ ï¼é¢è²...å¯¹æ¯ä¸å¼ æ·±åº¦å¾è®¡ç®æ³çº¿å¾ãp(u,d)=kâ1vd(u), væ¯uçé½æ¬¡å½¢å¼ï¼d(u)æ¯uçæ·±åº¦ãå¯¹äºæ¶é´tçæ¯ä¸ªè¾å¥å¸§ï¼æä»¬éè¿å½åå®æ¶è¾å¥çæ·±åº¦å¾åå½©è²å¾ï¼ä¸åä¸ä¸ªä½å§¿çæ´»è·æ¨¡åçé¢æµæ·±åº¦å¾åå½©è²å¾ï¼éåï¼æ¥ä¼°è®¡ç¸æºçä½å§¿ï¼è¿éçä½å§¿ç¨æç¾¤tæ¥è¡¨ç¤ºã\n\n\n# å ä½ä½å§¿ä¼°è®¡\n\nå¨å½åå®æ¶æ·±åº¦å¾dtl ä¸ æ¥èªæåä¸å¸§ dtâ1a çé¢æµçæ´»å¨æ·±åº¦å¾æ¨¡åä¹é´ï¼æä»¬æ¨å¨æ¾ä¸ä¸ªÎ¾ ä½¿å¾æå°åæå½±è¯¯å·®ã\n\neicp=âk((vkâexpâ¡(Î¾^)tvtk)ânk)2\n\nå¶ä¸­ï¼vtkæ¯å¨dtlä¸­ç¬¬kä¸ªé¡¶ç¹çç¸æºåæ ï¼vkånkæ¯ä¸ä¸æ¶å»å¯¹åºé¡¶ç¹çç¸æºåæ åæ³çº¿ãtæ¯ä»åä¸ä¸ªç¸æºä½å§¿å°å½åä½å§¿åæ¢çä¼°è®¡ï¼ï¼expâ¡(Î¾^)æ¯ä¸ä¸ªå¢éï¼ã\n\n\n# äº®åº¦ä½å§¿ä¼°è®¡\n\nå¨å½åå®æ¶çé¢è²å¾ctl å ä¸ä¸æ¶å» c^tâ1a çé¢æµæ´»è·é¢è²æ¨¡åä¹é´ï¼æä»¬æ¨å¨æ¾ä¸ä¸ªÎ¾ ä½¿å¾äº®åº¦è¯¯å·®æå°ã\n\nï¼ergb=âuâÏ(i(u,ctl)âi(Ï(kexpâ¡(Î¾^)tp(u,dtl)ï¼c^tâ1a)2\n\nè¿éç t åä¸ï¼æ³¨æè¿éç p å­å¨ç»´æ°çåæ¢ã\n\n\n# èåä¼å\n\netrack=eicp+wrgbergb\n\næä»¬ä½¿ç¨é«æ¯çé¡¿æ³éçº¿æ§æå°äºä¹æ³ ä¸ ä¸å±éå­å¡ æ¥ä¼åè¯¥ç®æ å½æ°ãä¸ºäºè§£å³æ¯æ¬¡è¿­ä»£ï¼æä»¬è®¡ç®æå°äºä¹è§£\n\nargminÎ¾âjÎ¾+râ2\n\näº§çæ¹è¿çç¸æºåæ¢ä¼°è®¡\n\ntâ²=expâ¡(Î¾^)tÎ¾^=[[w]Ãx0000]\n\nå¯ä»¥å¡«åç»åæµééåæ¯ç©éµ j åæ®å·® r çåï¼åæ¶æ ¹æ® wrgb è¿è¡å æï¼å¹¶ä½¿ç¨é«åº¦å¹¶è¡çæ ç¼©å cuda æ±è§£ä»¥çæ 6Ã6 æ³çº¿æ¹ç¨ç»ï¼ç¶åç± cholesky å¨ cpu ä¸åè§£å¾å° Î¾ ï¼è¿ä¸ªè¿ç¨çç»ææ¯ææ°çç¸æºä½å§¿ä¼°è®¡pt=tptâ1 ï¼å®ä½¿å¾å®æ¶ç¸æº dtl å ctl å½åæ´»è·æ¨¡åå¼ºå¯¹é½ã\n\n\n# åå½¢å¾\n\nä¸ºäºç¡®ä¿å°å¾ä¸­çå±é¨åå¨å±è¡¨é¢ä¸è´æ§ï¼æä»¬å¨é¢å m éåä¸­åæ äºæåçè¡¨é¢ç¯é­åï¼è¿æ¯éè¿é­ç¯æä¾çè¡¨é¢çº¦æå¯¹ææé¢åï¼æ´»è·åéæ´»è·ï¼è¿è¡éåæ§åæ¢ãæä»¬éç¨åµå¥åå½¢ææ¯çç©ºé´åå½¢æ¹æ³ã\n\nåå½¢å¾ç±åå¸å¨è¦åå½¢çæ¨¡åä¸­çä¸ç»èç¹åè¾¹ç»æãæ¯ä¸ªèç¹gnæï¼æ¶é´æ³gt0nï¼ä½ç½®ggnåä¸ç»é»å±èç¹n(gn)ï¼æ¾å°åæ¢grnågtnï¼æ¯ä¸ªèç¹çé»å±ææäºå¾çï¼æåï¼è¾¹ï¼ä¸è¬é»å±ä¸ªæ°ä¸º4ã\n\né¢åçåå½¢åçä½ç½®ç±ä¸å¼ç»åº\n\nm^ps=Ï(ms)=ânâi(ms,g)wn(ms)[grn(mpsâggn)+ggn+gtn]\n\né¢ååå½¢åçæ³çº¿ç±ä¸å¼ç»åº\n\nm^ns=ânâi(ms,g)wn(ms)grnâ1â¤mns\n\nå¶ä¸­ Ïn(ms) æ¯ä¸ä¸ªæ éï¼è¡¨ç¤ºèç¹gnå¯¹é¢åmsçå½±åï¼å½ n = k æ¶ï¼æ»åä¸º 1ã\n\nwn(ms)=(1ââmpsâggnâ2/dmax)2\n\nè¿édmax æ¯å°msç k + 1 - æè¿èç¹çæ¬§å éå¾è·ç¦»ã\n\nå¨ä¸æä¸­ï¼æä»¬æè¿°äºæä»¬ä»ä¸ç»é¢å m ä¸­éæ ·åå½¢å¾ gçæ¹æ³ä»¥åæä»¬ç¡®å®å¾è¿éæ§çæ¹æ³ã\n\n\n# æé \n\næ¯æ¬¡åå§åæ°ç deformation graphï¼æ¯æ¬¡åå§åæ°ç deformation graph è¦æ¯ä¿ææ´æ°åä¸ä¸ª graph è®¡ç®éå°èä¸è¿è¦ç®åå¯è¡ãåå§æ¶ï¼ä»é¢åä¸­ç³»ç»æ½æ ·ï¼åååå¸ï¼èç¹ï¼èç¹çä½ç½®åæ¶é´æ³ï¼é½ä¸ºé¢åçä½ç½®åæ¶é´æ³ã(åé¢çä¸æ)\n\n\n# åºç¨\n\nä¸ºäºåºç¨ä¼ååçåå½¢å¾ï¼å¨ä¸ä¸èä¸­è¯¦ç»è¯´æï¼æ¥æ´æ°å°å¾ï¼å¿é¡»ç¡®å®å½±åæ¯ä¸ªé¢åmsçèç¹éãç®æ³ 1 ä¸­ååºäºå®ç° i(m s , g) å¹¶å°åå½¢å¾ g åºç¨äºç»å®é¢åçç®æ³ãå½æ¯ä¸ªé¢ååå½¢æ¶ï¼ä¼å¨æ´ä¸ªåå½¢èç¹éåä¸­æç´¢æ¶é´ä¸æè¿çèç¹ãè¿ä¸ª l 1 -èæ°æå°åçè§£å³æ¹æ¡å®éä¸æ¯å¯¹éå g çäºåæç´¢ï¼å ä¸ºå®å·²ç»æ¯æåºçã ä»è¿éå¼å§ï¼æ¶éæ¶é´ä¸éè¿çå¶ä»èç¹ï¼å¹¶éæ©æè¿ç k ä¸ªèç¹ï¼å¨æ¬§å éå¾·è·ç¦»æä¹ä¸ï¼ä½ä¸º i(m s , g)ãæåï¼æ¯ä¸ªèç¹çæéæç§å¬å¼ 10 è®¡ç®ï¼å¹¶åºç¨å¬å¼ 8 å 9 çåæ¢ã æ´æ°åçé¢å m s çææå¶ä»å±æ§åä» m s å¤å¶ã\n\nç®æ³1æè¿°ä¸ºï¼\n\n>   \t1.  $\\alpha$ number of nodes to explore;\n>   \t2.  find closest node in time;\n>   \t3.  gather set of temporally nearby nodes $-\\alpha/2$  to  $\\alpha/2$ ;\n>   \t4.  take closest k as influencing nodes;\n>   \t5.  compute weights;\n>   \t6.  apply transformations.\n\n\n# ä¼å\n\nç»å®ä¸ç»è¡¨é¢å¯¹åº qï¼å¯ä»¥ä¼ååå½¢å¾çåæ°ä»¥åæ è¡¨é¢æ¨¡å m ä¸­çè¡¨é¢éåãä»¥ä¸å®ä¹åä¸ªæå¤±å½æ°\n\nç¬¬ä¸ä¸ªæå¤§ååå½¢ååº¦ï¼\n\nerot=âlâgrlâ¤grlâiâf2\n\nä½¿ç¨ frobenius èæ°ã ç¬¬äºä¸ªæ¯æ­£ååé¡¹ï¼å¯ç¡®ä¿æ´ä¸ªå¾çå¹³æ»åå½¢ï¼\n\neregÂ =âlânân(gl)âgrl(ggnâggl)+ggl+gtlâ(ggn+gtn)â22\n\nç¬¬ä¸ä¸ªæ¯æå°åä½ç½®çº¦æ q ä¸çè¯¯å·®ççº¦æé¡¹ï¼\n\necon=âpâÏ(qsp)âqdpâ22\n\nè¿äºè¡¨é¢å¯ä»¥å¤æ¬¡éè¿éåæ§åå½¢å¯¹é½ï¼ä»èå°æ°çæ°æ®èåå°å°å¾ä¸­å·²ç»è®¿é®è¿çåºåãæåçè¯¯å·®å½æ°ä¿è¯éæ´»è·åºååºå®ï¼å°æ´»è·åºååå½¢å°éæ´»è·åºåçåæ ç³»ä¸­ï¼\n\nepin=âpâÏ(qdp)âqdpâ22\n\næç»çæå¤±å½æ°ä¸ºï¼\n\nedef=wroterot+wregereg+wconecon+wconepin\n\næä»¬ä½¿ç¨é«æ¯çé¡¿æ³è¿­ä»£ç®è¯¯å·®å½æ°æå°çråtï¼è¿ä¸ªé®é¢çéåæ¯ç©éµæ¯ç¨ççï¼å æ­¤æä»¬ä½¿ç¨choleskyåè§£æ¥ä½¿ææå°è§£å³cpuç³»ç»ä¸çé®é¢ãè¿éåå½¢å¾ä½¿ç¨gpuæ¥è®¡ç®ï¼åºç¨å°æ´ä¸ªè¡¨é¢è´´å¾ã\n\n\n# å±é¨åç¯\n\nä¸ºäºç¡®ä¿æ´ä¸ªå°å¾çå±é¨è¡¨é¢ä¸è´æ§ï¼æä»¬çç³»ç»å¨éæ°è®¿é®è¿äºåºåæ¶ä¼å½¢æå¾å¤å°çåç¯ï¼æä»¬èåå°æ¨¡åçæ´»å¨åºåï¼åæ¶éæ¸å°ä¸æ®µæ¶é´åæªåºç°çé¢åæ è®°ä¸ºä¸æ´»å¨ãéæ´»è·åºåä¸åä¸è·è¸ªåèåè¿ç¨ï¼ç´å°å¨æ´»è·åºååéæ´»è·åºåå½¢æåç¯ï¼å¹éå°çéæ´»è·åºåä¸­çç¹è½¬åç§°æ´»è·ã\n\nå°å°å¾ä¸­çä¸ç»é¢ååä¸ºæ´»è·åºååéæ´»è·åºåï¼å¦æå¨å±åç¯æ£æµæ²¡ææ£æµå°ï¼é£ä¹å°±å°è¯è®¡ç®è¿ä¸¤ä¸ªåºåçå¹éåº¦ã\n\néªè¯è¿æ¬¡å¹éæ¯å¦æè´¨éï¼æåæ·»å ä¸ä¸ªæ¡ä»¶ï¼è¦è®©etrackè¶³å¤å°ï¼åæ¶è¿è¦æ£æ¥æµ·æ£®ç©éµçç¹å¾å¼è¦å°äºä¸ä¸ªéå¼ã\n\nå¦æå®ç°äºé«è´¨éçå¯¹é½ï¼æä»¬ä¼çæä¸ç»è¡¨é¢çº¦æqï¼å°ä»è¾å¥å°ä¸é¢ä¼åè¿ç¨ä¸­ï¼è¿è¡å¯¹é½ãæä»¬ååå°éæ ·ä¸ç»åç´ åæ  u â Ï æ¥è®¡ç®éå qãå¯¹äºæ¯ä¸ªåç´  u â u æä»¬å¡«åä¸ä¸ªçº¦æï¼\n\nqp=((hpt)p(u,dta);ptp(u,dta);tti(u);t)\n\nåå½¢åçåï¼æ°çææ°ç¸æºä½å§¿è§£æä¸º p t = hp t ãæ­¤æ¶ï¼ä½ä¸ºå¯¹é½ä¸é¨åçä¸ç»é¢åè¢«éæ°æ¿æ´»ï¼ä»¥åè®¸å®æ¶æåæºè·è¸ªå¹¶ä¸ç°æçæ´»å¨é¢åèåãæ´»å¨æ¨¡åæ·±åº¦çææ°é¢æµå¿é¡»æ¸²æä»¥åæ éæ´»å¨é¢çæ·±åº¦æµè¯çåå½¢ï¼ å¯¹äºæ¯ä¸ªé¢å m s ï¼\n\nmts={tÂ ifÂ Ï(kp^tâ1mps)âÏÂ andÂ (kp^tâ1mps)zâ²d~ta(Ï(kp^tâ1mps))mtsÂ else.Â \n\næ¬èä¸­æè¿°çè¿ç¨ä½¿æ¨¡åçæ´»å¨åºåä¸æ¨¡åçéæ´»å¨åºåç´§å¯å¯¹é½ï¼ä»¥å®ç°ç´§å¯çå±é¨è¡¨é¢ç¯é­åãæ´»å¨æ¨¡åä¸éæ´»å¨æ¨¡åæ¼ç§»å¤ªè¿ï¼å¯¼è´å±é¨å¯¹é½æ æ³æ¶æãæä»¬éç¨åºäºå¤è§çå¨å±é­ç¯æ¹æ³æ¥å¼å¯¼è¡¨é¢åå½¢å®å°æ´»å¨æ¨¡åä¸åºå±éæ´»å¨æ¨¡åéæ°å¯¹é½ï¼ä»¥è·å¾ç´§å¯çå¨å±é­ç¯åè¡¨é¢å¨å±ä¸è´æ§ã\n\n\n# å¨å±åç¯\n\næä»¬å©ç¨fernç¼ç æ¹æ³è¿è¡åºäºå¤è§çä½ç½®è¯å«ï¼ferns å° rgb-d å¾åç¼ç ä¸ºä¸ä¸²ä»£ç ï¼ç±ä¸ç»åºå®åç´ ä½ç½®ä¸­æ¯ä¸ª rgb-d ééçäºè¿å¶æµè¯å¼ç»æãåä¸é¢ä¸æ ·ï¼å¦æå¹éæåï¼æ·»å ä¸ç»è¡¨é¢çº¦æqä½ä¸ºåå½¢çè¾å¥ï¼å¶ä¸­uæ¯ä¸ä¸ªéæºéæ ·çfernç¼ç çåç´ ä½ç½®ï¼\n\nqp=((hepi)p(u,dta);ptp(u,dta);eti;t)\n\nè¿éçåç¯ä¹éè¦è¿è¡æ£éªeconï¼è¿éçåå½¢ä¸ä¿®æ¹æ´»è·åéæ´»è·é¢åç»ãæ­£ç¡®çå¨å±é­ç¯ä½¿å°å¾çæ´»å¨åéæ´»å¨åºåè¶³å¤æ¥è¿å¯¹é½ï¼ä»¥å¨ä¸ä¸å¸§è§¦åå±é¨é­ç¯ï¼å¹¶ä¸è¿åè®¸å°å¾ä»å¯è½ä¸æ­£ç¡®çå¨å±é­ç¯ä¸­æ¢å¤ãå¦æç¸æºè·è¸ªå¤±è´¥ï¼æä»¬è¿å¯ä»¥éæ©ä¾èµfernç¼ç æ°æ®åºè¿è¡å¨å±éæ°å®ä½ã\n\n\n# å¨å±åç¯ä»£ç é¨å\n\n// éæºåå§å ferns çä½ç½®ï¼åç´ ééåéå¼å¤§å°\nvoid ferns::generateferns()\n{\n    for(int i = 0; i < num; i++)\n    {\n        fern f;\n\n        //éæºåå§å fern çä½ç½®\n        f.pos(0) = widthdist(random);\n        f.pos(1) = heightdist(random);\n\n        // éæºåå§åæ¯ä¸ªééçéå¼\n        f.rgbd(0) = rgbdist(random);\n        f.rgbd(1) = rgbdist(random);\n        f.rgbd(2) = rgbdist(random);\n        f.rgbd(3) = ddist(random);\n\n        conservatory.push_back(f);\n    }\n}\n\n\n//æ°è¾å¥çå¸§åä»¥åå¸§è¿è¡æ¯è¾ï¼å¦æç¸ä¼¼åº¦å°äºä¸å®éå¼ï¼åå°å½åå¸§æå¥ä½ä¸ºåç¯æ£æµçå³é®å¸§\nbool ferns::addframe(gputexture * imagetexture, gputexture * vertextexture, gputexture * normaltexture, const eigen::matrix4f & pose, int srctime, const float threshold)\n{\n    img<eigen::matrix<unsigned char, 3, 1>> img(height, width);\n    img<eigen::vector4f> verts(height, width);\n    img<eigen::vector4f> norms(height, width);\n\n    resize.image(imagetexture, img);\n    resize.vertex(vertextexture, verts);\n    resize.vertex(normaltexture, norms);\n\n    frame * frame = new frame(num,\n                              frames.size(),\n                              pose,\n                              srctime,\n                              width * height,\n                              (unsigned char *)img.data,\n                              (eigen::vector4f *)verts.data,\n                              (eigen::vector4f *)norms.data);\n\n    int * cooccurrences = new int[frames.size()];\n\n    memset(cooccurrences, 0, sizeof(int) * frames.size());\n\n    for(int i = 0; i < num; i++)\n    {\n        unsigned char code = badcode;\n\n        if(verts.at<eigen::vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) > 0)\n        {\n            const eigen::matrix<unsigned char, 3, 1> & pix = img.at<eigen::matrix<unsigned char, 3, 1>>(conservatory.at(i).pos(1), conservatory.at(i).pos(0));\n\n            //éæºéååç´ ç¹å¤çç¼ç \n            code = (pix(0) > conservatory.at(i).rgbd(0)) << 3 |\n                   (pix(1) > conservatory.at(i).rgbd(1)) << 2 |\n                   (pix(2) > conservatory.at(i).rgbd(2)) << 1 |\n                   (int(verts.at<eigen::vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) * 1000.0f) > conservatory.at(i).rgbd(3));\n\n            frame->goodcodes++;\n\n            // è®¡ç®åä»¥åå­å¨å¸§ä¹é´çç¸ä¼¼åº¦\n            for(size_t j = 0; j < conservatory.at(i).ids[code].size(); j++)\n            {\n                cooccurrences[conservatory.at(i).ids[code].at(j)]++;\n            }\n        }\n\n        frame->codes[i] = code;\n    }\n\n    float minimum = std::numeric_limits<float>::max();\n\n    if(frame->goodcodes > 0)\n    {\n        for(size_t i = 0; i < frames.size(); i++)\n        {\n            float maxco = std::min(frame->goodcodes, frames.at(i)->goodcodes);\n\n            float dissim = (float)(maxco - cooccurrences[i]) / (float)maxco;\n\n            if(dissim < minimum)\n            {\n                minimum = dissim;\n            }\n        }\n    }\n\n    delete [] cooccurrences;\n\n    if((minimum > threshold || frames.size() == 0) && frame->goodcodes > 0)\n    {\n        for(int i = 0; i < num; i++)\n        {\n            if(frame->codes[i] != badcode)\n            {\n                //conservatory å­å¨å³ç³»ï¼ç¬¬ä¸å± fern çç¼å·ï¼ç¬¬äºå± code çç¼å·ï¼ç¬¬ä¸å±å¾åå¸§çç¼å·\n                conservatory.at(i).ids[frame->codes[i]].push_back(frame->id);\n            }\n        }\n\n        frames.push_back(frame);\n\n        return true;\n    }\n    else\n    {\n        delete frame;\n\n        return false;\n    }\n}\n\n\n// å¯¹äºè¾å¥çå¾åè¿è¡å¨å±çåç¯æ£æµï¼éè¿å¤æ­åä»¥åå­å¨çå¸§ç¼ç ç¸ä¼¼åº¦ï¼å¤æ­å½åå¸§æ¯å¦ä½ä¸ºå³é®å¸§\neigen::matrix4f ferns::findframe(std::vector<surfaceconstraint> & constraints,\n                                 const eigen::matrix4f & currpose,\n                                 gputexture * vertextexture,\n                                 gputexture * normaltexture,\n                                 gputexture * imagetexture,\n                                 const int time,\n                                 const bool lost)\n{\n    lastclosest = -1;\n\n    img<eigen::matrix<unsigned char, 3, 1>> imgsmall(height, width);\n    img<eigen::vector4f> vertsmall(height, width);\n    img<eigen::vector4f> normsmall(height, width);\n\n    //å¯¹è¾å¥å¾åééæ · 8x8 å\n    resize.image(imagetexture, imgsmall);\n    resize.vertex(vertextexture, vertsmall);\n    resize.vertex(normaltexture, normsmall);\n\n    frame * frame = new frame(num, 0, eigen::matrix4f::identity(), 0, width * height);\n\n    int * cooccurrences = new int[frames.size()];\n\n    memset(cooccurrences, 0, sizeof(int) * frames.size());\n\n    for(int i = 0; i < num; i++)\n    {\n        unsigned char code = badcode;\n\n        if(vertsmall.at<eigen::vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) > 0)\n        {\n            const eigen::matrix<unsigned char, 3, 1> & pix = imgsmall.at<eigen::matrix<unsigned char, 3, 1>>(conservatory.at(i).pos(1), conservatory.at(i).pos(0));\n\n            //æå®åç´ ç¹å¤åç¼ç \n            code = (pix(0) > conservatory.at(i).rgbd(0)) << 3 |\n                   (pix(1) > conservatory.at(i).rgbd(1)) << 2 |\n                   (pix(2) > conservatory.at(i).rgbd(2)) << 1 |\n                   (int(vertsmall.at<eigen::vector4f>(conservatory.at(i).pos(1), conservatory.at(i).pos(0))(2) * 1000.0f) > conservatory.at(i).rgbd(3));\n\n            frame->goodcodes++;\n\n            // conservatory.at(i) è¡¨ç¤ºç¬¬ i ä¸ª fern æ»å±éæºéæ ·äº num ä¸ª\n            // conservatory.at(i).ids[code] è¡¨ç¤ºç¬¬ i ä¸ª fern ç¼ç å¼ä¸º code ç vector\n            // conservatory.at(i).ids[code].at(j) å¼è¡¨ç¤ºç¬¬ at(j) å¸§å¾å\n            for(size_t j = 0; j < conservatory.at(i).ids[code].size(); j++)\n            {\n                // cooccurrences[conservatory.at(i).ids[code].at(j)] è¡¨ç¤ºåç¬¬ conservatory.at(i).ids[code].at(j) å¸§å¾åçç¸ä¼¼åº¦\n                cooccurrences[conservatory.at(i).ids[code].at(j)]++;\n            }\n        }\n\n        frame->codes[i] = code;\n    }\n\n    float minimum = std::numeric_limits<float>::max();\n    int minid = -1;\n\n    //å¨ææå¸§ä¸­æ¾ç¸ä¼¼åº¦æå°çå¸§\n    for(size_t i = 0; i < frames.size(); i++)\n    {\n        float maxco = std::min(frame->goodcodes, frames.at(i)->goodcodes);\n\n        float dissim = (float)(maxco - cooccurrences[i]) / (float)maxco;\n\n        if(dissim < minimum && time - frames.at(i)->srctime > 300)\n        {\n            minimum = dissim;\n            minid = i;\n        }\n    }\n\n\n//æ ¹æ®å¾åçç¼ç è®¡ç®ä¸¤å¸§ä¹é´çç¸ä¼¼åº¦\nfloat ferns::blockhdaware(const frame * f1, const frame * f2)\n{\n    int count = 0;\n    float val = 0;\n\n    for(int i = 0; i < num; i++)\n    {\n        if(f1->codes[i] != badcode && f2->codes[i] != badcode)\n        {\n            count++;\n\n            if(f1->codes[i] == f2->codes[i])\n            {\n                val += 1.0f;\n            }\n        }\n    }\n\n    return val / (float)count;\n}\n",charsets:{cjk:!0}},{title:"ä»£ç åæ",frontmatter:{title:"ä»£ç åæ",date:"2023-04-07T08:42:28.000Z",permalink:"/pages/3d257e/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/02.code.html",relativePath:"02.ç§ç /03.æçå·¥ä½/02.code.md",key:"v-76c0fdcc",path:"/pages/3d257e/",headers:[{level:2,title:"å¤å­å¾éå»ºç»æåå¹¶",slug:"å¤å­å¾éå»ºç»æåå¹¶",normalizedTitle:"å¤å­å¾éå»ºç»æåå¹¶",charIndex:2},{level:3,title:"åå¹¶æ¡æ¶",slug:"åå¹¶æ¡æ¶",normalizedTitle:"åå¹¶æ¡æ¶",charIndex:16},{level:3,title:"éç¨LO-RANSACè®¡ç®ç¸ä¼¼åæ¢",slug:"éç¨lo-ransacè®¡ç®ç¸ä¼¼åæ¢",normalizedTitle:"éç¨lo-ransacè®¡ç®ç¸ä¼¼åæ¢",charIndex:2239},{level:3,title:"è®¡ç®ä¸¤ä¸ªç¹äºçç¸ä¼¼åæ¢",slug:"è®¡ç®ä¸¤ä¸ªç¹äºçç¸ä¼¼åæ¢",normalizedTitle:"è®¡ç®ä¸¤ä¸ªç¹äºçç¸ä¼¼åæ¢",charIndex:4301},{level:3,title:"å·ä½èåæä½",slug:"å·ä½èåæä½",normalizedTitle:"å·ä½èåæä½",charIndex:4319},{level:2,title:"åºæ¯å¾ååæä½",slug:"åºæ¯å¾ååæä½",normalizedTitle:"åºæ¯å¾ååæä½",charIndex:7800}],headersStr:"å¤å­å¾éå»ºç»æåå¹¶ åå¹¶æ¡æ¶ éç¨LO-RANSACè®¡ç®ç¸ä¼¼åæ¢ è®¡ç®ä¸¤ä¸ªç¹äºçç¸ä¼¼åæ¢ å·ä½èåæä½ åºæ¯å¾ååæä½",content:"# å¤å­å¾éå»ºç»æåå¹¶\n\n\n# åå¹¶æ¡æ¶\n\nvoid MergeClusters(\n    const SceneClustering::Cluster& cluster,\n    std::unordered_map<const SceneClustering::Cluster*, ReconstructionManager>*\n        reconstruction_managers) {\n  // Extract all reconstructions from all child clusters.\n  std::vector<Reconstruction*> reconstructions;\n  for (const auto& child_cluster : cluster.child_clusters) {\n    if (!child_cluster.child_clusters.empty()) {\n      MergeClusters(child_cluster, reconstruction_managers);\n    }\n\n    auto& reconstruction_manager = reconstruction_managers->at(&child_cluster);\n    for (size_t i = 0; i < reconstruction_manager.Size(); ++i) {\n      reconstructions.push_back(&reconstruction_manager.Get(i));\n    }\n  }\n\n  // Try to merge all child cluster reconstruction.\n  while (reconstructions.size() > 1) {\n    bool merge_success = false;\n    for (size_t i = 0; i < reconstructions.size(); ++i) {\n      for (size_t j = 0; j < i; ++j) {\n        const double kMaxReprojError = 8.0;\n        if (reconstructions[i]->Merge(*reconstructions[j], kMaxReprojError)) {\n          reconstructions.erase(reconstructions.begin() + j);\n          merge_success = true;\n          break;\n        }\n      }\n\n      if (merge_success) {\n        break;\n      }\n    }\n\n    if (!merge_success) {\n      break;\n    }\n  }\n\n  // Insert a new reconstruction manager for merged cluster.\n  auto& reconstruction_manager = (*reconstruction_managers)[&cluster];\n  for (const auto& reconstruction : reconstructions) {\n    reconstruction_manager.Add();\n    reconstruction_manager.Get(reconstruction_manager.Size() - 1) =\n        *reconstruction;\n  }\n\n  // Delete all merged child cluster reconstruction managers.\n  for (const auto& child_cluster : cluster.child_clusters) {\n    reconstruction_managers->erase(&child_cluster);\n  }\n}\n\n\nè¯¥å½æ°å®ç°äºå°ä¸ä¸ªèç±»ä¸­çææå­èç±»çéå»ºç»æè¿è¡åå¹¶çåè½ãå·ä½å®ç°æ­¥éª¤å¦ä¸ï¼\n\n 1. éåææå­èç±»ï¼å°å­èç±»ä¸­çææéå»ºç»æå å¥å°ä¸ä¸ª vector ä¸­ã\n 2. å¯¹äº vector ä¸­çææéå»ºç»æï¼å°è¯è¿è¡åå¹¶ãåå¹¶çæ¡ä»¶æ¯éæå½±è¯¯å·®å°äºä¸ä¸ªéå¼ kMaxReprojErrorã\n 3. å¦ææååå¹¶äºä¸¤ä¸ªéå»ºç»æï¼åå°å¶ä¸­ä¸ä¸ªä» vector ä¸­å é¤ã\n 4. å°åå¹¶åçéå»ºç»æå å¥å°æ°çèç±»ä¸­ã\n 5. å é¤ææå·²ç»åå¹¶çå­èç±»çéå»ºç»æã\n\nè¯¥å½æ°ä½¿ç¨äºä¸ä¸ª unordered_map æ¥ä¿å­æ¯ä¸ªèç±»å¯¹åºç ReconstructionManagerãå¨éåå­èç±»æ¶ï¼éå½è°ç¨ MergeClusters å½æ°ï¼å°å­èç±»çéå»ºç»æå å¥å° unordered_map ä¸­ãå¨åå¹¶éå»ºç»ææ¶ï¼ä» unordered_map ä¸­è·åå¯¹åºç ReconstructionManagerãæåï¼å°åå¹¶åçéå»ºç»æåæ¬¡å å¥å° unordered_map ä¸­ï¼ä»¥ä¾¿åç»­çåå¹¶æä½ã\n\n\n# éç¨LO-RANSACè®¡ç®ç¸ä¼¼åæ¢\n\nbool ComputeAlignmentBetweenReconstructions(\n    const Reconstruction& src_reconstruction,\n    const Reconstruction& ref_reconstruction,\n    const double min_inlier_observations, const double max_reproj_error,\n    Eigen::Matrix3x4d* alignment) {\n  CHECK_GE(min_inlier_observations, 0.0);\n  CHECK_LE(min_inlier_observations, 1.0);\n\n  RANSACOptions ransac_options;\n  ransac_options.max_error = 1.0 - min_inlier_observations;\n  ransac_options.min_inlier_ratio = 0.2;\n\n  LORANSAC<ReconstructionAlignmentEstimator, ReconstructionAlignmentEstimator>\n      ransac(ransac_options);\n  ransac.estimator.SetMaxReprojError(max_reproj_error);\n  ransac.estimator.SetReconstructions(&src_reconstruction, &ref_reconstruction);\n  ransac.local_estimator.SetMaxReprojError(max_reproj_error);\n  ransac.local_estimator.SetReconstructions(&src_reconstruction,\n                                            &ref_reconstruction);\n\n  const auto& common_image_ids =\n      src_reconstruction.FindCommonRegImageIds(ref_reconstruction);\n\n  if (common_image_ids.size() < 3) {\n    return false;\n  }\n\n  std::vector<const Image*> src_images(common_image_ids.size());\n  std::vector<const Image*> ref_images(common_image_ids.size());\n  for (size_t i = 0; i < common_image_ids.size(); ++i) {\n    src_images[i] = &src_reconstruction.Image(common_image_ids[i]);\n    ref_images[i] = &ref_reconstruction.Image(common_image_ids[i]);\n  }\n\n  const auto report = ransac.Estimate(src_images, ref_images);\n\n  if (report.success) {\n    *alignment = report.model;\n  }\n\n  return report.success;\n}\n\n\nè¯¥å½æ°å®ç°äºè®¡ç®ä¸¤ä¸ªéå»ºç»æä¹é´çç¸å¯¹ä½å§¿çåè½ãå·ä½å®ç°æ­¥éª¤å¦ä¸ï¼\n\n 1. æ ¹æ®ä¸¤ä¸ªéå»ºç»æä¸­å±åè§æµå°çå¾åï¼æå»ºä¸¤ä¸ª vectorï¼åå«ä¿å­ä¸¤ä¸ªéå»ºç»æä¸­å¯¹åºç Image å¯¹è±¡ã\n 2. ä½¿ç¨ LORANSAC ç®æ³ï¼éè¿è¿äºå±åçå¾åæ¥è®¡ç®ä¸¤ä¸ªéå»ºç»æä¹é´çç¸å¯¹ä½å§¿ãå¶ä¸­ï¼ä½¿ç¨ ReconstructionAlignmentEstimator ç±»æ¥ä¼°è®¡ç¸å¯¹ä½å§¿ã\n 3. å¦æè®¡ç®æåï¼åå°è®¡ç®å¾å°çç¸å¯¹ä½å§¿ä¿å­å¨ alignment åæ°ä¸­ã\n\nè¯¥å½æ°ä½¿ç¨äº RANSACOptions ç»æä½æ¥è®¾ç½® LORANSAC ç®æ³çåæ°ï¼åæ¬æå¤§è¯¯å·®åæå°åç¹æ¯ä¾ãå¨è®¡ç®ç¸å¯¹ä½å§¿æ¶ï¼ä½¿ç¨äº ReconstructionAlignmentEstimator ç±»æ¥ä¼°è®¡ç¸å¯¹ä½å§¿ãè¯¥ç±»ä¸­å®ç°äºä¸ä¸ª ComputeError å½æ°ï¼ç¨äºè®¡ç®éå»ºç»æä¹é´çéæå½±è¯¯å·®ãå¦æéæå½±è¯¯å·®å°äºä¸ä¸ªéå¼ max_reproj_errorï¼åå°å¯¹åºçè§æµç¹è§ä¸ºåç¹ãå¨è®¡ç®ç¸å¯¹ä½å§¿æ¶ï¼ä½¿ç¨äºä¸¤ä¸ªéå»ºç»æä¸­å±åè§æµå°çå¾åãå¦æå±åå¾åçæ°éå°äº 3ï¼åæ æ³è®¡ç®ç¸å¯¹ä½å§¿ï¼è¿å falseã\n\n\n# è®¡ç®ä¸¤ä¸ªç¹äºçç¸ä¼¼åæ¢\n\n\n\n\n# å·ä½èåæä½\n\nbool Reconstruction::Merge(const Reconstruction& reconstruction,\n                           const double max_reproj_error) {\n  const double kMinInlierObservations = 0.3;\n\n  Eigen::Matrix3x4d alignment;\n  if (!ComputeAlignmentBetweenReconstructions(reconstruction, *this,\n                                              kMinInlierObservations,\n                                              max_reproj_error, &alignment)) {\n    return false;\n  }\n\n  const SimilarityTransform3 tform(alignment);\n\n  // Find common and missing images in the two reconstructions.\n\n  std::unordered_set<image_t> common_image_ids;\n  common_image_ids.reserve(reconstruction.NumRegImages());\n  std::unordered_set<image_t> missing_image_ids;\n  missing_image_ids.reserve(reconstruction.NumRegImages());\n\n  for (const auto& image_id : reconstruction.RegImageIds()) {\n    if (ExistsImage(image_id)) {\n      common_image_ids.insert(image_id);\n    } else {\n      missing_image_ids.insert(image_id);\n    }\n  }\n\n  // Register the missing images in this reconstruction.\n\n  for (const auto image_id : missing_image_ids) {\n    auto reg_image = reconstruction.Image(image_id);\n    reg_image.SetRegistered(false);\n    AddImage(reg_image);\n    RegisterImage(image_id);\n    if (!ExistsCamera(reg_image.CameraId())) {\n      AddCamera(reconstruction.Camera(reg_image.CameraId()));\n    }\n    auto& image = Image(image_id);\n    tform.TransformPose(&image.Qvec(), &image.Tvec());\n  }\n\n  // Merge the two point clouds using the following two rules:\n  //    - copy points to this reconstruction with non-conflicting tracks,\n  //      i.e. points that do not have an already triangulated observation\n  //      in this reconstruction.\n  //    - merge tracks that are unambiguous, i.e. only merge points in the two\n  //      reconstructions if they have a one-to-one mapping.\n  // Note that in both cases no cheirality or reprojection test is performed.\n\n  for (const auto& point3D : reconstruction.Points3D()) {\n    Track new_track;\n    Track old_track;\n    std::unordered_set<point3D_t> old_point3D_ids;\n    for (const auto& track_el : point3D.second.Track().Elements()) {\n      if (common_image_ids.count(track_el.image_id) > 0) {\n        const auto& point2D =\n            Image(track_el.image_id).Point2D(track_el.point2D_idx);\n        if (point2D.HasPoint3D()) {\n          old_track.AddElement(track_el);\n          old_point3D_ids.insert(point2D.Point3DId());\n        } else {\n          new_track.AddElement(track_el);\n        }\n      } else if (missing_image_ids.count(track_el.image_id) > 0) {\n        Image(track_el.image_id).ResetPoint3DForPoint2D(track_el.point2D_idx);\n        new_track.AddElement(track_el);\n      }\n    }\n\n    const bool create_new_point = new_track.Length() >= 2;\n    const bool merge_new_and_old_point =\n        (new_track.Length() + old_track.Length()) >= 2 &&\n        old_point3D_ids.size() == 1;\n    if (create_new_point || merge_new_and_old_point) {\n      Eigen::Vector3d xyz = point3D.second.XYZ();\n      tform.TransformPoint(&xyz);\n      const auto point3D_id =\n          AddPoint3D(xyz, new_track, point3D.second.Color());\n      if (old_point3D_ids.size() == 1) {\n        MergePoints3D(point3D_id, *old_point3D_ids.begin());\n      }\n    }\n  }\n\n  FilterPoints3DWithLargeReprojectionError(max_reproj_error, Point3DIds());\n\n  return true;\n}\n\n\nè¿æ®µä»£ç å®ç°äºä¸¤ä¸ªéå»ºç»æçåå¹¶æä½ãå·ä½æ¥è¯´ï¼å®é¦åè®¡ç®ä¸¤ä¸ªéå»ºç»æä¹é´çå¯¹é½åæ¢ï¼ç¶åå°ç¼ºå¤±çå¾ååç¹äºæ·»å å°å½åéå»ºç»æä¸­ãæ¥ä¸æ¥ï¼å®æ ¹æ®ä¸äºè§åå°ä¸¤ä¸ªç¹äºåå¹¶èµ·æ¥ï¼åæ¬å°æ²¡æå²çªè½¨è¿¹çç¹å¤å¶å°å½åéå»ºç»æä¸­ï¼ä»¥ååå¹¶é£äºå·æä¸å¯¹ä¸æ å°çç¹ãæåï¼å®ä½¿ç¨éæå½±è¯¯å·®è¿æ»¤æä¸äºéå»ºç¹ã\n\n\n# åºæ¯å¾ååæä½\n\ncppvoid SceneClustering::PartitionFlatCluster(\n    const std::vector<std::pair<int, int>>& edges,\n    const std::vector<int>& weights) {\n  CHECK_EQ(edges.size(), weights.size());\n\n  // Partition the cluster using a normalized cut on the scene graph.\n  const auto labels =\n      ComputeNormalizedMinGraphCut(edges, weights, options_.branching);\n\n  // Assign the images to the clustered child clusters.\n  root_cluster_->child_clusters.resize(options_.branching);\n  for (const auto image_id : root_cluster_->image_ids) {\n    if (labels.count(image_id)) {\n      auto& child_cluster =\n          root_cluster_->child_clusters.at(labels.at(image_id));\n      child_cluster.image_ids.push_back(image_id);\n    }\n  }\n\n  // Sort child clusters by descending size of images and secondarily by lowest\n  // image id.\n  std::sort(root_cluster_->child_clusters.begin(),\n            root_cluster_->child_clusters.end(),\n            [](const Cluster& first, const Cluster& second) {\n              return first.image_ids.size() >= second.image_ids.size() &&\n                     *std::min_element(first.image_ids.begin(),\n                                       first.image_ids.end()) <\n                         *std::min_element(second.image_ids.begin(),\n                                           second.image_ids.end());\n            });\n\n  // For each image find all related images with their weights\n  std::unordered_map<int, std::vector<std::pair<int, int>>> related_images;\n  for (size_t i = 0; i < edges.size(); ++i) {\n    related_images[edges[i].first].emplace_back(edges[i].second, weights[i]);\n    related_images[edges[i].second].emplace_back(edges[i].first, weights[i]);\n  }\n\n  // Sort related images by decreasing weights\n  for (auto& image : related_images) {\n    std::sort(image.second.begin(), image.second.end(),\n              [](const std::pair<int, int>& first,\n                 const std::pair<int, int>& second) {\n                return first.second > second.second;\n              });\n  }\n\n  // For each cluster add as many of the needed matching images up to\n  // the max image overal allowance\n  // We do the process sequentially for each image to ensure that at\n  // least we get the best matches firat\n  for (int i = 0; i < options_.branching; ++i) {\n    auto& orig_image_ids = root_cluster_->child_clusters[i].image_ids;\n    std::set<int> cluster_images(\n        root_cluster_->child_clusters[i].image_ids.begin(),\n        root_cluster_->child_clusters[i].image_ids.end());\n    const size_t max_size = cluster_images.size() + options_.image_overlap;\n    // check up to all the desired matches\n    for (size_t j = 0; j < static_cast<size_t>(options_.num_image_matches) &&\n                       cluster_images.size() < max_size;\n         ++j) {\n      for (const image_t image_id : orig_image_ids) {\n        const auto& images = related_images[image_id];\n        if (j >= images.size()) {\n          continue;\n        }\n        // image not exists in cluster so we add it in the overlap set\n        const int related_id = images[j].first;\n        if (cluster_images.count(related_id) == 0) {\n          cluster_images.insert(related_id);\n        }\n        if (cluster_images.size() >= max_size) {\n          break;\n        }\n      }\n    }\n    orig_image_ids.clear();\n    orig_image_ids.insert(orig_image_ids.end(), cluster_images.begin(),\n                          cluster_images.end());\n  }\n}\n\n\nè¿æ®µä»£ç å®ç°äºåºæ¯èç±»ä¸­çå­èç±»ååæä½ãå·ä½æ¥è¯´ï¼å®é¦åè°ç¨ ComputeNormalizedMinGraphCut å½æ°å¯¹åºæ¯å¾è¿è¡å½ä¸ååå²ï¼å¾å°æ¯ä¸ªå¾åæå±çå­èç±»æ ç­¾ãç¶åï¼å®å°æ¯ä¸ªå¾ååéç»å¯¹åºçå­èç±»ï¼å¹¶æç§å­èç±»ä¸­å¾åæ°éä»å¤§å°å°ãå¾å ID ä»å°å°å¤§çé¡ºåºå¯¹å­èç±»è¿è¡æåºãæ¥çï¼å®å¯¹æ¯ä¸ªå­èç±»ä¸­çå¾åè¿è¡å¹éï¼ä»¥ç¡®ä¿æ¯ä¸ªå­èç±»ä¸­çå¾åé½ä¸å¶ä»å­èç±»ä¸­çå¾åæä¸å®çéå ãå·ä½æ¥è¯´ï¼å®é¦åæ ¹æ®åºæ¯å¾ä¸­çè¾¹åæéæå»ºä¸ä¸ªå¾åä¹é´çå³ç³»å¾ï¼ç¶åå¯¹äºæ¯ä¸ªå­èç±»ï¼å®ä»è¯¥å­èç±»ä¸­çå¾ååºåï¼æç§å³ç³»å¾ä¸­çæéä»å¤§å°å°çé¡ºåºï¼ä¾æ¬¡æ·»å ä¸è¯¥å¾åæå³ç³»çå¶ä»å¾åï¼ç´å°è¯¥å­èç±»ä¸­çå¾åæ°éè¾¾å°ä¸å®çéå¼ãæåï¼å®å°æ¯ä¸ªå­èç±»ä¸­çå¾åéæ°èµå¼ç»å¯¹åºçå­èç±»ã",normalizedContent:"# å¤å­å¾éå»ºç»æåå¹¶\n\n\n# åå¹¶æ¡æ¶\n\nvoid mergeclusters(\n    const sceneclustering::cluster& cluster,\n    std::unordered_map<const sceneclustering::cluster*, reconstructionmanager>*\n        reconstruction_managers) {\n  // extract all reconstructions from all child clusters.\n  std::vector<reconstruction*> reconstructions;\n  for (const auto& child_cluster : cluster.child_clusters) {\n    if (!child_cluster.child_clusters.empty()) {\n      mergeclusters(child_cluster, reconstruction_managers);\n    }\n\n    auto& reconstruction_manager = reconstruction_managers->at(&child_cluster);\n    for (size_t i = 0; i < reconstruction_manager.size(); ++i) {\n      reconstructions.push_back(&reconstruction_manager.get(i));\n    }\n  }\n\n  // try to merge all child cluster reconstruction.\n  while (reconstructions.size() > 1) {\n    bool merge_success = false;\n    for (size_t i = 0; i < reconstructions.size(); ++i) {\n      for (size_t j = 0; j < i; ++j) {\n        const double kmaxreprojerror = 8.0;\n        if (reconstructions[i]->merge(*reconstructions[j], kmaxreprojerror)) {\n          reconstructions.erase(reconstructions.begin() + j);\n          merge_success = true;\n          break;\n        }\n      }\n\n      if (merge_success) {\n        break;\n      }\n    }\n\n    if (!merge_success) {\n      break;\n    }\n  }\n\n  // insert a new reconstruction manager for merged cluster.\n  auto& reconstruction_manager = (*reconstruction_managers)[&cluster];\n  for (const auto& reconstruction : reconstructions) {\n    reconstruction_manager.add();\n    reconstruction_manager.get(reconstruction_manager.size() - 1) =\n        *reconstruction;\n  }\n\n  // delete all merged child cluster reconstruction managers.\n  for (const auto& child_cluster : cluster.child_clusters) {\n    reconstruction_managers->erase(&child_cluster);\n  }\n}\n\n\nè¯¥å½æ°å®ç°äºå°ä¸ä¸ªèç±»ä¸­çææå­èç±»çéå»ºç»æè¿è¡åå¹¶çåè½ãå·ä½å®ç°æ­¥éª¤å¦ä¸ï¼\n\n 1. éåææå­èç±»ï¼å°å­èç±»ä¸­çææéå»ºç»æå å¥å°ä¸ä¸ª vector ä¸­ã\n 2. å¯¹äº vector ä¸­çææéå»ºç»æï¼å°è¯è¿è¡åå¹¶ãåå¹¶çæ¡ä»¶æ¯éæå½±è¯¯å·®å°äºä¸ä¸ªéå¼ kmaxreprojerrorã\n 3. å¦ææååå¹¶äºä¸¤ä¸ªéå»ºç»æï¼åå°å¶ä¸­ä¸ä¸ªä» vector ä¸­å é¤ã\n 4. å°åå¹¶åçéå»ºç»æå å¥å°æ°çèç±»ä¸­ã\n 5. å é¤ææå·²ç»åå¹¶çå­èç±»çéå»ºç»æã\n\nè¯¥å½æ°ä½¿ç¨äºä¸ä¸ª unordered_map æ¥ä¿å­æ¯ä¸ªèç±»å¯¹åºç reconstructionmanagerãå¨éåå­èç±»æ¶ï¼éå½è°ç¨ mergeclusters å½æ°ï¼å°å­èç±»çéå»ºç»æå å¥å° unordered_map ä¸­ãå¨åå¹¶éå»ºç»ææ¶ï¼ä» unordered_map ä¸­è·åå¯¹åºç reconstructionmanagerãæåï¼å°åå¹¶åçéå»ºç»æåæ¬¡å å¥å° unordered_map ä¸­ï¼ä»¥ä¾¿åç»­çåå¹¶æä½ã\n\n\n# éç¨lo-ransacè®¡ç®ç¸ä¼¼åæ¢\n\nbool computealignmentbetweenreconstructions(\n    const reconstruction& src_reconstruction,\n    const reconstruction& ref_reconstruction,\n    const double min_inlier_observations, const double max_reproj_error,\n    eigen::matrix3x4d* alignment) {\n  check_ge(min_inlier_observations, 0.0);\n  check_le(min_inlier_observations, 1.0);\n\n  ransacoptions ransac_options;\n  ransac_options.max_error = 1.0 - min_inlier_observations;\n  ransac_options.min_inlier_ratio = 0.2;\n\n  loransac<reconstructionalignmentestimator, reconstructionalignmentestimator>\n      ransac(ransac_options);\n  ransac.estimator.setmaxreprojerror(max_reproj_error);\n  ransac.estimator.setreconstructions(&src_reconstruction, &ref_reconstruction);\n  ransac.local_estimator.setmaxreprojerror(max_reproj_error);\n  ransac.local_estimator.setreconstructions(&src_reconstruction,\n                                            &ref_reconstruction);\n\n  const auto& common_image_ids =\n      src_reconstruction.findcommonregimageids(ref_reconstruction);\n\n  if (common_image_ids.size() < 3) {\n    return false;\n  }\n\n  std::vector<const image*> src_images(common_image_ids.size());\n  std::vector<const image*> ref_images(common_image_ids.size());\n  for (size_t i = 0; i < common_image_ids.size(); ++i) {\n    src_images[i] = &src_reconstruction.image(common_image_ids[i]);\n    ref_images[i] = &ref_reconstruction.image(common_image_ids[i]);\n  }\n\n  const auto report = ransac.estimate(src_images, ref_images);\n\n  if (report.success) {\n    *alignment = report.model;\n  }\n\n  return report.success;\n}\n\n\nè¯¥å½æ°å®ç°äºè®¡ç®ä¸¤ä¸ªéå»ºç»æä¹é´çç¸å¯¹ä½å§¿çåè½ãå·ä½å®ç°æ­¥éª¤å¦ä¸ï¼\n\n 1. æ ¹æ®ä¸¤ä¸ªéå»ºç»æä¸­å±åè§æµå°çå¾åï¼æå»ºä¸¤ä¸ª vectorï¼åå«ä¿å­ä¸¤ä¸ªéå»ºç»æä¸­å¯¹åºç image å¯¹è±¡ã\n 2. ä½¿ç¨ loransac ç®æ³ï¼éè¿è¿äºå±åçå¾åæ¥è®¡ç®ä¸¤ä¸ªéå»ºç»æä¹é´çç¸å¯¹ä½å§¿ãå¶ä¸­ï¼ä½¿ç¨ reconstructionalignmentestimator ç±»æ¥ä¼°è®¡ç¸å¯¹ä½å§¿ã\n 3. å¦æè®¡ç®æåï¼åå°è®¡ç®å¾å°çç¸å¯¹ä½å§¿ä¿å­å¨ alignment åæ°ä¸­ã\n\nè¯¥å½æ°ä½¿ç¨äº ransacoptions ç»æä½æ¥è®¾ç½® loransac ç®æ³çåæ°ï¼åæ¬æå¤§è¯¯å·®åæå°åç¹æ¯ä¾ãå¨è®¡ç®ç¸å¯¹ä½å§¿æ¶ï¼ä½¿ç¨äº reconstructionalignmentestimator ç±»æ¥ä¼°è®¡ç¸å¯¹ä½å§¿ãè¯¥ç±»ä¸­å®ç°äºä¸ä¸ª computeerror å½æ°ï¼ç¨äºè®¡ç®éå»ºç»æä¹é´çéæå½±è¯¯å·®ãå¦æéæå½±è¯¯å·®å°äºä¸ä¸ªéå¼ max_reproj_errorï¼åå°å¯¹åºçè§æµç¹è§ä¸ºåç¹ãå¨è®¡ç®ç¸å¯¹ä½å§¿æ¶ï¼ä½¿ç¨äºä¸¤ä¸ªéå»ºç»æä¸­å±åè§æµå°çå¾åãå¦æå±åå¾åçæ°éå°äº 3ï¼åæ æ³è®¡ç®ç¸å¯¹ä½å§¿ï¼è¿å falseã\n\n\n# è®¡ç®ä¸¤ä¸ªç¹äºçç¸ä¼¼åæ¢\n\n\n\n\n# å·ä½èåæä½\n\nbool reconstruction::merge(const reconstruction& reconstruction,\n                           const double max_reproj_error) {\n  const double kmininlierobservations = 0.3;\n\n  eigen::matrix3x4d alignment;\n  if (!computealignmentbetweenreconstructions(reconstruction, *this,\n                                              kmininlierobservations,\n                                              max_reproj_error, &alignment)) {\n    return false;\n  }\n\n  const similaritytransform3 tform(alignment);\n\n  // find common and missing images in the two reconstructions.\n\n  std::unordered_set<image_t> common_image_ids;\n  common_image_ids.reserve(reconstruction.numregimages());\n  std::unordered_set<image_t> missing_image_ids;\n  missing_image_ids.reserve(reconstruction.numregimages());\n\n  for (const auto& image_id : reconstruction.regimageids()) {\n    if (existsimage(image_id)) {\n      common_image_ids.insert(image_id);\n    } else {\n      missing_image_ids.insert(image_id);\n    }\n  }\n\n  // register the missing images in this reconstruction.\n\n  for (const auto image_id : missing_image_ids) {\n    auto reg_image = reconstruction.image(image_id);\n    reg_image.setregistered(false);\n    addimage(reg_image);\n    registerimage(image_id);\n    if (!existscamera(reg_image.cameraid())) {\n      addcamera(reconstruction.camera(reg_image.cameraid()));\n    }\n    auto& image = image(image_id);\n    tform.transformpose(&image.qvec(), &image.tvec());\n  }\n\n  // merge the two point clouds using the following two rules:\n  //    - copy points to this reconstruction with non-conflicting tracks,\n  //      i.e. points that do not have an already triangulated observation\n  //      in this reconstruction.\n  //    - merge tracks that are unambiguous, i.e. only merge points in the two\n  //      reconstructions if they have a one-to-one mapping.\n  // note that in both cases no cheirality or reprojection test is performed.\n\n  for (const auto& point3d : reconstruction.points3d()) {\n    track new_track;\n    track old_track;\n    std::unordered_set<point3d_t> old_point3d_ids;\n    for (const auto& track_el : point3d.second.track().elements()) {\n      if (common_image_ids.count(track_el.image_id) > 0) {\n        const auto& point2d =\n            image(track_el.image_id).point2d(track_el.point2d_idx);\n        if (point2d.haspoint3d()) {\n          old_track.addelement(track_el);\n          old_point3d_ids.insert(point2d.point3did());\n        } else {\n          new_track.addelement(track_el);\n        }\n      } else if (missing_image_ids.count(track_el.image_id) > 0) {\n        image(track_el.image_id).resetpoint3dforpoint2d(track_el.point2d_idx);\n        new_track.addelement(track_el);\n      }\n    }\n\n    const bool create_new_point = new_track.length() >= 2;\n    const bool merge_new_and_old_point =\n        (new_track.length() + old_track.length()) >= 2 &&\n        old_point3d_ids.size() == 1;\n    if (create_new_point || merge_new_and_old_point) {\n      eigen::vector3d xyz = point3d.second.xyz();\n      tform.transformpoint(&xyz);\n      const auto point3d_id =\n          addpoint3d(xyz, new_track, point3d.second.color());\n      if (old_point3d_ids.size() == 1) {\n        mergepoints3d(point3d_id, *old_point3d_ids.begin());\n      }\n    }\n  }\n\n  filterpoints3dwithlargereprojectionerror(max_reproj_error, point3dids());\n\n  return true;\n}\n\n\nè¿æ®µä»£ç å®ç°äºä¸¤ä¸ªéå»ºç»æçåå¹¶æä½ãå·ä½æ¥è¯´ï¼å®é¦åè®¡ç®ä¸¤ä¸ªéå»ºç»æä¹é´çå¯¹é½åæ¢ï¼ç¶åå°ç¼ºå¤±çå¾ååç¹äºæ·»å å°å½åéå»ºç»æä¸­ãæ¥ä¸æ¥ï¼å®æ ¹æ®ä¸äºè§åå°ä¸¤ä¸ªç¹äºåå¹¶èµ·æ¥ï¼åæ¬å°æ²¡æå²çªè½¨è¿¹çç¹å¤å¶å°å½åéå»ºç»æä¸­ï¼ä»¥ååå¹¶é£äºå·æä¸å¯¹ä¸æ å°çç¹ãæåï¼å®ä½¿ç¨éæå½±è¯¯å·®è¿æ»¤æä¸äºéå»ºç¹ã\n\n\n# åºæ¯å¾ååæä½\n\ncppvoid sceneclustering::partitionflatcluster(\n    const std::vector<std::pair<int, int>>& edges,\n    const std::vector<int>& weights) {\n  check_eq(edges.size(), weights.size());\n\n  // partition the cluster using a normalized cut on the scene graph.\n  const auto labels =\n      computenormalizedmingraphcut(edges, weights, options_.branching);\n\n  // assign the images to the clustered child clusters.\n  root_cluster_->child_clusters.resize(options_.branching);\n  for (const auto image_id : root_cluster_->image_ids) {\n    if (labels.count(image_id)) {\n      auto& child_cluster =\n          root_cluster_->child_clusters.at(labels.at(image_id));\n      child_cluster.image_ids.push_back(image_id);\n    }\n  }\n\n  // sort child clusters by descending size of images and secondarily by lowest\n  // image id.\n  std::sort(root_cluster_->child_clusters.begin(),\n            root_cluster_->child_clusters.end(),\n            [](const cluster& first, const cluster& second) {\n              return first.image_ids.size() >= second.image_ids.size() &&\n                     *std::min_element(first.image_ids.begin(),\n                                       first.image_ids.end()) <\n                         *std::min_element(second.image_ids.begin(),\n                                           second.image_ids.end());\n            });\n\n  // for each image find all related images with their weights\n  std::unordered_map<int, std::vector<std::pair<int, int>>> related_images;\n  for (size_t i = 0; i < edges.size(); ++i) {\n    related_images[edges[i].first].emplace_back(edges[i].second, weights[i]);\n    related_images[edges[i].second].emplace_back(edges[i].first, weights[i]);\n  }\n\n  // sort related images by decreasing weights\n  for (auto& image : related_images) {\n    std::sort(image.second.begin(), image.second.end(),\n              [](const std::pair<int, int>& first,\n                 const std::pair<int, int>& second) {\n                return first.second > second.second;\n              });\n  }\n\n  // for each cluster add as many of the needed matching images up to\n  // the max image overal allowance\n  // we do the process sequentially for each image to ensure that at\n  // least we get the best matches firat\n  for (int i = 0; i < options_.branching; ++i) {\n    auto& orig_image_ids = root_cluster_->child_clusters[i].image_ids;\n    std::set<int> cluster_images(\n        root_cluster_->child_clusters[i].image_ids.begin(),\n        root_cluster_->child_clusters[i].image_ids.end());\n    const size_t max_size = cluster_images.size() + options_.image_overlap;\n    // check up to all the desired matches\n    for (size_t j = 0; j < static_cast<size_t>(options_.num_image_matches) &&\n                       cluster_images.size() < max_size;\n         ++j) {\n      for (const image_t image_id : orig_image_ids) {\n        const auto& images = related_images[image_id];\n        if (j >= images.size()) {\n          continue;\n        }\n        // image not exists in cluster so we add it in the overlap set\n        const int related_id = images[j].first;\n        if (cluster_images.count(related_id) == 0) {\n          cluster_images.insert(related_id);\n        }\n        if (cluster_images.size() >= max_size) {\n          break;\n        }\n      }\n    }\n    orig_image_ids.clear();\n    orig_image_ids.insert(orig_image_ids.end(), cluster_images.begin(),\n                          cluster_images.end());\n  }\n}\n\n\nè¿æ®µä»£ç å®ç°äºåºæ¯èç±»ä¸­çå­èç±»ååæä½ãå·ä½æ¥è¯´ï¼å®é¦åè°ç¨ computenormalizedmingraphcut å½æ°å¯¹åºæ¯å¾è¿è¡å½ä¸ååå²ï¼å¾å°æ¯ä¸ªå¾åæå±çå­èç±»æ ç­¾ãç¶åï¼å®å°æ¯ä¸ªå¾ååéç»å¯¹åºçå­èç±»ï¼å¹¶æç§å­èç±»ä¸­å¾åæ°éä»å¤§å°å°ãå¾å id ä»å°å°å¤§çé¡ºåºå¯¹å­èç±»è¿è¡æåºãæ¥çï¼å®å¯¹æ¯ä¸ªå­èç±»ä¸­çå¾åè¿è¡å¹éï¼ä»¥ç¡®ä¿æ¯ä¸ªå­èç±»ä¸­çå¾åé½ä¸å¶ä»å­èç±»ä¸­çå¾åæä¸å®çéå ãå·ä½æ¥è¯´ï¼å®é¦åæ ¹æ®åºæ¯å¾ä¸­çè¾¹åæéæå»ºä¸ä¸ªå¾åä¹é´çå³ç³»å¾ï¼ç¶åå¯¹äºæ¯ä¸ªå­èç±»ï¼å®ä»è¯¥å­èç±»ä¸­çå¾ååºåï¼æç§å³ç³»å¾ä¸­çæéä»å¤§å°å°çé¡ºåºï¼ä¾æ¬¡æ·»å ä¸è¯¥å¾åæå³ç³»çå¶ä»å¾åï¼ç´å°è¯¥å­èç±»ä¸­çå¾åæ°éè¾¾å°ä¸å®çéå¼ãæåï¼å®å°æ¯ä¸ªå­èç±»ä¸­çå¾åéæ°èµå¼ç»å¯¹åºçå­èç±»ã",charsets:{cjk:!0}},{title:"Hybrid SfM",frontmatter:{title:"Hybrid SfM",date:"2023-04-12T09:51:49.000Z",permalink:"/pages/8f3964/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/10.hybrid.html",relativePath:"02.ç§ç /03.æçå·¥ä½/10.hybrid.md",key:"v-015ece1a",path:"/pages/8f3964/",headers:[{level:2,title:"ä¸äºç»¼è¿°",slug:"ä¸äºç»¼è¿°",normalizedTitle:"ä¸äºç»¼è¿°",charIndex:2},{level:2,title:"AdaSfM",slug:"adasfm",normalizedTitle:"adasfm",charIndex:643},{level:2,title:"Graph SfM",slug:"graph-sfm",normalizedTitle:"graph sfm",charIndex:965}],headersStr:"ä¸äºç»¼è¿° AdaSfM Graph SfM",content:"# ä¸äºç»¼è¿°\n\n37 Hsfm: Hybrid structure-from-motion 2017 CVPR\n\néè¿RAè·åæè½¬ï¼ç¶åéç¨P2Pæ¹å¼éæ­¥éåç¸æºä¸­å¿\n\n16 Divide and conquer: Efficient large-scale structure from motion using graph partitioning 2014 ACCV\n\néè¿å¾åçç¸ä¼¼æ§åæ°æå»ºåºæ¯å¾ï¼ç¶åå¹¶è¡æ§è¡ç¹å¾å¹éåå±é¨SfMï¼åå¹¶å±é¨éå»º\n\n18 Parallel structure from motion from local increment to global averaging 2017\n\n19 Very large-scale global SfM by distributed motion averaging 2018 CVPR\n\n17 Graph-based parallel large scale structure from motio 2020 PR\n\nåç°æå°åçææ MSTæ¥è§£å³æåçåå¹¶æä½\n\n38 Progressive structure from motion 2018 ECCV\n\nåéç¨åæ²»æ³ä¹åï¼éè¿RAè¿æ»¤äºéè¯¯çå¯¹æå ä½\n\n39 Vio-aided structure from motion under challenging environments 2021 ICIT\n\néç¨VINSè¿è¡åç¯æ£æµä¸ç«æ­£\n\n\n# AdaSfM\n\nååºåå\n\nååºä¹é´çéå åºåè¾å°\n\nç°å­çæ¹æ³ä½¿ç¨å¾å²åæ©å±çæ¨¡å¼ï¼å¨ååºä¹é´åå»ºéå åºåï¼æä¸¤ä¸ªç¼ºç¹\n\n\n\n * å½è¯å¾åå¾å¤ªç¨çæ¶ï¼éå åºåä¸è¶³ä»¥è¿è¡æç»åå¹¶\n * å¾å²çæ¹å¼å¾åäºåç¦»é£äºå¼±çº¦æçè¾¹ï¼ä½éå åºåä¹æ¯åå³äºå¼±çº¦æçè¾¹\n\nååºåå¹¶\n\nååºåå¹¶æ¶ï¼å¯¹å¼å¸¸å¼ä¸é²æ£ï¼ä»¥åå¨æ ·æ¬æ°éä¸è¶³æ¶ï¼ä¼°è®¡çç¸ä¼¼åæ¢ä¸åç¡®\n\nAdaSfM: From Coarse Global to Fine Incremental Adaptive Structure from Motion\n\nè§£å³é®é¢ååºååï¼éè¿æ©å±åéç¬¦ï¼stååºä¹é´çéå åºåå¢å ï¼è¾¾å°ä¸ä¸ªéå¼åï¼ååæ­¢æ©å±ã\n\nè§£å³é®é¢ååºåå¹¶ï¼å¨æè®¾å®åç¹ççéå¼\n\n\n# Graph SfM\n\nä¸æ ·çï¼éç¨å¾å²çæ¹å¼è¿è¡ååï¼ç»¿è²èç¹çè¾¹ä»£è¡¨å¼±è¾¹ï¼çº¢è²æ¯åå²çº¿\n\n\n\nåå²å®ä¹åï¼æå­å¾å½æä¸ä¸ªèç¹ï¼å æçè¾¹ä½ä¸ºæ°çè¾¹ï¼åæ¬¡å°ä»ä»¬è¿æ¥èµ·æ¥\n\n\n\nå¯¹è¿ä¸ªæ°çå¾çææå¤§çææ \n\n\n\nåå¯¹æå¤§çææ è¿è¡æ©å±ä¸äºè¾¹\n\n",normalizedContent:"# ä¸äºç»¼è¿°\n\n37 hsfm: hybrid structure-from-motion 2017 cvpr\n\néè¿raè·åæè½¬ï¼ç¶åéç¨p2pæ¹å¼éæ­¥éåç¸æºä¸­å¿\n\n16 divide and conquer: efficient large-scale structure from motion using graph partitioning 2014 accv\n\néè¿å¾åçç¸ä¼¼æ§åæ°æå»ºåºæ¯å¾ï¼ç¶åå¹¶è¡æ§è¡ç¹å¾å¹éåå±é¨sfmï¼åå¹¶å±é¨éå»º\n\n18 parallel structure from motion from local increment to global averaging 2017\n\n19 very large-scale global sfm by distributed motion averaging 2018 cvpr\n\n17 graph-based parallel large scale structure from motio 2020 pr\n\nåç°æå°åçææ mstæ¥è§£å³æåçåå¹¶æä½\n\n38 progressive structure from motion 2018 eccv\n\nåéç¨åæ²»æ³ä¹åï¼éè¿raè¿æ»¤äºéè¯¯çå¯¹æå ä½\n\n39 vio-aided structure from motion under challenging environments 2021 icit\n\néç¨vinsè¿è¡åç¯æ£æµä¸ç«æ­£\n\n\n# adasfm\n\nååºåå\n\nååºä¹é´çéå åºåè¾å°\n\nç°å­çæ¹æ³ä½¿ç¨å¾å²åæ©å±çæ¨¡å¼ï¼å¨ååºä¹é´åå»ºéå åºåï¼æä¸¤ä¸ªç¼ºç¹\n\n\n\n * å½è¯å¾åå¾å¤ªç¨çæ¶ï¼éå åºåä¸è¶³ä»¥è¿è¡æç»åå¹¶\n * å¾å²çæ¹å¼å¾åäºåç¦»é£äºå¼±çº¦æçè¾¹ï¼ä½éå åºåä¹æ¯åå³äºå¼±çº¦æçè¾¹\n\nååºåå¹¶\n\nååºåå¹¶æ¶ï¼å¯¹å¼å¸¸å¼ä¸é²æ£ï¼ä»¥åå¨æ ·æ¬æ°éä¸è¶³æ¶ï¼ä¼°è®¡çç¸ä¼¼åæ¢ä¸åç¡®\n\nadasfm: from coarse global to fine incremental adaptive structure from motion\n\nè§£å³é®é¢ååºååï¼éè¿æ©å±åéç¬¦ï¼stååºä¹é´çéå åºåå¢å ï¼è¾¾å°ä¸ä¸ªéå¼åï¼ååæ­¢æ©å±ã\n\nè§£å³é®é¢ååºåå¹¶ï¼å¨æè®¾å®åç¹ççéå¼\n\n\n# graph sfm\n\nä¸æ ·çï¼éç¨å¾å²çæ¹å¼è¿è¡ååï¼ç»¿è²èç¹çè¾¹ä»£è¡¨å¼±è¾¹ï¼çº¢è²æ¯åå²çº¿\n\n\n\nåå²å®ä¹åï¼æå­å¾å½æä¸ä¸ªèç¹ï¼å æçè¾¹ä½ä¸ºæ°çè¾¹ï¼åæ¬¡å°ä»ä»¬è¿æ¥èµ·æ¥\n\n\n\nå¯¹è¿ä¸ªæ°çå¾çææå¤§çææ \n\n\n\nåå¯¹æå¤§çææ è¿è¡æ©å±ä¸äºè¾¹\n\n",charsets:{cjk:!0}},{title:"hierarchical",frontmatter:{title:"hierarchical",date:"2023-02-01T12:47:36.000Z",permalink:"/pages/c06b1c/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/01.one.html",relativePath:"02.ç§ç /03.æçå·¥ä½/01.one.md",key:"v-5913e204",path:"/pages/c06b1c/",headers:[{level:2,title:"åæ­¥æ³æ³",slug:"åæ­¥æ³æ³",normalizedTitle:"åæ­¥æ³æ³",charIndex:2},{level:2,title:"åå¹¶æè·¯",slug:"åå¹¶æè·¯",normalizedTitle:"åå¹¶æè·¯",charIndex:109},{level:3,title:"RANSACç®æ³æ­¥éª¤",slug:"ransacç®æ³æ­¥éª¤",normalizedTitle:"ransacç®æ³æ­¥éª¤",charIndex:118},{level:3,title:"LO-RANSAC",slug:"lo-ransac",normalizedTitle:"lo-ransac",charIndex:228},{level:2,title:"å¯¹æ¯",slug:"å¯¹æ¯",normalizedTitle:"å¯¹æ¯",charIndex:425},{level:4,title:"An Efficient and Robust Hybrid SfM Method for Large-Scale Scenes",slug:"an-efficient-and-robust-hybrid-sfm-method-for-large-scale-scenes",normalizedTitle:"an efficient and robust hybrid sfm method for large-scale scenes",charIndex:431}],headersStr:"åæ­¥æ³æ³ åå¹¶æè·¯ RANSACç®æ³æ­¥éª¤ LO-RANSAC å¯¹æ¯ An Efficient and Robust Hybrid SfM Method for Large-Scale Scenes",content:"# åæ­¥æ³æ³\n\n 1. è¯»åcolmapçdatabaseï¼æ§è¡scene_clusteringåå²åºæ¯ï¼è¾¹çå¨éä¸ºå¹éçåç¹æ°éï¼éç¨æå°å²ç®æ³ã\n 2. æ¯ä¸ä¸ªå¶å­èç¹å¤çº¿ç¨æ§è¡å¢ééå»ºã\n 3. åå¹¶ã\n\n\n# åå¹¶æè·¯\n\n\n# RANSACç®æ³æ­¥éª¤\n\n 1. ä»æææ°æ®ä¸­éæ ·nä¸ªç¹ï¼nä¸ªç¹æ¯ä¼°è®¡æ¨¡åçæå°ç¹æ°ï¼\n 2. ä»éæ ·åºçnä¸ªç¹è®¡ç®åºæ¨¡åï¼\n 3. éè¿æ¨¡åæ¥ç¡®å®æææ°æ®çåç¹ï¼å½åç¹çè¾¾å°æå®å¼ï¼ç®æ³ç»æ­¢ãå¦åç»§ç»­ä¸è¿°è¿ç¨ã\n\n\n# LO-RANSAC\n\n\n\n 1. 1~3åä¸ï¼\n 2. å¦æè¿æ¬¡è®¡ç®åºçåç¹æ¯ä»¥åæä¸æ¬¡è®¡ç®åºçåç¹æ°å¤ï¼é£ä¹å°±æ§è¡Local Optimization.\n\n\n\nå±é¨ä¼åæ­¥éª¤ï¼\n\nä»ä¸ä¸æ­¥çRANSACä¼°è®¡çåç¹ä¸­ï¼éååºåç¹ï¼ä½¿ç¨çº¿æ§æå°äºä¹æ³ä¼°è®¡æ¨¡åMisã\n\n\n\nå¨Misåºç¡ä¸ï¼åè¿è¡itersæ¬¡è¿­ä»£æ±è§£å¾å°Mrï¼æ¯æ¬¡è¿­ä»£éä½éå¼Î¸ã\n\næååææçMisï¼Mrï¼Mä¸­æå¥½çã\n\n\n# å¯¹æ¯\n\n# An Efficient and Robust Hybrid SfM Method for Large-Scale Scenes\n\nååé®é¢\n\n * åºæ¯ååé¶æ®µï¼å­ç°èç±»åï¼å­ç°åå¾åçç©ºé´åå¸è¾ä¸ºæ¾æ£ãå­ç°æ©å®¹æ¶ï¼æ©å®¹å¾åæçä½ï¼æ²¡æèèå­ç°ä¹é´çè¿éæ§ã\n * å­ç°åå¹¶é¶æ®µï¼ç±äºåå¹¶è·¯å¾è¾é¿ï¼ç°ææ¹æ³å®¹æé æè¯¯å·®ç´¯ç§¯ï¼å¯¼è´æ´ä¸ªåºæ¯ç¨çéå»ºå¤±è´¥ã\n\næ¹è¿\n\n * é¦åï¼æå»ºäºå­ç°é´å¤å ç´ èååºæ¯ååæµåº¦åé¢åéå¹³è¡¡å¾åæ©å±ç®æ³ï¼ææè§£å³äºå­ç°åå¾åç©ºé´åå¸æ¾æ£çé®é¢ï¼æé«äºå­ç°é´çè¿æ¥åº¦ã\n * å¶æ¬¡ï¼ä½¿ç¨å¨å±GlobalACSfMæ¹æ³å¨éç¾¤å¹¶è¡æ¡æ¶ä¸å®æå­éç¾¤çå±é¨ç¨çéæã\n * ç¶åï¼æåºäºä¸ç§èèå­ç°è¿éæ§çåæ£å¨æåå¹¶è§åï¼ä»¥å®ç°å­ç°ä¹é´çé²æ£åå¹¶ã\n * æåï¼ä½¿ç¨å¬å±æ°æ®éåå¾ææå½±æ°æ®éè¿è¡å®éªéªè¯ã",normalizedContent:"# åæ­¥æ³æ³\n\n 1. è¯»åcolmapçdatabaseï¼æ§è¡scene_clusteringåå²åºæ¯ï¼è¾¹çå¨éä¸ºå¹éçåç¹æ°éï¼éç¨æå°å²ç®æ³ã\n 2. æ¯ä¸ä¸ªå¶å­èç¹å¤çº¿ç¨æ§è¡å¢ééå»ºã\n 3. åå¹¶ã\n\n\n# åå¹¶æè·¯\n\n\n# ransacç®æ³æ­¥éª¤\n\n 1. ä»æææ°æ®ä¸­éæ ·nä¸ªç¹ï¼nä¸ªç¹æ¯ä¼°è®¡æ¨¡åçæå°ç¹æ°ï¼\n 2. ä»éæ ·åºçnä¸ªç¹è®¡ç®åºæ¨¡åï¼\n 3. éè¿æ¨¡åæ¥ç¡®å®æææ°æ®çåç¹ï¼å½åç¹çè¾¾å°æå®å¼ï¼ç®æ³ç»æ­¢ãå¦åç»§ç»­ä¸è¿°è¿ç¨ã\n\n\n# lo-ransac\n\n\n\n 1. 1~3åä¸ï¼\n 2. å¦æè¿æ¬¡è®¡ç®åºçåç¹æ¯ä»¥åæä¸æ¬¡è®¡ç®åºçåç¹æ°å¤ï¼é£ä¹å°±æ§è¡local optimization.\n\n\n\nå±é¨ä¼åæ­¥éª¤ï¼\n\nä»ä¸ä¸æ­¥çransacä¼°è®¡çåç¹ä¸­ï¼éååºåç¹ï¼ä½¿ç¨çº¿æ§æå°äºä¹æ³ä¼°è®¡æ¨¡åmisã\n\n\n\nå¨misåºç¡ä¸ï¼åè¿è¡itersæ¬¡è¿­ä»£æ±è§£å¾å°mrï¼æ¯æ¬¡è¿­ä»£éä½éå¼Î¸ã\n\næååææçmisï¼mrï¼mä¸­æå¥½çã\n\n\n# å¯¹æ¯\n\n# an efficient and robust hybrid sfm method for large-scale scenes\n\nååé®é¢\n\n * åºæ¯ååé¶æ®µï¼å­ç°èç±»åï¼å­ç°åå¾åçç©ºé´åå¸è¾ä¸ºæ¾æ£ãå­ç°æ©å®¹æ¶ï¼æ©å®¹å¾åæçä½ï¼æ²¡æèèå­ç°ä¹é´çè¿éæ§ã\n * å­ç°åå¹¶é¶æ®µï¼ç±äºåå¹¶è·¯å¾è¾é¿ï¼ç°ææ¹æ³å®¹æé æè¯¯å·®ç´¯ç§¯ï¼å¯¼è´æ´ä¸ªåºæ¯ç¨çéå»ºå¤±è´¥ã\n\næ¹è¿\n\n * é¦åï¼æå»ºäºå­ç°é´å¤å ç´ èååºæ¯ååæµåº¦åé¢åéå¹³è¡¡å¾åæ©å±ç®æ³ï¼ææè§£å³äºå­ç°åå¾åç©ºé´åå¸æ¾æ£çé®é¢ï¼æé«äºå­ç°é´çè¿æ¥åº¦ã\n * å¶æ¬¡ï¼ä½¿ç¨å¨å±globalacsfmæ¹æ³å¨éç¾¤å¹¶è¡æ¡æ¶ä¸å®æå­éç¾¤çå±é¨ç¨çéæã\n * ç¶åï¼æåºäºä¸ç§èèå­ç°è¿éæ§çåæ£å¨æåå¹¶è§åï¼ä»¥å®ç°å­ç°ä¹é´çé²æ£åå¹¶ã\n * æåï¼ä½¿ç¨å¬å±æ°æ®éåå¾ææå½±æ°æ®éè¿è¡å®éªéªè¯ã",charsets:{cjk:!0}},{title:"å®éªé¨å",frontmatter:{title:"å®éªé¨å",date:"2023-04-14T15:36:51.000Z",permalink:"/pages/a2edb6/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/15.%E5%AE%9E%E9%AA%8C.html",relativePath:"02.ç§ç /03.æçå·¥ä½/15.å®éª.md",key:"v-8f96befe",path:"/pages/a2edb6/",headersStr:null,content:"# ç»ä¸ä½¿ç¨colmapæ¥çæ¨¡å\nå¯¼å¥txtæä»¶å¤¹\n\n# ç»è®¡ä¿¡æ¯ï¼éåçå¾åï¼ä¼°è®¡çç¹æ°ï¼å¹³åéæå½±è¯¯å·®\ncolmap model_analyzer --path txtæä»¶å¤¹\n\n\n# theiaSfM\n# å°theiaçæçæ¨¡åè½¬æ¢æcolmapæ ¼å¼è¿è¡æ¥ç\n./export_colmap_files --output_folder=è¾åºæä»¶å¤¹ --input_reconstruction_file=theiaæ¨¡å\n\n# theiaæ¨¡åçç»è®¡ä¿¡æ¯\n./compute_reconstruction_statistics --reconstruction=theiaæ¨¡å --logtostderr\n\n\n\n",normalizedContent:"# ç»ä¸ä½¿ç¨colmapæ¥çæ¨¡å\nå¯¼å¥txtæä»¶å¤¹\n\n# ç»è®¡ä¿¡æ¯ï¼éåçå¾åï¼ä¼°è®¡çç¹æ°ï¼å¹³åéæå½±è¯¯å·®\ncolmap model_analyzer --path txtæä»¶å¤¹\n\n\n# theiasfm\n# å°theiaçæçæ¨¡åè½¬æ¢æcolmapæ ¼å¼è¿è¡æ¥ç\n./export_colmap_files --output_folder=è¾åºæä»¶å¤¹ --input_reconstruction_file=theiaæ¨¡å\n\n# theiaæ¨¡åçç»è®¡ä¿¡æ¯\n./compute_reconstruction_statistics --reconstruction=theiaæ¨¡å --logtostderr\n\n\n\n",charsets:{cjk:!0}},{title:"KeyFrame",frontmatter:{title:"KeyFrame",date:"2023-05-10T15:41:39.000Z",permalink:"/pages/03900a/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/30.two.html",relativePath:"02.ç§ç /03.æçå·¥ä½/30.two.md",key:"v-70073a00",path:"/pages/03900a/",headers:[{level:2,title:"å³é®å¸§éæ©",slug:"å³é®å¸§éæ©",normalizedTitle:"å³é®å¸§éæ©",charIndex:120},{level:2,title:"å¨å±BAä¼å",slug:"å¨å±baä¼å",normalizedTitle:"å¨å±baä¼å",charIndex:340},{level:2,title:"æ®éå¸§ä¼å",slug:"æ®éå¸§ä¼å",normalizedTitle:"æ®éå¸§ä¼å",charIndex:404}],headersStr:"å³é®å¸§éæ© å¨å±BAä¼å æ®éå¸§ä¼å",content:"è¿äºå¹´ï¼structure from motionåå¾äºå·¨å¤§çè¿æ­¥ï¼ä½å¨å¤§è§æ¨¡åºæ¯éå»ºä»ç¶éå°å°é¾ãå¯¹äºæäºè´¨éè¾å·®çå¾åï¼å¨BAçè¿ç¨ä¸­ä¼å¢å outliersï¼ä»¥åè¯¥å¾åè§æµå°è¾å·®çä¸ç»´ç¹ï¼å¯¼è´BAæ¶æéåº¦æ¢çè³ä¸æ¶æãæ¬ææåºä¸ç§æ°é¢çå³é®å¸§éæ©ç­ç¥ï¼è¯¥ç­ç¥å¯ä»¥ä¼åBAçæçã\n\n\n# å³é®å¸§éæ©\n\nå®ä¹ä¸ä¸ªåºæ¯ååçå å­ï¼ç¨äºè¡¡éè¯¥å¸§å¯¹å°å¾ç¹çè´¡ç®åº¦ãé¦åéè¿ä¸è§åå¯ä»¥æµéåºè¯¥å¸§å¯ä»¥è§æµå°ç3Dç¹æ°num1ï¼åè®¡ç®å¶æ°å¢å ç3Dç¹æ°num2ã\n\nnum1å¯ä»¥ä»£è¡¨å¶å¯ä»¥è§æµå°åºæ¯ç3Dç¹æ°ï¼num2ä»£è¡¨å½æ¶å¢é¿å°å¾ç¹æ°ã\n\nç»¼åèèï¼num1ä¿è¯åºæ¯çå®æ´æ§ï¼num2ä¿è¯æ°å¢é¿çå°å¾ç¹çç¨³å®æ§ã\n\næä»¥å³é®å¸§éåä¸ºnum1>Î±1 æè num2>Î±2çå¾åã\n\n\n# å¨å±BAä¼å\n\nå¯¹äºå¨å±BAï¼ä»ä»æ·»å å³é®å¸§å°ä¼åå¨ä¸­è¿è¡ä¼åãåå°åä½å¾åä¿¡æ¯ï¼é¿åé·å¥å±é¨æä¼è§£ï¼ä¸æåä¼åéåº¦ã\n\n\n# æ®éå¸§ä¼å\n\nå¯¹äºæ®éå¸§ï¼ä»å³é®å¸§éåä¸­éåä¸ä¹å¹éæ°éæå¤çå³é®å¸§åèï¼å¨è¿è¡å¨å±BAä¹åï¼è®¡ç®ç¸å¯¹ä½å§¿åæ¢Î´T=TiTkeyï¼è¿è¡å¨å±BAåï¼å³é®å¸§ä¼ååçä½å§¿ä¸ºTkeyâ²ã\n\né£ä¹å¯¹äºæ®éå¸§ï¼éè¿ä¼ éä¼åï¼åæ®éå¸§ä¼ååçä½å§¿ä¸ºTiâ²=Î´TTkeyâ²ã",normalizedContent:"è¿äºå¹´ï¼structure from motionåå¾äºå·¨å¤§çè¿æ­¥ï¼ä½å¨å¤§è§æ¨¡åºæ¯éå»ºä»ç¶éå°å°é¾ãå¯¹äºæäºè´¨éè¾å·®çå¾åï¼å¨baçè¿ç¨ä¸­ä¼å¢å outliersï¼ä»¥åè¯¥å¾åè§æµå°è¾å·®çä¸ç»´ç¹ï¼å¯¼è´baæ¶æéåº¦æ¢çè³ä¸æ¶æãæ¬ææåºä¸ç§æ°é¢çå³é®å¸§éæ©ç­ç¥ï¼è¯¥ç­ç¥å¯ä»¥ä¼åbaçæçã\n\n\n# å³é®å¸§éæ©\n\nå®ä¹ä¸ä¸ªåºæ¯ååçå å­ï¼ç¨äºè¡¡éè¯¥å¸§å¯¹å°å¾ç¹çè´¡ç®åº¦ãé¦åéè¿ä¸è§åå¯ä»¥æµéåºè¯¥å¸§å¯ä»¥è§æµå°ç3dç¹æ°num1ï¼åè®¡ç®å¶æ°å¢å ç3dç¹æ°num2ã\n\nnum1å¯ä»¥ä»£è¡¨å¶å¯ä»¥è§æµå°åºæ¯ç3dç¹æ°ï¼num2ä»£è¡¨å½æ¶å¢é¿å°å¾ç¹æ°ã\n\nç»¼åèèï¼num1ä¿è¯åºæ¯çå®æ´æ§ï¼num2ä¿è¯æ°å¢é¿çå°å¾ç¹çç¨³å®æ§ã\n\næä»¥å³é®å¸§éåä¸ºnum1>Î±1 æè num2>Î±2çå¾åã\n\n\n# å¨å±baä¼å\n\nå¯¹äºå¨å±baï¼ä»ä»æ·»å å³é®å¸§å°ä¼åå¨ä¸­è¿è¡ä¼åãåå°åä½å¾åä¿¡æ¯ï¼é¿åé·å¥å±é¨æä¼è§£ï¼ä¸æåä¼åéåº¦ã\n\n\n# æ®éå¸§ä¼å\n\nå¯¹äºæ®éå¸§ï¼ä»å³é®å¸§éåä¸­éåä¸ä¹å¹éæ°éæå¤çå³é®å¸§åèï¼å¨è¿è¡å¨å±baä¹åï¼è®¡ç®ç¸å¯¹ä½å§¿åæ¢Î´t=titkeyï¼è¿è¡å¨å±baåï¼å³é®å¸§ä¼ååçä½å§¿ä¸ºtkeyâ²ã\n\né£ä¹å¯¹äºæ®éå¸§ï¼éè¿ä¼ éä¼åï¼åæ®éå¸§ä¼ååçä½å§¿ä¸ºtiâ²=Î´ttkeyâ²ã",charsets:{cjk:!0}},{title:"å®ç°æµç¨",frontmatter:{title:"å®ç°æµç¨",date:"2023-04-08T18:01:25.000Z",permalink:"/pages/0c2f17/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/03.%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B.html",relativePath:"02.ç§ç /03.æçå·¥ä½/03.å®ç°æµç¨.md",key:"v-140f256d",path:"/pages/0c2f17/",headers:[{level:2,title:"å®ç°æµç¨",slug:"å®ç°æµç¨",normalizedTitle:"å®ç°æµç¨",charIndex:2},{level:3,title:"è®¡ç®æ¨¡åä¹é´çç¸ä¼¼åæ¢",slug:"è®¡ç®æ¨¡åä¹é´çç¸ä¼¼åæ¢",normalizedTitle:"è®¡ç®æ¨¡åä¹é´çç¸ä¼¼åæ¢",charIndex:11},{level:3,title:"RANSACä¼°ç®ä¿©å ç¹äºçåæ¢",slug:"ransacä¼°ç®ä¿©å ç¹äºçåæ¢",normalizedTitle:"ransacä¼°ç®ä¿©å ç¹äºçåæ¢",charIndex:209},{level:4,title:"RANSACè¿ç¨",slug:"ransacè¿ç¨",normalizedTitle:"ransacè¿ç¨",charIndex:265},{level:4,title:"LO-RANSACè¿ç¨",slug:"lo-ransacè¿ç¨",normalizedTitle:"lo-ransacè¿ç¨",charIndex:496},{level:4,title:"å¼å§è¿­ä»£",slug:"å¼å§è¿­ä»£",normalizedTitle:"å¼å§è¿­ä»£",charIndex:789},{level:5,title:"è®¡ç®æ®å·®",slug:"è®¡ç®æ®å·®",normalizedTitle:"è®¡ç®æ®å·®",charIndex:888},{level:3,title:"Merge",slug:"merge",normalizedTitle:"merge",charIndex:1390},{level:3,title:"Filter",slug:"filter",normalizedTitle:"filter",charIndex:1873},{level:4,title:"è®¡ç®éæå½±è¯¯å·®",slug:"è®¡ç®éæå½±è¯¯å·®",normalizedTitle:"è®¡ç®éæå½±è¯¯å·®",charIndex:1883},{level:3,title:"å¾å²",slug:"å¾å²",normalizedTitle:"å¾å²",charIndex:1958},{level:4,title:"Partition",slug:"partition",normalizedTitle:"partition",charIndex:1964}],headersStr:"å®ç°æµç¨ è®¡ç®æ¨¡åä¹é´çç¸ä¼¼åæ¢ RANSACä¼°ç®ä¿©å ç¹äºçåæ¢ RANSACè¿ç¨ LO-RANSACè¿ç¨ å¼å§è¿­ä»£ è®¡ç®æ®å·® Merge Filter è®¡ç®éæå½±è¯¯å·® å¾å² Partition",content:"# å®ç°æµç¨\n\n\n# è®¡ç®æ¨¡åä¹é´çç¸ä¼¼åæ¢\n\nè¾å¥ä¸¤ä¸ªè¦å¯¹é½çæ¨¡åï¼è¾åºä»ä»¬ä¹é´çç¸ä¼¼åæ¢ç©éµalignment\n\nè®¾ç½®RANSACçä¸äºåæ°ï¼æå¤§è¯¯å·®ï¼ååç¹ç\n\næ¾å°ä¸¤ä¸ªæ¨¡åä¹é´çå¬å±å¾çI\n\nåæååºä¸¤ä»½ï¼reconstruction1 ä¸­çIè¡¨ç¤ºä¸ºsrc_imagesï¼åreconstruction2ä¸­çIè¡¨ç¤ºä¸ºref_images\n\nä½¿ç¨RANSACä¼°ç®ä¸¤ä¸ªimageséçç¸ä¼¼åæ¢\n\nå¬å¼åè\n\n\n# RANSACä¼°ç®ä¿©å ç¹äºçåæ¢\n\nååå§åä¸ä¸ªRANSACï¼å¾å°æå¤§è¿­ä»£æ¬¡æ°max_num_trials\n\n# RANSACè¿ç¨\n\n * N=âï¼sample_count=0\n\n * while N > sample_count\n   \n   * éæ©ä¸ç»æ ·æ¬ï¼å¹¶è®°å½å®çåç¹æ°\n   \n   * è®¡ç®å¤ç¹çe = 1- number_of_inliers/total_number_of_points\n   \n   * è®¡ç®æå¤§è¿­ä»£æ¬¡æ°\n     \n     N=logâ¡(1âp)logâ¡(1â(1âe)s)\n   \n   * sample_count += 1\n\n# LO-RANSACè¿ç¨\n\n * N=âï¼sample_count=0\n\n * while N > sample_count\n   \n   * éæ©ä¸ç»æ ·æ¬ï¼å¹¶è®°å½å®çåç¹æ°\n   \n   * è®¡ç®å¤ç¹çe = 1- number_of_inliers/total_number_of_points\n     \n     * éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡åï¼è¿­ä»£10æ¬¡ï¼ï¼å¦æä¼äºå½åæ¨¡åï¼åæ´æ°æä¼æ¨¡å\n   \n   * è®¡ç®æå¤§è¿­ä»£æ¬¡æ°\n     \n     N=logâ¡(1âp)logâ¡(1â(1âe)s)\n   \n   * sample_count += 1\n\n# å¼å§è¿­ä»£\n\n 1. ä»ä¿©å ç¹äºä¸­éæºéæ ·éè¦çæå°ç¹æ°X_rand, Y_rand\n 2. ä»å½åçéæ ·ä¸­ï¼ä¼°ç®model Estimate(X_rand, Y_rand)\n 3. å±é¨ä¼å\n\n# è®¡ç®æ®å·®\n\nå¯¹äºæ¯å¼ å¾åï¼ç¡®å®ä»ä¸ä¸ªå¾åæ­£ç¡®æå½±å°å¦ä¸ä¸ªå¾åä»¥åä»å¦ä¸ä¸ªå¾åæ­£ç¡®æå½±åæ¥ç3Dç¹çæ¯çï¼èèç»å®çå¯¹é½æ¹å¼ãæ®å·®å®ä¹ä¸º1åå»è¿ä¸ªæ¯çï¼å³è¯¯å·®éå¼ä¸º0.3æå³çè¯¥å¾åç70ï¼ç¹å¿é¡»å¨ç»å®çæå¤§éæå½±è¯¯å·®éå¼åéæ°æå½±ã\n\n 1. éåææå¬å±å¾å\n\n 2. éåè¯¥å¾åä¸­ææçç¹å¾ç¹ï¼å¹¶ä¸è¯¥ç¹å¾ç¹å¨å¾å1åå¾å2é½å­å¨å¯¹åºç3Dç¹ï¼num_common_points+1\n\n\n\n 3.  è®¡ç®ååè¯¯å·®ï¼å¦æå°äºæå¤§éæå½±è¯¯å·®ï¼ånum_inliers+1\n 4.  è®¡ç®å¤ç¹çnegative_inlier_ratio = 1- num_inliers/num_common_points\n 5.  å¦æç»è®¡å¤ç¹çnegative_inlier_ratio < max_residualï¼åsupport.num_inliers+1\n 6.  å¯¹æ¯åç¹æ°ï¼å¦æåç¹æ°ç¸åï¼åæ¯è¾å¤ç¹çï¼æ´æ°å½åæä¼æ¨¡å\n 7.  éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡å\n 8.  åå¯¹æ¯æ°çæ¨¡åæ¯ä¸æ¯æ¯ä¸ä¸æ­¥çæä¼æ¨¡åçåç¹æ°æ´å¤\n 9.  æ´æ°æå¤§è¿­ä»£æ¬¡æ°\n 10. ç»æè¿­ä»£ï¼ååºæä¼æ¨¡å\n\n\n# Merge\n\nå¯¹æ¯ä¼ å¥çreconstructionï¼çæcommon_image_ids å missing_image_idsï¼å°missing_image_idsä¸­çå¾åæ³¨åå°å½åçreconstructionä¸­ï¼æ³¨åå¾ç®åï¼å°å®æ¬èº«çä½å§¿ä¹ä»¥ä¿©reconstructionçç¸ä¼¼åæ¢\n\nPâ²=sâ(Rt01)âTâ1\n\nä½¿ç¨ä»¥ä¸ä¸¤ç§è§åè¿è¡ç¹äºåå¹¶\n\n * å¤å¶éå²çªçç¹äºå°å½åéå»ºä¸­ï¼å³é£äºå¨å½åéå»ºä¸­æ²¡æè¢«ä¸è§åè§æµå°çç¹ã\n * åå¹¶æ æ­§ä¹çtracksï¼å³åªå°ä¸¤ä¸ªéå»ºä¸­çç¹åå¹¶ï¼å¦æå®ä»¬æä¸ä¸ªä¸å¯¹ä¸çæ å°ã\n\n 1. éåä¼ å¥çç¹äºä¸­çææ3Dç¹\n    * éåè¿ä¸ª3Dç¹çtrack\n      * å¦æå½åè¿ä¸ªtrackå¨common_imgaesä¸­ï¼å å¥å°old_trackä¸­\n      * å¦æå½åè¿ä¸ªtrackå¨missing_imagesä¸­ï¼å å¥å°new_trackä¸­\n 2. å°3Dç¹æ·»å å°å½åçreconstructionä¸­\n 3. å¦æå½åçreconstructionä¸­å·²ç»å­å¨è¿ä¸ªæ°æ·»å ç3Dç¹ï¼é£ä¹å°å®ä»¬åå¹¶\n\n\n# Filter\n\n# è®¡ç®éæå½±è¯¯å·®\n\nPc=RâP+t(uv1)=1zâKâPce2=â(uv)â(pxpy)â2\n\nå¦æå¤§äºä¸å®éæå½±è¯¯å·®å¼ï¼åå°è¯¥3Dç¹å é¤\n\n\n# å¾å²\n\n# Partition\n\nè¯»åææçè¾¹å·²ç»è¾¹çåç¹æ°ï¼ä½ä¸ºæé\n\nDATASETS   IMAGES   COLMAP                    THEIASFM                  LUD                       OURS\n                    NC      NP       T        NC      NP       T        NC      NP       T        NC      NP       T\næ°å­¦         96       53153   933523   353545   53153   933523   353545   53153   933523   353545   53153   933523   353545\næ°å­¦         96       53153   933523   353545   53153   933523   353545   53153   933523   353545   53153   933523   353545\nè±è¯­         92       53153   933523   353545   53153   933523   353545   53153   933523   353545   53153   933523   353545",normalizedContent:"# å®ç°æµç¨\n\n\n# è®¡ç®æ¨¡åä¹é´çç¸ä¼¼åæ¢\n\nè¾å¥ä¸¤ä¸ªè¦å¯¹é½çæ¨¡åï¼è¾åºä»ä»¬ä¹é´çç¸ä¼¼åæ¢ç©éµalignment\n\nè®¾ç½®ransacçä¸äºåæ°ï¼æå¤§è¯¯å·®ï¼ååç¹ç\n\næ¾å°ä¸¤ä¸ªæ¨¡åä¹é´çå¬å±å¾çi\n\nåæååºä¸¤ä»½ï¼reconstruction1 ä¸­çiè¡¨ç¤ºä¸ºsrc_imagesï¼åreconstruction2ä¸­çiè¡¨ç¤ºä¸ºref_images\n\nä½¿ç¨ransacä¼°ç®ä¸¤ä¸ªimageséçç¸ä¼¼åæ¢\n\nå¬å¼åè\n\n\n# ransacä¼°ç®ä¿©å ç¹äºçåæ¢\n\nååå§åä¸ä¸ªransacï¼å¾å°æå¤§è¿­ä»£æ¬¡æ°max_num_trials\n\n# ransacè¿ç¨\n\n * n=âï¼sample_count=0\n\n * while n > sample_count\n   \n   * éæ©ä¸ç»æ ·æ¬ï¼å¹¶è®°å½å®çåç¹æ°\n   \n   * è®¡ç®å¤ç¹çe = 1- number_of_inliers/total_number_of_points\n   \n   * è®¡ç®æå¤§è¿­ä»£æ¬¡æ°\n     \n     n=logâ¡(1âp)logâ¡(1â(1âe)s)\n   \n   * sample_count += 1\n\n# lo-ransacè¿ç¨\n\n * n=âï¼sample_count=0\n\n * while n > sample_count\n   \n   * éæ©ä¸ç»æ ·æ¬ï¼å¹¶è®°å½å®çåç¹æ°\n   \n   * è®¡ç®å¤ç¹çe = 1- number_of_inliers/total_number_of_points\n     \n     * éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡åï¼è¿­ä»£10æ¬¡ï¼ï¼å¦æä¼äºå½åæ¨¡åï¼åæ´æ°æä¼æ¨¡å\n   \n   * è®¡ç®æå¤§è¿­ä»£æ¬¡æ°\n     \n     n=logâ¡(1âp)logâ¡(1â(1âe)s)\n   \n   * sample_count += 1\n\n# å¼å§è¿­ä»£\n\n 1. ä»ä¿©å ç¹äºä¸­éæºéæ ·éè¦çæå°ç¹æ°x_rand, y_rand\n 2. ä»å½åçéæ ·ä¸­ï¼ä¼°ç®model estimate(x_rand, y_rand)\n 3. å±é¨ä¼å\n\n# è®¡ç®æ®å·®\n\nå¯¹äºæ¯å¼ å¾åï¼ç¡®å®ä»ä¸ä¸ªå¾åæ­£ç¡®æå½±å°å¦ä¸ä¸ªå¾åä»¥åä»å¦ä¸ä¸ªå¾åæ­£ç¡®æå½±åæ¥ç3dç¹çæ¯çï¼èèç»å®çå¯¹é½æ¹å¼ãæ®å·®å®ä¹ä¸º1åå»è¿ä¸ªæ¯çï¼å³è¯¯å·®éå¼ä¸º0.3æå³çè¯¥å¾åç70ï¼ç¹å¿é¡»å¨ç»å®çæå¤§éæå½±è¯¯å·®éå¼åéæ°æå½±ã\n\n 1. éåææå¬å±å¾å\n\n 2. éåè¯¥å¾åä¸­ææçç¹å¾ç¹ï¼å¹¶ä¸è¯¥ç¹å¾ç¹å¨å¾å1åå¾å2é½å­å¨å¯¹åºç3dç¹ï¼num_common_points+1\n\n\n\n 3.  è®¡ç®ååè¯¯å·®ï¼å¦æå°äºæå¤§éæå½±è¯¯å·®ï¼ånum_inliers+1\n 4.  è®¡ç®å¤ç¹çnegative_inlier_ratio = 1- num_inliers/num_common_points\n 5.  å¦æç»è®¡å¤ç¹çnegative_inlier_ratio < max_residualï¼åsupport.num_inliers+1\n 6.  å¯¹æ¯åç¹æ°ï¼å¦æåç¹æ°ç¸åï¼åæ¯è¾å¤ç¹çï¼æ´æ°å½åæä¼æ¨¡å\n 7.  éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡å\n 8.  åå¯¹æ¯æ°çæ¨¡åæ¯ä¸æ¯æ¯ä¸ä¸æ­¥çæä¼æ¨¡åçåç¹æ°æ´å¤\n 9.  æ´æ°æå¤§è¿­ä»£æ¬¡æ°\n 10. ç»æè¿­ä»£ï¼ååºæä¼æ¨¡å\n\n\n# merge\n\nå¯¹æ¯ä¼ å¥çreconstructionï¼çæcommon_image_ids å missing_image_idsï¼å°missing_image_idsä¸­çå¾åæ³¨åå°å½åçreconstructionä¸­ï¼æ³¨åå¾ç®åï¼å°å®æ¬èº«çä½å§¿ä¹ä»¥ä¿©reconstructionçç¸ä¼¼åæ¢\n\npâ²=sâ(rt01)âtâ1\n\nä½¿ç¨ä»¥ä¸ä¸¤ç§è§åè¿è¡ç¹äºåå¹¶\n\n * å¤å¶éå²çªçç¹äºå°å½åéå»ºä¸­ï¼å³é£äºå¨å½åéå»ºä¸­æ²¡æè¢«ä¸è§åè§æµå°çç¹ã\n * åå¹¶æ æ­§ä¹çtracksï¼å³åªå°ä¸¤ä¸ªéå»ºä¸­çç¹åå¹¶ï¼å¦æå®ä»¬æä¸ä¸ªä¸å¯¹ä¸çæ å°ã\n\n 1. éåä¼ å¥çç¹äºä¸­çææ3dç¹\n    * éåè¿ä¸ª3dç¹çtrack\n      * å¦æå½åè¿ä¸ªtrackå¨common_imgaesä¸­ï¼å å¥å°old_trackä¸­\n      * å¦æå½åè¿ä¸ªtrackå¨missing_imagesä¸­ï¼å å¥å°new_trackä¸­\n 2. å°3dç¹æ·»å å°å½åçreconstructionä¸­\n 3. å¦æå½åçreconstructionä¸­å·²ç»å­å¨è¿ä¸ªæ°æ·»å ç3dç¹ï¼é£ä¹å°å®ä»¬åå¹¶\n\n\n# filter\n\n# è®¡ç®éæå½±è¯¯å·®\n\npc=râp+t(uv1)=1zâkâpce2=â(uv)â(pxpy)â2\n\nå¦æå¤§äºä¸å®éæå½±è¯¯å·®å¼ï¼åå°è¯¥3dç¹å é¤\n\n\n# å¾å²\n\n# partition\n\nè¯»åææçè¾¹å·²ç»è¾¹çåç¹æ°ï¼ä½ä¸ºæé\n\ndatasets   images   colmap                    theiasfm                  lud                       ours\n                    nc      np       t        nc      np       t        nc      np       t        nc      np       t\næ°å­¦         96       53153   933523   353545   53153   933523   353545   53153   933523   353545   53153   933523   353545\næ°å­¦         96       53153   933523   353545   53153   933523   353545   53153   933523   353545   53153   933523   353545\nè±è¯­         92       53153   933523   353545   53153   933523   353545   53153   933523   353545   53153   933523   353545",charsets:{cjk:!0}},{title:"EC-SfM",frontmatter:{title:"EC-SfM",date:"2023-04-21T09:34:49.000Z",permalink:"/pages/f12e80/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/20.EC.html",relativePath:"02.ç§ç /03.æçå·¥ä½/20.EC.md",key:"v-37fa14fa",path:"/pages/f12e80/",headersStr:null,content:"åºäºååå¯è§æ§çé«æå¢éSfMãå©ç¨å±è§æ§åæ³¨åä¾èµæ§æ¥æè¿°ç¨äºä»»ä½ç±»åçæ°æ®çå¾åè¿æ¥ã\n\nç¬è®°\n\né¡ºåºç­ç¥çæ¬è´¨æ¯å¨ç¥éé¡ºåºæ°æ®ä¸­ç¸é»å¸§çå¤§éå æåµä¸ï¼åå°åä½å¹éåä¼å\n\nä»å¾åä¸­æåå±è§å³ç³»åéåä¾èµå³ç³»ï¼ä»¥æ´å¥½å°æè¿°åç§æ°æ®ä¸­çåé¨å³ç³»ã\n\nè­¦å\n\nä¾èµäºé¢ç¹çBAæ¥åå°ç´¯è®¡è¯¯å·®ï¼ä½è¿å¸¦æ¥äºæ²éçè®¡ç®å¤æåº¦\n\nç¬è®°\n\nåºäºå±æ¬¡çå³é®å¸§éæ©åçº éæ¨¡å",normalizedContent:"åºäºååå¯è§æ§çé«æå¢ésfmãå©ç¨å±è§æ§åæ³¨åä¾èµæ§æ¥æè¿°ç¨äºä»»ä½ç±»åçæ°æ®çå¾åè¿æ¥ã\n\nç¬è®°\n\né¡ºåºç­ç¥çæ¬è´¨æ¯å¨ç¥éé¡ºåºæ°æ®ä¸­ç¸é»å¸§çå¤§éå æåµä¸ï¼åå°åä½å¹éåä¼å\n\nä»å¾åä¸­æåå±è§å³ç³»åéåä¾èµå³ç³»ï¼ä»¥æ´å¥½å°æè¿°åç§æ°æ®ä¸­çåé¨å³ç³»ã\n\nè­¦å\n\nä¾èµäºé¢ç¹çbaæ¥åå°ç´¯è®¡è¯¯å·®ï¼ä½è¿å¸¦æ¥äºæ²éçè®¡ç®å¤æåº¦\n\nç¬è®°\n\nåºäºå±æ¬¡çå³é®å¸§éæ©åçº éæ¨¡å",charsets:{cjk:!0}},{title:"keyframe2",frontmatter:{title:"keyframe2",date:"2023-05-19T09:07:14.000Z",permalink:"/pages/bcf6cd/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/32.keyfram2.html",relativePath:"02.ç§ç /03.æçå·¥ä½/32.keyfram2.md",key:"v-e8e0160c",path:"/pages/bcf6cd/",headers:[{level:2,title:"å³é®å¸§éæ©",slug:"å³é®å¸§éæ©",normalizedTitle:"å³é®å¸§éæ©",charIndex:82},{level:3,title:"é¢å¤è¡¥å",slug:"é¢å¤è¡¥å",normalizedTitle:"é¢å¤è¡¥å",charIndex:315},{level:2,title:"ä¼åæ®éå¸§",slug:"ä¼åæ®éå¸§",normalizedTitle:"ä¼åæ®éå¸§",charIndex:448}],headersStr:"å³é®å¸§éæ© é¢å¤è¡¥å ä¼åæ®éå¸§",content:"è¿æ¬¡ååäºéæ©è§æµç¹æ°å°çå¸§ï¼ä½ä¸ºå³é®å¸§ãå ä¸ºBAçæ¬è´¨æ¯ï¼ä¼åä½å§¿ï¼åå°éæå½±è¯¯å·®ãæéåºçå³é®å¸§ä¼è¢«ä¼åå¤æ¬¡ï¼æä»¥å³é®å¸§åºè¯¥æéåºè®¤ä¸ºè¿æ²¡ä¼åå¥½çå¸§ã\n\n\n# å³é®å¸§éæ©\n\néåææå·²ç»éåçå¸§ï¼å»ºç«ä½å§¿å¯æ¬ã\n\n 1. éåè¯¥å¸§ææçä¸ç»´ç¹ï¼éåä¸ç»´ç¹ææçtrackï¼trackåå«å¦æåå«æå³é®å¸§ï¼é£ä¹ä¸ç»´ç¹è¢«3ä¸ªä»¥ä¸å³é®å¸§trackå°ï¼é£ä¹è¿ä¸ªç¹ç§°ä¸ºåä½ä¸ç»´ç¹ï¼å¦æåä½ä¸ç»´ç¹å°äº200ï¼é£ä¹ç§°è¯¥å¸§ä¸ºå³é®å¸§ã\n 2. å¦æä¸æ¯å³é®å¸§ï¼é£ä¹è¯¥å¸§è³å°ä¸ä¸ä¸ªå³é®å¸§ç¸è¿ã\n 3. å¦æè¿ä¸æ¯å³é®å¸§ï¼æ¾å°ååä¸¤ä¸ªæè¿çå³é®å¸§ï¼è®¡ç®ä¸¤ä¸ªå³é®å¸§ä¹é´æå¤å°ä¸ªå±è§ä¸ç»´ç¹ï¼å°äºéå¼å°±æ¯å³é®å¸§ã\n\næ§è¡å°è¿ï¼è¯´æè¯¥å¸§ä¸æ¯å³é®å¸§\n\n\n# é¢å¤è¡¥å\n\nå°å¾ªç¯å¹éå¸§è®¾ä¸ºå³é®å¸§\n\næ ¹æ®å±è§å³ç³»éæ©åèå¸§ï¼éåæ¯ä¸å¸§ææä¸ç»´ç¹ï¼éåæ¯ä¸ªä¸ç»´ç¹çtrackï¼æ¾å°é£ä¸ªå³é®å¸§ï¼è¿ä¸ªå³é®å¸§è§æµè¯¥å¸§æå¤çä¸ç»´ç¹ãé£ä¹å°±è®¾è¿ä¸ªå³é®å¸§ä¸ºè¯¥å¸§çåèå¸§ã\n\nå¦ææ²¡æå±è§çå³é®å¸§ï¼é£ä¹å°±ååæ¾æè¿çå³é®å¸§ä½ä¸ºåèå¸§ã\n\n\n# ä¼åæ®éå¸§\n\næ ¹æ®ä¸è¿°ï¼æ®éå¸§é½æä¸ä¸ªå³é®å¸§ä½ä¸ºå®çåèå¸§ï¼æ ¹æ®ç»å®å³ç³»ï¼å°å³é®å¸§çä¼åç»æä¼ éå°æ®éå¸§ã",normalizedContent:"è¿æ¬¡ååäºéæ©è§æµç¹æ°å°çå¸§ï¼ä½ä¸ºå³é®å¸§ãå ä¸ºbaçæ¬è´¨æ¯ï¼ä¼åä½å§¿ï¼åå°éæå½±è¯¯å·®ãæéåºçå³é®å¸§ä¼è¢«ä¼åå¤æ¬¡ï¼æä»¥å³é®å¸§åºè¯¥æéåºè®¤ä¸ºè¿æ²¡ä¼åå¥½çå¸§ã\n\n\n# å³é®å¸§éæ©\n\néåææå·²ç»éåçå¸§ï¼å»ºç«ä½å§¿å¯æ¬ã\n\n 1. éåè¯¥å¸§ææçä¸ç»´ç¹ï¼éåä¸ç»´ç¹ææçtrackï¼trackåå«å¦æåå«æå³é®å¸§ï¼é£ä¹ä¸ç»´ç¹è¢«3ä¸ªä»¥ä¸å³é®å¸§trackå°ï¼é£ä¹è¿ä¸ªç¹ç§°ä¸ºåä½ä¸ç»´ç¹ï¼å¦æåä½ä¸ç»´ç¹å°äº200ï¼é£ä¹ç§°è¯¥å¸§ä¸ºå³é®å¸§ã\n 2. å¦æä¸æ¯å³é®å¸§ï¼é£ä¹è¯¥å¸§è³å°ä¸ä¸ä¸ªå³é®å¸§ç¸è¿ã\n 3. å¦æè¿ä¸æ¯å³é®å¸§ï¼æ¾å°ååä¸¤ä¸ªæè¿çå³é®å¸§ï¼è®¡ç®ä¸¤ä¸ªå³é®å¸§ä¹é´æå¤å°ä¸ªå±è§ä¸ç»´ç¹ï¼å°äºéå¼å°±æ¯å³é®å¸§ã\n\næ§è¡å°è¿ï¼è¯´æè¯¥å¸§ä¸æ¯å³é®å¸§\n\n\n# é¢å¤è¡¥å\n\nå°å¾ªç¯å¹éå¸§è®¾ä¸ºå³é®å¸§\n\næ ¹æ®å±è§å³ç³»éæ©åèå¸§ï¼éåæ¯ä¸å¸§ææä¸ç»´ç¹ï¼éåæ¯ä¸ªä¸ç»´ç¹çtrackï¼æ¾å°é£ä¸ªå³é®å¸§ï¼è¿ä¸ªå³é®å¸§è§æµè¯¥å¸§æå¤çä¸ç»´ç¹ãé£ä¹å°±è®¾è¿ä¸ªå³é®å¸§ä¸ºè¯¥å¸§çåèå¸§ã\n\nå¦ææ²¡æå±è§çå³é®å¸§ï¼é£ä¹å°±ååæ¾æè¿çå³é®å¸§ä½ä¸ºåèå¸§ã\n\n\n# ä¼åæ®éå¸§\n\næ ¹æ®ä¸è¿°ï¼æ®éå¸§é½æä¸ä¸ªå³é®å¸§ä½ä¸ºå®çåèå¸§ï¼æ ¹æ®ç»å®å³ç³»ï¼å°å³é®å¸§çä¼åç»æä¼ éå°æ®éå¸§ã",charsets:{cjk:!0}},{title:"colmapå¢éä»£ç ",frontmatter:{title:"colmapå¢éä»£ç ",date:"2023-05-10T19:34:04.000Z",permalink:"/pages/0a2951/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/35.colmap%E5%A2%9E%E9%87%8F.html",relativePath:"02.ç§ç /03.æçå·¥ä½/35.colmapå¢é.md",key:"v-d5f92e9a",path:"/pages/0a2951/",headers:[{level:2,title:"RunSparseMapper",slug:"runsparsemapper",normalizedTitle:"runsparsemapper",charIndex:11},{level:3,title:"FindNext",slug:"findnext",normalizedTitle:"findnext",charIndex:1181},{level:3,title:"RegisterNextImage",slug:"registernextimage",normalizedTitle:"registernextimage",charIndex:1304},{level:3,title:"EstimateAbsolutePose",slug:"estimateabsolutepose",normalizedTitle:"estimateabsolutepose",charIndex:1382},{level:3,title:"RefineAbsolutePose",slug:"refineabsolutepose",normalizedTitle:"refineabsolutepose",charIndex:1457},{level:3,title:"TriangulateImage",slug:"triangulateimage",normalizedTitle:"triangulateimage",charIndex:1499},{level:3,title:"IterativeLocalRefinement",slug:"iterativelocalrefinement",normalizedTitle:"iterativelocalrefinement",charIndex:1528},{level:3,title:"IterativeGlobalRefinement",slug:"iterativeglobalrefinement",normalizedTitle:"iterativeglobalrefinement",charIndex:1572}],headersStr:"RunSparseMapper FindNext RegisterNextImage EstimateAbsolutePose RefineAbsolutePose TriangulateImage IterativeLocalRefinement IterativeGlobalRefinement",content:'ç¨çéå»ºå¥å£\n\n\n# RunSparseMapper\n\nvoid AutomaticReconstructionController::RunSparseMapper() {\n  const auto sparse_path = JoinPaths(options_.workspace_path, "sparse");\n  if (ExistsDir(sparse_path)) {\n    auto dir_list = GetDirList(sparse_path);\n    std::sort(dir_list.begin(), dir_list.end());\n    if (dir_list.size() > 0) {\n      std::cout << std::endl\n                << "WARNING: Skipping sparse reconstruction because it is "\n                   "already computed"\n                << std::endl;\n      for (const auto& dir : dir_list) {\n        reconstruction_manager_->Read(dir);\n      }\n      return;\n    }\n  }\n\n  IncrementalMapperController mapper(\n      option_manager_.mapper.get(), *option_manager_.image_path,\n      *option_manager_.database_path, reconstruction_manager_);\n  active_thread_ = &mapper;\n  mapper.Start();\n  mapper.Wait();\n  active_thread_ = nullptr;\n\n  CreateDirIfNotExists(sparse_path);\n  reconstruction_manager_->Write(sparse_path, &option_manager_);\n}\n\n\nImage\n\nä¸å¦ä¸å¹å¾åè³å°æä¸ä¸ªå¯¹åºå³ç³»ç 2D ç¹æ°ãnum_observations\n\nä¸å¶å®å¾åçå³èæ»æ°num_correspondences\n\nå¾åçæ¯ä¸ªç¹å¾ç¹é½æä¸ä¸ªvectorï¼ç±äºå­æ¾ä¸è¯¥ç¹å¾ç¹å¹éçtrackï¼image_id, point2D_idï¼\n\nstd::vector<std::vector<Correspondence>> corrs;\n\néåææçè¾¹ï¼æ´æ°corrs\n\n\n# FindNext\n\nå°æææªæ³¨åçå¾åï¼æç§æç§å¾åç­ç¥æåº\n\n * å¾åçå¯è§3Dç¹ï¼2D-3Då³è\n * å¾åçå¯è§3Dç¹æ¯ç\n * è®ºæä¸­çnext best viewç­ç¥\n\nvector<image_t> next_images\n\n\n# RegisterNextImage\n\néåvector<image_t> next_imagesï¼å¦ææåäºå°±break\n\nå¯»æ¾2D-3Dç¹çå³è\n\n\n# EstimateAbsolutePose\n\nå¯¹äºä¸åçfocal_length_factorsï¼é½è¿è¡ä¸æ¬¡ä½å§¿ä¼°è®¡ï¼æç»éæ©åç¹æ°æå¤çä¼°è®¡\n\n\n# RefineAbsolutePose\n\nå¯¹å½åå¸§è§æµå°ç3Dç¹è¿è¡BAä¸æ¬¡\n\n\n# TriangulateImage\n\nçææ°çè§æµ\n\n\n# IterativeLocalRefinement\n\nå¯¹æ¹åäºçè§æµè¿è¡ä¸æ¬¡BA\n\n\n# IterativeGlobalRefinement\n\nå¦ææ¨¡åå¢é¿ä¸å®æ¯çï¼åè¿è¡å¨å±BA\n\nå¯¹å·²ç»éåçå¾åå¯¹ï¼éæ°è¿è¡ä¸æ¬¡ä¸è§å',normalizedContent:'ç¨çéå»ºå¥å£\n\n\n# runsparsemapper\n\nvoid automaticreconstructioncontroller::runsparsemapper() {\n  const auto sparse_path = joinpaths(options_.workspace_path, "sparse");\n  if (existsdir(sparse_path)) {\n    auto dir_list = getdirlist(sparse_path);\n    std::sort(dir_list.begin(), dir_list.end());\n    if (dir_list.size() > 0) {\n      std::cout << std::endl\n                << "warning: skipping sparse reconstruction because it is "\n                   "already computed"\n                << std::endl;\n      for (const auto& dir : dir_list) {\n        reconstruction_manager_->read(dir);\n      }\n      return;\n    }\n  }\n\n  incrementalmappercontroller mapper(\n      option_manager_.mapper.get(), *option_manager_.image_path,\n      *option_manager_.database_path, reconstruction_manager_);\n  active_thread_ = &mapper;\n  mapper.start();\n  mapper.wait();\n  active_thread_ = nullptr;\n\n  createdirifnotexists(sparse_path);\n  reconstruction_manager_->write(sparse_path, &option_manager_);\n}\n\n\nimage\n\nä¸å¦ä¸å¹å¾åè³å°æä¸ä¸ªå¯¹åºå³ç³»ç 2d ç¹æ°ãnum_observations\n\nä¸å¶å®å¾åçå³èæ»æ°num_correspondences\n\nå¾åçæ¯ä¸ªç¹å¾ç¹é½æä¸ä¸ªvectorï¼ç±äºå­æ¾ä¸è¯¥ç¹å¾ç¹å¹éçtrackï¼image_id, point2d_idï¼\n\nstd::vector<std::vector<correspondence>> corrs;\n\néåææçè¾¹ï¼æ´æ°corrs\n\n\n# findnext\n\nå°æææªæ³¨åçå¾åï¼æç§æç§å¾åç­ç¥æåº\n\n * å¾åçå¯è§3dç¹ï¼2d-3då³è\n * å¾åçå¯è§3dç¹æ¯ç\n * è®ºæä¸­çnext best viewç­ç¥\n\nvector<image_t> next_images\n\n\n# registernextimage\n\néåvector<image_t> next_imagesï¼å¦ææåäºå°±break\n\nå¯»æ¾2d-3dç¹çå³è\n\n\n# estimateabsolutepose\n\nå¯¹äºä¸åçfocal_length_factorsï¼é½è¿è¡ä¸æ¬¡ä½å§¿ä¼°è®¡ï¼æç»éæ©åç¹æ°æå¤çä¼°è®¡\n\n\n# refineabsolutepose\n\nå¯¹å½åå¸§è§æµå°ç3dç¹è¿è¡baä¸æ¬¡\n\n\n# triangulateimage\n\nçææ°çè§æµ\n\n\n# iterativelocalrefinement\n\nå¯¹æ¹åäºçè§æµè¿è¡ä¸æ¬¡ba\n\n\n# iterativeglobalrefinement\n\nå¦ææ¨¡åå¢é¿ä¸å®æ¯çï¼åè¿è¡å¨å±ba\n\nå¯¹å·²ç»éåçå¾åå¯¹ï¼éæ°è¿è¡ä¸æ¬¡ä¸è§å',charsets:{cjk:!0}},{title:"Keyframe3",frontmatter:{title:"Keyframe3",date:"2023-05-23T10:22:40.000Z",permalink:"/pages/a0d165/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/36.keyframe3.html",relativePath:"02.ç§ç /03.æçå·¥ä½/36.keyframe3.md",key:"v-2ff99942",path:"/pages/a0d165/",headersStr:null,content:"å¯åäºIterativeLocalRefinementæ¨¡å\n\nè¯¥æ¨¡åçä¼åæ¹å¼ä¸ºï¼å¯¹äºæ¯æåéåçä¸å¯å¾åï¼åºäºè¯¥å¾åä¸­è§æµå°ç3Dç¹ï¼ä¸è¯¥å¾åæå±åè§æµçå¾ååå å¥çBAä¸­ãç±ä¸æ©å±å°å¤çæ­¥éª¤ã\n\nåºç¨å°å¨å±BAï¼å¯ä»¥å°å¶æ©å±æï¼ç±å¤å°å¤çå³ç³»ã\n\nå¯¹äºä¸¤æ¬¡å¨å±BAä¹é´çæ·»å æ³¨åçå¸§ï¼å°å¶æ¾å¥ä¸ä¸ªéå\n\nå¯¹äºå¨å±BAéè¦çä¼åçå¸§ï¼ä¹å°±æ¯ä¸è¯¥éåæå±åè§æµçææå¸§ã",normalizedContent:"å¯åäºiterativelocalrefinementæ¨¡å\n\nè¯¥æ¨¡åçä¼åæ¹å¼ä¸ºï¼å¯¹äºæ¯æåéåçä¸å¯å¾åï¼åºäºè¯¥å¾åä¸­è§æµå°ç3dç¹ï¼ä¸è¯¥å¾åæå±åè§æµçå¾ååå å¥çbaä¸­ãç±ä¸æ©å±å°å¤çæ­¥éª¤ã\n\nåºç¨å°å¨å±baï¼å¯ä»¥å°å¶æ©å±æï¼ç±å¤å°å¤çå³ç³»ã\n\nå¯¹äºä¸¤æ¬¡å¨å±baä¹é´çæ·»å æ³¨åçå¸§ï¼å°å¶æ¾å¥ä¸ä¸ªéå\n\nå¯¹äºå¨å±baéè¦çä¼åçå¸§ï¼ä¹å°±æ¯ä¸è¯¥éåæå±åè§æµçææå¸§ã",charsets:{cjk:!0}},{title:"ãé¥è¿çæä¸ä¸»ã",frontmatter:{title:"ãé¥è¿çæä¸ä¸»ã",date:"2023-05-28T16:17:36.000Z",permalink:"/pages/7cc66a/"},regularPath:"/03.%E7%94%9F%E6%B4%BB/05.%E9%81%A5%E8%BF%9C%E7%9A%84%E6%95%91%E4%B8%96%E4%B8%BB.html",relativePath:"03.çæ´»/05.é¥è¿çæä¸ä¸».md",key:"v-4055a79c",path:"/pages/7cc66a/",headers:[{level:2,title:"ä¸åè±",slug:"ä¸åè±",normalizedTitle:"ä¸åè±",charIndex:64},{level:2,title:"è®å°ä¸¹",slug:"è®å°ä¸¹",normalizedTitle:"è®å°ä¸¹",charIndex:242},{level:2,title:"æ¬§é³éª",slug:"æ¬§é³éª",normalizedTitle:"æ¬§é³éª",charIndex:306},{level:2,title:"å¶ææ",slug:"å¶ææ",normalizedTitle:"å¶ææ",charIndex:349},{level:2,title:"å¯ä¸æ°",slug:"å¯ä¸æ°",normalizedTitle:"å¯ä¸æ°",charIndex:472},{level:2,title:"åå°",slug:"åå°",normalizedTitle:"åå°",charIndex:533},{level:2,title:"å¶å®",slug:"å¶å®",normalizedTitle:"å¶å®",charIndex:690}],headersStr:"ä¸åè± è®å°ä¸¹ æ¬§é³éª å¶ææ å¯ä¸æ° åå° å¶å®",content:"çå®è½å­¦å°ä¸å°ï¼æççè§åº¦æ¯äººç©çæ§æ ¼ï¼åäºæ¹å¼ï¼æèæ¹å¼ãæè§å¾å§æåé»è¾ä½ç¨æ¯ä¸ºäºçªåºäººç©çï¼æ¬èº«æè®¸ä¸å·å¤ä»·å¼ã\n\n\n# ä¸åè±\n\nå·éï¼æ²ç¨³ï¼åäºææ¡çï¼æè§åï¼è½å¤éè¿ç°è±¡çæ¬è´¨ï¼ç¥å¶ç¶ç¥å¶æä»¥ç¶ãè½å¤çéäººæ§ï¼å¸åºçè¿è¡é»è¾ï¼æå¾å¦ä½å¤çäººæä¸æãå¶ä¸­æ ¼å¾è¯å©ç¨å»ä»·çäººåææ¬ï¼ä¸ç¥åä¹èå¬å¸ç«äºï¼è¿éä¸æ¯äºè¿ªå¬å¸åæé çµæ± æç¸ä¼¼ä¹å¤ãä½äººå¤ªå·éææ¶ä¼æ¾å¾å·è¡ãæç ´å¸¸è§ï¼ä¸æå¸¸çåºçï¼æ¬è´¨åå æ¯æ²¡æäººè½å¤çè§£ä»ï¼æä»¥å¯¹äºä¸åå±æ¬¡çäººçå°ï¼ä¼è§å¾ä»æ¯ç¯å­ï¼é­é¬¼ã\n\n\n# è®å°ä¸¹\n\nåè¯ï¼èªæï¼ç­ç±å·¥ä½ï¼åå®æ¬èãææ³æ³ï¼æè½åï¼æ¢é¯ãå¦æéå°ä¸çè§£çï¼æè§ä¸åï¼å¥¹ä¾ç¶ä¸ä¼åä¸èªå·±çèæ­¥ã\n\n\n# æ¬§é³éª\n\nå»è¦ï¼ä¸ç±æèè£ï¼åªæ³å¥½å¥½ç»è¥èªå·±çé¥­åºï¼æå®åï¼å¾æå¤§å§çé£èã\n\n\n# å¶ææ\n\nè¸å®ï¼è°¨æãæ³æå°±ä¸çªäºä¸ï¼ä½æ¯æ²¡æç»éªãé ä¸å½ä¸æ»ç»çåï¼å¬ä»ä¸ä¸ç«èï¼ä¸åå¼ï¼ä¹å¾è°¨æå¤çåç§äºæãä½æ¯è¢«èµ·è¯åï¼æ²¡æåéªç¥è¯åªè½æ¤éä¿å¨èªå·±ãéè¡åå®å¿åå°èªå·±å¹³éççæ´»ãäººåäººä¹é´çéå¾·ï¼æ¾å¨å¬å¸åå¬å¸ä¹é´æ¯ä¸ç®¡ç¨çã\n\n\n# å¯ä¸æ°\n\nè¸å®ï¼ä¸å¿åªæ³çåºæï¼éè¡åï¼æ³å°ææ°æ¬ æ ¼å¾è¯è®¾å¤é±ï¼ç¨èªå·±çè¡ä»½å¿è¿ï¼å¹¶ä¸ååå°åæ¥é£ä¸ªå¹³éççæ´»ã\n\n\n# åå°\n\næ²¡æä¸ä¸ªè¯å¥½çèªæè®¤ç¥ï¼éå°é®é¢ååæ¯æªç½ªç¯å¢ã\n\n----------------------------------------\n\nå°è¯´æäºå¼å¤´ï¼ä¸æ¥å°å¤åï¼ç»å°¾ï¼ä¸ç¦»å¼å¤åãç¦»å¼æ¶æ¬§é³éªççä¸çèå½±ï¼ä¼æé£ç§æè§ï¼ä¸å°±æ¯æä¸ä¸»ãä½æ¯å¨ç¯æè§å¾é½æ¯è®²è¦å®äºæ±æ¯ï¼å¥æï¼åªæèªå·±æ¯èªå·±çæä¸ä¸»ã\n\n\n# å¶å®\n\næ¨å¤©æä¸å·å°Bç«è§é¢åæ§½è¿æ¯åå¾ä¹ä½ï¼å·®ç¹æ²¡ç¡çã\n\nè§é¢åå®¹å¤§æ¦è®²äºï¼å¯¹äºupä¸»èªè®¤ä¸ºä½éå­¦çå¾ä¸éï¼æåºä¸å å¥å¥å¥å¥å­ï¼è¯æä¹¦ä¸­çä½å­¦çè§£éäºç¨éäºãä¸¾ä¾éè§è¡æé»è¾ï¼è®¤ä¸ºä¹èé£ä¹å¤§çå¬å¸ï¼å¨ä¸äºè§£æåµä¸å»èµ·è¯æ ¼å¾è¯ï¼æ¯ç¥ç»çã\n\nçå®ä¹åæç¥éï¼upåè¿ä¸ªè§é¢ï¼æ¾ç°åºä»èªè§çé«ï¼æç¹çï¼ä¸ºäºæ¹è¯èå»æ¹è¯ãæè¹­ç­åº¦å¸å¼æµéçå«çã\n\nå¯¹äºè¿äºè§é¢ä¸ºä»ä¹è½å¸å¼æµéï¼æè§å¾è¿ç§è§é¢ä¸ªäººè§ç¹è¾åºå¾é«ï¼æºå·å¼å¯¼æ§ãå¯¹äºä¸ä¸ªä»ä¹ä¸äºè§ä¼æ¥è¯´ï¼ä¼æ¯è¾æµ®èºï¼è®¤ä¸ºè¿äºupä¸»ä¸éï¼å¾ææ³æ³ï¼ç¶åè§ä¼ä¹å¾å®¹æçè§£upçè§ç¹ã\n\næè®¤ä¸ºä¸äºä¼è´¨è§é¢æµéä¸ºä»ä¹å°ï¼é¾ä»¥çè§£ï¼ä¸ä¼è®²è¿ä¸ªè§ç¹ï¼ä¸ä¼è®²é£ä¸ªè§ç¹ï¼ä¸éä¸å¿æ¥ççä¸æãå ä¸ºä¸æ¯è®²æäºï¼æä»¥éè¦ä»åä¸ªæ¹é¢å»è®ºè¯ä¸ä»¶äºã",normalizedContent:"çå®è½å­¦å°ä¸å°ï¼æççè§åº¦æ¯äººç©çæ§æ ¼ï¼åäºæ¹å¼ï¼æèæ¹å¼ãæè§å¾å§æåé»è¾ä½ç¨æ¯ä¸ºäºçªåºäººç©çï¼æ¬èº«æè®¸ä¸å·å¤ä»·å¼ã\n\n\n# ä¸åè±\n\nå·éï¼æ²ç¨³ï¼åäºææ¡çï¼æè§åï¼è½å¤éè¿ç°è±¡çæ¬è´¨ï¼ç¥å¶ç¶ç¥å¶æä»¥ç¶ãè½å¤çéäººæ§ï¼å¸åºçè¿è¡é»è¾ï¼æå¾å¦ä½å¤çäººæä¸æãå¶ä¸­æ ¼å¾è¯å©ç¨å»ä»·çäººåææ¬ï¼ä¸ç¥åä¹èå¬å¸ç«äºï¼è¿éä¸æ¯äºè¿ªå¬å¸åæé çµæ± æç¸ä¼¼ä¹å¤ãä½äººå¤ªå·éææ¶ä¼æ¾å¾å·è¡ãæç ´å¸¸è§ï¼ä¸æå¸¸çåºçï¼æ¬è´¨åå æ¯æ²¡æäººè½å¤çè§£ä»ï¼æä»¥å¯¹äºä¸åå±æ¬¡çäººçå°ï¼ä¼è§å¾ä»æ¯ç¯å­ï¼é­é¬¼ã\n\n\n# è®å°ä¸¹\n\nåè¯ï¼èªæï¼ç­ç±å·¥ä½ï¼åå®æ¬èãææ³æ³ï¼æè½åï¼æ¢é¯ãå¦æéå°ä¸çè§£çï¼æè§ä¸åï¼å¥¹ä¾ç¶ä¸ä¼åä¸èªå·±çèæ­¥ã\n\n\n# æ¬§é³éª\n\nå»è¦ï¼ä¸ç±æèè£ï¼åªæ³å¥½å¥½ç»è¥èªå·±çé¥­åºï¼æå®åï¼å¾æå¤§å§çé£èã\n\n\n# å¶ææ\n\nè¸å®ï¼è°¨æãæ³æå°±ä¸çªäºä¸ï¼ä½æ¯æ²¡æç»éªãé ä¸å½ä¸æ»ç»çåï¼å¬ä»ä¸ä¸ç«èï¼ä¸åå¼ï¼ä¹å¾è°¨æå¤çåç§äºæãä½æ¯è¢«èµ·è¯åï¼æ²¡æåéªç¥è¯åªè½æ¤éä¿å¨èªå·±ãéè¡åå®å¿åå°èªå·±å¹³éççæ´»ãäººåäººä¹é´çéå¾·ï¼æ¾å¨å¬å¸åå¬å¸ä¹é´æ¯ä¸ç®¡ç¨çã\n\n\n# å¯ä¸æ°\n\nè¸å®ï¼ä¸å¿åªæ³çåºæï¼éè¡åï¼æ³å°ææ°æ¬ æ ¼å¾è¯è®¾å¤é±ï¼ç¨èªå·±çè¡ä»½å¿è¿ï¼å¹¶ä¸ååå°åæ¥é£ä¸ªå¹³éççæ´»ã\n\n\n# åå°\n\næ²¡æä¸ä¸ªè¯å¥½çèªæè®¤ç¥ï¼éå°é®é¢ååæ¯æªç½ªç¯å¢ã\n\n----------------------------------------\n\nå°è¯´æäºå¼å¤´ï¼ä¸æ¥å°å¤åï¼ç»å°¾ï¼ä¸ç¦»å¼å¤åãç¦»å¼æ¶æ¬§é³éªççä¸çèå½±ï¼ä¼æé£ç§æè§ï¼ä¸å°±æ¯æä¸ä¸»ãä½æ¯å¨ç¯æè§å¾é½æ¯è®²è¦å®äºæ±æ¯ï¼å¥æï¼åªæèªå·±æ¯èªå·±çæä¸ä¸»ã\n\n\n# å¶å®\n\næ¨å¤©æä¸å·å°bç«è§é¢åæ§½è¿æ¯åå¾ä¹ä½ï¼å·®ç¹æ²¡ç¡çã\n\nè§é¢åå®¹å¤§æ¦è®²äºï¼å¯¹äºupä¸»èªè®¤ä¸ºä½éå­¦çå¾ä¸éï¼æåºä¸å å¥å¥å¥å¥å­ï¼è¯æä¹¦ä¸­çä½å­¦çè§£éäºç¨éäºãä¸¾ä¾éè§è¡æé»è¾ï¼è®¤ä¸ºä¹èé£ä¹å¤§çå¬å¸ï¼å¨ä¸äºè§£æåµä¸å»èµ·è¯æ ¼å¾è¯ï¼æ¯ç¥ç»çã\n\nçå®ä¹åæç¥éï¼upåè¿ä¸ªè§é¢ï¼æ¾ç°åºä»èªè§çé«ï¼æç¹çï¼ä¸ºäºæ¹è¯èå»æ¹è¯ãæè¹­ç­åº¦å¸å¼æµéçå«çã\n\nå¯¹äºè¿äºè§é¢ä¸ºä»ä¹è½å¸å¼æµéï¼æè§å¾è¿ç§è§é¢ä¸ªäººè§ç¹è¾åºå¾é«ï¼æºå·å¼å¯¼æ§ãå¯¹äºä¸ä¸ªä»ä¹ä¸äºè§ä¼æ¥è¯´ï¼ä¼æ¯è¾æµ®èºï¼è®¤ä¸ºè¿äºupä¸»ä¸éï¼å¾ææ³æ³ï¼ç¶åè§ä¼ä¹å¾å®¹æçè§£upçè§ç¹ã\n\næè®¤ä¸ºä¸äºä¼è´¨è§é¢æµéä¸ºä»ä¹å°ï¼é¾ä»¥çè§£ï¼ä¸ä¼è®²è¿ä¸ªè§ç¹ï¼ä¸ä¼è®²é£ä¸ªè§ç¹ï¼ä¸éä¸å¿æ¥ççä¸æãå ä¸ºä¸æ¯è®²æäºï¼æä»¥éè¦ä»åä¸ªæ¹é¢å»è®ºè¯ä¸ä»¶äºã",charsets:{cjk:!0}},{title:"ä¸æ¶è¦é¾",frontmatter:{title:"ä¸æ¶è¦é¾",date:"2023-06-19T09:59:32.000Z",permalink:"/pages/149c7c/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/38.%E8%8B%A6%E9%9A%BE.html",relativePath:"02.ç§ç /03.æçå·¥ä½/38.è¦é¾.md",key:"v-0545b0a1",path:"/pages/149c7c/",headers:[{level:2,title:"å¤æåºåçä¸ç»´æ¨¡åå¿«ééå»º",slug:"å¤æåºåçä¸ç»´æ¨¡åå¿«ééå»º",normalizedTitle:"å¤æåºåçä¸ç»´æ¨¡åå¿«ééå»º",charIndex:2},{level:3,title:"ä¸ãå®æçåå®¹",slug:"ä¸ãå®æçåå®¹",normalizedTitle:"ä¸ãå®æçåå®¹",charIndex:20},{level:3,title:"äºãæéç¨çæ¹æ³ä»¥ååå¾çææ",slug:"äºãæéç¨çæ¹æ³ä»¥ååå¾çææ",normalizedTitle:"äºãæéç¨çæ¹æ³ä»¥ååå¾çææ",charIndex:300},{level:3,title:"ä¸ãåæ°ç¹",slug:"ä¸ãåæ°ç¹",normalizedTitle:"ä¸ãåæ°ç¹",charIndex:18672}],headersStr:"å¤æåºåçä¸ç»´æ¨¡åå¿«ééå»º ä¸ãå®æçåå®¹ äºãæéç¨çæ¹æ³ä»¥ååå¾çææ ä¸ãåæ°ç¹",content:"# å¤æåºåçä¸ç»´æ¨¡åå¿«ééå»º\n\n\n# ä¸ãå®æçåå®¹\n\næ¬ç³»ç»æ¨å¨ç ç©¶åºäºç¹å¾ç¹æååå¹éçä¸ç»´éå»ºæ¹æ³ï¼å©ç¨å¤å¼ å¾åä¸­çç¹å¾ç¹ä¿¡æ¯ï¼æ¢å¤ç©ä½æåºæ¯çä¸ç»´å ä½ç»æãæ¬ç³»ç»ä¸»è¦å®æäºä»¥ä¸åå®¹ï¼\n\nâ¢ è°ç äºå½åå¤ç¸å³é¢åçç ç©¶ç°ç¶ååå±è¶å¿ï¼åæäºä¸ç»´éå»ºçåºæ¬åçåå³é®ææ¯ï¼æ»ç»äºä¸ç»´éå»ºçå¸¸ç¨æ¹æ³åè¯ä»·ææ ã\n\nâ¢ è®¾è®¡å¹¶å®ç°äºä¸ä¸ªåºäºç¹å¾ç¹æååå¹éçä¸ç»´éå»ºç³»ç»ï¼åæ¬ç¹å¾æ£æµãæè¿°ãå¹éãå»åªãç¸æºæ å®ãå§¿æè®¡ç®ãä¸ç»´éå»ºãä¼åãç¨ å¯éå»ºåçº¹çéå»ºç­æ¨¡åã\n\nâ¢ å¨å¬å¼æ°æ®éä¸å¯¹ææåºçç³»ç»è¿è¡äºæµè¯åè¯ä¼°ï¼ä¸å¶ä»ä¸ç»´éå»ºæ¹æ³è¿è¡äºå¯¹æ¯åæï¼éªè¯äºææåºæ¹æ³çæææ§åä¼è¶æ§ã\n\n\n# äºãæéç¨çæ¹æ³ä»¥ååå¾çææ\n\nSfM æ¯å° 3D ç»æä»å¶æå½±éå»ºä¸ºä¸ç³»åä»ä¸åè§ç¹ææçå¾åçè¿ç¨ãå¢é SfMï¼å¨æ¬æä¸­è¡¨ç¤ºä¸º SfMï¼æ¯ä¸ç§å·æè¿­ä»£éå»ºç»ä»¶çé¡ºåºå¤çæµæ°´çº¿ãå®éå¸¸ä»ç¹å¾æååå¹éå¼å§ï¼ç¶åæ¯å ä½éªè¯ãçæçåºæ¯å¾ä½ä¸ºéå»ºé¶æ®µçåºç¡ï¼å¨éæ­¥æ³¨åæ°å¾åãä¸è§æµéåºæ¯ç¹ãè¿æ»¤å¼å¸¸å¼å¹¶ä½¿ç¨æè°æ´ (BA) æ¹è¿éå»ºä¹åï¼è¯¥é¶æ®µä½¿ç¨ç²¾å¿éæ©çåè§å¾éå»ºä¸ºæ¨¡åæ­ç§ãä»¥ä¸ä»ç»æä»¬ç³»ç»æéç¨ççæ¹æ³ï¼ä»¥ååå¾çææã\n\n 1. ç¸æºæ å®\n\nç¸æºæ å®çè¿ç¨æ¯æéè¿ä¸äºå·²ç¥çå ä½ä¿¡æ¯ï¼æ¥æ±è§£ç¸æºçåé¨åæ°ï¼ä»èå»ºç«ä¸ç»´ç©ºé´ç¹åäºç»´å¾åç¹ä¹é´çå¯¹åºå³ç³»ã\n\nä¸è¬æ¥è¯´ï¼ç¸æºæ å®çæ­¥éª¤å¦ä¸ï¼\n\n * åå¤ä¸ä¸ªæ å®ç©ï¼éå¸¸æ¯ä¸ä¸ªå¸¦æé»ç½æ£çæ ¼çå¹³é¢ï¼å¶è§ç¹çä¸çåæ ç³»åå¾ååæ ç³»æ¯å·²ç¥çã\n * ç¨ç¸æºä»ä¸åçè§åº¦åä½ç½®æææ å®ç©çç§çï¼è³å°éè¦ä¸å¼ ä»¥ä¸ã\n * ä»ç§çä¸­æåæ£çæ ¼çè§ç¹ï¼å¾å°æ¯ä¸ªè§ç¹å¨åç´ åæ ç³»ä¸çåæ ã\n * æ ¹æ®ç¸æºæåæ¨¡åï¼å»ºç«ä¸ç»´ç©ºé´ç¹åäºç»´å¾åç¹ä¹é´çæå½±å³ç³»ï¼å©ç¨ååºç©éµãéè§æå½±ãç¸åæ ¡æ­£ç­æ¹æ³ï¼æ±è§£ç¸æºçåé¨åæ°ã\n * å©ç¨æå°äºä¹æ³æå¶ä»ä¼åæ¹æ³ï¼å¯¹æ±è§£åºçåæ°è¿è¡ä¼ååè¯¯å·®åæã\n\nå¯¹äºç¸æºåé¨åæ°ï¼æä»¬ç³»ç»ä¸­æä¾ä¼åç¸æºååçç®æ³ï¼å³ä½¿ä¸éè¿ç¸æºæ å®çæ­¥éª¤è·å¾ç¸æºåé¨åæ°ï¼æä»¬ç³»ç»ä¹å¯ä»¥éè¿ç®æ³æ¥ä¼°è®¡å¾å°ç¸å¯¹åç¡®çç¸æºåé¨åæ°ï¼è¥è¿½æ±æ´å¥½çæ´åç¡®çä¸ç»´æ¨¡åï¼ä¸è¬æ¯æå¨è¿è¡ç¸æºæ å®ï¼å°ç¸æºåé¨åæ°ä½ä¸ºåºå®å¼ã\n\n 2. å¾åéé\n\nSFMè¿ç¨ä¸­çå¾åééè¿ç¨æ¯æä»å¤ä¸ªè§åº¦ææåä¸åºæ¯çå¾çï¼å¹¶æåºå·è¿è¡ä¿å­ï¼ä»¥ä¾¿åç»­è¿è¡ç¹å¾æåï¼å¹éï¼éå»ºç­æ­¥éª¤ã\n\n * å¾åçè´¨éè¦é«ï¼æ¸æ°åº¦è¦å¥½ï¼é¿åæ¨¡ç³ï¼æåè¿åº¦æä¸è¶³ç­é®é¢ã\n * å¾åçæ°éè¦éä¸­ï¼ä¸è¦å¤ªå°æå¤ªå¤ï¼å¤ªå°ä¼å¯¼è´éå»ºä¸å®æ´æä¸åç¡®ï¼å¤ªå¤ä¼å¢å è®¡ç®éååå­æ¶èã\n * å¾åçè§è§è¦æä¸å®çéå åº¦ï¼ä¸è¬å»ºè®®å¨60%~80%ä¹é´ï¼ä»¥ä¾¿æé«ç¹å¾å¹éçæåçåç¨³å®æ§ã\n * å¾åçè§è§è¦æä¸å®çè§å·®ï¼å³ç¸æºä¹é´çç¸å¯¹ä½å§¿è¦æè¶³å¤çååï¼ä»¥ä¾¿æ¢å¤åºä¸ç»´ç»æãå¦æå¾åä¹é´çè§å·®å¤ªå°ï¼å¯è½ä¼å¯¼è´å¥å¼æ§æéåæåµã\n * å¾åçææç¯å¢è¦å°½éä¿æä¸è´ï¼é¿ååç§ï¼é´å½±ï¼åå°ç­å ç´ çå¹²æ°ãåæ¶ï¼åºæ¯ä¸­çç©ä½è¦å°½éæ¯éæ­¢çï¼é¿åå¨æç©ä½çå½±åã\n\n 3. ç¹å¾æå\n\nSFMè¿ç¨ä¸­çå¾åç¹å¾æåè¿ç¨æ¯æä»å¾åä¸­æåå·æå°ºåº¦åæè½¬ä¸åæ§çç¹å¾ç¹åæè¿°å­ï¼ä»¥ä¾¿åç»­è¿è¡ç¹å¾å¹éï¼è®¡ç®åºç¡ç©éµï¼æ¢å¤ç¸æºä½å§¿åä¸ç»´ç»æç­æ­¥éª¤ã\n\nä»¥ä¸çº¢è²ç¹ä¸ºæä»¬æåçç¹å¾ç¹\n\n\n\n * ç¹å¾ç¹çæ°éè¦éä¸­ï¼ä¸è¦å¤ªå°æå¤ªå¤ï¼å¤ªå°ä¼å¯¼è´å¹éä¸ç¨³å®æå¤±è´¥ï¼å¤ªå¤ä¼å¢å è®¡ç®éååå­æ¶èã\n * ç¹å¾ç¹çåå¸è¦ååï¼ä¸è¦éä¸­å¨æäºåºåï¼ä»¥ä¾¿æé«å¹éçé²æ£æ§ååç¡®æ§ã\n * ç¹å¾ç¹çæè¿°å­è¦å·æè¾å¼ºçåºååº¦ï¼ä¸è¦ä¸å¶ä»ç¹å¾ç¹æ··æ·ï¼ä»¥ä¾¿éä½è¯¯å¹éçæ¦çã\n * ç¹å¾ç¹çç±»åè¦éååºæ¯çç¹ç¹ï¼ä¾å¦å¯¹äºçº¹çä¸°å¯çåºæ¯ï¼å¯ä»¥ä½¿ç¨SIFTï¼SURFç­ç¹å¾ç¹ï¼å¯¹äºçº¹çè¾å°çåºæ¯ï¼å¯ä»¥ä½¿ç¨Harrisï¼FASTç­è§ç¹ã\n\nä»¥ä¸è¯¦ç»ä»ç»æä»¬éç¨çFASTè§ç¹ã\n\næå»ºé«æ¯å°ºåº¦ç©ºé´ï¼äº§çä¸åå°ºåº¦çé«æ¯æ¨¡ç³å¾åã\n\n\n\nè¿è¡ééæ ·ï¼å¾å°ä¸ç³»åå°ºå¯¸ä¸æ­ç¼©å°çå¾åï¼è®¡ç®é«æ¯å·®åå½æ°ã\n\nG(xi,yi,Ï)=12ÏÏ2exp(â((xâxi)2â(yâyi)22Ï2))L(x,y,Ï)=G(x,y,Ï)âI(x,y)\n\nDoG ç©ºé´æå¼æ£æµï¼å¯»æ¾ DoG å½æ°çæå¼ç¹ï¼æ¯ä¸ä¸ªåç´ ç¹åå®ææçç¸é»ç¹æ¯è¾ï¼çå¶æ¯å¦æ¯å®çå¾åååå°ºåº¦åçç¸é»ç¹å¤§æèå°ã\n\nç¡®å®ç¹å¾åéä¸»æ¹å:éè¿æ¯ä¸ªæå¼ç¹çæ¢¯åº¦æ¥ä¸ºæå¼ç¹èµäºæ¹åï¼æ¢¯åº¦å¹å¼ç­äºä¸ ä¸ä¸¤ç¹åç´ å¼å·®çå¹³æ¹å ä¸å·¦å³ä¸¤ç¹åç´ å¼å·®çå¹³æ¹ï¼æ¢¯åº¦æ¹ååä¸ºä¸ä¸ä¸¤ç¹åç´ å¼å·®ä¸å·¦ å³ä¸¤ç¹åç´ å¼å·®çåã\n\næ¢¯åº¦å¹å¼\n\nm(x,y)=(L(x+1,y)âL(xâ1,y))2+(L(x,y+1)âL(x,yâ1))2\n\næ¢¯åº¦æ¹å\n\nÎ¸(x,y)=tanâ1(L(x,y+1)âL(x,yâ1)L(x+1,y)âL(xâ1,y))\n\nè®¡ç®ç¹å¾åé\n\næ±åæ¯ä¸ªåç´ çæ¢¯åº¦å¹å¼ä¸æ¢¯åº¦æ¹åï¼ç®­å¤´æ¹åä»£è¡¨è¯¥åç´ çæ¢¯åº¦æ¹åï¼é¿åº¦ä»£è¡¨æ¢¯åº¦å¹å¼ï¼ç¶åå©ç¨é«æ¯çªå£å¯¹å¶è¿è¡å æè¿ç®ãå¨æ¯ä¸ªå°åä¸ç»å¶ 8 ä¸ªæ¹åçæ¢¯åº¦ç´æ¹å¾ï¼è®¡ç®æ¯ä¸ªæ¢¯åº¦æ¹åçç´¯å å¼ã\n\n\n\næç»æ¯ä¸ªå°åè·å¾4 â 4 â 8 = 128 ç»´çç¹å¾åé\n\n 4. ç¹å¾å¹é\n\nSFMè¿ç¨ä¸­çå¾åç¹å¾å¹éè¿ç¨æ¯æä»ä¸¤ä¸¤ç¸é»çå¾åä¸­æ¾åºå·æç¸åæç¸ä¼¼ç¹å¾çç¹å¯¹ï¼ä»¥ä¾¿åç»­è¿è¡åºç¡ç©éµï¼æ¬è´¨ç©éµï¼ååºç©éµçè®¡ç®ï¼æ¢å¤ç¸æºä½å§¿åä¸ç»´ç»æç­æ­¥éª¤ã\n\n\n\n * ç¹å¾å¹éçæ¹æ³è¦éåç¹å¾ç¹çç±»ååæ°éï¼å¯ä»¥ä½¿ç¨æ´åå¹éï¼KDæ ï¼FLANNç­æ¹æ³ã\n * ç¹å¾å¹éçç»æè¦æ»¡è¶³ä¸ä¸å¯¹åºçååï¼å³ä¸ä¸ªç¹å¾ç¹åªè½å¹éå°å¦ä¸ä¸ªå¾åä¸­çä¸ä¸ªç¹å¾ç¹ï¼ä¸è½åºç°å¤å¯¹ä¸æä¸å¯¹å¤çæåµã\n * ç¹å¾å¹éçç»æè¦æ»¡è¶³å ä½ä¸è´æ§ççº¦æï¼å³å¹éç¹å¯¹ä¹é´è¦ç¬¦åå¯¹æå ä½å³ç³»ï¼å¯ä»¥ä½¿ç¨åºç¡ç©éµææ¬è´¨ç©éµæ¥æ£éªåç­éã\n * ç¹å¾å¹éçç»æè¦æ»¡è¶³è¿å¨ä¸è´æ§ççº¦æï¼å³å¹éç¹å¯¹ä¹é´è¦ç¬¦åç¸æºè¿å¨æ¨¡åï¼å¯ä»¥ä½¿ç¨ååºç©éµæ¥æ£éªåç­éã\n\nå¹éç»æå¦ä¸\n\n\n\næä»¬ç³»ç»ä¸­æä¾å¤ç§å¾åå¹éæ¹å¼ï¼é¡ºåºå¹éï¼è¯æ±æ å¹éï¼æ´åå¹éï¼GPSç©ºé´å¹éã\n\n * é¡ºåºå¹é\n\nå¯¹äºé¡ºåºééçå¾åï¼å¯ä»¥éç¨è¿ä¸ç§æ¹å¼è¿è¡å¾åé´çå¹éãè¿ä¸ç§çå¹éè¿ç¨ä¸ºï¼å°ææå¾åè¿è¡ç¼å·åï¼å¯¹äºæ¯ä¸å¼ å¾åï¼æä»¬åå®ååç10å¼ å¾åè¿è¡ä¸ä¸å¹éï¼ä¸è¿10å¼ å¾ååå«å»ºç«å¾åå¹éå³ç³»ï¼ä»¥ä¾¿åç»­æ­¥éª¤ç¨ãé¤æ­¤ä¹å¤ï¼æä»¬å¢å ä¸ä¸ªåç¯æ£æµç­ç¥ï¼æ¯éä¸å®å¾åæ°éåï¼å¯¹å¾åè¿è¡ä¸æ¬¡åç¯æ£æµï¼ä¹å°±è¯´ï¼è¿ä¸æ¬¡å¹éçç®æ å¾åä¸ä»æ¯ååç10å¼ ï¼èæ¯ååéæºçNå¼ ï¼ç¨è¿ç§ç­ç¥ä¸æ´ä¹è¿çå¾åå»ºç«å¹éå³ç³»ï¼ä»èè¾¾å°æ£æµåç¯çåè½ãå¯¹äºé¡ºåºå¹éï¼å¯ä»¥å¾å¿«éçå®æææå¾åçå¹éï¼å¹¶ä¸æä¸å®çæ£æµåç¯è½åï¼å¯¹äºè¿½æ±å¿«éï¼ééçå¾åæ¯é¡ºåºåºåï¼åå¯ä»¥éç¨è¿ç§æ¹å¼è¿è¡å¾åå¹éã\n\n * è¯æ±æ å¹é\n\nå¯¹äºè¯æ±æ å¹éï¼éè¦æä»¬å¨è¿è¡ä¸ç»´éå»ºä¹åï¼æå»ºä¸ä¸ªè¯æ±æ ï¼è¯¥è¯æ±æ ï¼æå¯¼ç³»ç»è¿è¡å¹éãç®åæ¥è¯´ï¼éè¦è®­ç»ä¸ä¸ªæ¨¡åï¼è¯¥æ¨¡åè¦çäºæ¬æ¬¡è¿è¡ä¸ç»´éå»ºçææåºæ¯ï¼ä»¥è³äºæä»¬ææçå¾åï¼å¯ä»¥æç¡®æ¨çåºè¯¥å¾åæ¯å±äºåªä¸é¨ååºæ¯ï¼è¿èå°å±äºæä¸åºæ¯çææå¾åè¿è¡äºç¸å¹éãè¿ç§æ¹å¼çå¹éè¿ç¨è¾ä¸ºç²¾ç¡®ï¼èä¸é«æï¼å ä¸ºä»ä»æ¯å±äºæä¸åºæ¯çå¾åæè¿è¡ç¸äºå¹éï¼å¹¶ä¸ä¼æä¸¤å¼ æ¯«æ ç¸å¹²çå¾åè¿è¡äºç¸å¹éæ¥æµªè´¹æ¶é´ãè¿ç§å¹éæ¹å¼çç²¾åº¦åå³äºè¯æ±æ çæå»ºï¼è¯æ±æ æ¨¡åæå»ºçç²¾ç¡®ï¼åå¹éç²¾ç¡®ã\n\n * æ´åå¹é\n\nå¯¹äºæ´åå¹éï¼æç®åçæ¹å¼ä¸ºï¼ä¸¤ä¸¤å¾åè¿è¡å¹éï¼ä½æ¯è¿ç§æ¹å¼æ§è½å¾å·®ï¼å¯ä»¥ç¨å¾®æ¹è¿ä¸ä¸ãæä»¬å°å¶æ¹ä¸ºï¼ååå¹éãå°ææå¾åè¿è¡ååï¼å¯¹åååä¹é´çå¾åè¿è¡å¹éãè¿ç§æ¹å¼æ§è½è¾å·®ï¼è¥æ²¡æå¾åçé¢å¤ä¿¡æ¯ï¼æä¼ä½¿ç¨è¯¥æ¹å¼è¿è¡å¾åå¹éã\n\n * GPSç©ºé´å¹é\n\nå¯¹äºGPSç©ºé´å¹éï¼ä¸è¯æ±æ å¹éç±»ä¼¼ï¼å©ç¨GPSä¿¡æ¯ï¼ç¡®å®å¾åæä¸ªå·ä½èå´ä½ç½®ï¼å¯¹å­å¨äºè¯¥èå´çå¾åï¼æä»¬è¿è¡ä¸¤ä¸¤å¹éï¼å¯¹äºæ äººæºééçå¾åï¼æä»¬ä¸è¬éç¨è¿ç§æ¹å¼è¿è¡å¾åå¹éã\n\n 5. æå»ºåºæ¯å¾\n\nä½¿ç¨ä¸ç§å¾è®ºçæ¹æ³æ¥è¡¨ç¤ºåä¼åå¾åä¹é´çå¹éå³ç³»ï¼ä»èæé«éå»ºçæçåè´¨éã\n\n * æå»ºåºæ¯å¾çç®çæ¯ä¸ºäºæ¾åºæä¼çå¾åå¯¹æ¥è¿è¡ä¸è§ååä½å§¿ä¼°è®¡ï¼é¿åä½¿ç¨åä½æéè¯¯çå¹éä¿¡æ¯ã\n\n * æå»ºåºæ¯å¾çæ¹æ³æ¯å°ææå¾åçä½ä¸ä¸ªæ åå¾çèç¹ï¼å°ä¸¤ä¸ªå¾åä¹é´çå¹éç¹æ°æèéå åº¦çä½è¾¹çæéï¼ç¶åä½¿ç¨æå°çææ ç®æ³ï¼å¦PrimæKruskalï¼æ¥æ¾åºæå¤§æéçè¾¹ï¼å½¢æä¸ä¸ªè¿éä¸æ ç¯çå­å¾ã\n\n * æå»ºåºæ¯å¾çè¿ç¨å¯ä»¥åä¸ºä¸¤ä¸ªé¶æ®µï¼ç¬¬ä¸ä¸ªé¶æ®µæ¯æ ¹æ®ææå¾åå¯¹ä¹é´çå¹éç¹æ°æèéå åº¦æ¥æå»ºä¸ä¸ªåå§çæå¤§çææ ï¼ç¬¬äºä¸ªé¶æ®µæ¯æ ¹æ®æ¯ä¸ªå¾åå¯¹ä¹é´çå ä½ä¸è´æ§ï¼å¦åºç¡ç©éµæååºç©éµï¼æ¥å¯¹åå§çæå¤§çææ è¿è¡ä¿®åªåä¼åï¼å»é¤éè¯¯æä¸ç¨³å®çè¾¹ã\n\n * æå»ºåºæ¯å¾çç»ææ¯ä¸ä¸ªåå«ææå¾åèç¹åé¨åå¹éè¾¹çæå¤§çææ ï¼è¿ä¸ªæ å¯ä»¥ç¨æ¥æå¯¼åç»­çéå»ºæ­¥éª¤ï¼ä¾å¦éæ©åå§å¾åå¯¹ï¼æ·»å æ°çå¾åï¼è¿è¡å±é¨æå¨å±ä¼åç­ã\n\nç±äºå¢éå¼SfMï¼Structure from Motionï¼è¿å¨ç»ææ¢å¤ï¼éè¦å¨æ¯æ¬¡æ·»å å¾ååé½è¿è¡ä¸æ¬¡å±é¨æå¨å±çæç»è°æ´ï¼Bundle Adjustmentï¼ï¼è¿ä¼å¯¼è´æçè¾ä½ï¼èä¸ç±äºè¯¯å·®ç´¯ç§¯ï¼å®¹æåºç°æ¼ç§»é®é¢ãå æ­¤ï¼æéè¦ä½¿ç¨å¾è®ºçæ¹å¼æ¥è¡¨ç¤ºåä¼åå¾åä¹é´çå¹éå³ç³»ï¼ä»èæé«éå»ºçæçåè´¨éãå·ä½æ¥è¯´ï¼æå¯ä»¥å°ææå¾åçä½ä¸ä¸ªæ åå¾çèç¹ï¼å°ä¸¤ä¸ªå¾åä¹é´çå¹éç¹æ°æèéå åº¦çä½è¾¹çæéï¼ç¶åä½¿ç¨æå°çææ ç®æ³ï¼å¦PrimæKruskalï¼æ¥æ¾åºæå¤§æéçè¾¹ï¼å½¢æä¸ä¸ªè¿éä¸æ ç¯çå­å¾ãè¿æ ·ï¼æå°±å¯ä»¥æ ¹æ®è¿ä¸ªå­å¾æ¥æå¯¼åç»­çéå»ºæ­¥éª¤ï¼ä¾å¦éæ©åå§å¾åå¯¹ï¼æ·»å æ°çå¾åï¼è¿è¡å±é¨æå¨å±ä¼åç­ã\n\næä»¬çç®æ æ¯ä½¿ç¨å¾åçæ¹å¼æ¥éå»ºä¸ç»´æ¨¡åï¼ä½æ¯ç±äºå¢éå¼çSfMç®æ³æçè¾ä½ï¼å®¹æåºç°è¯¯å·®ç´¯ç§¯åæ¼ç§»é®é¢ï¼æä»¥ä½ éè¦å¯¹å¾åä¹é´çå¹éå³ç³»è¿è¡ä¼åãæä»¬çæè·¯æ¯ä½¿ç¨å¾è®ºçæ¹æ³ï¼å°å¾åé´çå¹éå³ç³»è¡¨ç¤ºä¸ºä¸ä¸ªæ åå¾ï¼å¶ä¸­æ¯ä¸ªé¡¶ç¹ä»£è¡¨ä¸å¼ å¾åï¼æ¯æ¡è¾¹ä»£è¡¨ä¸¤å¼ å¾åä¹é´å­å¨å±åçå¯è§åºåãç¶åä½ å°ä½¿ç¨æå¤§çææ ç®æ³ï¼ä»è¿ä¸ªæ åå¾ä¸­æ¾åºä¸æ£µåå«ææé¡¶ç¹ä¸è¾¹æå¼ä¹åæå¤§çæ ãè¾¹æå¼å¯ä»¥æ ¹æ®ä¸¤å¼ å¾åä¹é´çå¹éç¹æ°ç®ãåºçº¿é¿åº¦ãä¸è§éæµè§åº¦ç­å ç´ æ¥ç¡®å®ãæå¤§çææ å¯ä»¥ä¿è¯ä½ éåçå¾åå¯¹å·æè¾å¥½çè§è§åå¹éè´¨éï¼ä»èæé«éå»ºææãæ¥ä¸æ¥ï¼ä½ å°ä½¿ç¨å¾å²ç®æ³ï¼å°æå¤§çææ ååä¸ºå¤ä¸ªå­å¾ãå¾å²ç®æ³å¯ä»¥æ ¹æ®å­å¾ä¸­é¡¶ç¹åè¾¹çä¸ªæ°ãè¾¹æå¼ä¹åç­æ¡ä»¶æ¥ç¡®å®ååæ¹æ¡ãåååçå­å¾å¯ä»¥çä½æ¯ç¸å¯¹ç¬ç«çå°ååºæ¯ï¼å¯¹æ¯ä¸ªå­å¾åç¬è¿è¡å¢éå¼SfMéå»ºï¼å¾å°ç¸æºåæ°åä¸ç»´ç¹åæ ãæåï¼ä½ å°ä½¿ç¨æç»è°æ´ç®æ³ï¼å¯¹ææå­å¾è¿è¡å¨å±ä¼åï¼æ¶é¤è¯¯å·®ç´¯ç§¯åæ¼ç§»ï¼å¹¶å°ææå­å¾åå¹¶ä¸ºæç»æ¨¡åã\n\n 6. å¢éSfMéå»º\n\nå¨å¢éå¼sfmä¸­ï¼éæ©ä¸ä¸å¹å¾åçç®çæ¯ä¸ºäºæ©å±éå»ºæ¨¡åï¼å¢å åºæ¯è¦çèå´ååå°è¯¯å·®ç´¯ç§¯ãéæ©ä¸ä¸å¹å¾åçååæ¯è¦ä¿è¯ä¸å·²ç»éå»ºçå¾åæè¶³å¤å¤çå¹éç¹ï¼ä¸å·æè¾å¥½çè§å·®è§åº¦ï¼ä»¥ä¾¿äºè¿è¡ä¸è§ååPnPãä¸ç§å¸¸ç¨çæ¹æ³æ¯æ ¹æ®å¾åä¹é´çå¹éç¹æ°ç®ãåºçº¿é¿åº¦ãä¸è§éæµè§åº¦ç­å ç´ æ¥ç¡®å®è¾¹æå¼ï¼ç¶åä»å­å¾ä¸­æ¾åºä¸æ£µæå¤§çææ ï¼æç§æ çæ·±åº¦ä¼åé¡ºåºéåå¾åãè¿éæä»¬éç¨ä¸ç§ä¸ä¸ä¸ªæä½³è§å¾ç­ç¥æ¥æ¾å°å½åæéåéå»ºçå¾åã\n\nä¸ä¸ä¸ªæä½³è§å¾è§åå·²ç»å¨è®¡ç®æºè§è§ãæå½±æµéåæºå¨äººææ¯é¢åè¿è¡äºç ç©¶ ãå¨ç¨³å¥ç SfM ä¸­éæ©ä¸ä¸ä¸ªæä½³è§å¾æ¨å¨æå°åéå»ºè¯¯å·®ãå¨è¿éï¼æä»¬æåºäºä¸ç§ææçä¸ä¸ä¸ªæä½³è§å¾ç­ç¥ï¼éµå¾ªä¸ç§æå¤§åéå»ºé²æ£æ§çä¸ç¡®å®æ§é©±å¨æ¹æ³ãéæ©ä¸ä¸ä¸ªæä½³è§å¾è³å³éè¦ï¼å ä¸ºæ¯ä¸ªå³å®é½ä¼å½±åå©ä½çéå»ºãä¸ä¸ªéè¯¯çå³å®å¯è½ä¼å¯¼è´ä¸è¿ä¸²çç¸æºéè¯¯æ³¨ååéè¯¯çä¸è§æµéãæ­¤å¤ï¼éæ©ä¸ä¸ä¸ªæä½³è§å¾ä¼æå¤§å°å½±åå§¿å¿ä¼°è®¡çè´¨éä»¥åä¸è§æµéçå®æ´æ§ååç¡®æ§ãåç¡®çå§¿æä¼°è®¡å¯¹äºç¨³å¥ç SfM è³å³éè¦ï¼å ä¸ºå¦æå§¿æä¸åç¡®ï¼ç¹ä¸è§æµéå¯è½ä¼å¤±è´¥ã\n\nä¸ä¸ä¸ªæä½³è§å¾çåéèä¸æ¯è³å°çå° Nt > 0 ä¸ªä¸è§ç¹çå°æªæ³¨åçå¾åãä½¿ç¨ç¹å¾è½¨è¿¹å¾å¯ä»¥ææå°è·è¸ªæ­¤ç»è®¡ä¿¡æ¯ãå¯¹äº Internet æ°æ®éï¼æ­¤å¾å¯è½éå¸¸å¯éï¼å ä¸ºè®¸å¤å¾åå¯è½ä¼çå°ç¸åçç»æãå æ­¤ï¼å¨éå»ºçæ¯ä¸æ­¥é½æè®¸å¤åéè§å¾å¯ä¾éæ©ã Haner ç­äººæåºçè¯¦å°½åæ¹å·®ä¼ æ­ãæ¯ä¸å¯è¡çï¼å ä¸ºéè¦å¨æ¯ä¸ªæ­¥éª¤ä¸­ä¸ºæ¯ä¸ªåéèè®¡ç®ååæåæ¹å·®ãæä»¬æåºçæ¹æ³ä½¿ç¨é«æçå¤åè¾¨çåææ¥è¿ä¼¼ä»ä»¬çä¸ç¡®å®æ§é©±å¨æ¹æ³ãæä»¬å¿é¡»åæ¶è·è¸ªæ¯ä¸ªåéå¾åä¸­å¯è§ç¹çæ°éåå¶åå¸ãæ´å¤çå¯è§ç¹åè¿äºç¹çæ´åååå¸åºè¯¥å¯¼è´æ´é«çåæ° Sï¼è¿æ ·å·ææ´å¥½æ¡ä»¶çå¯è§ç¹éç½®çå¾åé¦åè¢«æ³¨åãä¸ºäºå®ç°è¿ä¸ªç®æ ï¼æä»¬å°å¾åç¦»æ£åä¸ºä¸ä¸ªåºå®å¤§å°çç½æ ¼ï¼å¨ä¸¤ä¸ªç»´åº¦ä¸é½æ Kl binsãæ¯ä¸ªååæ ¼æä¸¤ç§ä¸åçç¶æ:ç©ºåæ»¡ãæ¯å½ç©ºååæ ¼ä¸­çä¸ä¸ªç¹å¨éå»ºè¿ç¨ä¸­åå¾å¯è§æ¶ï¼ååæ ¼çç¶æå°±ä¼åä¸ºå®æ´ï¼å¹¶ä¸å¾åçåæ° Si ä¼å¢å ä¸ä¸ªæé wlãéè¿è¿ä¸ªæ¹æ¡ï¼æä»¬éåäºå¯è§ç¹çæ°éãç±äºç»èåªå¯¹æ»åæè´¡ç®ä¸æ¬¡ï¼å æ­¤æä»¬æ´å¾åäºå¨ç¹èéå¨å¾åçä¸é¨åä¸­çæåµä¸æ´ååå°åå¸(å³åªæå°æ°ç»èåå«ææå¯è§ç¹)ãä½æ¯ï¼å¦æå¯è§ç¹çæ°éä¸º Nt < K2 l ï¼åæ­¤æ¹æ¡å¯è½æ æ³å¾å¥½å°æè·ç¹çåå¸ï¼å ä¸ºæ¯ä¸ªç¹é½å¯è½è½å¥åç¬çååæ ¼ä¸­ãå æ­¤ï¼æä»¬éè¿å¨æ¯ä¸ªè¿ç»­çº§å«ä½¿ç¨æ´é«åè¾¨ç Kl = 2l å¯¹å¾åè¿è¡ååºï¼å°ååæè¿°çæ¹æ³æ©å±å°å·æ l = 1...L çº§å«çå¤åè¾¨çéå­å¡ãå¾åå¨ææçº§å«ä¸ç´¯ç§¯ï¼æé wl = K2 l ä¸åè¾¨çç¸å³ãè¯¥æ°æ®ç»æåå¶åæ°å¯ä»¥ææå°å¨çº¿æ´æ°ã\n\nä¸ºäºå¤çä»»æçº§å«çå¼å¸¸å¼å¤ç¹å¼,æä»¬ä½¿ç¨ RANSAC å¶å®äºå¤è§å¾ä¸è§ååé®é¢ãæä»¬èèç¹å¾è½¨è¿¹ T = {Tn | n =1...NT } ä½ä¸ºä¸ç»å·æåéªæªç¥åç¹æ¯ç Îµ çæµéå¼ãæµé Tn ç±å½ä¸åå¾åè§å¯ Ì xnâ R2 åç¸åºçç¸æºä½å§¿ Pn â SE(3) ç»æ,å®ä¹ä»ä¸çå°ç¸æºå¸§çæå½± P = [RT âRT t] å¶ä¸­ R â SO(3) å t â R3ãæä»¬çç®æ æ¯æå¤§éåº¦å°æ¯æç¬¦åæ¡ä»¶è¯å¥½çåè§å¾ä¸è§åå\n\nXabâ¼Ï(xa,xb,Pa,Pb)withaâ b\n\nå¶ä¸­ Ï æ¯ä»»ä½éæ©çä¸è§ååæ¹æ³(å¨æä»¬çä¾å¦ DLT æ¹æ³ [26]),Xab æ¯ä¸è§ç¹ãè¯·æ³¨æ,æä»¬ä¸ä¼ä»å¨æ¯å¾åå¯¹(ç¬¬ 4.1 è)è¿è¡ä¸è§æµé,ä»¥é¿åç±äºå§¿å¿ä¼°è®¡ä¸åç¡®èå¯¼è´éè¯¯çä¸è§æµéè§åº¦ãæ¡ä»¶è¯å¥½çæ¨¡åæ»¡è¶³ä¸¤ä¸ªçº¦æãé¦å,è¶³å¤çä¸è§ååè§\n\ncosâ¡Î±=taâXab||taâXab||2âtaâXab||tbâXab||2\n\nå¶æ¬¡,æ­£æ·±åº¦ da å db w.r.t.è§å¾ Pa å Pb(ææ§çº¦æ),æ·±åº¦å®ä¹ä¸º\n\nd=[p31p32p33p34][XabT1]T\n\nå¶ä¸­ pmn è¡¨ç¤º P çç¬¬ m è¡åç¬¬ n åä¸­çåç´ ãå¦æ Tn å·ææ­£æ·±åº¦ dn ä¸å¶éæå½±è¯¯å·®\n\nen=||xnâ[x/zy/z]||2with[xyz]=Pn[Xab1]\n\nå°äºæä¸ªéå¼ tã RANSAC å° K æå¤§åä½ä¸ºä¸ç§è¿­ä»£æ¹æ³,å¹¶ä¸éå¸¸å®ä¼éæºååå°å¯¹å¤§å°ä¸º 2 çæå°éåè¿è¡éæ ·ãä½æ¯,ç±äºå¯¹äºå° NT å¯è½ä¼å¤æ¬¡éæ ·ç¸åçæå°é,å æ­¤æä»¬å°éæºéæ ·å¨å®ä¹ä¸ºä»çæå¯ä¸æ ·æ¬ãä¸ºç¡®ä¿è³å°å¯¹ä¸ä¸ªæ ç¦»ç¾¤å¼çæå°éè¿è¡éæ ·,æç½®ä¿¡åº¦Î·,RANSAC å¿é¡»è³å°è¿è¡ K æ¬¡è¿­ä»£ãç±äºåéªåç¹æ¯çæªç¥,æä»¬å°å¶è®¾ç½®ä¸ºè¾å°çåå§å¼ Ç«0 å¹¶å¨æä»¬æ¾å°æ´å¤§çå±è¯é(èªéåºåæ­¢æ å)æ¶è°æ´ Kãå ä¸ºç¹å¾è½¨è¿¹å¯è½åå«å¤ä¸ªç¬ç«ç¹,æä»¥æä»¬éè¿ä»å©ä½æµéä¸­å é¤å±è¯éæ¥éå½å°è¿è¡æ­¤è¿ç¨ãå¦æææ°å±è¯éçå¤§å°å°äºä¸,åéå½åæ­¢ã ä¸ºäºåå°ç´¯ç§¯è¯¯å·®ï¼æä»¬å¨å¾åéååä¸è§æµéåæ§è¡ BAãéå¸¸ï¼ä¸éè¦å¨æ¯ä¸ªæ­¥éª¤ ä¹åæ§è¡å¨å± BAï¼å ä¸ºå¢é SfM åªä¼å½±åå±é¨æ¨¡åãå æ­¤ï¼æä»¬å¨æ¯æ¬¡å¾åéååå¯¹è¿ æ¥æå¤çå¾åéæ§è¡å±é¨ BAãç±»ä¼¼äº VisualSFMï¼æä»¬ä»å¨å°æ¨¡åå¢é¿ä¸å®ç¾åæ¯åæ æ§è¡å¨å± BAï¼ä»èå¯¼è´ SfM çæéçº¿æ§è¿è¡æ¶é´ãåæ°åãä¸ºäºèèæ½å¨çå¼å¸¸å¼ï¼æä»¬ä½¿ç¨ Cauchy å½æ°ä½ä¸ºå±é¨ BA ä¸­çç¨³å¥æå¤±å½æ° Ïjãå¯¹äºå ç¾ä¸ªæåå¤´çé®é¢ï¼æä»¬ä½¿ç¨ç¨çç´æ¥æ±è§£å¨ï¼å¯¹äºæ´å¤§çé®é¢ï¼æä»¬ä¾èµ PCGãæä»¬ä½¿ç¨ Ceres Solver å¹¶æä¾å¨ä»»æå¾åç»åä¹é´å±äº«ä»»æå¤æåº¦ç¸æºæ¨¡åçéé¡¹ãå¯¹äºæ åºçäºèç½ç§çï¼æä»¬ä¾ èµäºå·æä¸ä¸ªå¾åç¸ååæ°çç®åç¸æºæ¨¡åï¼å ä¸ºä¼°è®¡ä¾èµäºçº¯ç²¹çèªæ ¡åãè¿æ»¤ãBAä¹åï¼ä¸äºè§å¯ç»æä¸æ¨¡åä¸ç¬¦ãå¨å¨å± BA ä¹åï¼æä»¬è¿æ£æ¥éåç¸æºï¼ä¾å¦ç±å¨æ¯å¾æäººå·¥å¢å¼ºå¾åå¼èµ·çãéå¸¸ï¼è¿äºç¸æºåªæç¦»ç¾¤å¼è§æµå¼ï¼æèå®ä»¬çåå¨å½æ°ä¼æ¶æå°ä¸ä¸ªèåçæå°å¼ãå æ­¤ï¼æä»¬ä¸å°ç¦è·åå¤±çåæ°éå¶å¨åéªåºå®èå´åï¼èæ¯è®©å®ä»¬å¨ BA ä¸­èªç± ä¼åãç±äºä¸»ç¹æ ¡åæ¯ä¸ä¸ªä¸éå®çé®é¢ï¼æä»¬å°å¶åºå®å¨æªæ ¡åç¸æºçå¾åä¸­å¿ãå· æå¼å¸¸è§éæå¤§å¤±çç³»æ°å¹åº¦çç¸æºè¢«è®¤ä¸ºæ¯éè¯¯ä¼°è®¡å¹¶å¨å¨å± BA ä¹åè¢«è¿æ»¤ã\n\nPnPï¼Perspective-n-Pointï¼æ¯æå·²ç¥nä¸ª3Dç©ºé´ç¹ä»¥åå®ä»¬å¨å¾åä¸çæå½±ä½ç½®æ¶ï¼ä¼°ç®ç¸æºæå¨çä½å§¿çé®é¢ãPnPå¯¹è¯¥å¾åè¿è¡éåçè¿ç¨æ¯å©ç¨å·²ç»éå»ºç3Dç¹åæ°å¾åä¸­çå¹éç¹ï¼æ±è§£ç¸æºçæè½¬ç©éµåå¹³ç§»åéãç±äºå¹éç¹ä¸­å¯è½å­å¨å¼å¸¸å¼ï¼å æ­¤éå¸¸ä½¿ç¨RANSACç­é²æ£ä¼°è®¡æ¹æ³æ¥åé¤å¼å¸¸å¼ï¼å¹¶ä½¿ç¨æå°åéæå½±è¯¯å·®çæ¹æ³æ¥ä¼åç¸æºä½å§¿ ã\n\nPnPé®é¢å¯ä»¥ç¨æ°å­¦è¯­è¨æè¿°å¦ä¸ï¼\n\nxi=K(RXi+t),i=1,â¦,n\n\nå¶ä¸­ï¼xiæ¯ç¬¬iä¸ª3Dç¹Xiå¨å¾åä¸çæå½±åæ ï¼Kæ¯ç¸æºçååç©éµï¼Råtæ¯ç¸æºçæè½¬ç©éµåå¹³ç§»åéï¼å³ç¸æºçä½å§¿ãæ±è§£PnPé®é¢å°±æ¯æ±è§£Råtã\n\nPnPé®é¢æå¤ç§ç®æ³ï¼æä»¬ä½¿ç¨ä»¥ä¸ä¸ç§å¸¸è§çç®æ³ï¼\n\n * ç´æ¥çº¿æ§åæ¢æ³ï¼Direct Linear Transformï¼DLTï¼ï¼è¿ç§æ¹æ³åè®¾ç¸æºå·²ç»æ ¡åè¿äºï¼å³å·²ç¥Kãå¯¹äºæ¯ç»3D-2Då¹éç¹ï¼å¯ä»¥å¾å°ä¸¤ä¸ªçº¿æ§æ¹ç¨ï¼ä¸å±æ12ä¸ªæªç¥æ°ï¼Råtçåç´ ï¼ãè³å°éè¦6ç»å¹éç¹æè½æ±è§£çº¿æ§æ¹ç¨ç»ãè®¾ænç»å¹éç¹ï¼åå¯ä»¥åæç©éµå½¢å¼ï¼\n   \n   AF=0\n   \n   å¶ä¸­ï¼Aæ¯ä¸ä¸ª2nÃ12çç©éµï¼Fæ¯ä¸ä¸ª12Ã1çåéï¼åå«äºRåtçåç´ ãå½n=6æ¶ï¼å¯ä»¥ç´æ¥æ±è§£çº¿æ§æ¹ç¨ç»ãå½n>6æ¶ï¼å¯ä»¥ä½¿ç¨å¥å¼å¼åè§£ï¼SVDï¼ç­æ¹æ³æ±è§£æå°äºä¹è§£ãç¶åï¼å°Fæ¢å¤ä¸ºRåtã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯ç®åå¿«éï¼ç¼ºç¹æ¯åªèèäºçº¿æ§æä¹ä¸çæä¼è§£ï¼æ²¡æèèå ä½çº¦æï¼ä¾å¦æè½¬ç©éµçæ­£äº¤æ§ï¼ã\n\n * P3Pï¼è¿ç§æ¹æ³æ¯å·²ç¥ä¸ä¸ª3Dç®æ ç¹ä¸å¶2Dæå½±ä¹é´çå¯¹åºå³ç³»ï¼æ¥ç¡®å®æ å®ç¸æºçä½å§¿é®é¢ãè¿ç§æ¹æ³å©ç¨äºä¸è§çº¦æï¼ç»åºä¸è§çº¦ææä¹ä¸çæä¼è§£ãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨ç¸ä¼¼ä¸è§å½¢ãååæ°ç­æ¹æ³æ¥åå°æªç¥åæ°çä¸ªæ°ï¼æP3Pæ¹ç¨ç»è½¬åä¸ºåæ¬¡æ¹ç¨æèå­æ¬¡æ¹ç¨ãç¶åï¼ä½¿ç¨çé¡¿è¿­ä»£æ³ç­æ¹æ³æ±è§£æ¹ç¨çå®æ ¹ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯èèäºå ä½çº¦æï¼ç¼ºç¹æ¯å¯è½å­å¨å¤è§£æèç¼ºè§£çæåµãä¸ºäºå¾å°å¯ä¸çè§£ï¼è³å°è¿åºå¼å¥ä¸ä¸ªç¹ï¼æå»ºä¸¤ä¸ªä¸è§å½¢ï¼è¿è¡æ±è§£ãå¦ä¸ç§æ¹æ³æ¯ä½¿ç¨RANSACç­é²æ£ä¼°è®¡æ¹æ³ï¼å°ç¹éååä¸ºä¸ä¸ªç¹å­éï¼æ£æ¥è¿äºå­éçä¸è´æ§ã\n\n * RPnPï¼è¿ç§æ¹æ³æ¯ä¸ç§é²æ£çO(n)å¤æåº¦çPnPç®æ³ï¼å¯ä»¥å¤çä»»ææ°éç3D-2Då¹éç¹ãè¿ç§æ¹æ³çææ³æ¯åå»ºç«ä¸ä¸ªæ°çæ­£äº¤åæ ç³»ï¼ç¶åæ±è§£æ­£äº¤åæ ç³»å°ç¸æºåæ ç³»ä¹é´çæè½¬åå¹³ç§»ç©éµãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨ä¸»æååæï¼PCAï¼ç­æ¹æ³ç¡®å®æè½¬è½´ï¼ç¶åä½¿ç¨æå°äºä¹æ³ç­æ¹æ³æ±è§£æè½¬è§åå¹³ç§»ç¢éçæ¹ç¨ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯é²æ£ãé«æãéç¨ï¼ç¼ºç¹æ¯éè¦è¿è¡éçº¿æ§ä¼åï¼å¯è½é·å¥å±é¨æä¼è§£ã\n\nå¯¹äºä»¥ä¸ä¸ç§æ¹æ³ï¼æä»¬åå«è¿è¡æ±è§£ï¼ç±äºæå»ºçæ±è§£æ¹å¼ä¸ä¸è´ï¼æä»¬å¯¹ä¸ç§æ¹å¼æ±è§£çç»æè¿è¡ç²¾åº¦åæï¼éåç®åè®¤ä¸ºæä¼çç»æä½ä¸ºPnPçç»æã\n\nBAæ¯ææç»è°æ´ï¼Bundle Adjustmentï¼çç¼©åï¼å®æ¯ä¸ç§éçº¿æ§æå°äºä¹ä¼åæ¹æ³ï¼ç¨äºä»å¤ä¸ªè§è§ä¸çå¹éç¹ï¼åæ¶æ¢å¤åºç¸æºçåå¤åæ°å3Dç©ºé´ç¹çåæ ãBAçç®æ æ¯æå°åéæå½±è¯¯å·®ï¼å³å°3Dç¹æå½±å°åä¸ªç¸æºä¸å¾å°ç2Dåæ ä¸å®éè§æµå°ç2Dåæ ä¹é´çè·ç¦»å¹³æ¹åã\n\nBAçæ°å­¦æ¨¡åå¯ä»¥è¡¨ç¤ºä¸ºï¼\n\nminC,X=ânj=âmÏ(â¥Ï(Cj,Xi)âxijâ¥2)\n\nå¶ä¸­ï¼Cjæ¯ç¬¬jä¸ªç¸æºçåæ°ï¼åæ¬åååå¤åï¼ï¼Xiæ¯ç¬¬iä¸ª3Dç¹çåæ ï¼Ï(Cj,Xi)æ¯å°3Dç¹Xiæå½±å°ç¬¬jä¸ªç¸æºä¸å¾å°ç2Dåæ ï¼xijæ¯ç¬¬jä¸ªç¸æºä¸è§æµå°çç¬¬iä¸ª3Dç¹å¯¹åºç2Dåæ ï¼Ïæ¯ä¸ä¸ªé²æ£æå¤±å½æ°ï¼ç¨äºéä½å¼å¸¸å¼çå½±åã\n\nä¸ºäºæ±è§£è¿ä¸ªä¼åé®é¢ï¼éè¦è®¡ç®ç®æ å½æ°å³äºç¸æºåæ°å3Dç¹åæ çåå¯¼æ°ï¼å³éå¯æ¯ç©éµãç¶åå¯ä»¥ä½¿ç¨é«æ¯-çé¡¿æ³æèåæä¼¯æ ¼-é©¬å¤¸å°ç¹æ³ç­æ¹æ³æ¥è¿­ä»£å°æ´æ°ç¸æºåæ°å3Dç¹åæ ï¼ç´å°æ¶ææèè¾¾å°æå¤§è¿­ä»£æ¬¡æ°ã\n\nBA æ¯ SfM ä¸­çä¸»è¦æ§è½ç¶é¢ãæä»¬æåºäºä¸ç§æ¹æ³ï¼è¯¥æ¹æ³å©ç¨å¢é SfM åå¯éç§çéåçåºæç¹æ§ï¼éè¿å°åä½ç¸æºèç±»å°é«åºæ¯éå ç»ä¸­æ¥æ´ææå°åæ° å BAãç±äºå´è¶£ç¹çåæ¬¢è¿ç¨åº¦ä¸åï¼ç§çééå¸¸å·æé«åº¦ä¸ååçå¯è§æ§æ¨¡å¼ãæ­¤å¤ï¼æ åºéåéå¸¸èéæå¨è®¸å¤å¾åä¸­å±åå¯è§çç¹çæ®µãè®¸å¤ä»¥åçå·¥ä½å©ç¨è¿ä¸ äºå®æ¥æé« BA çæçï¼å°æåæºåç¹ååä¸ºå­å¾ï¼å­å¾éè¿åéç¬¦åéè¿æ¥ï¼å°åå ä½ä¸ºè¿æ¥æåæºåç¹åæ°å¾ä¸çå¾åå²é®é¢ãç¶å BA å¨åºå®ç¸æºåç¹åæ¹è¿åéç¬¦åé ä¹é´äº¤æ¿ï¼åä¹äº¦ç¶ãå°å·æä½ç§©çå¤ä¸ªç¹æå ä¸ºåä¸ªå ç´ ï¼å¯¹ç¸æºæ½å é«ç§©çº¦æï¼ä»èå¨ç¸æºå±äº«è®¸å¤ç¹æ¶æä¾è®¡ç®ä¼å¿ãæä»¬æåºçæ¹æ³æ¯ åè¿äºååå·¥ä½çå¯åãæä»¬å°é®é¢ååä¸ºåé¨åæ°è¢«åè§£çå­å¾ãSfMæ ¹æ®å¾ååç¹çåæ°æ¯å¦åå°ææ°å¢éæ¨¡åæ©å±çå½±åï¼å°å¾ååç¹åä¸ºä¸¤ç»ãå¯¹äºå¤§é®é¢ï¼å¤§é¨ååºæ¯ä¸åå½±åï¼å ä¸ºæ¨¡åéå¸¸å¨å±é¨æ©å±ãBA èªç¶ä¼éå¯¹æ°æ©å±çé¨åè¿è¡æ´å¤ä¼åï¼èå¶ä»é¨ååªä¼å¨æ¼ç§»çæåµä¸è¿è¡æ¹è¿ãæ­¤å¤ï¼ç§çééå¸¸ç¸æºåå¸ä¸ååï¼æè®¸å¤åä½è§ç¹ãåè¿äºè§å¯çå¯åï¼æä»¬å°æª åå½±åçåºæ¯é¨åååä¸ºç» G = {Gr | r = 1...NG} çé«åº¦éå å¾åå¹¶å°æ¯ä¸ªç» Gr åæ° åä¸ºåä¸ªç¸æºãåææ°æ©å±å½±åçå¾åè¢«ç¬ç«åç»ï¼ä»¥åè®¸å¯¹å¶åæ°è¿è¡æä½³ç»åãè¿ä¼å¯¼è´æ å BA åæ°åãå¯¹äºæªåå½±åçå¾åï¼æä»¬åå»ºåºæ°NGrç»ãå¦æå¾åæ¯å¨ææ°çæ¨¡åæ©å±æé´æ·»å çï¼æèå¦æè¶è¿ Îµrçè§æµå¼æ¯å·æå¤§äº r åç´ çéæå½±è¯¯å·®ï¼ä»¥æ¹è¿éæ°ä¸è§åç¸æºï¼ï¼æä»¬è®¤ä¸ºå¾ååå°å½±åãä¸ç»åçå¾ååºå°½å¯è½åä½ï¼å¾åä¹é´çå±åå¯è§ç¹çæ°éæ¯æè¿°å®ä»¬ç¸äºå½±åç¨åº¦çåº¦éãå¯¹äºå·æ NX ä¸ªç¹çåºæ¯ï¼æ¯ä¸ªå¾åé½å¯ä»¥ç¨äºè¿å¶å¯è§æ§åé vi â {0, 1}NX æ¥æè¿°ï¼å¶ä¸­å¦æç¹ Xn å¨å¾å i ä¸­å¯è§ï¼å vi ä¸­çç¬¬ n ä¸ªæ¡ç®ä¸º 1ï¼å¦åä¸º 0ãå¾å a å b ä¹é´çäº¤ äºç¨åº¦æ¯ä½¿ç¨å¯¹å®ä»¬çåé vi çæä½è¿ç®è®¡ç®ç\n\nVab=||vaâ§vb||||vaâ¨vb||\n\nä¸ºäºæå»ºç»ï¼æä»¬å°å¾åæåºä¸º I= {Ii | âviââ¥âvi 1â}ãæä»¬éè¿ä» Ì I ä¸­å é¤ç¬¬ä¸ä¸ªå¾å Ia å¹¶æ¾å°ä½¿ Vab æå¤§åçå¾å Ib æ¥åå§åä¸ä¸ªç» Grã\n\nf Vab > V å |Gr| < Sï¼å¾å Ib ä» Ì I ä¸­ç§»é¤å¹¶æ·»å å°ç» Grãå¦åï¼å°åå§åä¸ä¸ªæ°ç»ãä¸ºäºåå°å¯»æ¾ Ib çæ¶é´ï¼æä»¬éç¨å¯åå¼æ¹æ³å°æç´¢éå¶å¨ Kr ç©ºé´æè¿é»ï¼å¶å±åè§å¯æ¹åå¨ Â±Î² åº¦èå´åï¼å¶å¨æºæ¯è¿äºå¾åå¾å¯è½å±äº«è®¸å¤ç¹.ç¶åå¯¹ç»ä¸­çæ¯ä¸ªå¾åè¿è¡åæ°å w.r.t.ä¸ä¸ªå±åçç»å±é¨åæ ç³»ãåç»å¾åç BA ææ¬å½æ°æ¯\n\nEg=âjÏ(||Ïg(Gr,Pc,Xk)âxj||22)\n\nä½¿ç¨å¤é¨ç»åæ° Gr â SE(3) ååºå®ç Pcãç¶åå°ç» r ä¸­å¾åçæå½±ç©éµå®ä¹ä¸ºç»åå¾åå§¿æ Pcr = PcGr çä¸²èãæ»ææ¬ E æ¯åç»åæªåç»ææ¬è´¡ç®çæ»åãä¸ºäºææè¿æ¥ Gr å Pi çæè½¬åéï¼æä»¬ä¾èµååæ°ãç±äºè®¡ç® Ïg ç¸å¯¹äº Ï çç¸å¯¹å¼éè¾å°ï¼å æ­¤è¾å¤§çç»å¤§å°ä¼å¸¦æ¥æ´å¤§çæ§è½ä¼å¿ãè¯·æ³¨æï¼å³ä½¿å¯¹äºä¸¤ä¸ªç»çæåµï¼æä»¬ä¹è§å¯å°äºè®¡ç®ä¼å¿ãæ­¤å¤ï¼æ§è½ä¼å¿åå³äºé®é¢çå¤§å°ï¼å ä¸ºæåæºæ°éçåå°å¯¹ç´æ¥æ¹æ³çç«æ¹è®¡ç®å¤æåº¦çå½±åå¤§äºé´æ¥æ¹æ³ççº¿æ§å¤æåº¦ã\n\n 7. ä¸è§åæµé\n\nä¸è§åæ¯ææ ¹æ®ä¸¤ä¸ªæå¤ä¸ªè§è§ä¸çå¹éç¹ï¼æ¢å¤åºå®ä»¬å¯¹åºç3Dç©ºé´ç¹çè¿ç¨ãä¸è§åæ¯sfmä¸­éè¦çä¸æ­¥ï¼å®å¯ä»¥æ©å±éå»ºæ¨¡åï¼å¢å åºæ¯è¦çèå´ååå°è¯¯å·®ç´¯ç§¯ã\n\nä¸è§åçåºæ¬åçæ¯å©ç¨å°å½±å ä½ä¸­çäº¤åæ¯ä¸åæ§ï¼å³ä¸¤æ¡ç´çº¿ä¸çåä¸ªç¹çäº¤åæ¯å¨ä¸åè§è§ä¸ä¿æä¸åãå æ­¤ï¼å¦æå·²ç¥ä¸¤ä¸ªè§è§ä¸çå¹éç¹ä»¥åç¸æºçä½å§¿ï¼å°±å¯ä»¥éè¿æ±è§£çº¿æ§æ¹ç¨ç»æèæå°åéæå½±è¯¯å·®ç­æ¹æ³ï¼å¾å°3Dç©ºé´ç¹çåæ ã\n\n\n\nä¸è§åæå¤ç§ç®æ³ï¼è¿éç®åä»ç»ä¸ç§å¸¸è§çç®æ³ï¼\n\n * çº¿æ§ä¸è§åï¼è¿ç§æ¹æ³åè®¾ç¸æºå·²ç»æ ¡åè¿äºï¼å³å·²ç¥ç¸æºçååç©éµãå¯¹äºæ¯ç»2D-2Då¹éç¹ï¼å¯ä»¥å¾å°ä¸ä¸ªçº¿æ§æ¹ç¨ï¼ä¸å±æ4ä¸ªæªç¥æ°ï¼3Dç¹çé½æ¬¡åæ ï¼ãè³å°éè¦ä¸¤ç»å¹éç¹æè½æ±è§£çº¿æ§æ¹ç¨ç»ãè®¾ænç»å¹éç¹ï¼åå¯ä»¥åæç©éµå½¢å¼ï¼\n   \n   AX=0\n   \n   å¶ä¸­ï¼Aæ¯ä¸ä¸ª2nÃ4çç©éµï¼Xæ¯ä¸ä¸ª4Ã1çåéï¼åå«äº3Dç¹çé½æ¬¡åæ ãå½n=2æ¶ï¼å¯ä»¥ç´æ¥æ±è§£çº¿æ§æ¹ç¨ç»ãå½n>2æ¶ï¼å¯ä»¥ä½¿ç¨å¥å¼å¼åè§£ï¼SVDï¼ç­æ¹æ³æ±è§£æå°äºä¹è§£ãç¶åï¼å°Xè½¬æ¢ä¸ºéé½æ¬¡åæ ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯ç®åå¿«éï¼ç¼ºç¹æ¯åªèèäºçº¿æ§æä¹ä¸çæä¼è§£ï¼æ²¡æèèå ä½çº¦æï¼ä¾å¦ç¸æºä½å§¿å3Dç¹ä¹é´çä¸è´æ§ï¼ã\n\n * éçº¿æ§ä¸è§åï¼è¿ç§æ¹æ³æ¯å¨çº¿æ§ä¸è§åçåºç¡ä¸ï¼ä½¿ç¨éçº¿æ§ä¼åæ¹æ³æ¥è¿ä¸æ­¥æé«ç²¾åº¦åé²æ£æ§ãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨é«æ¯-çé¡¿æ³æèåæä¼¯æ ¼-é©¬å¤¸å°ç¹æ³ç­æ¹æ³æ¥æå°åéæå½±è¯¯å·®ï¼\n   \n   minXâi=1nâ¥Ï(Pi,X)âxiâ¥2\n   \n   å¶ä¸­ï¼Ï(Pi,X)æ¯å°3Dç¹Xæå½±å°ç¬¬iä¸ªç¸æºä¸å¾å°ç2Dåæ ï¼xiæ¯ç¬¬iä¸ªç¸æºä¸è§æµå°ç2Dåæ ï¼Piæ¯ç¬¬iä¸ªç¸æºçæå½±ç©éµãè¿ç§æ¹æ³éè¦ç»å®ä¸ä¸ªåå§å¼ï¼éå¸¸å¯ä»¥ä½¿ç¨çº¿æ§ä¸è§åå¾å°çç»æä½ä¸ºåå§å¼ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯èèäºå ä½çº¦æï¼ç¼ºç¹æ¯éè¦è¿è¡è¿­ä»£ä¼åï¼å¯è½é·å¥å±é¨æä¼è§£æèæ¶æéåº¦æ¢ã\n\n * é²æ£ä¸è§åï¼è¿ç§æ¹æ³æ¯å¨éçº¿æ§ä¸è§åçåºç¡ä¸ï¼ä½¿ç¨é²æ£æå¤±å½æ°æ¥éä½å¼å¸¸å¼çå½±åãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨Huberæå¤±å½æ°æèTukeyæå¤±å½æ°ç­æ¹æ³æ¥æ¿ä»£å¹³æ¹æå¤±å½æ°ï¼ä½¿å¾éæå½±è¯¯å·®å¯¹äºå¼å¸¸å¼ä¸ææï¼\n   \n   minXâi=1nÏ(â¥Ï(Pi,X)âxiâ¥2)\n   \n   å¶ä¸­ï¼Ïæ¯ä¸ä¸ªé²æ£æå¤±å½æ°ï¼ä¾å¦ï¼\n   \n   Ï(x)={xx<cc+c22xâc2xâ¥c\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯é²æ£æ§é«ï¼ç¼ºç¹æ¯éè¦éæ©åéçé²æ£æå¤±å½æ°ååæ°ï¼ä»¥åè¿è¡è¿­ä»£ä¼åã\n\néæ°ä¸è§æµéãç±»ä¼¼äº VisualSfMï¼æä»¬æ§è¡éæ°ä¸è§æµé (RT) ä»¥å¨å¨å± BAï¼é¢ BA RTï¼ä¹åèèæ¼ç§»æåºãç¶èï¼BA éå¸¸ä¼æ¾çæ¹åç¸æºåç¹åæ°ãå æ­¤ï¼æä»¬å»ºè®®é è¿é¢å¤ç BA å RT æ­¥éª¤æ¥æ©å±éå¸¸ææç BA å RTãæ­¤æ­¥éª¤çç®çæ¯éè¿ç»§ç»­è·è¸ªä»¥ åæªè½ä¸è§åçç¹ï¼ä¾å¦ï¼ç±äºå§¿å¿ä¸åç¡®ç­ï¼æ¥æé«éå»ºçå®æ´æ§ã æä»¬ä¸å¢å ä¸è§åéå¼ï¼èæ¯ç»§ç»­è·è¸ªå·æè¯¯å·®ä½äºè¿æ»¤éå¼çè§æµå¼ãæ­¤å¤ï¼æä»¬å°è¯å å¹¶è½¨éï¼ä»èä¸ºä¸ä¸ä¸ª BA æ­¥éª¤æä¾æ´å¤çåä½ãè¿­ä»£ä¼åã Bundler å VisualSfM æ§ è¡ BA åè¿æ»¤çåä¸ªå®ä¾ãç±äºæ¼ç§»æ BA å RTï¼éå¸¸ BA ä¸­çå¤§é¨åè§å¯ç»ææ¯å¼å¸¸ å¼ï¼éåè¢«è¿æ»¤æãç±äº BA åå°å¼å¸¸å¼çä¸¥éå½±åï¼å æ­¤ BA çç¬¬äºæ­¥å¯ä»¥æ¾çæ¹åç» æãå æ­¤ï¼æä»¬å»ºè®®å¨è¿­ä»£ä¼åä¸­æ§è¡ BAãRT åè¿æ»¤ï¼ç´å°è¿æ»¤çè§å¯å¼å BA å RT ç¹çæ°éåå°ãå¨å¤§å¤æ°æåµä¸ï¼ç¬¬äºæ¬¡è¿­ä»£åç»æä¼æ¾çæ¹åå¹¶ä¸ä¼åä¼æ¶æã\n\n 8. åå¹¶æç»æ¨¡å\n\nä¸è¿°æ¹æ³ï¼æä»¬å·²ç»å¾å°äºåä¸ªå­å¾çSfMç»æï¼æä»¬æåä¸æ­¥æ¯å°åä¸ªå­æ¨¡ååå¹¶ã\n\n * æ±è§£åä¸ªå­å¾çå¾åéãä½ å¯ä»¥æ ¹æ®å­å¾ä¹é´çææå³ç³»ï¼å°ç¸é»æç¸äº¤çå­å¾åä¸ºä¸ç»ï¼å½¢æä¸ä¸ªå¾åéãä¾å¦ï¼å¦æä½ æåä¸ªå­å¾Aï¼Bï¼Cï¼Dï¼å¶ä¸­AåBæéå é¨åï¼BåCæéå é¨åï¼CåDæéå é¨åï¼é£ä¹ä½ å¯ä»¥å°Aï¼Bï¼Cåä¸ºä¸ç»ï¼å½¢æä¸ä¸ªå¾åéABCï¼å°Bï¼Cï¼Dåä¸ºä¸ç»ï¼å½¢æä¸ä¸ªå¾åéBCDã\n * æ¾åºåä¸ªå­å¾ä¸­éå çé¨åãä½ å¯ä»¥å¨æ¯ä¸ªå¾åéä¸­è¿è¡ç¹å¾ç¹å¹éï¼æ¾åºä¸åå­å¾ä¹é´å±äº«çç¹å¾ç¹ãä¾å¦ï¼å¨å¾åéABCä¸­ï¼ä½ å¯ä»¥æ¾åºAåBä¹é´å±äº«çç¹å¾ç¹ABï¼å¨å¾åéBCDä¸­ï¼ä½ å¯ä»¥æ¾åºBåCä¹é´å±äº«çç¹å¾ç¹BCï¼å¨ä¸¤ä¸ªå¾åéä¹é´ï¼ä½ å¯ä»¥æ¾åºBåCä¹é´å±äº«çç¹å¾ç¹BCâã\n * å©ç¨éå çé¨åï¼æ±è§£ä¸¤ä¸ªå­å¾çç¸ä¼¼åæ¢ãä½ å¯ä»¥æ ¹æ®å±äº«ç¹å¾ç¹ä¹é´çå¯¹åºå³ç³»ï¼æ±è§£ä¸¤ä¸ªå­å¾ä¹é´çç¸ä¼¼åæ¢ç©éµï¼Similarity Matrixï¼ï¼ä½¿å¾ä¸¤ä¸ªå­å¾è½å¤å¯¹é½ãä¾å¦ï¼å¨å¾åéABCä¸­ï¼ä½ å¯ä»¥æ ¹æ®ABä¹é´çå¯¹åºå³ç³»ï¼æ±è§£Aå°Bçç¸ä¼¼åæ¢ç©éµSABï¼å¨å¾åéBCDä¸­ï¼ä½ å¯ä»¥æ ¹æ®BCä¹é´çå¯¹åºå³ç³»ï¼æ±è§£Bå°Cçç¸ä¼¼åæ¢ç©éµSBCï¼å¨ä¸¤ä¸ªå¾åéä¹é´ï¼ä½ å¯ä»¥æ ¹æ®BCâä¹é´çå¯¹åºå³ç³»ï¼æ±è§£Bå°Câçç¸ä¼¼åæ¢ç©éµSBCâã\n * å°åä¸ªå­å¾çæ¨¡åè¿è¡èåãä½ å¯ä»¥æ ¹æ®ç¸ä¼¼åæ¢ç©éµï¼å°åä¸ªå­å¾çæ¨¡ååæ¢å°åä¸ä¸ªåæ ç³»ä¸ï¼ç¶åè¿è¡æ¨¡åèåãä¾å¦ï¼å¨å¾åéABCä¸­ï¼ä½ å¯ä»¥å°Açæ¨¡ååæ¢ä¸ºSABAï¼å¨å¾åéBCDä¸­ï¼ä½ å¯ä»¥å°Dçæ¨¡ååæ¢ä¸ºSBCDï¼å¨ä¸¤ä¸ªå¾åéä¹é´ï¼ä½ å¯ä»¥å°Cçæ¨¡ååæ¢ä¸ºSBCâ*Cï¼ç¶åå°ææçæ¨¡åè¿è¡èåï¼å¾å°æç»çä¸ç»´éå»ºç»æã\n\nå·ä½è¿ç¨å¦ä¸ï¼\n\nè¾å¥ä¸¤ä¸ªè¦å¯¹é½çæ¨¡åï¼è¾åºä»ä»¬ä¹é´çç¸ä¼¼åæ¢ç©éµalignmentè®¾ç½®RANSACçä¸äºåæ°ï¼æå¤§è¯¯å·®ï¼ååç¹çæ¾å°ä¸¤ä¸ªæ¨¡åä¹é´çå¬å±å¾çIåæååºä¸¤ä»½ï¼reconstruction1 ä¸­çIè¡¨ç¤ºä¸ºsrc_imagesï¼åreconstruction2ä¸­çIè¡¨ç¤ºä¸ºref_imagesä½¿ç¨RANSACä¼°ç®ä¸¤ä¸ªimageséçç¸ä¼¼åæ¢\n\nä¸¤ç¹äºä¸­çææç¸æºä¸­å¿çåæ \n\nX=(x1,â¯,xn)Y=(y1,â¯,yn)\n\næä»¬å°å¶è½¬ä¸ºç©éµå½¢å¼\n\nM=[a1a2â¯anb1b2â¯bnc1c2â¯cn]\n\nå»ä¸­å¿å\n\nMâ=[a1âaâa2âaââ¯anâaâb1âbâb2âbââ¯bnâbâc1âcâc2âcââ¯cnâcâ]\n\nåå«è®¡ç®å¥å¼å¼ï¼ä¸åæ¹å·®ç©éµ\n\nÏ2=1nâi=1n(xiâxâ)2âxy=1nâi=1n(yiâyâ)(xiâxâ)\n\næåè¿è¡å¥å¼å¼åè§£\n\nâxy=UDVT\n\nå¶ä¸­\n\nR=USVC=1Ï2tr(DS)t=yââcRxâ\n\nååå§åä¸ä¸ªRANSACï¼å¾å°æå¤§è¿­ä»£æ¬¡æ°max_num_trialsã\n\n * N=âï¼sample_count=0\n\n * while N > sample_count\n   \n   * éæ©ä¸ç»æ ·æ¬ï¼å¹¶è®°å½å®çåç¹æ°\n   \n   * è®¡ç®å¤ç¹çe = 1- number_of_inliers/total_number_of_points\n     \n     * éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡åï¼è¿­ä»£10æ¬¡ï¼ï¼å¦æä¼äºå½åæ¨¡åï¼åæ´æ°æä¼æ¨¡å\n   \n   * è®¡ç®æå¤§è¿­ä»£æ¬¡æ°\n     \n     N=logâ¡(1âp)logâ¡(1â(1âe)s)\n   \n   * sample_count += 1\n\nå¼å§è¿­ä»£\n\n 1. ä»ä¿©å ç¹äºä¸­éæºéæ ·éè¦çæå°ç¹æ°X_rand, Y_rand\n 2. ä»å½åçéæ ·ä¸­ï¼ä¼°ç®model Estimate(X_rand, Y_rand)\n 3. å±é¨ä¼å\n\nè®¡ç®æ®å·®\n\nå¯¹äºæ¯å¼ å¾åï¼ç¡®å®ä»ä¸ä¸ªå¾åæ­£ç¡®æå½±å°å¦ä¸ä¸ªå¾åä»¥åä»å¦ä¸ä¸ªå¾åæ­£ç¡®æå½±åæ¥ç3Dç¹çæ¯çï¼èèç»å®çå¯¹é½æ¹å¼ãæ®å·®å®ä¹ä¸º1åå»è¿ä¸ªæ¯çï¼å³è¯¯å·®éå¼ä¸º0.3æå³çè¯¥å¾åç70ï¼ç¹å¿é¡»å¨ç»å®çæå¤§éæå½±è¯¯å·®éå¼åéæ°æå½±ã\n\n 1.  éåææå¬å±å¾å\n 2.  éåè¯¥å¾åä¸­ææçç¹å¾ç¹ï¼å¹¶ä¸è¯¥ç¹å¾ç¹å¨å¾å1åå¾å2é½å­å¨å¯¹åºç3Dç¹ï¼num_common_points+1\n 3.  è®¡ç®ååè¯¯å·®ï¼å¦æå°äºæå¤§éæå½±è¯¯å·®ï¼ånum_inliers+1\n 4.  è®¡ç®å¤ç¹çnegative_inlier_ratio = 1- num_inliers/num_common_points\n 5.  å¦æç»è®¡å¤ç¹çnegative_inlier_ratio < max_residualï¼åsupport.num_inliers+1\n 6.  å¯¹æ¯åç¹æ°ï¼å¦æåç¹æ°ç¸åï¼åæ¯è¾å¤ç¹çï¼æ´æ°å½åæä¼æ¨¡å\n 7.  éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡å\n 8.  åå¯¹æ¯æ°çæ¨¡åæ¯ä¸æ¯æ¯ä¸ä¸æ­¥çæä¼æ¨¡åçåç¹æ°æ´å¤\n 9.  æ´æ°æå¤§è¿­ä»£æ¬¡æ°\n 10. ç»æè¿­ä»£ï¼ååºæä¼æ¨¡å\n\nèå\n\nå¯¹æ¯ä¼ å¥çreconstructionï¼çæcommon_image_ids å missing_image_idsï¼å°missing_image_idsä¸­çå¾åæ³¨åå°å½åçreconstructionä¸­ï¼æ³¨åå¾ç®åï¼å°å®æ¬èº«çä½å§¿ä¹ä»¥ä¿©reconstructionçç¸ä¼¼åæ¢\n\nPâ²=sâ(Rt01)âTâ1\n\nä½¿ç¨ä»¥ä¸ä¸¤ç§è§åè¿è¡ç¹äºåå¹¶\n\n * å¤å¶éå²çªçç¹äºå°å½åéå»ºä¸­ï¼å³é£äºå¨å½åéå»ºä¸­æ²¡æè¢«ä¸è§åè§æµå°çç¹ã\n * åå¹¶æ æ­§ä¹çtracksï¼å³åªå°ä¸¤ä¸ªéå»ºä¸­çç¹åå¹¶ï¼å¦æå®ä»¬æä¸ä¸ªä¸å¯¹ä¸çæ å°ã\n\n 1. éåä¼ å¥çç¹äºä¸­çææ3Dç¹\n    * éåè¿ä¸ª3Dç¹çtrack\n      * å¦æå½åè¿ä¸ªtrackå¨common_imgaesä¸­ï¼å å¥å°old_trackä¸­\n      * å¦æå½åè¿ä¸ªtrackå¨missing_imagesä¸­ï¼å å¥å°new_trackä¸­\n 2. å°3Dç¹æ·»å å°å½åçreconstructionä¸­\n 3. å¦æå½åçreconstructionä¸­å·²ç»å­å¨è¿ä¸ªæ°æ·»å ç3Dç¹ï¼é£ä¹å°å®ä»¬åå¹¶\n\nè¿æ»¤è¯¯å·®è¾å¤§çä¸ç»´ç¹\n\nè®¡ç®éæå½±è¯¯å·®\n\nPc=RâP+t(uv1)=1zâKâPce2=â(uv)â(pxpy)â2\n\nå¦æå¤§äºä¸å®éæå½±è¯¯å·®å¼ï¼åå°è¯¥3Dç¹å é¤\n\nå¾å°æç»ç»æ\n\n\n\nå¨ç¨ å¯éå»ºMVSæ¹é¢ï¼æä»¬éç¨äºå¤è§å ä½çæ¹æ³ï¼ä½¿ç¨SfMå¤çå¾å°çç¸æºå§¿æåä¸è§æµéå¾å°çç¨çç¹äºï¼è¿ç¨åææ³è¿è¡ä¸è§ååï¼ä»¥å¾å°é«è´¨éçä¸ç»´éå»ºç»æãå¨è¿ä¸ªè¿ç¨ä¸­ï¼æä»¬éç¨äºå¤ç§ç®æ³åæ¹æ³ï¼å¦å¤è§å ä½æ¢å¤ä¸ç»´ç»æãMVSNetç­æ·±åº¦å­¦ä¹ æ¹æ³ç­ï¼éè¿å¤§éçå®éªï¼æä»¬åç°è¿äºæ¹æ³å¨ç¨ å¯éå»ºæ¹é¢é½è¡¨ç°åºäºè¾å¥½çææãç»è¿ç¨ å¯ç¹äºè®¡ç®ãæåçº¦æç­æä½åï¼æä»¬å¾åºçéå»ºæ¨¡åä¸å®éåºæ¯ç¸ç¬¦ååº¦é«ï¼éå»ºç»æç»èä¸°å¯ï¼å·æä¸å®çå¯è§åææã\n\næä»¬éç¨äºPatchMatchä¸ç§è®¡ç®æºè§è§ç®æ³ï¼ç¨äºæ±è§£å¾åå¹éçé®é¢ãå®ç±BarnesãShechtmanåFinkelsteinå¨2009å¹´åè¡¨ï¼æ¯ä¸ç§å¿«éèä¸é«æçæ¹æ³ï¼ç¨äºå¨ä¸¤å¹å¾åä¸­å¯»æ¾å¹éçå¾ååã\n\nå¨PatchMatchç®æ³ä¸­ï¼æ¯ä¸ªåç´ ç¹çå¹éè¿ç¨è¢«çä½ä¸ä¸ªå¯»æ¾æä¼å¹éçè¿ç¨ï¼èæä¼å¹éç¹çç®æ æ¯æ¾å°ä½¿ä¸¤ä¸ªå¹éå¾ååè¯¯å·®æå°çä½ç½®ï¼ä»èç¡®å®æ¯ä¸ªåç´ ç¹å¨å¦ä¸å¹å¾åä¸­çå¯¹åºä½ç½®ãä¸ºäºè¾¾å°è¿ä¸ªç®æ ï¼PatchMatchç®æ³éç¨äºå¤å°ºåº¦çç­ç¥ï¼å¹¶å©ç¨ç¸ä¼¼å¾ååçå±é¨æ§è´¨æ¥ç¼©å°å¹éæç´¢åºåçèå´ãä¸ºäºè¿ä¸æ­¥æé«å¹ééåº¦ï¼å¿«éè¿ä¼¼æè¿é»æç´¢ææ¯è¢«å¼å¥ï¼å¤§å¤§ç¼©ç­äºç®æ³çè¿è¡æ¶é´ã\n\nPatchMatchå¹éç®æ³æ­¥éª¤\n\nåå§åï¼åå§åå°±æ¯ç»æ¯ä¸ªpatchçæè¿é»èµåå¼ï¼ä¹å°±æ¯ç»å¾ä¸­çæ¯ä¸ªåéæºèµäºä¸ä¸ªåå§çå¹éå\n\nè¿­ä»£ï¼ä»å·¦ä¸è§è³å³ä¸è§ä¾æ¬¡éåæ¯ä¸ªpatchï¼æ¯ä¸ªpatchè¿è¡å¹éä¼ éåéæºæç´¢ä¸¤ä¸ªæ­¥éª¤\n\nå¹éä¼ éï¼å¹éä¼ éçææ³æ¯ä¸ä¸ªpatchä¼è¯å¾åç¨é»å±çå¹éå³ç³»ï¼æ¥æ¥è¯¢æ¯å¦è½å¾å°æ´å¥½çå¹éï¼å¦æè½å¾å°æ´å¥½çå¹éï¼å°±æ´æ°èªå·±çæè¿é»ãè¿æ ·ä¸ä¸ªpatchå¦ææ¥æå¥½çå¹éæç»©ï¼å®ä¸å¦ä¸å¼ å¾ä¸­patchçå¹éå³ç³»ä¼è¢«å¨å´çé»å±patchå­¦ä¹ ãæç»æ¯ä¸ªpatchä¼è®¡ç®ä¸ä¸ªåç§»å¼ï¼ç¨æ¥è¡¨ç¤ºæå¹éåå¨å¦ä¸å¼ å¾ä¸­çä½ç½®\n\néæºæç´¢ï¼æ¯æ¬¡å¹éè¿åï¼å¯¹äºå¾å°çè¿ä¼ç»§ç»­å¯¹å¶æ½å ä¸ä¸ªéæºæç´¢çç­ç¥ï¼è¯å¾éè¿æ°å¨ççè½ä¸è½è®©å¶è·³åºå±é¨æä¼\n\næ¯æ¬¡éæºæç´¢ä¼å¨ä¸ä¸æ­¥å¹éä¼ éçåºç¡ä¸ï¼å¨ä¸æ­ææ°è¡°åçåå¾åºåééæºå¹éè¥å¹²æ¬¡ï¼ç´å°åå¾ç¼©å°1ä¸ªåç´ ä»¥ä¸ã\n\n\n\nè¯¥ç®æ³çæ ¸å¿ææ³æ¯åºäºç®åçåè®¾ï¼å³å¨ä¸¤å¹å¾åä¸­æå¯»æ¾çå¹éå¾ååçä½ç½®åç¸åºè¯¯å·®å¼åºè¯¥æ¯è¾ä¸ºæ¥è¿çï¼å æ­¤å¯ä»¥éè¿éæºçæ¹å¼å¾å°åå§çè¿ä¼¼å¹éï¼éè¿ä¸æ­è¿­ä»£ï¼éæ­¥ä¼åè¯¯å·®å¼ï¼å¹¶ä¸æ­ç¼©å°å¹éå¾ååçæç´¢åºåï¼æç»æ¾å°æä¼çå¹éä½ç½®ã\n\nPatchMatchç®æ³è½ç¶ç®åï¼ä½æ¯å¨å®è·µä¸­å·æè¾é«çé²æ£æ§ååç¡®æ§ï¼è½å¤å¨ç­æ¶é´åå¤çå¤§éçå¹éä»»å¡ï¼å°¤å¶å¯¹äºå¤çå¾åç¼ºé·ä¿®å¤ãå¾åå¡«åãå¾åä¿®è¡¥ãå¾ååæååºæ¯éå»ºç­ä»»å¡å·æç¬ç¹çä¼å¿ãå æ­¤ï¼å¨è®¡ç®æºè§è§é¢åï¼PatchMatchç®æ³è¶æ¥è¶å¾å°å¹¿æ³çåºç¨ï¼å¹¶æä¸ºå¾åå¹éé¢åçä¸ä¸ªéè¦ç ç©¶æ¹åä¹ä¸ã\n\nå¨ä¸æ­ä¼åè¯¯å·®å¼æ¶ï¼PatchMatchç®æ³éè¿å¼å¥äºå¤å°ºåº¦çç­ç¥ï¼å¯ä»¥ä½¿å¾ç®æ³æ´å¿«å°æ¶æè³æä¼è§£ãPatchMathç®æ³å¨å¤çå¤§åå¾åæ¶è¿å¯ä»¥éè¿å¿«éè¿ä¼¼æè¿é»æç´¢æ¥å å¿«ç®æ³éåº¦ï¼PathchMatchç»æå¦ä¸å¾æç¤ºã\n\n\n\næè¿é»å­æ®µå¯ä»¥éè¿ä¸ºå­æ®µåééæºå¼æä½¿ç¨åéªä¿¡æ¯æ¥åå§åãå½ä½¿ç¨éæºåç§»è¿è¡åå§åæ¶ï¼æä»¬å¨å¾å B çæ´ä¸ªèå´åä½¿ç¨ç¬ç«çååæ ·æ¬ãå¨ç¬¬ 4 èä¸­æè¿°çåºç¨ç¨åºä¸­ï¼æä»¬ä½¿ç¨ä»ç²å°ç»çéæ¸è°æ´å¤§å°çè¿ç¨ï¼å æ­¤æä»¬å¯ä»¥éæ©ä½¿ç¨ä¸ä¸ªåå§çæµä»éå­å¡ä¸­çä¸ä¸å±åçº§ãç¶èï¼å¦ææä»¬åªä½¿ç¨è¿ä¸ªåå§çæµï¼ç®æ³ææ¶ä¼é·å¥æ¬¡ä¼çå±é¨æå°å¼ãä¸ºäºä¿æè¿ä¸ªåéªçè´¨éä½ä»ç¶ä¿çä¸äºéç¦»è¿ç§æå°å¼çè½åï¼æä»¬ä½¿ç¨éæºåå§åæ§è¡ç®æ³çä¸äºæ©æè¿­ä»£ï¼ç¶åä»å¨ D è¾å°çè¡¥ä¸å¤ä¸ä¸éæ ·åå§ååå¹¶ï¼ç¶åæ§è¡å©ä½çè¿­ä»£ã\n\nåå§ååï¼æä»¬æ§è¡æ¹è¿ NNF çè¿­ä»£è¿ç¨ãç®æ³çæ¯æ¬¡è¿­ä»£æå¦ä¸æ¹å¼è¿è¡ï¼ææ«æé¡ºåºï¼ä»å·¦å°å³ï¼ä»ä¸å°ä¸ï¼æ£æ¥åç§»éï¼å¹¶ä¸æ¯ä¸ªåç§»éé½ç»è¿ä¼ æ­ï¼ç¶åè¿è¡éæºæç´¢ãè¿äºæä½å¨è¡¥ä¸çº§å«äº¤éï¼å¦æ Pj å Sj åå«è¡¨ç¤ºè¡¥ä¸ j çä¼ æ­åéæºæç´¢ï¼é£ä¹æä»¬æä»¥ä¸é¡ºåºè¿è¡ï¼P1ï¼S1ï¼P2ï¼S2ï¼...ã . . , Pn, é¡ãä¼ æ­ãæä»¬å°è¯ä½¿ç¨ f (x â 1, y) å f (x, y â 1) çå·²ç¥åç§»éæ¥æ¹è¿ f (x, y)ï¼åè®¾è¡¥ä¸åç§»éå¯è½ç¸åãä¾å¦ï¼å¦æå¨ (x â 1, y) å¤æä¸ä¸ªå¾å¥½çæ å°ï¼æä»¬ä¼å°è¯å°è¯¥æ å°åå³å¹³ç§»ä¸ä¸ªåç´ ï¼ç¨äºæä»¬å¨ (x, y) å¤çæ å°ãä»¤ D(v) è¡¨ç¤º A ä¸­ (x, y) å¤çè¡¥ä¸ä¸ B ä¸­çè¡¥ä¸ (x, y) + v ä¹é´çè¡¥ä¸è·ç¦»ï¼è¯¯å·®ï¼ãæä»¬å° f (x, y) çæ°å¼è®¾ä¸º{D( f (x, y)), D( f (x â 1, y)), D( f (x, y â 1))} ç arg minãç»ææ¯ï¼å¦æ (x, y) å·ææ­£ç¡®çæ å°å¹¶ä¸ä½äºç¸å¹²åºå R ä¸­ï¼å (x, y) ä¸æ¹åå³ä¾§çææ R é½å°è¢«æ­£ç¡®çæ å°å¡«åãæ­¤å¤ï¼å¨å¶æ°æ¬¡è¿­ä»£ä¸­ï¼æä»¬éè¿ä»¥ååæ«æé¡ºåºæ£æ¥åç§»éæ¥åä¸ååå·¦ä¼ æ­ä¿¡æ¯ï¼ä½¿ç¨ f (x + 1, y) å f (x, y + 1) ä½ä¸ºæä»¬çåéåç§»éãéæºæç´¢ãä»¤ v0 = f(x, y)ãæä»¬å°è¯éè¿å¨è· v0 åææ°éåçè·ç¦»å¤æµè¯ä¸ç³»ååéåç§»æ¥æ¹è¿ f (x, y)ï¼\n\nui=v0+waiRi\n\nå¶ä¸­ Ri æ¯ [â1, 1] Ã [â1, 1] ä¸­çååéæºæ°ï¼w æ¯è¾å¤§çæå¤§æç´¢âåå¾âï¼Î± æ¯æç´¢çªå£å¤§å°ä¹é´çåºå®æ¯çãæä»¬æ£æ¥ i = 0, 1, 2, ... çè¡¥ä¸ï¼ç´å°å½åæç´¢åå¾ wÎ±i ä½äº 1 ä¸ªåç´ ãå¨æä»¬çåºç¨ç¨åºä¸­ï¼w æ¯æå¤§å¾åç»´åº¦ï¼Î± = 1/2ï¼é¤éå¦æè¯´æãè¯·æ³¨æï¼æç´¢çªå£å¿é¡»éå¶å¨ B çèå´åãåæ­¢æ¡ä»¶ãè½ç¶æ ¹æ®åºç¨ç¨åºå¯è½ä¼ä½¿ç¨ä¸åçåæ­¢æ åï¼ä½å¨å®è·µä¸­æä»¬åç°å®å¯ä»¥å¾å¥½å°è¿­ä»£åºå®æ¬¡æ°ãæ­¤å¤æ¾ç¤ºçææç»æé½æ¯éè¿æ»å± 4-5 æ¬¡è¿­ä»£è®¡ç®å¾åºçï¼ä¹å NNF å ä¹æ»æ¯æ¶æãæ¶æå¦å¾ 3 åééçè§é¢æç¤ºãæçãå¯ä»¥éè¿å ç§æ¹å¼æé«è¿ç§æ´ç´ æ¹æ³çæçãå¨ä¼ æ­åéæºæç´¢é¶æ®µï¼å½å°è¯ä½¿ç¨åéåç§»é u æ¹è¿åç§»é f (v) æ¶ï¼å¦æ D(u) çé¨ååè¶è¿å½åå·²ç¥è·ç¦» D( f (v))ï¼åå¯ä»¥æåç»æ­¢.æ­¤å¤ï¼å¨ä¼ æ­é¶æ®µï¼å½ä½¿ç¨è¾¹é¿ä¸º p å Lq èæ°çæ¹å½¢è¡¥ä¸æ¶ï¼è·ç¦»çååå¯ä»¥å¨ O(p) èä¸æ¯ O(p2) æ¶é´åéå¢è®¡ç®ï¼æ¹æ³æ¯æ³¨ææ±åä¸­çåä½é¡¹éå åºåãä½æ¯ï¼è¿ä¼äº§çé¢å¤çåå­å¼éæ¥å­å¨å½åæä½³è·ç¦» D( f (x, y))ã GPU å®ç°ãç¬¬ 4 èä¸­æè¿°çç¼è¾ç³»ç»ä¾èµäº NNF ä¼°è®¡ç®æ³ç CPU å®ç°ï¼ä½æä»¬è¿å¨ GPU ä¸å¶ä½äºä¸ä¸ªå®å¨å¹¶è¡ååä½çååãä¸ºæ­¤ï¼æä»¬å¨éæºæç´¢åä¼ æ­çè¿­ä»£ä¹é´äº¤æ¿ï¼å¶ä¸­æ¯ä¸ªé¶æ®µå¹¶è¡å¤çæ´ä¸ªåç§»éå­æ®µãè½ç¶ä¼ æ­æ¬è´¨ä¸æ¯ä¸ä¸ªä¸²è¡æä½ï¼ä½æä»¬éç¨äº Rong å Tan çè·³æ´ªæ¹æ¡æ¥æ§è¡å¤æ¬¡è¿­ä»£çä¼ æ­ãå°½ç®¡æä»¬ç CPU çæ¬è½å¤å¨æ´ä¸ªæ«æçº¿ä¸ä¼ æ­ä¿¡æ¯ï¼ä½æä»¬åç°å®éä¸ä¸éè¦é¿è·ç¦»ä¼ æ­ï¼æå¤§è·³è·è·ç¦»ä¸º 8 å°±è¶³å¤äºãæä»¬è¿å¨æ¯ä¸ªè·³è·è·ç¦»ä»ä½¿ç¨ 4 ä¸ªé»å±ï¼èä¸æ¯ Rong å Tan æåºç 8 ä¸ªé»å±ã\n\næä»¬çè¿­ä»£ç®æ³å¨æéåæ¶æå°ç²¾ç¡®ç NNFãå¨è¿éï¼æä»¬ä¸ºè¿ç§æ¶ææä¾äºä¸ä¸ªçè®ºåæï¼è¡¨æå®å¨åå æ¬¡è¿­ä»£ä¸­ä»¥é«æ¦çæ¶æå¾æå¿«ãæ­¤å¤ï¼æä»¬è¡¨æï¼å¨åªéè¦è¿ä¼¼è¡¥ä¸å¹éçå¸¸è§æåµä¸ï¼è¯¥ç®æ³æ¶æå¾æ´å¿«ãå æ­¤ï¼éè¿å°è®¡ç®éå¶ä¸ºå°éè¿­ä»£ï¼æä»¬çç®æ³æéåç¨ä½è¿ä¼¼ç®æ³ãæä»¬é¦ååææ¶æå°ç²¾ç¡®çæè¿é»åï¼ç¶åå°æ­¤åææ©å±å°æ´æç¨çæ¶æå°è¿ä¼¼è§£çæåµãåè®¾ A å B å·æç¸åçå¤§å°ï¼M ä¸ªåç´ ï¼å¹¶ä¸ä½¿ç¨éæºåå§åãå°½ç®¡å¨è¿ä¸ªåå§çæµä¸­ä»»ä½ä¸ä¸ªä½ç½®è¢«åéæä½³åç§»çå çå¾®ä¹å¶å¾® (1/M)ï¼ä½è³å°ä¸ä¸ªåç§»è¢«æ­£ç¡®åéçå çéå¸¸å¥½ (1 â (1 â 1/M)M ) ) æå¯¹äºå¤§ M å¤§çº¦ä¸º 1 â 1/eãç±äºéæºæç´¢å¨å°çå±é¨åºåä¸­éå¸¸å¯éï¼æä»¬è¿å¯ä»¥å°âæ­£ç¡®âåéè§ä¸ºæ­£ç¡®åç§»éå¨å´å¤§å°ä¸º C åç´ çå°é»ååçä»»ä½åéãè¿æ ·çåç§»éå°å¨éæºæç´¢çå¤§çº¦ä¸æ¬¡è¿­ä»£ä¸­å¾å°çº æ­£ãå¨è¿æ ·çé»åä¸­è³å°åéä¸ä¸ªåç§»éçå¯è½æ§éå¸¸å¤§ï¼(1 â (1 âC/M)M ) æå¯¹äºå¤§ Mï¼1 â exp(âC)ã\n\nç°å¨æä»¬ä¸ºæä»¬çç®æ³èèä¸ä¸ªå·ææææ§çç»¼åæµè¯ç¨ä¾ï¼ä¸ä¸ªå¤§å°ä¸º m åç´ çç¬ç¹åºå R ä½äºä¸å¯¹å¶ä»æ¹é¢åä¸çå¾å A å B ä¸­çä¸¤ä¸ªä¸åä½ç½®ï¼æå¾æç¤ºï¼ãè¿ä¸ªå¾åæ¯ä¸ä¸ªå°é¾çæ¡ä¾ï¼å ä¸ºèæ¯æ²¡ææä¾å³äºå¨åªéå¯ä»¥æ¾å°ç¬ç¹åºåçåç§»éçä¿¡æ¯ãååèæ¯ä¸­çè¡¥ä¸å¯ä»¥å¹éå¤§éå¶ä»ç¸åçè¡¥ä¸ï¼è¿äºè¡¥ä¸å¨ä¸æ¬¡è¿­ä»£ä¸­ä»¥éå¸¸é«çæ¦çéè¿éæºçæµæ¾å°ï¼å æ­¤æä»¬åªèèä¸ååºå R çæ¶æãå¦æä¸ååºå R ä¸­çä»»ä½ä¸ä¸ªåç§»éæ¯å¨æ­£ç¡®åç§»éçé»å C åï¼ç¶åæä»¬åè®¾å¨å°éè¿­ä»£ä¹åï¼ç±äºå°å±é¨åºåä¸­éæºæç´¢çå¯åº¦ï¼åé¢æå°çï¼ï¼ææ R é½å°éè¿ä¼ æ­æ¯æ­£ç¡®çï¼å¯¹äºç¬¦å·ç®ååè®¾è¿æ¯ç¬æ¶çï¼ãç°å¨åè®¾ R è¿æ²¡ææ¶æãèèæä»¬çç®æ³å¨æå¤§å°ºåº¦ w ä¸æ§è¡çéæºæç´¢ãè§æ¨¡ä¸º w çéæºæç´¢è¿­ä»£ç¬ç«å°å¯¹å¾å B è¿è¡éæ ·ï¼å¹¶ä¸è¿äºæ ·æ¬ä¸­çä»»ä½ä¸ä¸ªè½å¨æ­£ç¡®åç§»éçé»å C åçæ¦ç p ä¸º\n\nP=1â(1âCM)m\n\nå¨è¿è¡ä»»ä½è¿­ä»£ä¹åï¼æ¶æçæ¦çä¸º pãæä»¬æ²¡æå¨è¿­ä»£ 0, 1, ...,t â 1 ä¸æ¶æå¹¶å¨è¿­ä»£ t ä¸æ¶æçæ¦çæ¯ p(1 â p)t ãæ¦çå æ­¤å½¢æå ä½åå¸ï¼é¢ææ¶ææ¶é´ä¸ºt = 1/p â 1ãä¸ºäºç®åï¼è®©ç¸å¯¹ç¹å¾å°ºå¯¸ä¸ºÎ³ = m/Mï¼ç¶åéçåè¾¨çMåå¤§åæéï¼\n\n<t>=[1â(1âCM)Î³M]â1â1limMâ¶â<t>=[1âexpâ¡(âCÎ³)]â1â1\n\néè¿å¯¹å° Î³ çæ³°åå±å¼ï¼t = (CÎ³)â1 â 1 2 = M/(Cm) â 1 2 ãä¹å°±æ¯è¯´ï¼å¯¹äºå¤§å¾ååè¾¨çåç¸å¯¹äºå¾ååè¾¨ç M çå°ç¹å¾å°ºå¯¸ mï¼æä»¬é¢æçæ¶æè¿­ä»£æ¬¡æ°ä¿æä¸åãæä»¬å¯¹ä» 0.1 å° 2 ååç´ çåè¾¨ç M çå¾åè¿è¡äºæ¨¡æï¼è¯å®äºè¿ä¸ªæ¨¡åãä¾å¦ï¼æä»¬åç°å¯¹äº m = 202 çåºåï¼ç®æ³å¨å¯¹ M = 20002 çå¾åè¿è¡ 5 æ¬¡è¿­ä»£åä»¥éå¸¸é«çæ¦çæ¶æãä¸é¢çæµè¯ç¨ä¾å¾é¾ï¼ä½ä¸æ¯ç²¾ç¡®å¹éçæå·®æµè¯ç¨ä¾ãç²¾ç¡®å¹éçæåæåµæ¯å½å¾å B åå«é«åº¦éå¤ççº¹çåè®¸å¤ä¸ A ä¸­çä¸åç¹å¾ç¸ä¼¼çå¹²æ°ç©æ¶ãåç§»å¯è½ä¼è¢«å¶ä¸­ä¸ä¸ªå¹²æ°ç©âå°ä½âï¼ææé»ååºåå¤§å° C å¯è½æ¯åå°å° 1ï¼å³ï¼åªæå®å¨å¹éæè½å¨éæºæç´¢æé´å°è§£å³æ¹æ¡ä»å¹²æ°é¡¹ä¸­æåºï¼ãç¶èå¨å®è·µä¸­ï¼å¯¹äºè®¸å¤å¾ååæååæåºç¨ç¨åºï¼ä¾å¦æä»¬å¨æ¬æä¸­å±ç¤ºçåºç¨ç¨åºï¼æ¾å°è¿ä¼¼å¹éï¼æ ¹æ®è¡¥ä¸ç¸ä¼¼æ§ï¼ä¸ä¼å¯¼è´ä»»ä½ææ¾çå·®å¼ã\n\nå¨çº¹çéå»ºæ¹é¢ï¼æä»¬ä½¿ç¨äºå¤è§è§ç«ä½æå½±çæ¹æ³ï¼å°ç¹å®åºååçå¤å¼ å¾åæå½±å°ä¸ç»´éå»ºæ¨¡åä¸ï¼ä»èå¾å°äºçå®ççº¹çä¿¡æ¯ãæä»¬ççº¹çéå»ºæ¹æ³éç¨äºå¤æ å®ç§ç¸æºåå¤æ¶å»æè·ä¿¡æ¯ç­ææ¯ï¼ç¡®ä¿äºçº¹çæ å°çåç¡®æ§åä¸è´æ§ãéè¿éç¨è´´å¾ååæ°ç©ºé´çº¹çæ å°ç­ç®æ³ï¼æä»¬æåå°ä¸ºä¸ç»´éå»ºæ¨¡åæ·»å äºé¼çççº¹çä¿¡æ¯ãç»è¿åå¤éªè¯åè°æ´ï¼æä»¬ççº¹çéå»ºç»æéå¸¸åºè²ï¼å¯ä»¥ææå°æé«ä¸ç»´æ¨¡åçé¼çåº¦åçå®æã\n\n\n\n\n# ä¸ãåæ°ç¹\n\næ¬ç³»ç»å¨åºäºç¹å¾ç¹æååå¹éçä¸ç»´éå»ºæ¹æ³ä¸æä»¥ä¸åæ°ç¹ï¼\n\næä»¬ç»åäºå¢éSfMåå¨å±SfMçä¼åæ¹æ³ï¼æå»ºåºæ¯å¾ï¼å¹¶å°å¤§åºæ¯ååä¸ºå¤ä¸ªå°åºæ¯ï¼å¹¶è¡å¯¹å¤ä¸ªå°åºæ¯è¿è¡å¢ééå»ºï¼æåéè¿èåçæ¹å¼å°å¤ä¸ªå°åºæ¯åå¹¶ä¸ºå¤§åºæ¯ãåæ¶å¨ä¸äºä¼åè¿ç¨ä¸­ï¼æä»¬æåºäºå¤ç§ä¼åç­ç¥ï¼ä»èå¯ä»¥å¾å°è¾é«ç²¾åº¦çä¸ç»´æ¨¡åã\n\næä»¬ç»åä¼ ç»è®¡ç®æºè§è§ææ¯åæ·±åº¦å­¦ä¹ ææ¯ï¼å¨ä¸åé¶æ®µä½¿ç¨ä¸åç±»åçç¹å¾è¡¨ç¤ºæ¥æé«ä¸ç»´éå»ºææãå¨ç¹å¾æ£æµé¶æ®µä½¿ç¨SIFTç¹å¾ï¼å¨ç¨ å¯éå»ºé¶æ®µä½¿ç¨MVSNetæ·±åº¦é¢æµã\n\næä»¬æåºäºä¸ç§åºäºåææ³çç¨ å¯éå»ºæ¹æ³ï¼å¨ä¿è¯ç²¾åº¦åé²æ£æ§çåæ¶éä½äºè®¡ç®å¤æåº¦ãæä»¬å©ç¨SfMå¾å°çç¸æºå§¿æä¿¡æ¯æ¥çº¦æåææ³æç´¢ç©ºé´ï¼å¹¶å©ç¨æ·±åº¦å­¦ä¹ é¢æµæ·±åº¦ä¿¡æ¯æ¥å éåææ³æ±è§£è¿ç¨ã\n\næä»¬æåºäºä¸ç§åºäºå¤è§è§ç«ä½æå½±ççº¹çéå»ºæ¹æ³ï¼å¨ä¿è¯çº¹çè´¨éåä¸è´æ§çåæ¶å¢å äºçº¹çå¤æ ·æ§ãæä»¬å©ç¨å¤æ å®ç§ç¸æºæè·ä¸åè§åº¦ãä¸ååç§æ¡ä»¶ä¸çå¾åï¼å¹¶å©ç¨åæ°ç©ºé´çº¹çæ å°ç®æ³å°å®ä»¬èåå°ä¸ç»´æ¨¡åä¸ã",normalizedContent:"# å¤æåºåçä¸ç»´æ¨¡åå¿«ééå»º\n\n\n# ä¸ãå®æçåå®¹\n\næ¬ç³»ç»æ¨å¨ç ç©¶åºäºç¹å¾ç¹æååå¹éçä¸ç»´éå»ºæ¹æ³ï¼å©ç¨å¤å¼ å¾åä¸­çç¹å¾ç¹ä¿¡æ¯ï¼æ¢å¤ç©ä½æåºæ¯çä¸ç»´å ä½ç»æãæ¬ç³»ç»ä¸»è¦å®æäºä»¥ä¸åå®¹ï¼\n\nâ¢ è°ç äºå½åå¤ç¸å³é¢åçç ç©¶ç°ç¶ååå±è¶å¿ï¼åæäºä¸ç»´éå»ºçåºæ¬åçåå³é®ææ¯ï¼æ»ç»äºä¸ç»´éå»ºçå¸¸ç¨æ¹æ³åè¯ä»·ææ ã\n\nâ¢ è®¾è®¡å¹¶å®ç°äºä¸ä¸ªåºäºç¹å¾ç¹æååå¹éçä¸ç»´éå»ºç³»ç»ï¼åæ¬ç¹å¾æ£æµãæè¿°ãå¹éãå»åªãç¸æºæ å®ãå§¿æè®¡ç®ãä¸ç»´éå»ºãä¼åãç¨ å¯éå»ºåçº¹çéå»ºç­æ¨¡åã\n\nâ¢ å¨å¬å¼æ°æ®éä¸å¯¹ææåºçç³»ç»è¿è¡äºæµè¯åè¯ä¼°ï¼ä¸å¶ä»ä¸ç»´éå»ºæ¹æ³è¿è¡äºå¯¹æ¯åæï¼éªè¯äºææåºæ¹æ³çæææ§åä¼è¶æ§ã\n\n\n# äºãæéç¨çæ¹æ³ä»¥ååå¾çææ\n\nsfm æ¯å° 3d ç»æä»å¶æå½±éå»ºä¸ºä¸ç³»åä»ä¸åè§ç¹ææçå¾åçè¿ç¨ãå¢é sfmï¼å¨æ¬æä¸­è¡¨ç¤ºä¸º sfmï¼æ¯ä¸ç§å·æè¿­ä»£éå»ºç»ä»¶çé¡ºåºå¤çæµæ°´çº¿ãå®éå¸¸ä»ç¹å¾æååå¹éå¼å§ï¼ç¶åæ¯å ä½éªè¯ãçæçåºæ¯å¾ä½ä¸ºéå»ºé¶æ®µçåºç¡ï¼å¨éæ­¥æ³¨åæ°å¾åãä¸è§æµéåºæ¯ç¹ãè¿æ»¤å¼å¸¸å¼å¹¶ä½¿ç¨æè°æ´ (ba) æ¹è¿éå»ºä¹åï¼è¯¥é¶æ®µä½¿ç¨ç²¾å¿éæ©çåè§å¾éå»ºä¸ºæ¨¡åæ­ç§ãä»¥ä¸ä»ç»æä»¬ç³»ç»æéç¨ççæ¹æ³ï¼ä»¥ååå¾çææã\n\n 1. ç¸æºæ å®\n\nç¸æºæ å®çè¿ç¨æ¯æéè¿ä¸äºå·²ç¥çå ä½ä¿¡æ¯ï¼æ¥æ±è§£ç¸æºçåé¨åæ°ï¼ä»èå»ºç«ä¸ç»´ç©ºé´ç¹åäºç»´å¾åç¹ä¹é´çå¯¹åºå³ç³»ã\n\nä¸è¬æ¥è¯´ï¼ç¸æºæ å®çæ­¥éª¤å¦ä¸ï¼\n\n * åå¤ä¸ä¸ªæ å®ç©ï¼éå¸¸æ¯ä¸ä¸ªå¸¦æé»ç½æ£çæ ¼çå¹³é¢ï¼å¶è§ç¹çä¸çåæ ç³»åå¾ååæ ç³»æ¯å·²ç¥çã\n * ç¨ç¸æºä»ä¸åçè§åº¦åä½ç½®æææ å®ç©çç§çï¼è³å°éè¦ä¸å¼ ä»¥ä¸ã\n * ä»ç§çä¸­æåæ£çæ ¼çè§ç¹ï¼å¾å°æ¯ä¸ªè§ç¹å¨åç´ åæ ç³»ä¸çåæ ã\n * æ ¹æ®ç¸æºæåæ¨¡åï¼å»ºç«ä¸ç»´ç©ºé´ç¹åäºç»´å¾åç¹ä¹é´çæå½±å³ç³»ï¼å©ç¨ååºç©éµãéè§æå½±ãç¸åæ ¡æ­£ç­æ¹æ³ï¼æ±è§£ç¸æºçåé¨åæ°ã\n * å©ç¨æå°äºä¹æ³æå¶ä»ä¼åæ¹æ³ï¼å¯¹æ±è§£åºçåæ°è¿è¡ä¼ååè¯¯å·®åæã\n\nå¯¹äºç¸æºåé¨åæ°ï¼æä»¬ç³»ç»ä¸­æä¾ä¼åç¸æºååçç®æ³ï¼å³ä½¿ä¸éè¿ç¸æºæ å®çæ­¥éª¤è·å¾ç¸æºåé¨åæ°ï¼æä»¬ç³»ç»ä¹å¯ä»¥éè¿ç®æ³æ¥ä¼°è®¡å¾å°ç¸å¯¹åç¡®çç¸æºåé¨åæ°ï¼è¥è¿½æ±æ´å¥½çæ´åç¡®çä¸ç»´æ¨¡åï¼ä¸è¬æ¯æå¨è¿è¡ç¸æºæ å®ï¼å°ç¸æºåé¨åæ°ä½ä¸ºåºå®å¼ã\n\n 2. å¾åéé\n\nsfmè¿ç¨ä¸­çå¾åééè¿ç¨æ¯æä»å¤ä¸ªè§åº¦ææåä¸åºæ¯çå¾çï¼å¹¶æåºå·è¿è¡ä¿å­ï¼ä»¥ä¾¿åç»­è¿è¡ç¹å¾æåï¼å¹éï¼éå»ºç­æ­¥éª¤ã\n\n * å¾åçè´¨éè¦é«ï¼æ¸æ°åº¦è¦å¥½ï¼é¿åæ¨¡ç³ï¼æåè¿åº¦æä¸è¶³ç­é®é¢ã\n * å¾åçæ°éè¦éä¸­ï¼ä¸è¦å¤ªå°æå¤ªå¤ï¼å¤ªå°ä¼å¯¼è´éå»ºä¸å®æ´æä¸åç¡®ï¼å¤ªå¤ä¼å¢å è®¡ç®éååå­æ¶èã\n * å¾åçè§è§è¦æä¸å®çéå åº¦ï¼ä¸è¬å»ºè®®å¨60%~80%ä¹é´ï¼ä»¥ä¾¿æé«ç¹å¾å¹éçæåçåç¨³å®æ§ã\n * å¾åçè§è§è¦æä¸å®çè§å·®ï¼å³ç¸æºä¹é´çç¸å¯¹ä½å§¿è¦æè¶³å¤çååï¼ä»¥ä¾¿æ¢å¤åºä¸ç»´ç»æãå¦æå¾åä¹é´çè§å·®å¤ªå°ï¼å¯è½ä¼å¯¼è´å¥å¼æ§æéåæåµã\n * å¾åçææç¯å¢è¦å°½éä¿æä¸è´ï¼é¿ååç§ï¼é´å½±ï¼åå°ç­å ç´ çå¹²æ°ãåæ¶ï¼åºæ¯ä¸­çç©ä½è¦å°½éæ¯éæ­¢çï¼é¿åå¨æç©ä½çå½±åã\n\n 3. ç¹å¾æå\n\nsfmè¿ç¨ä¸­çå¾åç¹å¾æåè¿ç¨æ¯æä»å¾åä¸­æåå·æå°ºåº¦åæè½¬ä¸åæ§çç¹å¾ç¹åæè¿°å­ï¼ä»¥ä¾¿åç»­è¿è¡ç¹å¾å¹éï¼è®¡ç®åºç¡ç©éµï¼æ¢å¤ç¸æºä½å§¿åä¸ç»´ç»æç­æ­¥éª¤ã\n\nä»¥ä¸çº¢è²ç¹ä¸ºæä»¬æåçç¹å¾ç¹\n\n\n\n * ç¹å¾ç¹çæ°éè¦éä¸­ï¼ä¸è¦å¤ªå°æå¤ªå¤ï¼å¤ªå°ä¼å¯¼è´å¹éä¸ç¨³å®æå¤±è´¥ï¼å¤ªå¤ä¼å¢å è®¡ç®éååå­æ¶èã\n * ç¹å¾ç¹çåå¸è¦ååï¼ä¸è¦éä¸­å¨æäºåºåï¼ä»¥ä¾¿æé«å¹éçé²æ£æ§ååç¡®æ§ã\n * ç¹å¾ç¹çæè¿°å­è¦å·æè¾å¼ºçåºååº¦ï¼ä¸è¦ä¸å¶ä»ç¹å¾ç¹æ··æ·ï¼ä»¥ä¾¿éä½è¯¯å¹éçæ¦çã\n * ç¹å¾ç¹çç±»åè¦éååºæ¯çç¹ç¹ï¼ä¾å¦å¯¹äºçº¹çä¸°å¯çåºæ¯ï¼å¯ä»¥ä½¿ç¨siftï¼surfç­ç¹å¾ç¹ï¼å¯¹äºçº¹çè¾å°çåºæ¯ï¼å¯ä»¥ä½¿ç¨harrisï¼fastç­è§ç¹ã\n\nä»¥ä¸è¯¦ç»ä»ç»æä»¬éç¨çfastè§ç¹ã\n\næå»ºé«æ¯å°ºåº¦ç©ºé´ï¼äº§çä¸åå°ºåº¦çé«æ¯æ¨¡ç³å¾åã\n\n\n\nè¿è¡ééæ ·ï¼å¾å°ä¸ç³»åå°ºå¯¸ä¸æ­ç¼©å°çå¾åï¼è®¡ç®é«æ¯å·®åå½æ°ã\n\ng(xi,yi,Ï)=12ÏÏ2exp(â((xâxi)2â(yâyi)22Ï2))l(x,y,Ï)=g(x,y,Ï)âi(x,y)\n\ndog ç©ºé´æå¼æ£æµï¼å¯»æ¾ dog å½æ°çæå¼ç¹ï¼æ¯ä¸ä¸ªåç´ ç¹åå®ææçç¸é»ç¹æ¯è¾ï¼çå¶æ¯å¦æ¯å®çå¾åååå°ºåº¦åçç¸é»ç¹å¤§æèå°ã\n\nç¡®å®ç¹å¾åéä¸»æ¹å:éè¿æ¯ä¸ªæå¼ç¹çæ¢¯åº¦æ¥ä¸ºæå¼ç¹èµäºæ¹åï¼æ¢¯åº¦å¹å¼ç­äºä¸ ä¸ä¸¤ç¹åç´ å¼å·®çå¹³æ¹å ä¸å·¦å³ä¸¤ç¹åç´ å¼å·®çå¹³æ¹ï¼æ¢¯åº¦æ¹ååä¸ºä¸ä¸ä¸¤ç¹åç´ å¼å·®ä¸å·¦ å³ä¸¤ç¹åç´ å¼å·®çåã\n\næ¢¯åº¦å¹å¼\n\nm(x,y)=(l(x+1,y)âl(xâ1,y))2+(l(x,y+1)âl(x,yâ1))2\n\næ¢¯åº¦æ¹å\n\nÎ¸(x,y)=tanâ1(l(x,y+1)âl(x,yâ1)l(x+1,y)âl(xâ1,y))\n\nè®¡ç®ç¹å¾åé\n\næ±åæ¯ä¸ªåç´ çæ¢¯åº¦å¹å¼ä¸æ¢¯åº¦æ¹åï¼ç®­å¤´æ¹åä»£è¡¨è¯¥åç´ çæ¢¯åº¦æ¹åï¼é¿åº¦ä»£è¡¨æ¢¯åº¦å¹å¼ï¼ç¶åå©ç¨é«æ¯çªå£å¯¹å¶è¿è¡å æè¿ç®ãå¨æ¯ä¸ªå°åä¸ç»å¶ 8 ä¸ªæ¹åçæ¢¯åº¦ç´æ¹å¾ï¼è®¡ç®æ¯ä¸ªæ¢¯åº¦æ¹åçç´¯å å¼ã\n\n\n\næç»æ¯ä¸ªå°åè·å¾4 â 4 â 8 = 128 ç»´çç¹å¾åé\n\n 4. ç¹å¾å¹é\n\nsfmè¿ç¨ä¸­çå¾åç¹å¾å¹éè¿ç¨æ¯æä»ä¸¤ä¸¤ç¸é»çå¾åä¸­æ¾åºå·æç¸åæç¸ä¼¼ç¹å¾çç¹å¯¹ï¼ä»¥ä¾¿åç»­è¿è¡åºç¡ç©éµï¼æ¬è´¨ç©éµï¼ååºç©éµçè®¡ç®ï¼æ¢å¤ç¸æºä½å§¿åä¸ç»´ç»æç­æ­¥éª¤ã\n\n\n\n * ç¹å¾å¹éçæ¹æ³è¦éåç¹å¾ç¹çç±»ååæ°éï¼å¯ä»¥ä½¿ç¨æ´åå¹éï¼kdæ ï¼flannç­æ¹æ³ã\n * ç¹å¾å¹éçç»æè¦æ»¡è¶³ä¸ä¸å¯¹åºçååï¼å³ä¸ä¸ªç¹å¾ç¹åªè½å¹éå°å¦ä¸ä¸ªå¾åä¸­çä¸ä¸ªç¹å¾ç¹ï¼ä¸è½åºç°å¤å¯¹ä¸æä¸å¯¹å¤çæåµã\n * ç¹å¾å¹éçç»æè¦æ»¡è¶³å ä½ä¸è´æ§ççº¦æï¼å³å¹éç¹å¯¹ä¹é´è¦ç¬¦åå¯¹æå ä½å³ç³»ï¼å¯ä»¥ä½¿ç¨åºç¡ç©éµææ¬è´¨ç©éµæ¥æ£éªåç­éã\n * ç¹å¾å¹éçç»æè¦æ»¡è¶³è¿å¨ä¸è´æ§ççº¦æï¼å³å¹éç¹å¯¹ä¹é´è¦ç¬¦åç¸æºè¿å¨æ¨¡åï¼å¯ä»¥ä½¿ç¨ååºç©éµæ¥æ£éªåç­éã\n\nå¹éç»æå¦ä¸\n\n\n\næä»¬ç³»ç»ä¸­æä¾å¤ç§å¾åå¹éæ¹å¼ï¼é¡ºåºå¹éï¼è¯æ±æ å¹éï¼æ´åå¹éï¼gpsç©ºé´å¹éã\n\n * é¡ºåºå¹é\n\nå¯¹äºé¡ºåºééçå¾åï¼å¯ä»¥éç¨è¿ä¸ç§æ¹å¼è¿è¡å¾åé´çå¹éãè¿ä¸ç§çå¹éè¿ç¨ä¸ºï¼å°ææå¾åè¿è¡ç¼å·åï¼å¯¹äºæ¯ä¸å¼ å¾åï¼æä»¬åå®ååç10å¼ å¾åè¿è¡ä¸ä¸å¹éï¼ä¸è¿10å¼ å¾ååå«å»ºç«å¾åå¹éå³ç³»ï¼ä»¥ä¾¿åç»­æ­¥éª¤ç¨ãé¤æ­¤ä¹å¤ï¼æä»¬å¢å ä¸ä¸ªåç¯æ£æµç­ç¥ï¼æ¯éä¸å®å¾åæ°éåï¼å¯¹å¾åè¿è¡ä¸æ¬¡åç¯æ£æµï¼ä¹å°±è¯´ï¼è¿ä¸æ¬¡å¹éçç®æ å¾åä¸ä»æ¯ååç10å¼ ï¼èæ¯ååéæºçnå¼ ï¼ç¨è¿ç§ç­ç¥ä¸æ´ä¹è¿çå¾åå»ºç«å¹éå³ç³»ï¼ä»èè¾¾å°æ£æµåç¯çåè½ãå¯¹äºé¡ºåºå¹éï¼å¯ä»¥å¾å¿«éçå®æææå¾åçå¹éï¼å¹¶ä¸æä¸å®çæ£æµåç¯è½åï¼å¯¹äºè¿½æ±å¿«éï¼ééçå¾åæ¯é¡ºåºåºåï¼åå¯ä»¥éç¨è¿ç§æ¹å¼è¿è¡å¾åå¹éã\n\n * è¯æ±æ å¹é\n\nå¯¹äºè¯æ±æ å¹éï¼éè¦æä»¬å¨è¿è¡ä¸ç»´éå»ºä¹åï¼æå»ºä¸ä¸ªè¯æ±æ ï¼è¯¥è¯æ±æ ï¼æå¯¼ç³»ç»è¿è¡å¹éãç®åæ¥è¯´ï¼éè¦è®­ç»ä¸ä¸ªæ¨¡åï¼è¯¥æ¨¡åè¦çäºæ¬æ¬¡è¿è¡ä¸ç»´éå»ºçææåºæ¯ï¼ä»¥è³äºæä»¬ææçå¾åï¼å¯ä»¥æç¡®æ¨çåºè¯¥å¾åæ¯å±äºåªä¸é¨ååºæ¯ï¼è¿èå°å±äºæä¸åºæ¯çææå¾åè¿è¡äºç¸å¹éãè¿ç§æ¹å¼çå¹éè¿ç¨è¾ä¸ºç²¾ç¡®ï¼èä¸é«æï¼å ä¸ºä»ä»æ¯å±äºæä¸åºæ¯çå¾åæè¿è¡ç¸äºå¹éï¼å¹¶ä¸ä¼æä¸¤å¼ æ¯«æ ç¸å¹²çå¾åè¿è¡äºç¸å¹éæ¥æµªè´¹æ¶é´ãè¿ç§å¹éæ¹å¼çç²¾åº¦åå³äºè¯æ±æ çæå»ºï¼è¯æ±æ æ¨¡åæå»ºçç²¾ç¡®ï¼åå¹éç²¾ç¡®ã\n\n * æ´åå¹é\n\nå¯¹äºæ´åå¹éï¼æç®åçæ¹å¼ä¸ºï¼ä¸¤ä¸¤å¾åè¿è¡å¹éï¼ä½æ¯è¿ç§æ¹å¼æ§è½å¾å·®ï¼å¯ä»¥ç¨å¾®æ¹è¿ä¸ä¸ãæä»¬å°å¶æ¹ä¸ºï¼ååå¹éãå°ææå¾åè¿è¡ååï¼å¯¹åååä¹é´çå¾åè¿è¡å¹éãè¿ç§æ¹å¼æ§è½è¾å·®ï¼è¥æ²¡æå¾åçé¢å¤ä¿¡æ¯ï¼æä¼ä½¿ç¨è¯¥æ¹å¼è¿è¡å¾åå¹éã\n\n * gpsç©ºé´å¹é\n\nå¯¹äºgpsç©ºé´å¹éï¼ä¸è¯æ±æ å¹éç±»ä¼¼ï¼å©ç¨gpsä¿¡æ¯ï¼ç¡®å®å¾åæä¸ªå·ä½èå´ä½ç½®ï¼å¯¹å­å¨äºè¯¥èå´çå¾åï¼æä»¬è¿è¡ä¸¤ä¸¤å¹éï¼å¯¹äºæ äººæºééçå¾åï¼æä»¬ä¸è¬éç¨è¿ç§æ¹å¼è¿è¡å¾åå¹éã\n\n 5. æå»ºåºæ¯å¾\n\nä½¿ç¨ä¸ç§å¾è®ºçæ¹æ³æ¥è¡¨ç¤ºåä¼åå¾åä¹é´çå¹éå³ç³»ï¼ä»èæé«éå»ºçæçåè´¨éã\n\n * æå»ºåºæ¯å¾çç®çæ¯ä¸ºäºæ¾åºæä¼çå¾åå¯¹æ¥è¿è¡ä¸è§ååä½å§¿ä¼°è®¡ï¼é¿åä½¿ç¨åä½æéè¯¯çå¹éä¿¡æ¯ã\n\n * æå»ºåºæ¯å¾çæ¹æ³æ¯å°ææå¾åçä½ä¸ä¸ªæ åå¾çèç¹ï¼å°ä¸¤ä¸ªå¾åä¹é´çå¹éç¹æ°æèéå åº¦çä½è¾¹çæéï¼ç¶åä½¿ç¨æå°çææ ç®æ³ï¼å¦primækruskalï¼æ¥æ¾åºæå¤§æéçè¾¹ï¼å½¢æä¸ä¸ªè¿éä¸æ ç¯çå­å¾ã\n\n * æå»ºåºæ¯å¾çè¿ç¨å¯ä»¥åä¸ºä¸¤ä¸ªé¶æ®µï¼ç¬¬ä¸ä¸ªé¶æ®µæ¯æ ¹æ®ææå¾åå¯¹ä¹é´çå¹éç¹æ°æèéå åº¦æ¥æå»ºä¸ä¸ªåå§çæå¤§çææ ï¼ç¬¬äºä¸ªé¶æ®µæ¯æ ¹æ®æ¯ä¸ªå¾åå¯¹ä¹é´çå ä½ä¸è´æ§ï¼å¦åºç¡ç©éµæååºç©éµï¼æ¥å¯¹åå§çæå¤§çææ è¿è¡ä¿®åªåä¼åï¼å»é¤éè¯¯æä¸ç¨³å®çè¾¹ã\n\n * æå»ºåºæ¯å¾çç»ææ¯ä¸ä¸ªåå«ææå¾åèç¹åé¨åå¹éè¾¹çæå¤§çææ ï¼è¿ä¸ªæ å¯ä»¥ç¨æ¥æå¯¼åç»­çéå»ºæ­¥éª¤ï¼ä¾å¦éæ©åå§å¾åå¯¹ï¼æ·»å æ°çå¾åï¼è¿è¡å±é¨æå¨å±ä¼åç­ã\n\nç±äºå¢éå¼sfmï¼structure from motionï¼è¿å¨ç»ææ¢å¤ï¼éè¦å¨æ¯æ¬¡æ·»å å¾ååé½è¿è¡ä¸æ¬¡å±é¨æå¨å±çæç»è°æ´ï¼bundle adjustmentï¼ï¼è¿ä¼å¯¼è´æçè¾ä½ï¼èä¸ç±äºè¯¯å·®ç´¯ç§¯ï¼å®¹æåºç°æ¼ç§»é®é¢ãå æ­¤ï¼æéè¦ä½¿ç¨å¾è®ºçæ¹å¼æ¥è¡¨ç¤ºåä¼åå¾åä¹é´çå¹éå³ç³»ï¼ä»èæé«éå»ºçæçåè´¨éãå·ä½æ¥è¯´ï¼æå¯ä»¥å°ææå¾åçä½ä¸ä¸ªæ åå¾çèç¹ï¼å°ä¸¤ä¸ªå¾åä¹é´çå¹éç¹æ°æèéå åº¦çä½è¾¹çæéï¼ç¶åä½¿ç¨æå°çææ ç®æ³ï¼å¦primækruskalï¼æ¥æ¾åºæå¤§æéçè¾¹ï¼å½¢æä¸ä¸ªè¿éä¸æ ç¯çå­å¾ãè¿æ ·ï¼æå°±å¯ä»¥æ ¹æ®è¿ä¸ªå­å¾æ¥æå¯¼åç»­çéå»ºæ­¥éª¤ï¼ä¾å¦éæ©åå§å¾åå¯¹ï¼æ·»å æ°çå¾åï¼è¿è¡å±é¨æå¨å±ä¼åç­ã\n\næä»¬çç®æ æ¯ä½¿ç¨å¾åçæ¹å¼æ¥éå»ºä¸ç»´æ¨¡åï¼ä½æ¯ç±äºå¢éå¼çsfmç®æ³æçè¾ä½ï¼å®¹æåºç°è¯¯å·®ç´¯ç§¯åæ¼ç§»é®é¢ï¼æä»¥ä½ éè¦å¯¹å¾åä¹é´çå¹éå³ç³»è¿è¡ä¼åãæä»¬çæè·¯æ¯ä½¿ç¨å¾è®ºçæ¹æ³ï¼å°å¾åé´çå¹éå³ç³»è¡¨ç¤ºä¸ºä¸ä¸ªæ åå¾ï¼å¶ä¸­æ¯ä¸ªé¡¶ç¹ä»£è¡¨ä¸å¼ å¾åï¼æ¯æ¡è¾¹ä»£è¡¨ä¸¤å¼ å¾åä¹é´å­å¨å±åçå¯è§åºåãç¶åä½ å°ä½¿ç¨æå¤§çææ ç®æ³ï¼ä»è¿ä¸ªæ åå¾ä¸­æ¾åºä¸æ£µåå«ææé¡¶ç¹ä¸è¾¹æå¼ä¹åæå¤§çæ ãè¾¹æå¼å¯ä»¥æ ¹æ®ä¸¤å¼ å¾åä¹é´çå¹éç¹æ°ç®ãåºçº¿é¿åº¦ãä¸è§éæµè§åº¦ç­å ç´ æ¥ç¡®å®ãæå¤§çææ å¯ä»¥ä¿è¯ä½ éåçå¾åå¯¹å·æè¾å¥½çè§è§åå¹éè´¨éï¼ä»èæé«éå»ºææãæ¥ä¸æ¥ï¼ä½ å°ä½¿ç¨å¾å²ç®æ³ï¼å°æå¤§çææ ååä¸ºå¤ä¸ªå­å¾ãå¾å²ç®æ³å¯ä»¥æ ¹æ®å­å¾ä¸­é¡¶ç¹åè¾¹çä¸ªæ°ãè¾¹æå¼ä¹åç­æ¡ä»¶æ¥ç¡®å®ååæ¹æ¡ãåååçå­å¾å¯ä»¥çä½æ¯ç¸å¯¹ç¬ç«çå°ååºæ¯ï¼å¯¹æ¯ä¸ªå­å¾åç¬è¿è¡å¢éå¼sfméå»ºï¼å¾å°ç¸æºåæ°åä¸ç»´ç¹åæ ãæåï¼ä½ å°ä½¿ç¨æç»è°æ´ç®æ³ï¼å¯¹ææå­å¾è¿è¡å¨å±ä¼åï¼æ¶é¤è¯¯å·®ç´¯ç§¯åæ¼ç§»ï¼å¹¶å°ææå­å¾åå¹¶ä¸ºæç»æ¨¡åã\n\n 6. å¢ésfméå»º\n\nå¨å¢éå¼sfmä¸­ï¼éæ©ä¸ä¸å¹å¾åçç®çæ¯ä¸ºäºæ©å±éå»ºæ¨¡åï¼å¢å åºæ¯è¦çèå´ååå°è¯¯å·®ç´¯ç§¯ãéæ©ä¸ä¸å¹å¾åçååæ¯è¦ä¿è¯ä¸å·²ç»éå»ºçå¾åæè¶³å¤å¤çå¹éç¹ï¼ä¸å·æè¾å¥½çè§å·®è§åº¦ï¼ä»¥ä¾¿äºè¿è¡ä¸è§ååpnpãä¸ç§å¸¸ç¨çæ¹æ³æ¯æ ¹æ®å¾åä¹é´çå¹éç¹æ°ç®ãåºçº¿é¿åº¦ãä¸è§éæµè§åº¦ç­å ç´ æ¥ç¡®å®è¾¹æå¼ï¼ç¶åä»å­å¾ä¸­æ¾åºä¸æ£µæå¤§çææ ï¼æç§æ çæ·±åº¦ä¼åé¡ºåºéåå¾åãè¿éæä»¬éç¨ä¸ç§ä¸ä¸ä¸ªæä½³è§å¾ç­ç¥æ¥æ¾å°å½åæéåéå»ºçå¾åã\n\nä¸ä¸ä¸ªæä½³è§å¾è§åå·²ç»å¨è®¡ç®æºè§è§ãæå½±æµéåæºå¨äººææ¯é¢åè¿è¡äºç ç©¶ ãå¨ç¨³å¥ç sfm ä¸­éæ©ä¸ä¸ä¸ªæä½³è§å¾æ¨å¨æå°åéå»ºè¯¯å·®ãå¨è¿éï¼æä»¬æåºäºä¸ç§ææçä¸ä¸ä¸ªæä½³è§å¾ç­ç¥ï¼éµå¾ªä¸ç§æå¤§åéå»ºé²æ£æ§çä¸ç¡®å®æ§é©±å¨æ¹æ³ãéæ©ä¸ä¸ä¸ªæä½³è§å¾è³å³éè¦ï¼å ä¸ºæ¯ä¸ªå³å®é½ä¼å½±åå©ä½çéå»ºãä¸ä¸ªéè¯¯çå³å®å¯è½ä¼å¯¼è´ä¸è¿ä¸²çç¸æºéè¯¯æ³¨ååéè¯¯çä¸è§æµéãæ­¤å¤ï¼éæ©ä¸ä¸ä¸ªæä½³è§å¾ä¼æå¤§å°å½±åå§¿å¿ä¼°è®¡çè´¨éä»¥åä¸è§æµéçå®æ´æ§ååç¡®æ§ãåç¡®çå§¿æä¼°è®¡å¯¹äºç¨³å¥ç sfm è³å³éè¦ï¼å ä¸ºå¦æå§¿æä¸åç¡®ï¼ç¹ä¸è§æµéå¯è½ä¼å¤±è´¥ã\n\nä¸ä¸ä¸ªæä½³è§å¾çåéèä¸æ¯è³å°çå° nt > 0 ä¸ªä¸è§ç¹çå°æªæ³¨åçå¾åãä½¿ç¨ç¹å¾è½¨è¿¹å¾å¯ä»¥ææå°è·è¸ªæ­¤ç»è®¡ä¿¡æ¯ãå¯¹äº internet æ°æ®éï¼æ­¤å¾å¯è½éå¸¸å¯éï¼å ä¸ºè®¸å¤å¾åå¯è½ä¼çå°ç¸åçç»æãå æ­¤ï¼å¨éå»ºçæ¯ä¸æ­¥é½æè®¸å¤åéè§å¾å¯ä¾éæ©ã haner ç­äººæåºçè¯¦å°½åæ¹å·®ä¼ æ­ãæ¯ä¸å¯è¡çï¼å ä¸ºéè¦å¨æ¯ä¸ªæ­¥éª¤ä¸­ä¸ºæ¯ä¸ªåéèè®¡ç®ååæåæ¹å·®ãæä»¬æåºçæ¹æ³ä½¿ç¨é«æçå¤åè¾¨çåææ¥è¿ä¼¼ä»ä»¬çä¸ç¡®å®æ§é©±å¨æ¹æ³ãæä»¬å¿é¡»åæ¶è·è¸ªæ¯ä¸ªåéå¾åä¸­å¯è§ç¹çæ°éåå¶åå¸ãæ´å¤çå¯è§ç¹åè¿äºç¹çæ´åååå¸åºè¯¥å¯¼è´æ´é«çåæ° sï¼è¿æ ·å·ææ´å¥½æ¡ä»¶çå¯è§ç¹éç½®çå¾åé¦åè¢«æ³¨åãä¸ºäºå®ç°è¿ä¸ªç®æ ï¼æä»¬å°å¾åç¦»æ£åä¸ºä¸ä¸ªåºå®å¤§å°çç½æ ¼ï¼å¨ä¸¤ä¸ªç»´åº¦ä¸é½æ kl binsãæ¯ä¸ªååæ ¼æä¸¤ç§ä¸åçç¶æ:ç©ºåæ»¡ãæ¯å½ç©ºååæ ¼ä¸­çä¸ä¸ªç¹å¨éå»ºè¿ç¨ä¸­åå¾å¯è§æ¶ï¼ååæ ¼çç¶æå°±ä¼åä¸ºå®æ´ï¼å¹¶ä¸å¾åçåæ° si ä¼å¢å ä¸ä¸ªæé wlãéè¿è¿ä¸ªæ¹æ¡ï¼æä»¬éåäºå¯è§ç¹çæ°éãç±äºç»èåªå¯¹æ»åæè´¡ç®ä¸æ¬¡ï¼å æ­¤æä»¬æ´å¾åäºå¨ç¹èéå¨å¾åçä¸é¨åä¸­çæåµä¸æ´ååå°åå¸(å³åªæå°æ°ç»èåå«ææå¯è§ç¹)ãä½æ¯ï¼å¦æå¯è§ç¹çæ°éä¸º nt < k2 l ï¼åæ­¤æ¹æ¡å¯è½æ æ³å¾å¥½å°æè·ç¹çåå¸ï¼å ä¸ºæ¯ä¸ªç¹é½å¯è½è½å¥åç¬çååæ ¼ä¸­ãå æ­¤ï¼æä»¬éè¿å¨æ¯ä¸ªè¿ç»­çº§å«ä½¿ç¨æ´é«åè¾¨ç kl = 2l å¯¹å¾åè¿è¡ååºï¼å°ååæè¿°çæ¹æ³æ©å±å°å·æ l = 1...l çº§å«çå¤åè¾¨çéå­å¡ãå¾åå¨ææçº§å«ä¸ç´¯ç§¯ï¼æé wl = k2 l ä¸åè¾¨çç¸å³ãè¯¥æ°æ®ç»æåå¶åæ°å¯ä»¥ææå°å¨çº¿æ´æ°ã\n\nä¸ºäºå¤çä»»æçº§å«çå¼å¸¸å¼å¤ç¹å¼,æä»¬ä½¿ç¨ ransac å¶å®äºå¤è§å¾ä¸è§ååé®é¢ãæä»¬èèç¹å¾è½¨è¿¹ t = {tn | n =1...nt } ä½ä¸ºä¸ç»å·æåéªæªç¥åç¹æ¯ç Îµ çæµéå¼ãæµé tn ç±å½ä¸åå¾åè§å¯  xnâ r2 åç¸åºçç¸æºä½å§¿ pn â se(3) ç»æ,å®ä¹ä»ä¸çå°ç¸æºå¸§çæå½± p = [rt ârt t] å¶ä¸­ r â so(3) å t â r3ãæä»¬çç®æ æ¯æå¤§éåº¦å°æ¯æç¬¦åæ¡ä»¶è¯å¥½çåè§å¾ä¸è§åå\n\nxabâ¼Ï(xa,xb,pa,pb)witha=b\n\nå¶ä¸­ Ï æ¯ä»»ä½éæ©çä¸è§ååæ¹æ³(å¨æä»¬çä¾å¦ dlt æ¹æ³ [26]),xab æ¯ä¸è§ç¹ãè¯·æ³¨æ,æä»¬ä¸ä¼ä»å¨æ¯å¾åå¯¹(ç¬¬ 4.1 è)è¿è¡ä¸è§æµé,ä»¥é¿åç±äºå§¿å¿ä¼°è®¡ä¸åç¡®èå¯¼è´éè¯¯çä¸è§æµéè§åº¦ãæ¡ä»¶è¯å¥½çæ¨¡åæ»¡è¶³ä¸¤ä¸ªçº¦æãé¦å,è¶³å¤çä¸è§ååè§\n\ncosâ¡Î±=taâxab||taâxab||2âtaâxab||tbâxab||2\n\nå¶æ¬¡,æ­£æ·±åº¦ da å db w.r.t.è§å¾ pa å pb(ææ§çº¦æ),æ·±åº¦å®ä¹ä¸º\n\nd=[p31p32p33p34][xabt1]t\n\nå¶ä¸­ pmn è¡¨ç¤º p çç¬¬ m è¡åç¬¬ n åä¸­çåç´ ãå¦æ tn å·ææ­£æ·±åº¦ dn ä¸å¶éæå½±è¯¯å·®\n\nen=||xnâ[x/zy/z]||2with[xyz]=pn[xab1]\n\nå°äºæä¸ªéå¼ tã ransac å° k æå¤§åä½ä¸ºä¸ç§è¿­ä»£æ¹æ³,å¹¶ä¸éå¸¸å®ä¼éæºååå°å¯¹å¤§å°ä¸º 2 çæå°éåè¿è¡éæ ·ãä½æ¯,ç±äºå¯¹äºå° nt å¯è½ä¼å¤æ¬¡éæ ·ç¸åçæå°é,å æ­¤æä»¬å°éæºéæ ·å¨å®ä¹ä¸ºä»çæå¯ä¸æ ·æ¬ãä¸ºç¡®ä¿è³å°å¯¹ä¸ä¸ªæ ç¦»ç¾¤å¼çæå°éè¿è¡éæ ·,æç½®ä¿¡åº¦Î·,ransac å¿é¡»è³å°è¿è¡ k æ¬¡è¿­ä»£ãç±äºåéªåç¹æ¯çæªç¥,æä»¬å°å¶è®¾ç½®ä¸ºè¾å°çåå§å¼ o0 å¹¶å¨æä»¬æ¾å°æ´å¤§çå±è¯é(èªéåºåæ­¢æ å)æ¶è°æ´ kãå ä¸ºç¹å¾è½¨è¿¹å¯è½åå«å¤ä¸ªç¬ç«ç¹,æä»¥æä»¬éè¿ä»å©ä½æµéä¸­å é¤å±è¯éæ¥éå½å°è¿è¡æ­¤è¿ç¨ãå¦æææ°å±è¯éçå¤§å°å°äºä¸,åéå½åæ­¢ã ä¸ºäºåå°ç´¯ç§¯è¯¯å·®ï¼æä»¬å¨å¾åéååä¸è§æµéåæ§è¡ baãéå¸¸ï¼ä¸éè¦å¨æ¯ä¸ªæ­¥éª¤ ä¹åæ§è¡å¨å± baï¼å ä¸ºå¢é sfm åªä¼å½±åå±é¨æ¨¡åãå æ­¤ï¼æä»¬å¨æ¯æ¬¡å¾åéååå¯¹è¿ æ¥æå¤çå¾åéæ§è¡å±é¨ baãç±»ä¼¼äº visualsfmï¼æä»¬ä»å¨å°æ¨¡åå¢é¿ä¸å®ç¾åæ¯åæ æ§è¡å¨å± baï¼ä»èå¯¼è´ sfm çæéçº¿æ§è¿è¡æ¶é´ãåæ°åãä¸ºäºèèæ½å¨çå¼å¸¸å¼ï¼æä»¬ä½¿ç¨ cauchy å½æ°ä½ä¸ºå±é¨ ba ä¸­çç¨³å¥æå¤±å½æ° Ïjãå¯¹äºå ç¾ä¸ªæåå¤´çé®é¢ï¼æä»¬ä½¿ç¨ç¨çç´æ¥æ±è§£å¨ï¼å¯¹äºæ´å¤§çé®é¢ï¼æä»¬ä¾èµ pcgãæä»¬ä½¿ç¨ ceres solver å¹¶æä¾å¨ä»»æå¾åç»åä¹é´å±äº«ä»»æå¤æåº¦ç¸æºæ¨¡åçéé¡¹ãå¯¹äºæ åºçäºèç½ç§çï¼æä»¬ä¾ èµäºå·æä¸ä¸ªå¾åç¸ååæ°çç®åç¸æºæ¨¡åï¼å ä¸ºä¼°è®¡ä¾èµäºçº¯ç²¹çèªæ ¡åãè¿æ»¤ãbaä¹åï¼ä¸äºè§å¯ç»æä¸æ¨¡åä¸ç¬¦ãå¨å¨å± ba ä¹åï¼æä»¬è¿æ£æ¥éåç¸æºï¼ä¾å¦ç±å¨æ¯å¾æäººå·¥å¢å¼ºå¾åå¼èµ·çãéå¸¸ï¼è¿äºç¸æºåªæç¦»ç¾¤å¼è§æµå¼ï¼æèå®ä»¬çåå¨å½æ°ä¼æ¶æå°ä¸ä¸ªèåçæå°å¼ãå æ­¤ï¼æä»¬ä¸å°ç¦è·åå¤±çåæ°éå¶å¨åéªåºå®èå´åï¼èæ¯è®©å®ä»¬å¨ ba ä¸­èªç± ä¼åãç±äºä¸»ç¹æ ¡åæ¯ä¸ä¸ªä¸éå®çé®é¢ï¼æä»¬å°å¶åºå®å¨æªæ ¡åç¸æºçå¾åä¸­å¿ãå· æå¼å¸¸è§éæå¤§å¤±çç³»æ°å¹åº¦çç¸æºè¢«è®¤ä¸ºæ¯éè¯¯ä¼°è®¡å¹¶å¨å¨å± ba ä¹åè¢«è¿æ»¤ã\n\npnpï¼perspective-n-pointï¼æ¯æå·²ç¥nä¸ª3dç©ºé´ç¹ä»¥åå®ä»¬å¨å¾åä¸çæå½±ä½ç½®æ¶ï¼ä¼°ç®ç¸æºæå¨çä½å§¿çé®é¢ãpnpå¯¹è¯¥å¾åè¿è¡éåçè¿ç¨æ¯å©ç¨å·²ç»éå»ºç3dç¹åæ°å¾åä¸­çå¹éç¹ï¼æ±è§£ç¸æºçæè½¬ç©éµåå¹³ç§»åéãç±äºå¹éç¹ä¸­å¯è½å­å¨å¼å¸¸å¼ï¼å æ­¤éå¸¸ä½¿ç¨ransacç­é²æ£ä¼°è®¡æ¹æ³æ¥åé¤å¼å¸¸å¼ï¼å¹¶ä½¿ç¨æå°åéæå½±è¯¯å·®çæ¹æ³æ¥ä¼åç¸æºä½å§¿ ã\n\npnpé®é¢å¯ä»¥ç¨æ°å­¦è¯­è¨æè¿°å¦ä¸ï¼\n\nxi=k(rxi+t),i=1,â¦,n\n\nå¶ä¸­ï¼xiæ¯ç¬¬iä¸ª3dç¹xiå¨å¾åä¸çæå½±åæ ï¼kæ¯ç¸æºçååç©éµï¼råtæ¯ç¸æºçæè½¬ç©éµåå¹³ç§»åéï¼å³ç¸æºçä½å§¿ãæ±è§£pnpé®é¢å°±æ¯æ±è§£råtã\n\npnpé®é¢æå¤ç§ç®æ³ï¼æä»¬ä½¿ç¨ä»¥ä¸ä¸ç§å¸¸è§çç®æ³ï¼\n\n * ç´æ¥çº¿æ§åæ¢æ³ï¼direct linear transformï¼dltï¼ï¼è¿ç§æ¹æ³åè®¾ç¸æºå·²ç»æ ¡åè¿äºï¼å³å·²ç¥kãå¯¹äºæ¯ç»3d-2då¹éç¹ï¼å¯ä»¥å¾å°ä¸¤ä¸ªçº¿æ§æ¹ç¨ï¼ä¸å±æ12ä¸ªæªç¥æ°ï¼råtçåç´ ï¼ãè³å°éè¦6ç»å¹éç¹æè½æ±è§£çº¿æ§æ¹ç¨ç»ãè®¾ænç»å¹éç¹ï¼åå¯ä»¥åæç©éµå½¢å¼ï¼\n   \n   af=0\n   \n   å¶ä¸­ï¼aæ¯ä¸ä¸ª2nÃ12çç©éµï¼fæ¯ä¸ä¸ª12Ã1çåéï¼åå«äºråtçåç´ ãå½n=6æ¶ï¼å¯ä»¥ç´æ¥æ±è§£çº¿æ§æ¹ç¨ç»ãå½n>6æ¶ï¼å¯ä»¥ä½¿ç¨å¥å¼å¼åè§£ï¼svdï¼ç­æ¹æ³æ±è§£æå°äºä¹è§£ãç¶åï¼å°fæ¢å¤ä¸ºråtã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯ç®åå¿«éï¼ç¼ºç¹æ¯åªèèäºçº¿æ§æä¹ä¸çæä¼è§£ï¼æ²¡æèèå ä½çº¦æï¼ä¾å¦æè½¬ç©éµçæ­£äº¤æ§ï¼ã\n\n * p3pï¼è¿ç§æ¹æ³æ¯å·²ç¥ä¸ä¸ª3dç®æ ç¹ä¸å¶2dæå½±ä¹é´çå¯¹åºå³ç³»ï¼æ¥ç¡®å®æ å®ç¸æºçä½å§¿é®é¢ãè¿ç§æ¹æ³å©ç¨äºä¸è§çº¦æï¼ç»åºä¸è§çº¦ææä¹ä¸çæä¼è§£ãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨ç¸ä¼¼ä¸è§å½¢ãååæ°ç­æ¹æ³æ¥åå°æªç¥åæ°çä¸ªæ°ï¼æp3pæ¹ç¨ç»è½¬åä¸ºåæ¬¡æ¹ç¨æèå­æ¬¡æ¹ç¨ãç¶åï¼ä½¿ç¨çé¡¿è¿­ä»£æ³ç­æ¹æ³æ±è§£æ¹ç¨çå®æ ¹ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯èèäºå ä½çº¦æï¼ç¼ºç¹æ¯å¯è½å­å¨å¤è§£æèç¼ºè§£çæåµãä¸ºäºå¾å°å¯ä¸çè§£ï¼è³å°è¿åºå¼å¥ä¸ä¸ªç¹ï¼æå»ºä¸¤ä¸ªä¸è§å½¢ï¼è¿è¡æ±è§£ãå¦ä¸ç§æ¹æ³æ¯ä½¿ç¨ransacç­é²æ£ä¼°è®¡æ¹æ³ï¼å°ç¹éååä¸ºä¸ä¸ªç¹å­éï¼æ£æ¥è¿äºå­éçä¸è´æ§ã\n\n * rpnpï¼è¿ç§æ¹æ³æ¯ä¸ç§é²æ£ço(n)å¤æåº¦çpnpç®æ³ï¼å¯ä»¥å¤çä»»ææ°éç3d-2då¹éç¹ãè¿ç§æ¹æ³çææ³æ¯åå»ºç«ä¸ä¸ªæ°çæ­£äº¤åæ ç³»ï¼ç¶åæ±è§£æ­£äº¤åæ ç³»å°ç¸æºåæ ç³»ä¹é´çæè½¬åå¹³ç§»ç©éµãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨ä¸»æååæï¼pcaï¼ç­æ¹æ³ç¡®å®æè½¬è½´ï¼ç¶åä½¿ç¨æå°äºä¹æ³ç­æ¹æ³æ±è§£æè½¬è§åå¹³ç§»ç¢éçæ¹ç¨ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯é²æ£ãé«æãéç¨ï¼ç¼ºç¹æ¯éè¦è¿è¡éçº¿æ§ä¼åï¼å¯è½é·å¥å±é¨æä¼è§£ã\n\nå¯¹äºä»¥ä¸ä¸ç§æ¹æ³ï¼æä»¬åå«è¿è¡æ±è§£ï¼ç±äºæå»ºçæ±è§£æ¹å¼ä¸ä¸è´ï¼æä»¬å¯¹ä¸ç§æ¹å¼æ±è§£çç»æè¿è¡ç²¾åº¦åæï¼éåç®åè®¤ä¸ºæä¼çç»æä½ä¸ºpnpçç»æã\n\nbaæ¯ææç»è°æ´ï¼bundle adjustmentï¼çç¼©åï¼å®æ¯ä¸ç§éçº¿æ§æå°äºä¹ä¼åæ¹æ³ï¼ç¨äºä»å¤ä¸ªè§è§ä¸çå¹éç¹ï¼åæ¶æ¢å¤åºç¸æºçåå¤åæ°å3dç©ºé´ç¹çåæ ãbaçç®æ æ¯æå°åéæå½±è¯¯å·®ï¼å³å°3dç¹æå½±å°åä¸ªç¸æºä¸å¾å°ç2dåæ ä¸å®éè§æµå°ç2dåæ ä¹é´çè·ç¦»å¹³æ¹åã\n\nbaçæ°å­¦æ¨¡åå¯ä»¥è¡¨ç¤ºä¸ºï¼\n\nminc,x=ânj=âmÏ(â¥Ï(cj,xi)âxijâ¥2)\n\nå¶ä¸­ï¼cjæ¯ç¬¬jä¸ªç¸æºçåæ°ï¼åæ¬åååå¤åï¼ï¼xiæ¯ç¬¬iä¸ª3dç¹çåæ ï¼Ï(cj,xi)æ¯å°3dç¹xiæå½±å°ç¬¬jä¸ªç¸æºä¸å¾å°ç2dåæ ï¼xijæ¯ç¬¬jä¸ªç¸æºä¸è§æµå°çç¬¬iä¸ª3dç¹å¯¹åºç2dåæ ï¼Ïæ¯ä¸ä¸ªé²æ£æå¤±å½æ°ï¼ç¨äºéä½å¼å¸¸å¼çå½±åã\n\nä¸ºäºæ±è§£è¿ä¸ªä¼åé®é¢ï¼éè¦è®¡ç®ç®æ å½æ°å³äºç¸æºåæ°å3dç¹åæ çåå¯¼æ°ï¼å³éå¯æ¯ç©éµãç¶åå¯ä»¥ä½¿ç¨é«æ¯-çé¡¿æ³æèåæä¼¯æ ¼-é©¬å¤¸å°ç¹æ³ç­æ¹æ³æ¥è¿­ä»£å°æ´æ°ç¸æºåæ°å3dç¹åæ ï¼ç´å°æ¶ææèè¾¾å°æå¤§è¿­ä»£æ¬¡æ°ã\n\nba æ¯ sfm ä¸­çä¸»è¦æ§è½ç¶é¢ãæä»¬æåºäºä¸ç§æ¹æ³ï¼è¯¥æ¹æ³å©ç¨å¢é sfm åå¯éç§çéåçåºæç¹æ§ï¼éè¿å°åä½ç¸æºèç±»å°é«åºæ¯éå ç»ä¸­æ¥æ´ææå°åæ° å baãç±äºå´è¶£ç¹çåæ¬¢è¿ç¨åº¦ä¸åï¼ç§çééå¸¸å·æé«åº¦ä¸ååçå¯è§æ§æ¨¡å¼ãæ­¤å¤ï¼æ åºéåéå¸¸èéæå¨è®¸å¤å¾åä¸­å±åå¯è§çç¹çæ®µãè®¸å¤ä»¥åçå·¥ä½å©ç¨è¿ä¸ äºå®æ¥æé« ba çæçï¼å°æåæºåç¹ååä¸ºå­å¾ï¼å­å¾éè¿åéç¬¦åéè¿æ¥ï¼å°åå ä½ä¸ºè¿æ¥æåæºåç¹åæ°å¾ä¸çå¾åå²é®é¢ãç¶å ba å¨åºå®ç¸æºåç¹åæ¹è¿åéç¬¦åé ä¹é´äº¤æ¿ï¼åä¹äº¦ç¶ãå°å·æä½ç§©çå¤ä¸ªç¹æå ä¸ºåä¸ªå ç´ ï¼å¯¹ç¸æºæ½å é«ç§©çº¦æï¼ä»èå¨ç¸æºå±äº«è®¸å¤ç¹æ¶æä¾è®¡ç®ä¼å¿ãæä»¬æåºçæ¹æ³æ¯ åè¿äºååå·¥ä½çå¯åãæä»¬å°é®é¢ååä¸ºåé¨åæ°è¢«åè§£çå­å¾ãsfmæ ¹æ®å¾ååç¹çåæ°æ¯å¦åå°ææ°å¢éæ¨¡åæ©å±çå½±åï¼å°å¾ååç¹åä¸ºä¸¤ç»ãå¯¹äºå¤§é®é¢ï¼å¤§é¨ååºæ¯ä¸åå½±åï¼å ä¸ºæ¨¡åéå¸¸å¨å±é¨æ©å±ãba èªç¶ä¼éå¯¹æ°æ©å±çé¨åè¿è¡æ´å¤ä¼åï¼èå¶ä»é¨ååªä¼å¨æ¼ç§»çæåµä¸è¿è¡æ¹è¿ãæ­¤å¤ï¼ç§çééå¸¸ç¸æºåå¸ä¸ååï¼æè®¸å¤åä½è§ç¹ãåè¿äºè§å¯çå¯åï¼æä»¬å°æª åå½±åçåºæ¯é¨åååä¸ºç» g = {gr | r = 1...ng} çé«åº¦éå å¾åå¹¶å°æ¯ä¸ªç» gr åæ° åä¸ºåä¸ªç¸æºãåææ°æ©å±å½±åçå¾åè¢«ç¬ç«åç»ï¼ä»¥åè®¸å¯¹å¶åæ°è¿è¡æä½³ç»åãè¿ä¼å¯¼è´æ å ba åæ°åãå¯¹äºæªåå½±åçå¾åï¼æä»¬åå»ºåºæ°ngrç»ãå¦æå¾åæ¯å¨ææ°çæ¨¡åæ©å±æé´æ·»å çï¼æèå¦æè¶è¿ Îµrçè§æµå¼æ¯å·æå¤§äº r åç´ çéæå½±è¯¯å·®ï¼ä»¥æ¹è¿éæ°ä¸è§åç¸æºï¼ï¼æä»¬è®¤ä¸ºå¾ååå°å½±åãä¸ç»åçå¾ååºå°½å¯è½åä½ï¼å¾åä¹é´çå±åå¯è§ç¹çæ°éæ¯æè¿°å®ä»¬ç¸äºå½±åç¨åº¦çåº¦éãå¯¹äºå·æ nx ä¸ªç¹çåºæ¯ï¼æ¯ä¸ªå¾åé½å¯ä»¥ç¨äºè¿å¶å¯è§æ§åé vi â {0, 1}nx æ¥æè¿°ï¼å¶ä¸­å¦æç¹ xn å¨å¾å i ä¸­å¯è§ï¼å vi ä¸­çç¬¬ n ä¸ªæ¡ç®ä¸º 1ï¼å¦åä¸º 0ãå¾å a å b ä¹é´çäº¤ äºç¨åº¦æ¯ä½¿ç¨å¯¹å®ä»¬çåé vi çæä½è¿ç®è®¡ç®ç\n\nvab=||vaâ§vb||||vaâ¨vb||\n\nä¸ºäºæå»ºç»ï¼æä»¬å°å¾åæåºä¸º i= {ii | âviââ¥âvi 1â}ãæä»¬éè¿ä»  i ä¸­å é¤ç¬¬ä¸ä¸ªå¾å ia å¹¶æ¾å°ä½¿ vab æå¤§åçå¾å ib æ¥åå§åä¸ä¸ªç» grã\n\nf vab > v å |gr| < sï¼å¾å ib ä»  i ä¸­ç§»é¤å¹¶æ·»å å°ç» grãå¦åï¼å°åå§åä¸ä¸ªæ°ç»ãä¸ºäºåå°å¯»æ¾ ib çæ¶é´ï¼æä»¬éç¨å¯åå¼æ¹æ³å°æç´¢éå¶å¨ kr ç©ºé´æè¿é»ï¼å¶å±åè§å¯æ¹åå¨ Â±Î² åº¦èå´åï¼å¶å¨æºæ¯è¿äºå¾åå¾å¯è½å±äº«è®¸å¤ç¹.ç¶åå¯¹ç»ä¸­çæ¯ä¸ªå¾åè¿è¡åæ°å w.r.t.ä¸ä¸ªå±åçç»å±é¨åæ ç³»ãåç»å¾åç ba ææ¬å½æ°æ¯\n\neg=âjÏ(||Ïg(gr,pc,xk)âxj||22)\n\nä½¿ç¨å¤é¨ç»åæ° gr â se(3) ååºå®ç pcãç¶åå°ç» r ä¸­å¾åçæå½±ç©éµå®ä¹ä¸ºç»åå¾åå§¿æ pcr = pcgr çä¸²èãæ»ææ¬ e æ¯åç»åæªåç»ææ¬è´¡ç®çæ»åãä¸ºäºææè¿æ¥ gr å pi çæè½¬åéï¼æä»¬ä¾èµååæ°ãç±äºè®¡ç® Ïg ç¸å¯¹äº Ï çç¸å¯¹å¼éè¾å°ï¼å æ­¤è¾å¤§çç»å¤§å°ä¼å¸¦æ¥æ´å¤§çæ§è½ä¼å¿ãè¯·æ³¨æï¼å³ä½¿å¯¹äºä¸¤ä¸ªç»çæåµï¼æä»¬ä¹è§å¯å°äºè®¡ç®ä¼å¿ãæ­¤å¤ï¼æ§è½ä¼å¿åå³äºé®é¢çå¤§å°ï¼å ä¸ºæåæºæ°éçåå°å¯¹ç´æ¥æ¹æ³çç«æ¹è®¡ç®å¤æåº¦çå½±åå¤§äºé´æ¥æ¹æ³ççº¿æ§å¤æåº¦ã\n\n 7. ä¸è§åæµé\n\nä¸è§åæ¯ææ ¹æ®ä¸¤ä¸ªæå¤ä¸ªè§è§ä¸çå¹éç¹ï¼æ¢å¤åºå®ä»¬å¯¹åºç3dç©ºé´ç¹çè¿ç¨ãä¸è§åæ¯sfmä¸­éè¦çä¸æ­¥ï¼å®å¯ä»¥æ©å±éå»ºæ¨¡åï¼å¢å åºæ¯è¦çèå´ååå°è¯¯å·®ç´¯ç§¯ã\n\nä¸è§åçåºæ¬åçæ¯å©ç¨å°å½±å ä½ä¸­çäº¤åæ¯ä¸åæ§ï¼å³ä¸¤æ¡ç´çº¿ä¸çåä¸ªç¹çäº¤åæ¯å¨ä¸åè§è§ä¸ä¿æä¸åãå æ­¤ï¼å¦æå·²ç¥ä¸¤ä¸ªè§è§ä¸çå¹éç¹ä»¥åç¸æºçä½å§¿ï¼å°±å¯ä»¥éè¿æ±è§£çº¿æ§æ¹ç¨ç»æèæå°åéæå½±è¯¯å·®ç­æ¹æ³ï¼å¾å°3dç©ºé´ç¹çåæ ã\n\n\n\nä¸è§åæå¤ç§ç®æ³ï¼è¿éç®åä»ç»ä¸ç§å¸¸è§çç®æ³ï¼\n\n * çº¿æ§ä¸è§åï¼è¿ç§æ¹æ³åè®¾ç¸æºå·²ç»æ ¡åè¿äºï¼å³å·²ç¥ç¸æºçååç©éµãå¯¹äºæ¯ç»2d-2då¹éç¹ï¼å¯ä»¥å¾å°ä¸ä¸ªçº¿æ§æ¹ç¨ï¼ä¸å±æ4ä¸ªæªç¥æ°ï¼3dç¹çé½æ¬¡åæ ï¼ãè³å°éè¦ä¸¤ç»å¹éç¹æè½æ±è§£çº¿æ§æ¹ç¨ç»ãè®¾ænç»å¹éç¹ï¼åå¯ä»¥åæç©éµå½¢å¼ï¼\n   \n   ax=0\n   \n   å¶ä¸­ï¼aæ¯ä¸ä¸ª2nÃ4çç©éµï¼xæ¯ä¸ä¸ª4Ã1çåéï¼åå«äº3dç¹çé½æ¬¡åæ ãå½n=2æ¶ï¼å¯ä»¥ç´æ¥æ±è§£çº¿æ§æ¹ç¨ç»ãå½n>2æ¶ï¼å¯ä»¥ä½¿ç¨å¥å¼å¼åè§£ï¼svdï¼ç­æ¹æ³æ±è§£æå°äºä¹è§£ãç¶åï¼å°xè½¬æ¢ä¸ºéé½æ¬¡åæ ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯ç®åå¿«éï¼ç¼ºç¹æ¯åªèèäºçº¿æ§æä¹ä¸çæä¼è§£ï¼æ²¡æèèå ä½çº¦æï¼ä¾å¦ç¸æºä½å§¿å3dç¹ä¹é´çä¸è´æ§ï¼ã\n\n * éçº¿æ§ä¸è§åï¼è¿ç§æ¹æ³æ¯å¨çº¿æ§ä¸è§åçåºç¡ä¸ï¼ä½¿ç¨éçº¿æ§ä¼åæ¹æ³æ¥è¿ä¸æ­¥æé«ç²¾åº¦åé²æ£æ§ãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨é«æ¯-çé¡¿æ³æèåæä¼¯æ ¼-é©¬å¤¸å°ç¹æ³ç­æ¹æ³æ¥æå°åéæå½±è¯¯å·®ï¼\n   \n   minxâi=1nâ¥Ï(pi,x)âxiâ¥2\n   \n   å¶ä¸­ï¼Ï(pi,x)æ¯å°3dç¹xæå½±å°ç¬¬iä¸ªç¸æºä¸å¾å°ç2dåæ ï¼xiæ¯ç¬¬iä¸ªç¸æºä¸è§æµå°ç2dåæ ï¼piæ¯ç¬¬iä¸ªç¸æºçæå½±ç©éµãè¿ç§æ¹æ³éè¦ç»å®ä¸ä¸ªåå§å¼ï¼éå¸¸å¯ä»¥ä½¿ç¨çº¿æ§ä¸è§åå¾å°çç»æä½ä¸ºåå§å¼ã\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯èèäºå ä½çº¦æï¼ç¼ºç¹æ¯éè¦è¿è¡è¿­ä»£ä¼åï¼å¯è½é·å¥å±é¨æä¼è§£æèæ¶æéåº¦æ¢ã\n\n * é²æ£ä¸è§åï¼è¿ç§æ¹æ³æ¯å¨éçº¿æ§ä¸è§åçåºç¡ä¸ï¼ä½¿ç¨é²æ£æå¤±å½æ°æ¥éä½å¼å¸¸å¼çå½±åãå·ä½æ¥è¯´ï¼å¯ä»¥ä½¿ç¨huberæå¤±å½æ°æètukeyæå¤±å½æ°ç­æ¹æ³æ¥æ¿ä»£å¹³æ¹æå¤±å½æ°ï¼ä½¿å¾éæå½±è¯¯å·®å¯¹äºå¼å¸¸å¼ä¸ææï¼\n   \n   minxâi=1nÏ(â¥Ï(pi,x)âxiâ¥2)\n   \n   å¶ä¸­ï¼Ïæ¯ä¸ä¸ªé²æ£æå¤±å½æ°ï¼ä¾å¦ï¼\n   \n   Ï(x)={xx<cc+c22xâc2xâ¥c\n   \n   è¿ç§æ¹æ³çä¼ç¹æ¯é²æ£æ§é«ï¼ç¼ºç¹æ¯éè¦éæ©åéçé²æ£æå¤±å½æ°ååæ°ï¼ä»¥åè¿è¡è¿­ä»£ä¼åã\n\néæ°ä¸è§æµéãç±»ä¼¼äº visualsfmï¼æä»¬æ§è¡éæ°ä¸è§æµé (rt) ä»¥å¨å¨å± baï¼é¢ ba rtï¼ä¹åèèæ¼ç§»æåºãç¶èï¼ba éå¸¸ä¼æ¾çæ¹åç¸æºåç¹åæ°ãå æ­¤ï¼æä»¬å»ºè®®é è¿é¢å¤ç ba å rt æ­¥éª¤æ¥æ©å±éå¸¸ææç ba å rtãæ­¤æ­¥éª¤çç®çæ¯éè¿ç»§ç»­è·è¸ªä»¥ åæªè½ä¸è§åçç¹ï¼ä¾å¦ï¼ç±äºå§¿å¿ä¸åç¡®ç­ï¼æ¥æé«éå»ºçå®æ´æ§ã æä»¬ä¸å¢å ä¸è§åéå¼ï¼èæ¯ç»§ç»­è·è¸ªå·æè¯¯å·®ä½äºè¿æ»¤éå¼çè§æµå¼ãæ­¤å¤ï¼æä»¬å°è¯å å¹¶è½¨éï¼ä»èä¸ºä¸ä¸ä¸ª ba æ­¥éª¤æä¾æ´å¤çåä½ãè¿­ä»£ä¼åã bundler å visualsfm æ§ è¡ ba åè¿æ»¤çåä¸ªå®ä¾ãç±äºæ¼ç§»æ ba å rtï¼éå¸¸ ba ä¸­çå¤§é¨åè§å¯ç»ææ¯å¼å¸¸ å¼ï¼éåè¢«è¿æ»¤æãç±äº ba åå°å¼å¸¸å¼çä¸¥éå½±åï¼å æ­¤ ba çç¬¬äºæ­¥å¯ä»¥æ¾çæ¹åç» æãå æ­¤ï¼æä»¬å»ºè®®å¨è¿­ä»£ä¼åä¸­æ§è¡ baãrt åè¿æ»¤ï¼ç´å°è¿æ»¤çè§å¯å¼å ba å rt ç¹çæ°éåå°ãå¨å¤§å¤æ°æåµä¸ï¼ç¬¬äºæ¬¡è¿­ä»£åç»æä¼æ¾çæ¹åå¹¶ä¸ä¼åä¼æ¶æã\n\n 8. åå¹¶æç»æ¨¡å\n\nä¸è¿°æ¹æ³ï¼æä»¬å·²ç»å¾å°äºåä¸ªå­å¾çsfmç»æï¼æä»¬æåä¸æ­¥æ¯å°åä¸ªå­æ¨¡ååå¹¶ã\n\n * æ±è§£åä¸ªå­å¾çå¾åéãä½ å¯ä»¥æ ¹æ®å­å¾ä¹é´çææå³ç³»ï¼å°ç¸é»æç¸äº¤çå­å¾åä¸ºä¸ç»ï¼å½¢æä¸ä¸ªå¾åéãä¾å¦ï¼å¦æä½ æåä¸ªå­å¾aï¼bï¼cï¼dï¼å¶ä¸­aåbæéå é¨åï¼båcæéå é¨åï¼cådæéå é¨åï¼é£ä¹ä½ å¯ä»¥å°aï¼bï¼cåä¸ºä¸ç»ï¼å½¢æä¸ä¸ªå¾åéabcï¼å°bï¼cï¼dåä¸ºä¸ç»ï¼å½¢æä¸ä¸ªå¾åébcdã\n * æ¾åºåä¸ªå­å¾ä¸­éå çé¨åãä½ å¯ä»¥å¨æ¯ä¸ªå¾åéä¸­è¿è¡ç¹å¾ç¹å¹éï¼æ¾åºä¸åå­å¾ä¹é´å±äº«çç¹å¾ç¹ãä¾å¦ï¼å¨å¾åéabcä¸­ï¼ä½ å¯ä»¥æ¾åºaåbä¹é´å±äº«çç¹å¾ç¹abï¼å¨å¾åébcdä¸­ï¼ä½ å¯ä»¥æ¾åºbåcä¹é´å±äº«çç¹å¾ç¹bcï¼å¨ä¸¤ä¸ªå¾åéä¹é´ï¼ä½ å¯ä»¥æ¾åºbåcä¹é´å±äº«çç¹å¾ç¹bcâã\n * å©ç¨éå çé¨åï¼æ±è§£ä¸¤ä¸ªå­å¾çç¸ä¼¼åæ¢ãä½ å¯ä»¥æ ¹æ®å±äº«ç¹å¾ç¹ä¹é´çå¯¹åºå³ç³»ï¼æ±è§£ä¸¤ä¸ªå­å¾ä¹é´çç¸ä¼¼åæ¢ç©éµï¼similarity matrixï¼ï¼ä½¿å¾ä¸¤ä¸ªå­å¾è½å¤å¯¹é½ãä¾å¦ï¼å¨å¾åéabcä¸­ï¼ä½ å¯ä»¥æ ¹æ®abä¹é´çå¯¹åºå³ç³»ï¼æ±è§£aå°bçç¸ä¼¼åæ¢ç©éµsabï¼å¨å¾åébcdä¸­ï¼ä½ å¯ä»¥æ ¹æ®bcä¹é´çå¯¹åºå³ç³»ï¼æ±è§£bå°cçç¸ä¼¼åæ¢ç©éµsbcï¼å¨ä¸¤ä¸ªå¾åéä¹é´ï¼ä½ å¯ä»¥æ ¹æ®bcâä¹é´çå¯¹åºå³ç³»ï¼æ±è§£bå°câçç¸ä¼¼åæ¢ç©éµsbcâã\n * å°åä¸ªå­å¾çæ¨¡åè¿è¡èåãä½ å¯ä»¥æ ¹æ®ç¸ä¼¼åæ¢ç©éµï¼å°åä¸ªå­å¾çæ¨¡ååæ¢å°åä¸ä¸ªåæ ç³»ä¸ï¼ç¶åè¿è¡æ¨¡åèåãä¾å¦ï¼å¨å¾åéabcä¸­ï¼ä½ å¯ä»¥å°açæ¨¡ååæ¢ä¸ºsabaï¼å¨å¾åébcdä¸­ï¼ä½ å¯ä»¥å°dçæ¨¡ååæ¢ä¸ºsbcdï¼å¨ä¸¤ä¸ªå¾åéä¹é´ï¼ä½ å¯ä»¥å°cçæ¨¡ååæ¢ä¸ºsbcâ*cï¼ç¶åå°ææçæ¨¡åè¿è¡èåï¼å¾å°æç»çä¸ç»´éå»ºç»æã\n\nå·ä½è¿ç¨å¦ä¸ï¼\n\nè¾å¥ä¸¤ä¸ªè¦å¯¹é½çæ¨¡åï¼è¾åºä»ä»¬ä¹é´çç¸ä¼¼åæ¢ç©éµalignmentè®¾ç½®ransacçä¸äºåæ°ï¼æå¤§è¯¯å·®ï¼ååç¹çæ¾å°ä¸¤ä¸ªæ¨¡åä¹é´çå¬å±å¾çiåæååºä¸¤ä»½ï¼reconstruction1 ä¸­çiè¡¨ç¤ºä¸ºsrc_imagesï¼åreconstruction2ä¸­çiè¡¨ç¤ºä¸ºref_imagesä½¿ç¨ransacä¼°ç®ä¸¤ä¸ªimageséçç¸ä¼¼åæ¢\n\nä¸¤ç¹äºä¸­çææç¸æºä¸­å¿çåæ \n\nx=(x1,â¯,xn)y=(y1,â¯,yn)\n\næä»¬å°å¶è½¬ä¸ºç©éµå½¢å¼\n\nm=[a1a2â¯anb1b2â¯bnc1c2â¯cn]\n\nå»ä¸­å¿å\n\nmâ=[a1âaâa2âaââ¯anâaâb1âbâb2âbââ¯bnâbâc1âcâc2âcââ¯cnâcâ]\n\nåå«è®¡ç®å¥å¼å¼ï¼ä¸åæ¹å·®ç©éµ\n\nÏ2=1nâi=1n(xiâxâ)2âxy=1nâi=1n(yiâyâ)(xiâxâ)\n\næåè¿è¡å¥å¼å¼åè§£\n\nâxy=udvt\n\nå¶ä¸­\n\nr=usvc=1Ï2tr(ds)t=yââcrxâ\n\nååå§åä¸ä¸ªransacï¼å¾å°æå¤§è¿­ä»£æ¬¡æ°max_num_trialsã\n\n * n=âï¼sample_count=0\n\n * while n > sample_count\n   \n   * éæ©ä¸ç»æ ·æ¬ï¼å¹¶è®°å½å®çåç¹æ°\n   \n   * è®¡ç®å¤ç¹çe = 1- number_of_inliers/total_number_of_points\n     \n     * éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡åï¼è¿­ä»£10æ¬¡ï¼ï¼å¦æä¼äºå½åæ¨¡åï¼åæ´æ°æä¼æ¨¡å\n   \n   * è®¡ç®æå¤§è¿­ä»£æ¬¡æ°\n     \n     n=logâ¡(1âp)logâ¡(1â(1âe)s)\n   \n   * sample_count += 1\n\nå¼å§è¿­ä»£\n\n 1. ä»ä¿©å ç¹äºä¸­éæºéæ ·éè¦çæå°ç¹æ°x_rand, y_rand\n 2. ä»å½åçéæ ·ä¸­ï¼ä¼°ç®model estimate(x_rand, y_rand)\n 3. å±é¨ä¼å\n\nè®¡ç®æ®å·®\n\nå¯¹äºæ¯å¼ å¾åï¼ç¡®å®ä»ä¸ä¸ªå¾åæ­£ç¡®æå½±å°å¦ä¸ä¸ªå¾åä»¥åä»å¦ä¸ä¸ªå¾åæ­£ç¡®æå½±åæ¥ç3dç¹çæ¯çï¼èèç»å®çå¯¹é½æ¹å¼ãæ®å·®å®ä¹ä¸º1åå»è¿ä¸ªæ¯çï¼å³è¯¯å·®éå¼ä¸º0.3æå³çè¯¥å¾åç70ï¼ç¹å¿é¡»å¨ç»å®çæå¤§éæå½±è¯¯å·®éå¼åéæ°æå½±ã\n\n 1.  éåææå¬å±å¾å\n 2.  éåè¯¥å¾åä¸­ææçç¹å¾ç¹ï¼å¹¶ä¸è¯¥ç¹å¾ç¹å¨å¾å1åå¾å2é½å­å¨å¯¹åºç3dç¹ï¼num_common_points+1\n 3.  è®¡ç®ååè¯¯å·®ï¼å¦æå°äºæå¤§éæå½±è¯¯å·®ï¼ånum_inliers+1\n 4.  è®¡ç®å¤ç¹çnegative_inlier_ratio = 1- num_inliers/num_common_points\n 5.  å¦æç»è®¡å¤ç¹çnegative_inlier_ratio < max_residualï¼åsupport.num_inliers+1\n 6.  å¯¹æ¯åç¹æ°ï¼å¦æåç¹æ°ç¸åï¼åæ¯è¾å¤ç¹çï¼æ´æ°å½åæä¼æ¨¡å\n 7.  éæºéæ ·å½åæä¼æ¨¡åä¸­çåç¹ï¼ä¼°è®¡æ°çæ¨¡å\n 8.  åå¯¹æ¯æ°çæ¨¡åæ¯ä¸æ¯æ¯ä¸ä¸æ­¥çæä¼æ¨¡åçåç¹æ°æ´å¤\n 9.  æ´æ°æå¤§è¿­ä»£æ¬¡æ°\n 10. ç»æè¿­ä»£ï¼ååºæä¼æ¨¡å\n\nèå\n\nå¯¹æ¯ä¼ å¥çreconstructionï¼çæcommon_image_ids å missing_image_idsï¼å°missing_image_idsä¸­çå¾åæ³¨åå°å½åçreconstructionä¸­ï¼æ³¨åå¾ç®åï¼å°å®æ¬èº«çä½å§¿ä¹ä»¥ä¿©reconstructionçç¸ä¼¼åæ¢\n\npâ²=sâ(rt01)âtâ1\n\nä½¿ç¨ä»¥ä¸ä¸¤ç§è§åè¿è¡ç¹äºåå¹¶\n\n * å¤å¶éå²çªçç¹äºå°å½åéå»ºä¸­ï¼å³é£äºå¨å½åéå»ºä¸­æ²¡æè¢«ä¸è§åè§æµå°çç¹ã\n * åå¹¶æ æ­§ä¹çtracksï¼å³åªå°ä¸¤ä¸ªéå»ºä¸­çç¹åå¹¶ï¼å¦æå®ä»¬æä¸ä¸ªä¸å¯¹ä¸çæ å°ã\n\n 1. éåä¼ å¥çç¹äºä¸­çææ3dç¹\n    * éåè¿ä¸ª3dç¹çtrack\n      * å¦æå½åè¿ä¸ªtrackå¨common_imgaesä¸­ï¼å å¥å°old_trackä¸­\n      * å¦æå½åè¿ä¸ªtrackå¨missing_imagesä¸­ï¼å å¥å°new_trackä¸­\n 2. å°3dç¹æ·»å å°å½åçreconstructionä¸­\n 3. å¦æå½åçreconstructionä¸­å·²ç»å­å¨è¿ä¸ªæ°æ·»å ç3dç¹ï¼é£ä¹å°å®ä»¬åå¹¶\n\nè¿æ»¤è¯¯å·®è¾å¤§çä¸ç»´ç¹\n\nè®¡ç®éæå½±è¯¯å·®\n\npc=râp+t(uv1)=1zâkâpce2=â(uv)â(pxpy)â2\n\nå¦æå¤§äºä¸å®éæå½±è¯¯å·®å¼ï¼åå°è¯¥3dç¹å é¤\n\nå¾å°æç»ç»æ\n\n\n\nå¨ç¨ å¯éå»ºmvsæ¹é¢ï¼æä»¬éç¨äºå¤è§å ä½çæ¹æ³ï¼ä½¿ç¨sfmå¤çå¾å°çç¸æºå§¿æåä¸è§æµéå¾å°çç¨çç¹äºï¼è¿ç¨åææ³è¿è¡ä¸è§ååï¼ä»¥å¾å°é«è´¨éçä¸ç»´éå»ºç»æãå¨è¿ä¸ªè¿ç¨ä¸­ï¼æä»¬éç¨äºå¤ç§ç®æ³åæ¹æ³ï¼å¦å¤è§å ä½æ¢å¤ä¸ç»´ç»æãmvsnetç­æ·±åº¦å­¦ä¹ æ¹æ³ç­ï¼éè¿å¤§éçå®éªï¼æä»¬åç°è¿äºæ¹æ³å¨ç¨ å¯éå»ºæ¹é¢é½è¡¨ç°åºäºè¾å¥½çææãç»è¿ç¨ å¯ç¹äºè®¡ç®ãæåçº¦æç­æä½åï¼æä»¬å¾åºçéå»ºæ¨¡åä¸å®éåºæ¯ç¸ç¬¦ååº¦é«ï¼éå»ºç»æç»èä¸°å¯ï¼å·æä¸å®çå¯è§åææã\n\næä»¬éç¨äºpatchmatchä¸ç§è®¡ç®æºè§è§ç®æ³ï¼ç¨äºæ±è§£å¾åå¹éçé®é¢ãå®ç±barnesãshechtmanåfinkelsteinå¨2009å¹´åè¡¨ï¼æ¯ä¸ç§å¿«éèä¸é«æçæ¹æ³ï¼ç¨äºå¨ä¸¤å¹å¾åä¸­å¯»æ¾å¹éçå¾ååã\n\nå¨patchmatchç®æ³ä¸­ï¼æ¯ä¸ªåç´ ç¹çå¹éè¿ç¨è¢«çä½ä¸ä¸ªå¯»æ¾æä¼å¹éçè¿ç¨ï¼èæä¼å¹éç¹çç®æ æ¯æ¾å°ä½¿ä¸¤ä¸ªå¹éå¾ååè¯¯å·®æå°çä½ç½®ï¼ä»èç¡®å®æ¯ä¸ªåç´ ç¹å¨å¦ä¸å¹å¾åä¸­çå¯¹åºä½ç½®ãä¸ºäºè¾¾å°è¿ä¸ªç®æ ï¼patchmatchç®æ³éç¨äºå¤å°ºåº¦çç­ç¥ï¼å¹¶å©ç¨ç¸ä¼¼å¾ååçå±é¨æ§è´¨æ¥ç¼©å°å¹éæç´¢åºåçèå´ãä¸ºäºè¿ä¸æ­¥æé«å¹ééåº¦ï¼å¿«éè¿ä¼¼æè¿é»æç´¢ææ¯è¢«å¼å¥ï¼å¤§å¤§ç¼©ç­äºç®æ³çè¿è¡æ¶é´ã\n\npatchmatchå¹éç®æ³æ­¥éª¤\n\nåå§åï¼åå§åå°±æ¯ç»æ¯ä¸ªpatchçæè¿é»èµåå¼ï¼ä¹å°±æ¯ç»å¾ä¸­çæ¯ä¸ªåéæºèµäºä¸ä¸ªåå§çå¹éå\n\nè¿­ä»£ï¼ä»å·¦ä¸è§è³å³ä¸è§ä¾æ¬¡éåæ¯ä¸ªpatchï¼æ¯ä¸ªpatchè¿è¡å¹éä¼ éåéæºæç´¢ä¸¤ä¸ªæ­¥éª¤\n\nå¹éä¼ éï¼å¹éä¼ éçææ³æ¯ä¸ä¸ªpatchä¼è¯å¾åç¨é»å±çå¹éå³ç³»ï¼æ¥æ¥è¯¢æ¯å¦è½å¾å°æ´å¥½çå¹éï¼å¦æè½å¾å°æ´å¥½çå¹éï¼å°±æ´æ°èªå·±çæè¿é»ãè¿æ ·ä¸ä¸ªpatchå¦ææ¥æå¥½çå¹éæç»©ï¼å®ä¸å¦ä¸å¼ å¾ä¸­patchçå¹éå³ç³»ä¼è¢«å¨å´çé»å±patchå­¦ä¹ ãæç»æ¯ä¸ªpatchä¼è®¡ç®ä¸ä¸ªåç§»å¼ï¼ç¨æ¥è¡¨ç¤ºæå¹éåå¨å¦ä¸å¼ å¾ä¸­çä½ç½®\n\néæºæç´¢ï¼æ¯æ¬¡å¹éè¿åï¼å¯¹äºå¾å°çè¿ä¼ç»§ç»­å¯¹å¶æ½å ä¸ä¸ªéæºæç´¢çç­ç¥ï¼è¯å¾éè¿æ°å¨ççè½ä¸è½è®©å¶è·³åºå±é¨æä¼\n\næ¯æ¬¡éæºæç´¢ä¼å¨ä¸ä¸æ­¥å¹éä¼ éçåºç¡ä¸ï¼å¨ä¸æ­ææ°è¡°åçåå¾åºåééæºå¹éè¥å¹²æ¬¡ï¼ç´å°åå¾ç¼©å°1ä¸ªåç´ ä»¥ä¸ã\n\n\n\nè¯¥ç®æ³çæ ¸å¿ææ³æ¯åºäºç®åçåè®¾ï¼å³å¨ä¸¤å¹å¾åä¸­æå¯»æ¾çå¹éå¾ååçä½ç½®åç¸åºè¯¯å·®å¼åºè¯¥æ¯è¾ä¸ºæ¥è¿çï¼å æ­¤å¯ä»¥éè¿éæºçæ¹å¼å¾å°åå§çè¿ä¼¼å¹éï¼éè¿ä¸æ­è¿­ä»£ï¼éæ­¥ä¼åè¯¯å·®å¼ï¼å¹¶ä¸æ­ç¼©å°å¹éå¾ååçæç´¢åºåï¼æç»æ¾å°æä¼çå¹éä½ç½®ã\n\npatchmatchç®æ³è½ç¶ç®åï¼ä½æ¯å¨å®è·µä¸­å·æè¾é«çé²æ£æ§ååç¡®æ§ï¼è½å¤å¨ç­æ¶é´åå¤çå¤§éçå¹éä»»å¡ï¼å°¤å¶å¯¹äºå¤çå¾åç¼ºé·ä¿®å¤ãå¾åå¡«åãå¾åä¿®è¡¥ãå¾ååæååºæ¯éå»ºç­ä»»å¡å·æç¬ç¹çä¼å¿ãå æ­¤ï¼å¨è®¡ç®æºè§è§é¢åï¼patchmatchç®æ³è¶æ¥è¶å¾å°å¹¿æ³çåºç¨ï¼å¹¶æä¸ºå¾åå¹éé¢åçä¸ä¸ªéè¦ç ç©¶æ¹åä¹ä¸ã\n\nå¨ä¸æ­ä¼åè¯¯å·®å¼æ¶ï¼patchmatchç®æ³éè¿å¼å¥äºå¤å°ºåº¦çç­ç¥ï¼å¯ä»¥ä½¿å¾ç®æ³æ´å¿«å°æ¶æè³æä¼è§£ãpatchmathç®æ³å¨å¤çå¤§åå¾åæ¶è¿å¯ä»¥éè¿å¿«éè¿ä¼¼æè¿é»æç´¢æ¥å å¿«ç®æ³éåº¦ï¼pathchmatchç»æå¦ä¸å¾æç¤ºã\n\n\n\næè¿é»å­æ®µå¯ä»¥éè¿ä¸ºå­æ®µåééæºå¼æä½¿ç¨åéªä¿¡æ¯æ¥åå§åãå½ä½¿ç¨éæºåç§»è¿è¡åå§åæ¶ï¼æä»¬å¨å¾å b çæ´ä¸ªèå´åä½¿ç¨ç¬ç«çååæ ·æ¬ãå¨ç¬¬ 4 èä¸­æè¿°çåºç¨ç¨åºä¸­ï¼æä»¬ä½¿ç¨ä»ç²å°ç»çéæ¸è°æ´å¤§å°çè¿ç¨ï¼å æ­¤æä»¬å¯ä»¥éæ©ä½¿ç¨ä¸ä¸ªåå§çæµä»éå­å¡ä¸­çä¸ä¸å±åçº§ãç¶èï¼å¦ææä»¬åªä½¿ç¨è¿ä¸ªåå§çæµï¼ç®æ³ææ¶ä¼é·å¥æ¬¡ä¼çå±é¨æå°å¼ãä¸ºäºä¿æè¿ä¸ªåéªçè´¨éä½ä»ç¶ä¿çä¸äºéç¦»è¿ç§æå°å¼çè½åï¼æä»¬ä½¿ç¨éæºåå§åæ§è¡ç®æ³çä¸äºæ©æè¿­ä»£ï¼ç¶åä»å¨ d è¾å°çè¡¥ä¸å¤ä¸ä¸éæ ·åå§ååå¹¶ï¼ç¶åæ§è¡å©ä½çè¿­ä»£ã\n\nåå§ååï¼æä»¬æ§è¡æ¹è¿ nnf çè¿­ä»£è¿ç¨ãç®æ³çæ¯æ¬¡è¿­ä»£æå¦ä¸æ¹å¼è¿è¡ï¼ææ«æé¡ºåºï¼ä»å·¦å°å³ï¼ä»ä¸å°ä¸ï¼æ£æ¥åç§»éï¼å¹¶ä¸æ¯ä¸ªåç§»éé½ç»è¿ä¼ æ­ï¼ç¶åè¿è¡éæºæç´¢ãè¿äºæä½å¨è¡¥ä¸çº§å«äº¤éï¼å¦æ pj å sj åå«è¡¨ç¤ºè¡¥ä¸ j çä¼ æ­åéæºæç´¢ï¼é£ä¹æä»¬æä»¥ä¸é¡ºåºè¿è¡ï¼p1ï¼s1ï¼p2ï¼s2ï¼...ã . . , pn, é¡ãä¼ æ­ãæä»¬å°è¯ä½¿ç¨ f (x â 1, y) å f (x, y â 1) çå·²ç¥åç§»éæ¥æ¹è¿ f (x, y)ï¼åè®¾è¡¥ä¸åç§»éå¯è½ç¸åãä¾å¦ï¼å¦æå¨ (x â 1, y) å¤æä¸ä¸ªå¾å¥½çæ å°ï¼æä»¬ä¼å°è¯å°è¯¥æ å°åå³å¹³ç§»ä¸ä¸ªåç´ ï¼ç¨äºæä»¬å¨ (x, y) å¤çæ å°ãä»¤ d(v) è¡¨ç¤º a ä¸­ (x, y) å¤çè¡¥ä¸ä¸ b ä¸­çè¡¥ä¸ (x, y) + v ä¹é´çè¡¥ä¸è·ç¦»ï¼è¯¯å·®ï¼ãæä»¬å° f (x, y) çæ°å¼è®¾ä¸º{d( f (x, y)), d( f (x â 1, y)), d( f (x, y â 1))} ç arg minãç»ææ¯ï¼å¦æ (x, y) å·ææ­£ç¡®çæ å°å¹¶ä¸ä½äºç¸å¹²åºå r ä¸­ï¼å (x, y) ä¸æ¹åå³ä¾§çææ r é½å°è¢«æ­£ç¡®çæ å°å¡«åãæ­¤å¤ï¼å¨å¶æ°æ¬¡è¿­ä»£ä¸­ï¼æä»¬éè¿ä»¥ååæ«æé¡ºåºæ£æ¥åç§»éæ¥åä¸ååå·¦ä¼ æ­ä¿¡æ¯ï¼ä½¿ç¨ f (x + 1, y) å f (x, y + 1) ä½ä¸ºæä»¬çåéåç§»éãéæºæç´¢ãä»¤ v0 = f(x, y)ãæä»¬å°è¯éè¿å¨è· v0 åææ°éåçè·ç¦»å¤æµè¯ä¸ç³»ååéåç§»æ¥æ¹è¿ f (x, y)ï¼\n\nui=v0+wairi\n\nå¶ä¸­ ri æ¯ [â1, 1] Ã [â1, 1] ä¸­çååéæºæ°ï¼w æ¯è¾å¤§çæå¤§æç´¢âåå¾âï¼Î± æ¯æç´¢çªå£å¤§å°ä¹é´çåºå®æ¯çãæä»¬æ£æ¥ i = 0, 1, 2, ... çè¡¥ä¸ï¼ç´å°å½åæç´¢åå¾ wÎ±i ä½äº 1 ä¸ªåç´ ãå¨æä»¬çåºç¨ç¨åºä¸­ï¼w æ¯æå¤§å¾åç»´åº¦ï¼Î± = 1/2ï¼é¤éå¦æè¯´æãè¯·æ³¨æï¼æç´¢çªå£å¿é¡»éå¶å¨ b çèå´åãåæ­¢æ¡ä»¶ãè½ç¶æ ¹æ®åºç¨ç¨åºå¯è½ä¼ä½¿ç¨ä¸åçåæ­¢æ åï¼ä½å¨å®è·µä¸­æä»¬åç°å®å¯ä»¥å¾å¥½å°è¿­ä»£åºå®æ¬¡æ°ãæ­¤å¤æ¾ç¤ºçææç»æé½æ¯éè¿æ»å± 4-5 æ¬¡è¿­ä»£è®¡ç®å¾åºçï¼ä¹å nnf å ä¹æ»æ¯æ¶æãæ¶æå¦å¾ 3 åééçè§é¢æç¤ºãæçãå¯ä»¥éè¿å ç§æ¹å¼æé«è¿ç§æ´ç´ æ¹æ³çæçãå¨ä¼ æ­åéæºæç´¢é¶æ®µï¼å½å°è¯ä½¿ç¨åéåç§»é u æ¹è¿åç§»é f (v) æ¶ï¼å¦æ d(u) çé¨ååè¶è¿å½åå·²ç¥è·ç¦» d( f (v))ï¼åå¯ä»¥æåç»æ­¢.æ­¤å¤ï¼å¨ä¼ æ­é¶æ®µï¼å½ä½¿ç¨è¾¹é¿ä¸º p å lq èæ°çæ¹å½¢è¡¥ä¸æ¶ï¼è·ç¦»çååå¯ä»¥å¨ o(p) èä¸æ¯ o(p2) æ¶é´åéå¢è®¡ç®ï¼æ¹æ³æ¯æ³¨ææ±åä¸­çåä½é¡¹éå åºåãä½æ¯ï¼è¿ä¼äº§çé¢å¤çåå­å¼éæ¥å­å¨å½åæä½³è·ç¦» d( f (x, y))ã gpu å®ç°ãç¬¬ 4 èä¸­æè¿°çç¼è¾ç³»ç»ä¾èµäº nnf ä¼°è®¡ç®æ³ç cpu å®ç°ï¼ä½æä»¬è¿å¨ gpu ä¸å¶ä½äºä¸ä¸ªå®å¨å¹¶è¡ååä½çååãä¸ºæ­¤ï¼æä»¬å¨éæºæç´¢åä¼ æ­çè¿­ä»£ä¹é´äº¤æ¿ï¼å¶ä¸­æ¯ä¸ªé¶æ®µå¹¶è¡å¤çæ´ä¸ªåç§»éå­æ®µãè½ç¶ä¼ æ­æ¬è´¨ä¸æ¯ä¸ä¸ªä¸²è¡æä½ï¼ä½æä»¬éç¨äº rong å tan çè·³æ´ªæ¹æ¡æ¥æ§è¡å¤æ¬¡è¿­ä»£çä¼ æ­ãå°½ç®¡æä»¬ç cpu çæ¬è½å¤å¨æ´ä¸ªæ«æçº¿ä¸ä¼ æ­ä¿¡æ¯ï¼ä½æä»¬åç°å®éä¸ä¸éè¦é¿è·ç¦»ä¼ æ­ï¼æå¤§è·³è·è·ç¦»ä¸º 8 å°±è¶³å¤äºãæä»¬è¿å¨æ¯ä¸ªè·³è·è·ç¦»ä»ä½¿ç¨ 4 ä¸ªé»å±ï¼èä¸æ¯ rong å tan æåºç 8 ä¸ªé»å±ã\n\næä»¬çè¿­ä»£ç®æ³å¨æéåæ¶æå°ç²¾ç¡®ç nnfãå¨è¿éï¼æä»¬ä¸ºè¿ç§æ¶ææä¾äºä¸ä¸ªçè®ºåæï¼è¡¨æå®å¨åå æ¬¡è¿­ä»£ä¸­ä»¥é«æ¦çæ¶æå¾æå¿«ãæ­¤å¤ï¼æä»¬è¡¨æï¼å¨åªéè¦è¿ä¼¼è¡¥ä¸å¹éçå¸¸è§æåµä¸ï¼è¯¥ç®æ³æ¶æå¾æ´å¿«ãå æ­¤ï¼éè¿å°è®¡ç®éå¶ä¸ºå°éè¿­ä»£ï¼æä»¬çç®æ³æéåç¨ä½è¿ä¼¼ç®æ³ãæä»¬é¦ååææ¶æå°ç²¾ç¡®çæè¿é»åï¼ç¶åå°æ­¤åææ©å±å°æ´æç¨çæ¶æå°è¿ä¼¼è§£çæåµãåè®¾ a å b å·æç¸åçå¤§å°ï¼m ä¸ªåç´ ï¼å¹¶ä¸ä½¿ç¨éæºåå§åãå°½ç®¡å¨è¿ä¸ªåå§çæµä¸­ä»»ä½ä¸ä¸ªä½ç½®è¢«åéæä½³åç§»çå çå¾®ä¹å¶å¾® (1/m)ï¼ä½è³å°ä¸ä¸ªåç§»è¢«æ­£ç¡®åéçå çéå¸¸å¥½ (1 â (1 â 1/m)m ) ) æå¯¹äºå¤§ m å¤§çº¦ä¸º 1 â 1/eãç±äºéæºæç´¢å¨å°çå±é¨åºåä¸­éå¸¸å¯éï¼æä»¬è¿å¯ä»¥å°âæ­£ç¡®âåéè§ä¸ºæ­£ç¡®åç§»éå¨å´å¤§å°ä¸º c åç´ çå°é»ååçä»»ä½åéãè¿æ ·çåç§»éå°å¨éæºæç´¢çå¤§çº¦ä¸æ¬¡è¿­ä»£ä¸­å¾å°çº æ­£ãå¨è¿æ ·çé»åä¸­è³å°åéä¸ä¸ªåç§»éçå¯è½æ§éå¸¸å¤§ï¼(1 â (1 âc/m)m ) æå¯¹äºå¤§ mï¼1 â exp(âc)ã\n\nç°å¨æä»¬ä¸ºæä»¬çç®æ³èèä¸ä¸ªå·ææææ§çç»¼åæµè¯ç¨ä¾ï¼ä¸ä¸ªå¤§å°ä¸º m åç´ çç¬ç¹åºå r ä½äºä¸å¯¹å¶ä»æ¹é¢åä¸çå¾å a å b ä¸­çä¸¤ä¸ªä¸åä½ç½®ï¼æå¾æç¤ºï¼ãè¿ä¸ªå¾åæ¯ä¸ä¸ªå°é¾çæ¡ä¾ï¼å ä¸ºèæ¯æ²¡ææä¾å³äºå¨åªéå¯ä»¥æ¾å°ç¬ç¹åºåçåç§»éçä¿¡æ¯ãååèæ¯ä¸­çè¡¥ä¸å¯ä»¥å¹éå¤§éå¶ä»ç¸åçè¡¥ä¸ï¼è¿äºè¡¥ä¸å¨ä¸æ¬¡è¿­ä»£ä¸­ä»¥éå¸¸é«çæ¦çéè¿éæºçæµæ¾å°ï¼å æ­¤æä»¬åªèèä¸ååºå r çæ¶æãå¦æä¸ååºå r ä¸­çä»»ä½ä¸ä¸ªåç§»éæ¯å¨æ­£ç¡®åç§»éçé»å c åï¼ç¶åæä»¬åè®¾å¨å°éè¿­ä»£ä¹åï¼ç±äºå°å±é¨åºåä¸­éæºæç´¢çå¯åº¦ï¼åé¢æå°çï¼ï¼ææ r é½å°éè¿ä¼ æ­æ¯æ­£ç¡®çï¼å¯¹äºç¬¦å·ç®ååè®¾è¿æ¯ç¬æ¶çï¼ãç°å¨åè®¾ r è¿æ²¡ææ¶æãèèæä»¬çç®æ³å¨æå¤§å°ºåº¦ w ä¸æ§è¡çéæºæç´¢ãè§æ¨¡ä¸º w çéæºæç´¢è¿­ä»£ç¬ç«å°å¯¹å¾å b è¿è¡éæ ·ï¼å¹¶ä¸è¿äºæ ·æ¬ä¸­çä»»ä½ä¸ä¸ªè½å¨æ­£ç¡®åç§»éçé»å c åçæ¦ç p ä¸º\n\np=1â(1âcm)m\n\nå¨è¿è¡ä»»ä½è¿­ä»£ä¹åï¼æ¶æçæ¦çä¸º pãæä»¬æ²¡æå¨è¿­ä»£ 0, 1, ...,t â 1 ä¸æ¶æå¹¶å¨è¿­ä»£ t ä¸æ¶æçæ¦çæ¯ p(1 â p)t ãæ¦çå æ­¤å½¢æå ä½åå¸ï¼é¢ææ¶ææ¶é´ä¸ºt = 1/p â 1ãä¸ºäºç®åï¼è®©ç¸å¯¹ç¹å¾å°ºå¯¸ä¸ºÎ³ = m/mï¼ç¶åéçåè¾¨çmåå¤§åæéï¼\n\n<t>=[1â(1âcm)Î³m]â1â1limmâ¶â<t>=[1âexpâ¡(âcÎ³)]â1â1\n\néè¿å¯¹å° Î³ çæ³°åå±å¼ï¼t = (cÎ³)â1 â 1 2 = m/(cm) â 1 2 ãä¹å°±æ¯è¯´ï¼å¯¹äºå¤§å¾ååè¾¨çåç¸å¯¹äºå¾ååè¾¨ç m çå°ç¹å¾å°ºå¯¸ mï¼æä»¬é¢æçæ¶æè¿­ä»£æ¬¡æ°ä¿æä¸åãæä»¬å¯¹ä» 0.1 å° 2 ååç´ çåè¾¨ç m çå¾åè¿è¡äºæ¨¡æï¼è¯å®äºè¿ä¸ªæ¨¡åãä¾å¦ï¼æä»¬åç°å¯¹äº m = 202 çåºåï¼ç®æ³å¨å¯¹ m = 20002 çå¾åè¿è¡ 5 æ¬¡è¿­ä»£åä»¥éå¸¸é«çæ¦çæ¶æãä¸é¢çæµè¯ç¨ä¾å¾é¾ï¼ä½ä¸æ¯ç²¾ç¡®å¹éçæå·®æµè¯ç¨ä¾ãç²¾ç¡®å¹éçæåæåµæ¯å½å¾å b åå«é«åº¦éå¤ççº¹çåè®¸å¤ä¸ a ä¸­çä¸åç¹å¾ç¸ä¼¼çå¹²æ°ç©æ¶ãåç§»å¯è½ä¼è¢«å¶ä¸­ä¸ä¸ªå¹²æ°ç©âå°ä½âï¼ææé»ååºåå¤§å° c å¯è½æ¯åå°å° 1ï¼å³ï¼åªæå®å¨å¹éæè½å¨éæºæç´¢æé´å°è§£å³æ¹æ¡ä»å¹²æ°é¡¹ä¸­æåºï¼ãç¶èå¨å®è·µä¸­ï¼å¯¹äºè®¸å¤å¾ååæååæåºç¨ç¨åºï¼ä¾å¦æä»¬å¨æ¬æä¸­å±ç¤ºçåºç¨ç¨åºï¼æ¾å°è¿ä¼¼å¹éï¼æ ¹æ®è¡¥ä¸ç¸ä¼¼æ§ï¼ä¸ä¼å¯¼è´ä»»ä½ææ¾çå·®å¼ã\n\nå¨çº¹çéå»ºæ¹é¢ï¼æä»¬ä½¿ç¨äºå¤è§è§ç«ä½æå½±çæ¹æ³ï¼å°ç¹å®åºååçå¤å¼ å¾åæå½±å°ä¸ç»´éå»ºæ¨¡åä¸ï¼ä»èå¾å°äºçå®ççº¹çä¿¡æ¯ãæä»¬ççº¹çéå»ºæ¹æ³éç¨äºå¤æ å®ç§ç¸æºåå¤æ¶å»æè·ä¿¡æ¯ç­ææ¯ï¼ç¡®ä¿äºçº¹çæ å°çåç¡®æ§åä¸è´æ§ãéè¿éç¨è´´å¾ååæ°ç©ºé´çº¹çæ å°ç­ç®æ³ï¼æä»¬æåå°ä¸ºä¸ç»´éå»ºæ¨¡åæ·»å äºé¼çççº¹çä¿¡æ¯ãç»è¿åå¤éªè¯åè°æ´ï¼æä»¬ççº¹çéå»ºç»æéå¸¸åºè²ï¼å¯ä»¥ææå°æé«ä¸ç»´æ¨¡åçé¼çåº¦åçå®æã\n\n\n\n\n# ä¸ãåæ°ç¹\n\næ¬ç³»ç»å¨åºäºç¹å¾ç¹æååå¹éçä¸ç»´éå»ºæ¹æ³ä¸æä»¥ä¸åæ°ç¹ï¼\n\næä»¬ç»åäºå¢ésfmåå¨å±sfmçä¼åæ¹æ³ï¼æå»ºåºæ¯å¾ï¼å¹¶å°å¤§åºæ¯ååä¸ºå¤ä¸ªå°åºæ¯ï¼å¹¶è¡å¯¹å¤ä¸ªå°åºæ¯è¿è¡å¢ééå»ºï¼æåéè¿èåçæ¹å¼å°å¤ä¸ªå°åºæ¯åå¹¶ä¸ºå¤§åºæ¯ãåæ¶å¨ä¸äºä¼åè¿ç¨ä¸­ï¼æä»¬æåºäºå¤ç§ä¼åç­ç¥ï¼ä»èå¯ä»¥å¾å°è¾é«ç²¾åº¦çä¸ç»´æ¨¡åã\n\næä»¬ç»åä¼ ç»è®¡ç®æºè§è§ææ¯åæ·±åº¦å­¦ä¹ ææ¯ï¼å¨ä¸åé¶æ®µä½¿ç¨ä¸åç±»åçç¹å¾è¡¨ç¤ºæ¥æé«ä¸ç»´éå»ºææãå¨ç¹å¾æ£æµé¶æ®µä½¿ç¨siftç¹å¾ï¼å¨ç¨ å¯éå»ºé¶æ®µä½¿ç¨mvsnetæ·±åº¦é¢æµã\n\næä»¬æåºäºä¸ç§åºäºåææ³çç¨ å¯éå»ºæ¹æ³ï¼å¨ä¿è¯ç²¾åº¦åé²æ£æ§çåæ¶éä½äºè®¡ç®å¤æåº¦ãæä»¬å©ç¨sfmå¾å°çç¸æºå§¿æä¿¡æ¯æ¥çº¦æåææ³æç´¢ç©ºé´ï¼å¹¶å©ç¨æ·±åº¦å­¦ä¹ é¢æµæ·±åº¦ä¿¡æ¯æ¥å éåææ³æ±è§£è¿ç¨ã\n\næä»¬æåºäºä¸ç§åºäºå¤è§è§ç«ä½æå½±ççº¹çéå»ºæ¹æ³ï¼å¨ä¿è¯çº¹çè´¨éåä¸è´æ§çåæ¶å¢å äºçº¹çå¤æ ·æ§ãæä»¬å©ç¨å¤æ å®ç§ç¸æºæè·ä¸åè§åº¦ãä¸ååç§æ¡ä»¶ä¸çå¾åï¼å¹¶å©ç¨åæ°ç©ºé´çº¹çæ å°ç®æ³å°å®ä»¬èåå°ä¸ç»´æ¨¡åä¸ã",charsets:{cjk:!0}},{title:"è¯»ä¹¦éç¬",frontmatter:{title:"è¯»ä¹¦éç¬",date:"2022-07-08T15:10:15.000Z",permalink:"/pages/db78e2"},regularPath:"/03.%E7%94%9F%E6%B4%BB/01.%E9%9A%8F%E7%AC%94.html",relativePath:"03.çæ´»/01.éç¬.md",key:"v-8263629e",path:"/pages/db78e2/",headers:[{level:2,title:"ãéè§æªç¥çèªå·±ã",slug:"ãéè§æªç¥çèªå·±ã",normalizedTitle:"ãéè§æªç¥çèªå·±ã",charIndex:2},{level:3,title:"01.ææ¯è°",slug:"_01-ææ¯è°",normalizedTitle:"01.ææ¯è°",charIndex:16},{level:3,title:"04.å¤±è½äºçå®çèªå·±",slug:"_04-å¤±è½äºçå®çèªå·±",normalizedTitle:"04.å¤±è½äºçå®çèªå·±",charIndex:101},{level:3,title:"12.æ½æè¯çè¡¨è¾¾æ¹å¼",slug:"_12-æ½æè¯çè¡¨è¾¾æ¹å¼",normalizedTitle:"12.æ½æè¯çè¡¨è¾¾æ¹å¼",charIndex:227},{level:3,title:"13.æä»¬èº«ä½çéç¢",slug:"_13-æä»¬èº«ä½çéç¢",normalizedTitle:"13.æä»¬èº«ä½çéç¢",charIndex:310},{level:2,title:"ãéæ´åæ²éã",slug:"ãéæ´åæ²éã",normalizedTitle:"ãéæ´åæ²éã",charIndex:1344},{level:2,title:"ãå¯è½æ§çèºæ¯ã",slug:"ãå¯è½æ§çèºæ¯ã",normalizedTitle:"ãå¯è½æ§çèºæ¯ã",charIndex:1501},{level:2,title:"ãå«é­ã",slug:"ãå«é­ã",normalizedTitle:"ãå«é­ã",charIndex:2413},{level:2,title:"ãç½®èº«äºåã",slug:"ãç½®èº«äºåã",normalizedTitle:"ãç½®èº«äºåã",charIndex:2485}],headersStr:"ãéè§æªç¥çèªå·±ã 01.ææ¯è° 04.å¤±è½äºçå®çèªå·± 12.æ½æè¯çè¡¨è¾¾æ¹å¼ 13.æä»¬èº«ä½çéç¢ ãéæ´åæ²éã ãå¯è½æ§çèºæ¯ã ãå«é­ã ãç½®èº«äºåã",content:"# ãéè§æªç¥çèªå·±ã\n\n\n# 01.ææ¯è°\n\nç¬¬ä¸æ¬¡çå°æ¬æï¼ä»¥åä»æ¥æ²¡ææ³è¿ææ¯è°è¿ä¸ªé®é¢ï¼æèè¯´æä¹æ¯åè¥åä¸æ ·ï¼æåªæ¯ææå¤çç¯å¢ãè¿æ¯ä¸ä¸ªå¼å¾ææ·±æçé®é¢ï¼æä¼°è®¡çå®ä¹ä¸ç¥éææ¯è°ã\n\n\n# 04.å¤±è½äºçå®çèªå·±\n\nå¿«ä¹ååæ¦æ¯ä¸åçï¼å¿«ä¹æ¯ç±å¤å¨äºç©å¼åçï¼åæ¦æ¯ç±ååå¤çç»½æ¾ãå¯¹ææ¥è¯´ï¼å¹³æ¶ä¸ä¸ç­è·¯ä¸è¦èµ°10~15åéï¼è½ç¶ææ¶åä¸ç¾¤äººèµ°ä¼å¾å¿«ä¹ï¼è½è°å¤©è¯´å°ï¼ä½å¶å°æè¿æ¯åæ¬¢ä¸ä¸ªäººèµ°ï¼ä¸ä¸ªäººå»æ¹è¾¹éï¼è½ææ´å¤çâå¿çæäºâã\n\n\n# 12.æ½æè¯çè¡¨è¾¾æ¹å¼\n\nä½ ä¸æ¯ä½ çå·¥ä½ï¼ä½ ä¸æ¯ä½ çè¡¨ç°ï¼ä½ ä¸æ¯ä½ çæåï¼ä½ ä¸æ¯ä½ çå¤±è´¥ãè¿äºå¤å¨çä¸è¥¿ï¼ä¸æ¯«å¨æä¸å°ä½ é£åå¨ççæï¼çæ¸æ¥å°æçèåè®¤åï¼\n\n\n# 13.æä»¬èº«ä½çéç¢\n\nç»èè®°å¿è¿ä¸ªç»æææ\n\nå°æä¸æ­æåä¸äºä¸è¥¿ï¼ä»¥è¯ææä»¬å­å¨ï¼è¶åå¤æåï¼è¶è¿ç¦»æä»¬çåå¿ã\n\nå°æå¢é¿ãåå¿èµ·ä»¥åï¼èº«è¾¹çäººå¾å¤é½æ¯è¿æ ·ï¼æä¹æ¯è¿æ ·ãæ¯æ¬¡è§é¢ï¼èä¼ï¼æ¯ä¸ªäººé½æè¯´ä¸å®çæäºï¼åæ¥æ¢æ¢çæè§å¾æè¯´ä¸è¿ä»ä»¬äºï¼æè§å¾çæççæ´»ç»åä¸å¤ä¸°å¯äºï¼å°±æ¢æ¢å¾å°åäº«çæ´»ãè½ç¶æåäº«çæ´»å°äºï¼ä½æè¿æ¯æ³èå¬ä»ä»¬çæäºã\n\nä¸äºå¤©ççææ§ï¼ææ±ä¸å¾çæ¤æï¼å¸æè½ç©ºçæ²ä¼¤ï¼é½åªæ¯ä¸ç§è½éçèªç¶æµå¨èå·²ï¼å®ä¼æ¥ï¼å°±ä¸å®ä¼èµ°ãè¿å¥è¯å¾æ²»æï¼æä¹æ¯è¿æ ·çãææ¶ååä¸äºäºæåçç´§å¼ ï¼ææ§ï¼âä»»å¡å¤±è´¥âçæ²ä¼¤ï¼è¿äºä¹åªæ¯ææ¶åºç°ï¼æè¿æ¯ä¼å®æè¿äºäºã\n\nè£æäºå®ã\n\nè·³åºèªæçèªæã\n\nâåºè¯¥âï¼âå¿é¡»âãä»¥åæä¹æ»æ¯æ¥åè¿ç§è§å¿µï¼æå°±åºè¯¥æä¹æä¹æ ·ï¼å¿é¡»æä¹æä¹æ ·...åæ¥åæï¼æææ¶ä¹ä¼å¯¹å«äººè¿æ ·è¯´ï¼ä½ åºè¯¥è¿æ ·ï¼å¿é¡»è¿æ ·ãç°å¨ä»ç»æ³æ³ï¼çæ¯æè ¢è³æãæ¯ä¸ªäººé½æèªå·±çææ³ï¼æä¹ä¸å¯è½æ¯âç¥âï¼æ¯ä¸ªäººé½åºè¯¥æç§èªå·±çææ³æ´»çï¼âè¯å¾æ¹åä»äººçæ³æ³âï¼è¿ä¸ªæè§å¾ççå¾ä¸å°éä»äººã\n\näº²ç±çï¼å¤é¢æ²¡æå«äººãææå¤å¨äºç©é½æ¯ä½ åå¿æå°åºæ¥çç»æãè¿å¯è½å°±æ¯ãçæ¢¦ç©ºé´ãçç­æ¢¦å¸å§ã\n\nãæåè®¸ã\n\n> æåè®¸ä»»ä½äºæçåç\n> \n> æåè®¸ï¼äºææ¯å¦æ­¤çå¼å§\n> \n> å¦æ­¤çåå±ï¼å¦æ­¤çç»å±\n> \n> å ä¸ºæç¥éï¼\n> \n> ææçäºæï¼é½æ¯å ç¼ååèæ¥\n> \n> ä¸åçåçï¼é½æ¯å¿ç¶\n> \n> è¥æè§å¾åºè¯¥æ¯å¦å¤ä¸ç§å¯è½\n> \n> ä¼¤å®³çï¼åªæ¯èªå·±\n> \n> æå¯ä¸è½åç\n> \n> å°±æ¯åè®¸\n\nå¿æ³äºæè¿ä¸ªï¼è®©èªå·±éæ¶éå°é½å¤å¨ä½ å·²ç»å¾å°äºä½ æ³è¦çä¸è¥¿ä¹åçæåãå¯ï¼ï¼ï¼em...è¿ä¸ªï¼æææ¶è¿ä¸æ¯å¾çè§£ã\n\nâæå¿âæ¯æå·®çç¤¼ç©ï¼ä¸å¦ç»ä»ç¥ç¦ãæ¯çï¼è¿åº¦çæå¿ä¼ä½¿äººç¦èèµ·æ¥ï¼è®©äººè¿å¤çå³å¿æå¿è¿ä»¶äºä¸ï¼åèéå¾å¶åã è¿ä¸ªä¸æ¯æåçå°çï¼ä½æ¯æ¯æå¿«æåå°çãæä¹åææ®µæ¶é´å°±æ¯è¾æå¿ä½ ï¼æå¿ä½ å®ä¹ è¦å»å°åªéï¼è¿ä¼ææ²¡ææ¶é´å¤ä¹ èç ï¼èç æä¹è§åï¼åæ¯è®¾ï¼å¨å¤å°å®ä¹ ç§çæ¿å­æä¹å¤çï¼å¥½å¤é®é¢æ³é®...ï¼ä¸æ¬¡è¯´æçµè¯å°±æ³è·ä½ è âè§å¾å¯¹æ¹é£æ ·åææ¯å¯¹çâï¼å ãä¾§è³å¾å¬ãéï¼å²é¯ä¸å¥½å¥½ä¸å­¦ï¼åèªå·±çèäººæäºï¼æåè®°çï¼ï¼ãå¨äºè¯´æä»¬ å±äºæç¹âæ§æ§âäºï¼ä¼å½±åæä»¬ä¸­å¶å®ççæ´»ç¶æãæä¹æè§å°æçå­¦ä¹ æçææå½±åï¼å½ç¶è¿ä¸ªåå æ¯å¤æ¹é¢ï¼ãå¯ï¼ï¼ï¼æä»¬ç°å¨éååäº«ä¹¦ä¸ç¥è¯ï¼çè§£ï¼çæ³ï¼ä¸è¦è¿åº¦æå¿å½¼æ­¤ï¼å½¼æ­¤ç¥ç¦ï¼å½¼æ­¤è¿æ­¥ï¼ï¼\n\n\n# ãéæ´åæ²éã\n\nç¬¬ä¹ç«  ç±èªå·±\n\nå¨æ¥å¸¸çæ´»ä¸­ï¼æè§ç¥å°æ ¹æ®éè¦åä»·å¼è§æ¥éæ©è¡å¨ï¼èä¸æ¯ä¸ºäºå±¥è¡èè´£ãè·å¾å¤å¨çå¥å±ï¼ææ¯éé¿åçãç¾æ§åä¹æ³ï¼æä»¬ä¾¿æ¯å¨å¹å»å¯¹èªå·±çç±ã\n\næçæ°ï¼å ä¸ºä»ä»¬....\n\næçæ°ï¼å ä¸ºæéè¦....\n\nè®©ææ¤æçå¹¶éä»äººçè¡ä¸ºï¼èæ¯æå¨å¤´èä¸­å¯¹ä»äººåå¶è¡ä¸ºççæ³åè§£è¯»ã\n\n\n# ãå¯è½æ§çèºæ¯ã\n\nåªæä¸ä¸ªå½å®¶çäººä¸æä»»ä½å½å®¶ã\n\nä½ æä¿ææ²é»çæå©ï¼ä½æ¯ä½ æè¯´ççæ¯å¥è¯é½å°æä¸ºåå è¯ä¾ã\n\nä¼èèåè§ã\n\nå½æä»¬ç ç©¶ä¸ä¸ªä¸è¥¿æ¯å¾å¾å¨ç¨ä¸æéèçå°ºå­æ¥è¿è¡åæå¤æ­ã\n\nå½å®¶è½åï¼ä¸ä¸ªå¾éè¦çä½ç°ï¼å¾ç¨è½åï¼ä¸¹éº¦45.3%ã\n\nå½å®¶è½åè¶å¼ºè¶å¥½åï¼ç§¦æä¸­å½ï¼æ°æäºç·ä»¥ä¸ä¸åå¼èï¼åå¶èµãä¸é«å¥¸èè°æ©ã\n\nè¡¡éæ¿æ²»åå±çä¸¤ä¸ªå°ºåº¦ï¼ä¸ä¸ªæ¯è¡¡éæ°ä¸»é®è´£ï¼ä¸ä¸ªæ¯è¡¡éå½å®¶è½åã\n\nå¯ä»¥è¯´ï¼æ¯è¾çäºä¸æ¬è´¨ä¸æ¯ä¸ç§ä¿¯ç°çäºä¸ï¼ä»âæ­¤æ¶æ­¤å°âæ½ç¦»ï¼æ¥å°å¤æ ·æ§çâä¸ç©ºâï¼ä»å®è§å¼å§é¢ç¥ï¼ç¶åæ¢æ¢èç¦å°å´è§ï¼ä¹å°±æ¯ä»æ£®æå¼å§ï¼æ¢æ¢èç¦çæ æ¨ãè¿æ ·åçå¥½å¤ï¼å°±æ¯ä¸ç®¡ä½ å¨åæå¤ä¹å·ä½çé®é¢ï¼å¨ä½ èæµ·çæ·±å¤ï¼å§ç»æä¸ç§æ¯ä¾æï¼æä¸ç¯ééçº¦çº¦çæ£®æï¼å®æéçä½ ï¼ä½ æè§å°çåªæ¯ç°è±¡ï¼èç°è±¡æªå¿æ¯çæ³ãå¯è½ææèå¾è¶å¤ï¼å°±è¶ç¸ä¿¡ï¼æºæ§çæ¬è´¨å°±æ¯å¯¹äºå¡æ¯ä¾çå¬æ­£å¤æ­ã\n\næä»¬ä¹æä»¥æ²¡ææè¯å°è¿ä¸ç¹ï¼å¾å¤§ç¨åº¦ä¸æ¯å ä¸ºäººç±»å¤©çæ´å³æ³¨ç°å®èä¸æ¯åå²ï¼èä¸æä»¬ä¹ æ¯äºç¨çæ³èä¸æ¯è¿å»æ¥è¡¡éå½ä¸ã\n\nä¸è¦è®©æå¥½æä¸ºæ´å¥½çæäººã\n\nç»æµå¨çåè®©åè¾¾å½å®¶çå·¥äººç«äºåå¤§ï¼åååå¤§ãä¸­å½çæ°å·¥è½å¤å½±åé¿å¯æ±çå±å¿ã\n\nå½å®¶æ¯ç¹å®çåååæ³å°åæ­æ´åæºæï¼å¶å®æ´åæºæé½æ¯è¿æ³çï¼ä¸åè®¸çã\n\næ¯ä¸æ¬¡æ¿æ²»è¶å¿çå·¨å¤§ååï¼é½ä¼å¸¦æ¥æ¿æ²»å­¦ç ç©¶æ¡æ¶çå·¨å¤§ååã\n\nâéæ°å¸¦åå½å®¶âï¼1968å¹´æå­¦èè®¤ä¸ºï¼å±äº§ä¸»ä¹å½å®¶åè¥¿æ¹èªç±ä¸»ä¹å½å®¶é½å±äºææçèä¸æ¯è½¯å¼±çæ¿æ²»ç³»ç»ï¼ä¹å°±æ¯å®ä»¬æ¯ä¸ç±»å½å®¶ï¼é½æ¯âå¼ºå½å®¶âãå°èä¸å·¨åï¼è¯´å°åºï¼ç¾å½åèèä¸æ¯åä¸ç±»å½å®¶ï¼ç»æ²»å½¢å¼å¾éè¦ï¼äºæ¯å½å®¶è§è§èµ°åäºæ²å¯ãè¿ä¸ªè§ç¹åè¢«åèä»£ä¹ï¼âå¶åº¦ä¸»ä¹âï¼è³äºå½å®¶åæ¯é£ä¸ªè¢«âå³è¿ç¬¼å­âéçâèèâãå°å¦ä»ï¼ä¸­å½çå´èµ·ï¼ä»¥åæ°ä¸»åæµªæ½®å¨å¾å¤å°æ¹çåæ«ï¼ä½¿å¾äººåå¼å§æçå¶åº¦ä¸»ä¹ãå¦æå¶åº¦ä¸»ä¹æ¯å¯¹çï¼é£ä¹ï¼ä¸ºä»ä¹æ²¡æéåè¥¿æ¹å¶åº¦çä¸­å½è½å¤åååèµ·ï¼äºå¾å¤éç¨äºè¥¿æ¹å¶åº¦çå½å®¶åæ·±é·æ³¥æ²¼ãæè®¸å¶ä¸­è¿æéè¦çå©ä½åéï¼å½å®¶ã\n\nå½å®¶çæ¬è´¨æ¯æ´åä»åæ£èµ°ååæ­ãä¸ä¸ªå¼ºå½å®¶ä¸å®æ¯å®ç°äºæ´åé«åº¦åæ­çå½å®¶ï¼ä¹å°±æå³çåæ£æ´åçåå°ã\n\nå½å®¶çå¦ä¸ä¸ªéå¤§åè½ï¼æ¯æä¾å¬å±æå¡ã\n\n\n# ãå«é­ã\n\n1768å¹´æ¥å¤©ï¼æµæ±æä¸ªå°æ¹è¦ä¿®ä¸åº§æ¡¥ï¼è¦ææ ï¼æä¸ä¸ªç³å æ¿ä¸äºè¿ä¸ªå·¥ç¨ï¼ç¶åè¿ä¸ªæ¶åæè°£è¨ç³å è¦å·äººé­é­æ¥æåºï¼\n\n\n\n\n\n\n# ãç½®èº«äºåã\n\n 1. æ¿åºé¨é¨ä¹é´ï¼åæ¡æ¡ååä¹é´ççº¦æï¼æ¡æ¡ä¹é´çä¸å¡å³ç³»ï¼ååä¹é´çé¢å¯¼å³ç³»ã\n 2. å¸çº§ä¸å¡ä¹åçäºæï¼å¸æ¿åºå¯ä»¥ç´æ¥å³å®ï¼å¤¸å¸çäºæï¼éè¦ä¸çº§çæ¿åºåºå°åè°ãè¡æ¿äº¤çå¤å°åºçç»æµåå±ä¸è¬æ¯è¾è½åï¼çæ¿åºä¸ä¼ææéçèµæºä¼åéç½®å°è¾¹çå°åºã\n 3. ä¿¡æ¯çä¸å¯¹ç§°ï¼ä¸æ¹é¢ä¸çº§å·æå³å®æï¼ä½ä¸çº§æ¥æç»å¯¹çä¿¡æ¯ä¼å¿ï¼å®éæåµå³å®æè¿æ¯å¨ä¸çº§æä¸ãä¸è¬æä¸çº§ççç£åå®¡æ¥ãä¸ä»¶äºè¯¥ä¸è¯¥åï¼è¦åå°ä»ä¹ç¨åº¦ï¼æä¹æ ·ç®åå¾å¥½ï¼åå¥½äºç®è°çåå³ï¼åç ¸äºç±è°è´è´£ï¼è¿äºé®é¢å¾å¾æ²¡ææ¸æ¥çæ åãè¯´ä¸åºæ¸æ¥çæåµè¶å¤ï¼æåå°±ä¸å®ä¼åä¸ªäººéä¸­ã\n 4. ä»åæ¥çåå¹²å¶ï¼å°æ¹é¢ç®åæ¶å¥ä¸ä¸­å¤®åæï¼é¢ç®å¤å½å°æ¹ãå°æ¹æ³å°½åæ³è®©é¢ç®åæ¶å¥åå°ï¼å¢å é¢ç®å¤æ¶å¥ï¼èå¯äºä¼ä¸ï¼ãæéæ²¡æç±³ï¼å«é¸¡é½ä¸æ¥ãè¦å¢å ä¸­å¤®è´¢æ¿æ¶å¥ï¼åç¨å¶æ¹é©ãå¢å¼ç¨åå±äº«ç¨ï¼ä¸­å¤®æ¿75%ãæ»ä¹å°æ¹è´¢æ¿æ¶å¥éå¹´ä¸è·ã\n 5. å°æ¹æ¿åºäºæåå¤äºï¼ä½æéå¯æ¯éçèµæºåå°äºãåç¨å¶æ¹é©æ¶ï¼å½æåå°è½¬è®©çå³å®æåæ¶çé½çç»å°æ¹ï¼åå°è´¢æ¿ã\n 6. åå°éèï¼å°åå°åä¸ºæµæ¼ç©ï¼åé¶è¡è´·æ¬¾ãå¦ä¸æ¹é¢æ¿åºä¸è½ç´æ¥åé¶è¡åé±ï¼ä½æ¿åºæç«ä¸é¨çå¬å¸ï¼å°±å¯ä»¥ãããä¾ç»ä¸å¹³è¡¡ï¼æ¿åºéå¶åå¸ä½æ¿ç¨å°ï¼æ¥æé«åå°ä»·æ ¼ï¼åæ´å¤çé±ã\n 7. å·¥ä¸åä¸­æ¿åºè§è²ï¼æ¿åºä¼å¹²é¢å¸åºçè¿è½¬ï¼è¡¥è´´åªä¸ªè¡ä¸ï¼è¡¥è´´åªä¸ªå¬å¸ã\n\næå¦æç¥éä½ æ¯å®å¥½çï¼æä¼å¾æ¾å¿ãä¸ºèªå·±çå®å¨æè´è´£ï¼åæ¶æ»¡è¶³å¯¹æ¹çææéæ±ã\n\nä¸è§é¢çæ¶é´ï¼å¤æåèªå·±ï¼çä¹¦ãè¿å¨ãå´è¶£ç±å¥½ãæ¹åå¤å½¢ï¼æåå¯¹èªå·±çä¿¡å¿ã\n\nçè§£åä¿¡ä»»æ¯ç±çåºç¡ï¼ç¸ä¿¡èªå·±ï¼ç¸ä¿¡æåçéæ©ã\n\nç§¯æçåäº«ï¼è®©åæ¹å¯¹å½¼æ­¤ççæ´»æåä¸æï¼éè¦æ´å¤ç¾å¥½ä½éªç»èçç§¯ç´¯ã\n\nåºå®çäº¤æµæ¶é´ï¼ææå¾ï¼ç®çæ¯ä¸ºäºå¢è¿ææã\n\nèªèº«ææäºï¼å¨å¯¹æ¹çæ¥æ¯å¸å¼ç¹ãæ²¡ææææ¯é èå¤©å°±è½ç»´ç³»çï¼è½ç»´ç³»ææçæ¯ç¸äºå¸å¼ã\n\nå¤ä¸äºå±åç»åï¼çä¹¦ï¼åäº«è§ç¹ã\n\nå¼å¯¼å¯¹æ¹æå¥ï¼åèªå·±æå¥ã\n\næªæ¥ã",normalizedContent:"# ãéè§æªç¥çèªå·±ã\n\n\n# 01.ææ¯è°\n\nç¬¬ä¸æ¬¡çå°æ¬æï¼ä»¥åä»æ¥æ²¡ææ³è¿ææ¯è°è¿ä¸ªé®é¢ï¼æèè¯´æä¹æ¯åè¥åä¸æ ·ï¼æåªæ¯ææå¤çç¯å¢ãè¿æ¯ä¸ä¸ªå¼å¾ææ·±æçé®é¢ï¼æä¼°è®¡çå®ä¹ä¸ç¥éææ¯è°ã\n\n\n# 04.å¤±è½äºçå®çèªå·±\n\nå¿«ä¹ååæ¦æ¯ä¸åçï¼å¿«ä¹æ¯ç±å¤å¨äºç©å¼åçï¼åæ¦æ¯ç±ååå¤çç»½æ¾ãå¯¹ææ¥è¯´ï¼å¹³æ¶ä¸ä¸ç­è·¯ä¸è¦èµ°10~15åéï¼è½ç¶ææ¶åä¸ç¾¤äººèµ°ä¼å¾å¿«ä¹ï¼è½è°å¤©è¯´å°ï¼ä½å¶å°æè¿æ¯åæ¬¢ä¸ä¸ªäººèµ°ï¼ä¸ä¸ªäººå»æ¹è¾¹éï¼è½ææ´å¤çâå¿çæäºâã\n\n\n# 12.æ½æè¯çè¡¨è¾¾æ¹å¼\n\nä½ ä¸æ¯ä½ çå·¥ä½ï¼ä½ ä¸æ¯ä½ çè¡¨ç°ï¼ä½ ä¸æ¯ä½ çæåï¼ä½ ä¸æ¯ä½ çå¤±è´¥ãè¿äºå¤å¨çä¸è¥¿ï¼ä¸æ¯«å¨æä¸å°ä½ é£åå¨ççæï¼çæ¸æ¥å°æçèåè®¤åï¼\n\n\n# 13.æä»¬èº«ä½çéç¢\n\nç»èè®°å¿è¿ä¸ªç»æææ\n\nå°æä¸æ­æåä¸äºä¸è¥¿ï¼ä»¥è¯ææä»¬å­å¨ï¼è¶åå¤æåï¼è¶è¿ç¦»æä»¬çåå¿ã\n\nå°æå¢é¿ãåå¿èµ·ä»¥åï¼èº«è¾¹çäººå¾å¤é½æ¯è¿æ ·ï¼æä¹æ¯è¿æ ·ãæ¯æ¬¡è§é¢ï¼èä¼ï¼æ¯ä¸ªäººé½æè¯´ä¸å®çæäºï¼åæ¥æ¢æ¢çæè§å¾æè¯´ä¸è¿ä»ä»¬äºï¼æè§å¾çæççæ´»ç»åä¸å¤ä¸°å¯äºï¼å°±æ¢æ¢å¾å°åäº«çæ´»ãè½ç¶æåäº«çæ´»å°äºï¼ä½æè¿æ¯æ³èå¬ä»ä»¬çæäºã\n\nä¸äºå¤©ççææ§ï¼ææ±ä¸å¾çæ¤æï¼å¸æè½ç©ºçæ²ä¼¤ï¼é½åªæ¯ä¸ç§è½éçèªç¶æµå¨èå·²ï¼å®ä¼æ¥ï¼å°±ä¸å®ä¼èµ°ãè¿å¥è¯å¾æ²»æï¼æä¹æ¯è¿æ ·çãææ¶ååä¸äºäºæåçç´§å¼ ï¼ææ§ï¼âä»»å¡å¤±è´¥âçæ²ä¼¤ï¼è¿äºä¹åªæ¯ææ¶åºç°ï¼æè¿æ¯ä¼å®æè¿äºäºã\n\nè£æäºå®ã\n\nè·³åºèªæçèªæã\n\nâåºè¯¥âï¼âå¿é¡»âãä»¥åæä¹æ»æ¯æ¥åè¿ç§è§å¿µï¼æå°±åºè¯¥æä¹æä¹æ ·ï¼å¿é¡»æä¹æä¹æ ·...åæ¥åæï¼æææ¶ä¹ä¼å¯¹å«äººè¿æ ·è¯´ï¼ä½ åºè¯¥è¿æ ·ï¼å¿é¡»è¿æ ·ãç°å¨ä»ç»æ³æ³ï¼çæ¯æè ¢è³æãæ¯ä¸ªäººé½æèªå·±çææ³ï¼æä¹ä¸å¯è½æ¯âç¥âï¼æ¯ä¸ªäººé½åºè¯¥æç§èªå·±çææ³æ´»çï¼âè¯å¾æ¹åä»äººçæ³æ³âï¼è¿ä¸ªæè§å¾ççå¾ä¸å°éä»äººã\n\näº²ç±çï¼å¤é¢æ²¡æå«äººãææå¤å¨äºç©é½æ¯ä½ åå¿æå°åºæ¥çç»æãè¿å¯è½å°±æ¯ãçæ¢¦ç©ºé´ãçç­æ¢¦å¸å§ã\n\nãæåè®¸ã\n\n> æåè®¸ä»»ä½äºæçåç\n> \n> æåè®¸ï¼äºææ¯å¦æ­¤çå¼å§\n> \n> å¦æ­¤çåå±ï¼å¦æ­¤çç»å±\n> \n> å ä¸ºæç¥éï¼\n> \n> ææçäºæï¼é½æ¯å ç¼ååèæ¥\n> \n> ä¸åçåçï¼é½æ¯å¿ç¶\n> \n> è¥æè§å¾åºè¯¥æ¯å¦å¤ä¸ç§å¯è½\n> \n> ä¼¤å®³çï¼åªæ¯èªå·±\n> \n> æå¯ä¸è½åç\n> \n> å°±æ¯åè®¸\n\nå¿æ³äºæè¿ä¸ªï¼è®©èªå·±éæ¶éå°é½å¤å¨ä½ å·²ç»å¾å°äºä½ æ³è¦çä¸è¥¿ä¹åçæåãå¯ï¼ï¼ï¼em...è¿ä¸ªï¼æææ¶è¿ä¸æ¯å¾çè§£ã\n\nâæå¿âæ¯æå·®çç¤¼ç©ï¼ä¸å¦ç»ä»ç¥ç¦ãæ¯çï¼è¿åº¦çæå¿ä¼ä½¿äººç¦èèµ·æ¥ï¼è®©äººè¿å¤çå³å¿æå¿è¿ä»¶äºä¸ï¼åèéå¾å¶åã è¿ä¸ªä¸æ¯æåçå°çï¼ä½æ¯æ¯æå¿«æåå°çãæä¹åææ®µæ¶é´å°±æ¯è¾æå¿ä½ ï¼æå¿ä½ å®ä¹ è¦å»å°åªéï¼è¿ä¼ææ²¡ææ¶é´å¤ä¹ èç ï¼èç æä¹è§åï¼åæ¯è®¾ï¼å¨å¤å°å®ä¹ ç§çæ¿å­æä¹å¤çï¼å¥½å¤é®é¢æ³é®...ï¼ä¸æ¬¡è¯´æçµè¯å°±æ³è·ä½ è âè§å¾å¯¹æ¹é£æ ·åææ¯å¯¹çâï¼å ãä¾§è³å¾å¬ãéï¼å²é¯ä¸å¥½å¥½ä¸å­¦ï¼åèªå·±çèäººæäºï¼æåè®°çï¼ï¼ãå¨äºè¯´æä»¬ å±äºæç¹âæ§æ§âäºï¼ä¼å½±åæä»¬ä¸­å¶å®ççæ´»ç¶æãæä¹æè§å°æçå­¦ä¹ æçææå½±åï¼å½ç¶è¿ä¸ªåå æ¯å¤æ¹é¢ï¼ãå¯ï¼ï¼ï¼æä»¬ç°å¨éååäº«ä¹¦ä¸ç¥è¯ï¼çè§£ï¼çæ³ï¼ä¸è¦è¿åº¦æå¿å½¼æ­¤ï¼å½¼æ­¤ç¥ç¦ï¼å½¼æ­¤è¿æ­¥ï¼ï¼\n\n\n# ãéæ´åæ²éã\n\nç¬¬ä¹ç«  ç±èªå·±\n\nå¨æ¥å¸¸çæ´»ä¸­ï¼æè§ç¥å°æ ¹æ®éè¦åä»·å¼è§æ¥éæ©è¡å¨ï¼èä¸æ¯ä¸ºäºå±¥è¡èè´£ãè·å¾å¤å¨çå¥å±ï¼ææ¯éé¿åçãç¾æ§åä¹æ³ï¼æä»¬ä¾¿æ¯å¨å¹å»å¯¹èªå·±çç±ã\n\næçæ°ï¼å ä¸ºä»ä»¬....\n\næçæ°ï¼å ä¸ºæéè¦....\n\nè®©ææ¤æçå¹¶éä»äººçè¡ä¸ºï¼èæ¯æå¨å¤´èä¸­å¯¹ä»äººåå¶è¡ä¸ºççæ³åè§£è¯»ã\n\n\n# ãå¯è½æ§çèºæ¯ã\n\nåªæä¸ä¸ªå½å®¶çäººä¸æä»»ä½å½å®¶ã\n\nä½ æä¿ææ²é»çæå©ï¼ä½æ¯ä½ æè¯´ççæ¯å¥è¯é½å°æä¸ºåå è¯ä¾ã\n\nä¼èèåè§ã\n\nå½æä»¬ç ç©¶ä¸ä¸ªä¸è¥¿æ¯å¾å¾å¨ç¨ä¸æéèçå°ºå­æ¥è¿è¡åæå¤æ­ã\n\nå½å®¶è½åï¼ä¸ä¸ªå¾éè¦çä½ç°ï¼å¾ç¨è½åï¼ä¸¹éº¦45.3%ã\n\nå½å®¶è½åè¶å¼ºè¶å¥½åï¼ç§¦æä¸­å½ï¼æ°æäºç·ä»¥ä¸ä¸åå¼èï¼åå¶èµãä¸é«å¥¸èè°æ©ã\n\nè¡¡éæ¿æ²»åå±çä¸¤ä¸ªå°ºåº¦ï¼ä¸ä¸ªæ¯è¡¡éæ°ä¸»é®è´£ï¼ä¸ä¸ªæ¯è¡¡éå½å®¶è½åã\n\nå¯ä»¥è¯´ï¼æ¯è¾çäºä¸æ¬è´¨ä¸æ¯ä¸ç§ä¿¯ç°çäºä¸ï¼ä»âæ­¤æ¶æ­¤å°âæ½ç¦»ï¼æ¥å°å¤æ ·æ§çâä¸ç©ºâï¼ä»å®è§å¼å§é¢ç¥ï¼ç¶åæ¢æ¢èç¦å°å´è§ï¼ä¹å°±æ¯ä»æ£®æå¼å§ï¼æ¢æ¢èç¦çæ æ¨ãè¿æ ·åçå¥½å¤ï¼å°±æ¯ä¸ç®¡ä½ å¨åæå¤ä¹å·ä½çé®é¢ï¼å¨ä½ èæµ·çæ·±å¤ï¼å§ç»æä¸ç§æ¯ä¾æï¼æä¸ç¯ééçº¦çº¦çæ£®æï¼å®æéçä½ ï¼ä½ æè§å°çåªæ¯ç°è±¡ï¼èç°è±¡æªå¿æ¯çæ³ãå¯è½ææèå¾è¶å¤ï¼å°±è¶ç¸ä¿¡ï¼æºæ§çæ¬è´¨å°±æ¯å¯¹äºå¡æ¯ä¾çå¬æ­£å¤æ­ã\n\næä»¬ä¹æä»¥æ²¡ææè¯å°è¿ä¸ç¹ï¼å¾å¤§ç¨åº¦ä¸æ¯å ä¸ºäººç±»å¤©çæ´å³æ³¨ç°å®èä¸æ¯åå²ï¼èä¸æä»¬ä¹ æ¯äºç¨çæ³èä¸æ¯è¿å»æ¥è¡¡éå½ä¸ã\n\nä¸è¦è®©æå¥½æä¸ºæ´å¥½çæäººã\n\nç»æµå¨çåè®©åè¾¾å½å®¶çå·¥äººç«äºåå¤§ï¼åååå¤§ãä¸­å½çæ°å·¥è½å¤å½±åé¿å¯æ±çå±å¿ã\n\nå½å®¶æ¯ç¹å®çåååæ³å°åæ­æ´åæºæï¼å¶å®æ´åæºæé½æ¯è¿æ³çï¼ä¸åè®¸çã\n\næ¯ä¸æ¬¡æ¿æ²»è¶å¿çå·¨å¤§ååï¼é½ä¼å¸¦æ¥æ¿æ²»å­¦ç ç©¶æ¡æ¶çå·¨å¤§ååã\n\nâéæ°å¸¦åå½å®¶âï¼1968å¹´æå­¦èè®¤ä¸ºï¼å±äº§ä¸»ä¹å½å®¶åè¥¿æ¹èªç±ä¸»ä¹å½å®¶é½å±äºææçèä¸æ¯è½¯å¼±çæ¿æ²»ç³»ç»ï¼ä¹å°±æ¯å®ä»¬æ¯ä¸ç±»å½å®¶ï¼é½æ¯âå¼ºå½å®¶âãå°èä¸å·¨åï¼è¯´å°åºï¼ç¾å½åèèä¸æ¯åä¸ç±»å½å®¶ï¼ç»æ²»å½¢å¼å¾éè¦ï¼äºæ¯å½å®¶è§è§èµ°åäºæ²å¯ãè¿ä¸ªè§ç¹åè¢«åèä»£ä¹ï¼âå¶åº¦ä¸»ä¹âï¼è³äºå½å®¶åæ¯é£ä¸ªè¢«âå³è¿ç¬¼å­âéçâèèâãå°å¦ä»ï¼ä¸­å½çå´èµ·ï¼ä»¥åæ°ä¸»åæµªæ½®å¨å¾å¤å°æ¹çåæ«ï¼ä½¿å¾äººåå¼å§æçå¶åº¦ä¸»ä¹ãå¦æå¶åº¦ä¸»ä¹æ¯å¯¹çï¼é£ä¹ï¼ä¸ºä»ä¹æ²¡æéåè¥¿æ¹å¶åº¦çä¸­å½è½å¤åååèµ·ï¼äºå¾å¤éç¨äºè¥¿æ¹å¶åº¦çå½å®¶åæ·±é·æ³¥æ²¼ãæè®¸å¶ä¸­è¿æéè¦çå©ä½åéï¼å½å®¶ã\n\nå½å®¶çæ¬è´¨æ¯æ´åä»åæ£èµ°ååæ­ãä¸ä¸ªå¼ºå½å®¶ä¸å®æ¯å®ç°äºæ´åé«åº¦åæ­çå½å®¶ï¼ä¹å°±æå³çåæ£æ´åçåå°ã\n\nå½å®¶çå¦ä¸ä¸ªéå¤§åè½ï¼æ¯æä¾å¬å±æå¡ã\n\n\n# ãå«é­ã\n\n1768å¹´æ¥å¤©ï¼æµæ±æä¸ªå°æ¹è¦ä¿®ä¸åº§æ¡¥ï¼è¦ææ ï¼æä¸ä¸ªç³å æ¿ä¸äºè¿ä¸ªå·¥ç¨ï¼ç¶åè¿ä¸ªæ¶åæè°£è¨ç³å è¦å·äººé­é­æ¥æåºï¼\n\n\n\n\n\n\n# ãç½®èº«äºåã\n\n 1. æ¿åºé¨é¨ä¹é´ï¼åæ¡æ¡ååä¹é´ççº¦æï¼æ¡æ¡ä¹é´çä¸å¡å³ç³»ï¼ååä¹é´çé¢å¯¼å³ç³»ã\n 2. å¸çº§ä¸å¡ä¹åçäºæï¼å¸æ¿åºå¯ä»¥ç´æ¥å³å®ï¼å¤¸å¸çäºæï¼éè¦ä¸çº§çæ¿åºåºå°åè°ãè¡æ¿äº¤çå¤å°åºçç»æµåå±ä¸è¬æ¯è¾è½åï¼çæ¿åºä¸ä¼ææéçèµæºä¼åéç½®å°è¾¹çå°åºã\n 3. ä¿¡æ¯çä¸å¯¹ç§°ï¼ä¸æ¹é¢ä¸çº§å·æå³å®æï¼ä½ä¸çº§æ¥æç»å¯¹çä¿¡æ¯ä¼å¿ï¼å®éæåµå³å®æè¿æ¯å¨ä¸çº§æä¸ãä¸è¬æä¸çº§ççç£åå®¡æ¥ãä¸ä»¶äºè¯¥ä¸è¯¥åï¼è¦åå°ä»ä¹ç¨åº¦ï¼æä¹æ ·ç®åå¾å¥½ï¼åå¥½äºç®è°çåå³ï¼åç ¸äºç±è°è´è´£ï¼è¿äºé®é¢å¾å¾æ²¡ææ¸æ¥çæ åãè¯´ä¸åºæ¸æ¥çæåµè¶å¤ï¼æåå°±ä¸å®ä¼åä¸ªäººéä¸­ã\n 4. ä»åæ¥çåå¹²å¶ï¼å°æ¹é¢ç®åæ¶å¥ä¸ä¸­å¤®åæï¼é¢ç®å¤å½å°æ¹ãå°æ¹æ³å°½åæ³è®©é¢ç®åæ¶å¥åå°ï¼å¢å é¢ç®å¤æ¶å¥ï¼èå¯äºä¼ä¸ï¼ãæéæ²¡æç±³ï¼å«é¸¡é½ä¸æ¥ãè¦å¢å ä¸­å¤®è´¢æ¿æ¶å¥ï¼åç¨å¶æ¹é©ãå¢å¼ç¨åå±äº«ç¨ï¼ä¸­å¤®æ¿75%ãæ»ä¹å°æ¹è´¢æ¿æ¶å¥éå¹´ä¸è·ã\n 5. å°æ¹æ¿åºäºæåå¤äºï¼ä½æéå¯æ¯éçèµæºåå°äºãåç¨å¶æ¹é©æ¶ï¼å½æåå°è½¬è®©çå³å®æåæ¶çé½çç»å°æ¹ï¼åå°è´¢æ¿ã\n 6. åå°éèï¼å°åå°åä¸ºæµæ¼ç©ï¼åé¶è¡è´·æ¬¾ãå¦ä¸æ¹é¢æ¿åºä¸è½ç´æ¥åé¶è¡åé±ï¼ä½æ¿åºæç«ä¸é¨çå¬å¸ï¼å°±å¯ä»¥ãããä¾ç»ä¸å¹³è¡¡ï¼æ¿åºéå¶åå¸ä½æ¿ç¨å°ï¼æ¥æé«åå°ä»·æ ¼ï¼åæ´å¤çé±ã\n 7. å·¥ä¸åä¸­æ¿åºè§è²ï¼æ¿åºä¼å¹²é¢å¸åºçè¿è½¬ï¼è¡¥è´´åªä¸ªè¡ä¸ï¼è¡¥è´´åªä¸ªå¬å¸ã\n\næå¦æç¥éä½ æ¯å®å¥½çï¼æä¼å¾æ¾å¿ãä¸ºèªå·±çå®å¨æè´è´£ï¼åæ¶æ»¡è¶³å¯¹æ¹çææéæ±ã\n\nä¸è§é¢çæ¶é´ï¼å¤æåèªå·±ï¼çä¹¦ãè¿å¨ãå´è¶£ç±å¥½ãæ¹åå¤å½¢ï¼æåå¯¹èªå·±çä¿¡å¿ã\n\nçè§£åä¿¡ä»»æ¯ç±çåºç¡ï¼ç¸ä¿¡èªå·±ï¼ç¸ä¿¡æåçéæ©ã\n\nç§¯æçåäº«ï¼è®©åæ¹å¯¹å½¼æ­¤ççæ´»æåä¸æï¼éè¦æ´å¤ç¾å¥½ä½éªç»èçç§¯ç´¯ã\n\nåºå®çäº¤æµæ¶é´ï¼ææå¾ï¼ç®çæ¯ä¸ºäºå¢è¿ææã\n\nèªèº«ææäºï¼å¨å¯¹æ¹çæ¥æ¯å¸å¼ç¹ãæ²¡ææææ¯é èå¤©å°±è½ç»´ç³»çï¼è½ç»´ç³»ææçæ¯ç¸äºå¸å¼ã\n\nå¤ä¸äºå±åç»åï¼çä¹¦ï¼åäº«è§ç¹ã\n\nå¼å¯¼å¯¹æ¹æå¥ï¼åèªå·±æå¥ã\n\næªæ¥ã",charsets:{cjk:!0}},{title:"ä¸ç¾¤æ¸¸æå¤©æ",frontmatter:{title:"ä¸ç¾¤æ¸¸æå¤©æ",date:"2023-06-03T16:56:13.000Z",permalink:"/pages/76e940/"},regularPath:"/03.%E7%94%9F%E6%B4%BB/06.game.html",relativePath:"03.çæ´»/06.game.md",key:"v-012dc53d",path:"/pages/76e940/",headersStr:null,content:"çº¦ç¿°å¡é©¬åï¼ä»å°é è¿ç¸è¯ï¼ä¿®æ¹è¿æ¸¸æï¼åè¿æ¸¸æï¼å¼è¿å¬å¸ï¼ææ¯å¤§çã\n\nçº¦ç¿°ç½æ¢ç½ï¼æ¸¸æææ¯å¤§çï¼è®¾è®¡å¸ï¼ä¸å¡é©¬åä¸åå¼åå¬å¸ã\n\nä¸¤ä½å¤©æéå°ä¸èµ·ï¼æ³ç»ä¸çä¸ç¹éæ¼ã\n\n----------------------------------------\n\nç½æ¢ç½å¨è½¯çå¬å¸æ­£ç¼ºäººæï¼è®¤ä¸ºå¬å¸çå¶ä»ç¨åºåé½æ¯å»é¼ï¼ç»§ç»­ä¸ä½å¤©æï¼ä¸éçµè¯åï¼å¡é©¬åå¼çæ°æ¹è£çå°è½¦å°äºè½¯çå¬å¸ï¼ä¸¤äººä¸æå³åï¼ä¾¿å¼å§ååä½ä¹æã\n\næ¿ææ¾æ¹çä¸¤äººï¼å¨ç­æ¶é´åä¾¿å¼åäºè®¸å¤æ¸¸æï¼ä¸¤äººæå¨çå·¥ä½å®¤ä¹æèµ·äºè½¯çå¬å¸çå©æ¶¦æ¶å¥ãå¾å¿«ä¸¤äººä¾¿è§å¾è¿éä¸æ»¡ï¼æ³å¨æ¸¸æä¸­æ·»å æ´å¤çæ³æ³ï¼äºæ¯è°çäºçªå¬å¸çµèçæ³æ³ãæ²¡å°å¨äºï¼å°å¬å¸çµèæ¬å°ä¸ä¸ªæ¹è¾¹å«å¢ï¼ä¾¿å¼å§æ²¡æ¥æ²¡å¤çä¸æ³¨äºèªå·±çæ¸¸æå¼åï¼å°å·¥ä½æ¥ä¹æ¶ä¾¿æçµèæ¬åå¬å¸ãâæ³å¥½äºï¼æä»¬èµ°âãå¾å¿«çï¼å¬å¸å®¹ä¸ä¸ä¸¤äººæ½å±æ³èï¼ä¾¿è¿éå¬å¸çå ä½æææ¯çäººåï¼ä¸åæèµ°ï¼ååid softwareå¬å¸ã\n\nè¿æ¶ï¼çµèæ¸¸æç®åçèæ¯ä¸åçåä¸æ¸¸æï¼åéäºå½æ¶çµèæ§è½ï¼è®©å¶ä¸è½æ¸²æå®æ¶ååçåºæ¯ãå¯¹æ¯ä¹ä¸ï¼ä»»å¤©å çæ¸¸ææºå·²ç»å¯ä»¥å®ç°åååºæ¯çæ¸¸æãå¯çµèæ§è½é®é¢ï¼ç»ç©¶æµæ¡ä¸ä½å¡é©¬åçç­æï¼å¾å¿«ä¾¿å®ç°äºæ¨ªåå·è½´ææ¯ï¼æ¬ºéªçµèä¸éè¦æ¯æ¬¡é½éæ°ç»å¶åºæ¯ï¼åªéè¦å°ç»å¶è¿çéå¤å©ç¨èµ·æ¥ãä¸è¿å¤ä¹ï¼å¡é©¬ååå¶å¢éä¾¿ä¸æ¯ä¸çæ¨¡ä»¿ä»»å¤©å çé©¬éå¥¥æ¸¸æï¼åºå«å°é©¬éå¥¥æ¿æ¢ä¸ºæ´å¤«ãå¿é«æ°ççä»ä»¬ï¼å°ä»ä»¬ååºæ¥çæ¸¸æï¼åç»ä»»å¤©å è¯·æ±è¯´ï¼æä»¬å¯ä»¥ä¸ºä½ åæ¸¸ææºçæ¸¸æçµèç§»æ¤çãå¾æ¾ç¶ï¼ä»»å¤©å æ ¹æ¬ä¸å±äºçä¼ä»ä»¬ï¼å¹¶ä¸åäºä¸å°ä¾µæå¾å¸å½ã\n\nå¡é©¬åæ¯ä¸åææ¯çº¯ç²¹èï¼å¼æºè½¯ä»¶çå¡å¯¼èï¼åå¯¹ç³è¯·è½¯ä»¶ä¸å©ï¼ä½æ¯ä¹ä¸ç´å¤äºå­¤åå¥æãä»è®¤ä¸ºï¼ä¸çæ²¡æé¾é¢ï¼åªå·®ä¸å°è®¡ç®æºï¼ä¹¦ï¼åä¸ä¸ªå°ç®±ä»¥åå¯ä¹åæ«è¨ï¼ä¾¿å¯ä»¥åé ä¸çãä¹åä»çº·çº·çªç ´æ¸¸æå¼æï¼å®ç°3Dï¼è´´å¾ï¼åå½±ç­ææ¯ï¼ä½¿å¾ä»çæ¸¸æDOOMï¼æä¸ºå½æ¶ç¾å½æ äººä¸ç±çæ¸¸æï¼å¯¹æ¸¸æé¢åçåå±å½±åå·¨å¤§ï¼è¢«ç§°ä¸ºâçµå­æµ·æ´å âãä½æ¯ä»é£çº¯ç²¹çææ¯ç±å¥½èï¼å¢ééå¶ä»åèçº·çº·ç¦»å¼äºï¼å°2013å¹´ï¼ä»ä¹ç¦»å¼äºèªå·±ååçid softwareã\n\nç¦»å¼åï¼å¡é©¬åè¿ç±å¥½ç«ç®­åå°å¨ï¼å¹¶æäºä¸ä¸ªç§äººç åå¢éãæç«ç®­ï¼é©¬æ¯ååºç¶ä¹ä¸ä¼æ¾è¿è¿æ ·çäººæï¼ä½æ¯å¡é©¬åè¿æ¯æç»äºï¼å¹¶è¯´ï¼æ¾å°äºèªå·±åæ¬¢çæ¹åï¼VRã\n\nå å¥äºFaceBookï¼å¼å§äºVRä¹æï¼å°½ç®¡ä»åå¤©æï¼ååºäºå¾å¤§åªåï¼è¿ä¸ªè¡ä¸ç»ç©¶ä¹æ²¡è½æ¿èµ·å¾å¤§æµªè±ãå¨2022å¹´è·å¾äºVRç»èº«æå°±å¥ï¼ä½æ¯é¢å¥è¯å´è¯´ï¼å¯¹VRåå¾çè¿å±å¹¶ä¸æ»¡æï¼åç¦äºèªå·±çå¬å¸æ¥æè¿ä¹å¤çèµæºï¼ä½æ¯é½æµªè´¹å¨äºå¥å¥æªæªçäºæä¸é¢ã\n\nç¦»å¼äºVRï¼ææ¨å°ï¼è¿å»æ»æ¯å¨ä¸äºæ¹åç¡®å®çé¢åï¼æ¸¸æï¼ç«ç®­ï¼VRãè¿æ¬¡è¶çå¹´è½»ï¼è¸å¥ä¸ä¸ªä¸ç¥ä¼èµ°åä½æ¹çé¢åï¼éç¨äººå·¥æºè½ã",normalizedContent:"çº¦ç¿°å¡é©¬åï¼ä»å°é è¿ç¸è¯ï¼ä¿®æ¹è¿æ¸¸æï¼åè¿æ¸¸æï¼å¼è¿å¬å¸ï¼ææ¯å¤§çã\n\nçº¦ç¿°ç½æ¢ç½ï¼æ¸¸æææ¯å¤§çï¼è®¾è®¡å¸ï¼ä¸å¡é©¬åä¸åå¼åå¬å¸ã\n\nä¸¤ä½å¤©æéå°ä¸èµ·ï¼æ³ç»ä¸çä¸ç¹éæ¼ã\n\n----------------------------------------\n\nç½æ¢ç½å¨è½¯çå¬å¸æ­£ç¼ºäººæï¼è®¤ä¸ºå¬å¸çå¶ä»ç¨åºåé½æ¯å»é¼ï¼ç»§ç»­ä¸ä½å¤©æï¼ä¸éçµè¯åï¼å¡é©¬åå¼çæ°æ¹è£çå°è½¦å°äºè½¯çå¬å¸ï¼ä¸¤äººä¸æå³åï¼ä¾¿å¼å§ååä½ä¹æã\n\næ¿ææ¾æ¹çä¸¤äººï¼å¨ç­æ¶é´åä¾¿å¼åäºè®¸å¤æ¸¸æï¼ä¸¤äººæå¨çå·¥ä½å®¤ä¹æèµ·äºè½¯çå¬å¸çå©æ¶¦æ¶å¥ãå¾å¿«ä¸¤äººä¾¿è§å¾è¿éä¸æ»¡ï¼æ³å¨æ¸¸æä¸­æ·»å æ´å¤çæ³æ³ï¼äºæ¯è°çäºçªå¬å¸çµèçæ³æ³ãæ²¡å°å¨äºï¼å°å¬å¸çµèæ¬å°ä¸ä¸ªæ¹è¾¹å«å¢ï¼ä¾¿å¼å§æ²¡æ¥æ²¡å¤çä¸æ³¨äºèªå·±çæ¸¸æå¼åï¼å°å·¥ä½æ¥ä¹æ¶ä¾¿æçµèæ¬åå¬å¸ãâæ³å¥½äºï¼æä»¬èµ°âãå¾å¿«çï¼å¬å¸å®¹ä¸ä¸ä¸¤äººæ½å±æ³èï¼ä¾¿è¿éå¬å¸çå ä½æææ¯çäººåï¼ä¸åæèµ°ï¼ååid softwareå¬å¸ã\n\nè¿æ¶ï¼çµèæ¸¸æç®åçèæ¯ä¸åçåä¸æ¸¸æï¼åéäºå½æ¶çµèæ§è½ï¼è®©å¶ä¸è½æ¸²æå®æ¶ååçåºæ¯ãå¯¹æ¯ä¹ä¸ï¼ä»»å¤©å çæ¸¸ææºå·²ç»å¯ä»¥å®ç°åååºæ¯çæ¸¸æãå¯çµèæ§è½é®é¢ï¼ç»ç©¶æµæ¡ä¸ä½å¡é©¬åçç­æï¼å¾å¿«ä¾¿å®ç°äºæ¨ªåå·è½´ææ¯ï¼æ¬ºéªçµèä¸éè¦æ¯æ¬¡é½éæ°ç»å¶åºæ¯ï¼åªéè¦å°ç»å¶è¿çéå¤å©ç¨èµ·æ¥ãä¸è¿å¤ä¹ï¼å¡é©¬ååå¶å¢éä¾¿ä¸æ¯ä¸çæ¨¡ä»¿ä»»å¤©å çé©¬éå¥¥æ¸¸æï¼åºå«å°é©¬éå¥¥æ¿æ¢ä¸ºæ´å¤«ãå¿é«æ°ççä»ä»¬ï¼å°ä»ä»¬ååºæ¥çæ¸¸æï¼åç»ä»»å¤©å è¯·æ±è¯´ï¼æä»¬å¯ä»¥ä¸ºä½ åæ¸¸ææºçæ¸¸æçµèç§»æ¤çãå¾æ¾ç¶ï¼ä»»å¤©å æ ¹æ¬ä¸å±äºçä¼ä»ä»¬ï¼å¹¶ä¸åäºä¸å°ä¾µæå¾å¸å½ã\n\nå¡é©¬åæ¯ä¸åææ¯çº¯ç²¹èï¼å¼æºè½¯ä»¶çå¡å¯¼èï¼åå¯¹ç³è¯·è½¯ä»¶ä¸å©ï¼ä½æ¯ä¹ä¸ç´å¤äºå­¤åå¥æãä»è®¤ä¸ºï¼ä¸çæ²¡æé¾é¢ï¼åªå·®ä¸å°è®¡ç®æºï¼ä¹¦ï¼åä¸ä¸ªå°ç®±ä»¥åå¯ä¹åæ«è¨ï¼ä¾¿å¯ä»¥åé ä¸çãä¹åä»çº·çº·çªç ´æ¸¸æå¼æï¼å®ç°3dï¼è´´å¾ï¼åå½±ç­ææ¯ï¼ä½¿å¾ä»çæ¸¸ædoomï¼æä¸ºå½æ¶ç¾å½æ äººä¸ç±çæ¸¸æï¼å¯¹æ¸¸æé¢åçåå±å½±åå·¨å¤§ï¼è¢«ç§°ä¸ºâçµå­æµ·æ´å âãä½æ¯ä»é£çº¯ç²¹çææ¯ç±å¥½èï¼å¢ééå¶ä»åèçº·çº·ç¦»å¼äºï¼å°2013å¹´ï¼ä»ä¹ç¦»å¼äºèªå·±ååçid softwareã\n\nç¦»å¼åï¼å¡é©¬åè¿ç±å¥½ç«ç®­åå°å¨ï¼å¹¶æäºä¸ä¸ªç§äººç åå¢éãæç«ç®­ï¼é©¬æ¯ååºç¶ä¹ä¸ä¼æ¾è¿è¿æ ·çäººæï¼ä½æ¯å¡é©¬åè¿æ¯æç»äºï¼å¹¶è¯´ï¼æ¾å°äºèªå·±åæ¬¢çæ¹åï¼vrã\n\nå å¥äºfacebookï¼å¼å§äºvrä¹æï¼å°½ç®¡ä»åå¤©æï¼ååºäºå¾å¤§åªåï¼è¿ä¸ªè¡ä¸ç»ç©¶ä¹æ²¡è½æ¿èµ·å¾å¤§æµªè±ãå¨2022å¹´è·å¾äºvrç»èº«æå°±å¥ï¼ä½æ¯é¢å¥è¯å´è¯´ï¼å¯¹vråå¾çè¿å±å¹¶ä¸æ»¡æï¼åç¦äºèªå·±çå¬å¸æ¥æè¿ä¹å¤çèµæºï¼ä½æ¯é½æµªè´¹å¨äºå¥å¥æªæªçäºæä¸é¢ã\n\nç¦»å¼äºvrï¼ææ¨å°ï¼è¿å»æ»æ¯å¨ä¸äºæ¹åç¡®å®çé¢åï¼æ¸¸æï¼ç«ç®­ï¼vrãè¿æ¬¡è¶çå¹´è½»ï¼è¸å¥ä¸ä¸ªä¸ç¥ä¼èµ°åä½æ¹çé¢åï¼éç¨äººå·¥æºè½ã",charsets:{cjk:!0}},{title:"ç¨åºåçææªåçº§",frontmatter:{title:"ç¨åºåçææªåçº§",date:"2023-06-14T15:47:57.000Z",permalink:"/pages/f5ba2a/"},regularPath:"/03.%E7%94%9F%E6%B4%BB/07.%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%89%93%E6%80%AA%E5%8D%87%E7%BA%A7.html",relativePath:"03.çæ´»/07.ç¨åºåçææªåçº§.md",key:"v-095f08a6",path:"/pages/f5ba2a/",headers:[{level:2,title:"ä¾éå³ç³»",slug:"ä¾éå³ç³»",normalizedTitle:"ä¾éå³ç³»",charIndex:196},{level:2,title:"æ¸ é",slug:"æ¸ é",normalizedTitle:"æ¸ é",charIndex:627},{level:2,title:"èä¸è·¯çº¿",slug:"èä¸è·¯çº¿",normalizedTitle:"èä¸è·¯çº¿",charIndex:720},{level:2,title:"èä¸ç»å¸",slug:"èä¸ç»å¸",normalizedTitle:"èä¸ç»å¸",charIndex:731},{level:2,title:"æ°æå¿«éèµ·æ­¥",slug:"æ°æå¿«éèµ·æ­¥",normalizedTitle:"æ°æå¿«éèµ·æ­¥",charIndex:742},{level:2,title:"èä¸èæ",slug:"èä¸èæ",normalizedTitle:"èä¸èæ",charIndex:908},{level:2,title:"ç¶é¢",slug:"ç¶é¢",normalizedTitle:"ç¶é¢",charIndex:977}],headersStr:"ä¾éå³ç³» æ¸ é èä¸è·¯çº¿ èä¸ç»å¸ æ°æå¿«éèµ·æ­¥ èä¸èæ ç¶é¢",content:"ä¸ä¸ªç¨åºåå¼å¤å°é±\n\n\n\nç®åå°±æ¯æçä»·å¼ä¸»å¼ ï¼æå°å¬å¸æ¥ï¼æè½å®æè¿äºå·¥ä½ï¼ä¸ºå¬å¸å¸¦æ¥è¿æ ·çä»·å¼ï¼èæåªè¦è¿ä¸ç¹ç¹çèªæ°´ï¼æä»¥èµ¶ç´§éä½£æå§ã\n\nå¬å¸éä½£ä¸ä¸ªäººï¼å¹¶ä¸æ¯çä»æå¤çï¼èæ¯è½ç»å¬å¸å¸¦æ¥ä»ä¹ä»·å¼ãä¸ä¸ªäººæ¥æä¸ç³»åæè½ï¼å¨ä¸åå¬å¸åé çä»·å¼æ¯ä¸åçï¼äºæ¯æ¿å°çèªèµä¹ä¸ä¸æ ·ãé¤æ­¤ä¹å¤ï¼èªèµè¿åå¸åºä¾éï¼ä¿¡æ¯éæåº¦å½±åã\n\nåå·¥çä»·å¼ä¸è¬æ¯å¨ä¹åçå·¥ä½ç»ååä¸ç»©åºç¡ä¸æ¥ä¼°ç®ã\n\n\n# ä¾éå³ç³»\n\næ¯ä¸æ³¢æµªæ½®å¸¦æ¥çæ°å´å¸åºåé«å©æ¶¦è¡ä¸äº¤åçç»åå¸åºèä½å°±ä¼æ´ä¹åä¸äºã\n\nä¸æ³¨ç»åå¸åºï¼ååå®½åº¦æ¥æåæ·±åº¦çæ±èç­ç¥ã\n\næåæ¥è¦çæ´ä¸ªå¸åºçç»åï¼ç¨å°ä¸å°åä¸ï¼è®©æå¨è¿ä¸ªç»åé¢ååå¾æ¯å«äººæ´å¥½ãå¨ææç»åé½æå¥å°ç»åå¸åºä¹åï¼è¦èéè¿ä¸ªç»åå¸åºçå¤§å°ååå±ã\n\nä¸æ³¨æ°å´å¸åºï¼å©ç¨ææ¯è¾¹ççåå¨æ¥æå¹³ç»éªå·®è·çæ±èç­ç¥ã\n\nå½ä¸ä¸ªæ°ææ¯åºæ¥çæ¶åï¼åæ¥ä¸è½åçäºæåå¾è½åäºï¼åæ¥çä¸äºè§ååç»éªåå¾ä¸å¥½ç¨äºï¼è¿æ¯ä¸ä¸ªéå¸¸å¥½çæ°äººåå¥æºä¼ï¼ä¾å¦iOSååºæ¥ãæç®åå¤æ­ä¸ä¸ªæ°å´å¸åºæ¯å¦é è°±ï¼çèµæ¬çæµå¥éåº¦ï¼æèµæ¬æ¶å¥ï¼å°±ä¼å¬çå¤§éå¬å¸ï¼å°±ä¼å¤§éæäººï¼ç¶èä¾åºç«¯ä¹è¿å°ãäºè®¡ç®ãç§»å¨å¼åãç´æ­ãåºåé¾ãäººå·¥æºè½ã\n\néååæ\n\næèç½ç«çæèå¯äºä¸­åå«äºå¤§éçä¿¡æ¯ï¼éè¿ç¬è«å¯ä»¥è·åæèä½æéè¦çæè½ãä½æ¯æ°æ®éå¾å¤§ï¼ç¨ç»è®¡å¼æ¥ä¼°è®¡ä¸çå®èªå·±ä¼æå¾å¤§è¯¯å·®ãæä»¥æå¥½çæ¹å¼ï¼æ¯éä¸æ®µæ¶é´å»é¢è¯ççï¼çå®äºè§£éæ±ï¼ä»¥åèªèµï¼è¿ä¸ªæ¯çéç½é¶çã\n\n\n# æ¸ é\n\nåæ¨ä¸è¬é½æé¢è¯æºä¼ãæ­£å¥½æä¸ªçè¯çæåå¨è¿å®¶å¬å¸ï¼æ¢å¯ä»¥äºè§£è¿ä¸ªå¢éæ¯å¦å¥½ç¸å¤ï¼æ¯å¦å ç­ï¼èæ¿æ¯å¦é è°±ç­ï¼åæ¶åå·¥ä¸è¬åæ¨ä¹ä¼æå¥å±ï¼æä»¥ä¸è¬åå·¥é½ä¹æå¹²åæ¨è¿ä»¶äºã\n\n\n# èä¸è·¯çº¿\n\n\n\n\n# èä¸ç»å¸\n\n\n\n\n# æ°æå¿«éèµ·æ­¥\n\nåçµæ\n\nè¿æ¯æ°äººçæ¶åï¼å¹¶ä¸æ¯ä¸è¿æ¥å°±è½ç»å¬å¸è´¡ç®ä»·å¼ï¼èå¬å¸è¿è¦æ¯ä»æçå·¥èµï¼æä»¥æéè¦çå°±æ¯ï¼å°½å¿«åæ»¡çµï¼è±ç¦»è¿ä¸ªç¶æã\n\næ¾çµå¨\n\næ¶é´ä¹äºåç°èªå·±å¨ææ¯ä¸åä¹æ²¡ææé¿ç©ºé´äºï¼å¦æè¿æ¯ä¸ä¸ªåä¸­çº§å¼åèï¼é£å°±è¦çæäºãç¦»èäºåæ¥çåäºè¿æ¯å¯ä»¥åææåçï¼ç¦»èå¤äºå°±ä¹ æ¯äºï¼ä¹å°±ä¸ä¼çº ç»äººæ......\n\n\n# èä¸èæ\n\nè°å¯¹è°éæ²¡ææä¹ï¼æ²¡äººç¯éæææä¹ã\n\nå¬å¸ä¸è½å¹å»èªå·±ï¼è¦å­¦ä¼èªå·±å¹å»èªå·±ã\n\nè§åå¥½æçèä¸ï¼åªå¹´é½ä¸ä¼æå±æºã\n\n\n# ç¶é¢\n\nç¶é¢ä¸ï¼ä¸æç½äººåæºå¨çåºå«\n\n> ä¸æ¦è¿å¥ç®¡ççº¿ï¼æä»¬ä¼éå¸¸ææ¾çæåå°åä»¥åçä¸åãå ä¸ºä¹åä¸»è¦é½æ¯åæºå¨æäº¤éï¼çº¯é»è¾çäºååçç©ï¼éæ­¤å³å½¼ï¼éå¸¸å¥½ç¸å¤ã\n> \n> ä½æ¯ä»ç®¡ççº¿å¼å§å¢ï¼æä»¬å°±è¦å¼å§åäººæäº¤éäºãè¿äºäººå¯è½æ¯ä½ çä¸å±ãä¹å¯è½æ¯å¬å¸å¶ä»é¨é¨çåäºï¼æ¯å¦æä»¬ãæ·±æ¶çç»ãçäº§åç»çãæµè¯é¨é¨ãHRé¨é¨ï¼ æèé¢è¯ ï¼ç­ç­ãåç§åæ ·çäººé½ä¼è¿å¥å°ä½ çå·¥ä½ä¸­æ¥ï¼äººåï¼é½æ¯æç»ªåçå¨ç©ï¼åæºå¨æ¯å®å¨ä¸åçãæä»¥æä»¬å¨è¿å¥ç®¡ççº¿çæ¶åï¼è¦å°½å¿«éåºåä»ä»¬æäº¤éçæ¹æ³ã\n\nç¶é¢äºï¼ä¸çè§£è§åçæä¹ï¼å´å°èªç±ä¸»ä¹\n\n> å½ç¨åºåçæ¶åï¼å¾å¾æ¯åæªå¹é©¬è§£å³é®é¢ï¼å¾å¤ä¸è¥¿èªå·±æ³æä¹æ¥å°±æä¹æ¥ãä½å½ä½ èµ°ä¸ç®¡çå²ä½ä»¥åï¼äººä¸å¤å°±ä¼åç°ï¼ä¸è½ç±çæ¯ä¸ªäººæèªå·±çæ³æ³æ¥ï¼ä¸ç¶è¿ä¸ªç¨åºåç¨ PHP ï¼æè¾¹é£ä¸ªç¨ Python ï¼ä»£ç åºæ ¼å¼ç¾è±é½æ¾ï¼å®å¨æ²¡æ³çã\n> \n> æä»¥è§åæ¯ä¸ºäºæåæ´ä½ççäº§æçï¼æåçä¸äºå¦¥åãä¸è¦æè§è§åï¼ç°å¨ä½ å¯ä»¥ä¸å®ç¨åº¦çåä¸è§åçå¶å®äºï¼å°è¯å¥½å¥½çæ¹è¿å®åå©ç¨å®ã\n\nç¶é¢ä¸ï¼ç¼ºä¹è¯å¥½çæ²éåè¡¨è¾¾è½å\n\n> å¨å¼åå²æ¶ï¼è½ç¶ä¹éè¦ä¸å®çæ²éåè¡¨è¾¾è½åï¼ä½å¶å®åºæ¬ä¹å°±åææ¡£ãååå·¥ä½æ±æ¥æ¶ä¼ç¨å°ï¼ä½å¨ç®¡çå²ä¸ï¼å°±ä¸ä¸æ ·äºã\n> \n> è¿æ¯ä¸ä¸ªæ¿ä¸å¯ä¸çå²ä½ï¼ä¸æ¹é¢ä½ éè¦çè§£é¢å¯¼çæå¾ï¼å°å¶è½¬åä¸ºå¯¹åºçè§£å³æ¹æ¡ï¼åæäº¤é¢å¯¼å®¡éï¼æ³åæ³è¯´æé¢å¯¼æ¯æä½ çæ¹æ¡ï¼å¦ä¸æ¹é¢ä½ åè¦å¹å»æ°äººï¼ç¡®ä¿ä»ä»¬æç½èªå·±è¦åçå·¥ä½ï¼ä¹ å¾å¯¹åºçæè½ï¼è½ææ¶æéçå®æå¼åå·¥ä½ãå¨è¿ç§å²ä½ï¼ä¸æ¦å¨æ²éåè¡¨è¾¾ä¸­åºç°é®é¢ï¼å°±ä¼è¢«æåçæ¾å¤§ã\n> \n> è¿ç§è½åéè¦è±æ¶é´å»å¹å»ï¼å¾é¾ä¸è¹´èå°±ãä½å¥½å¨æä»¬è½ç¶æ¯ç®¡çå²ï¼ä½å®ä¾ç¶æ¯ææ¯ç¸å³çï¼å®æè¿°çä¾ç¶æ¯éå¸¸çæ§çä¸è¥¿ï¼ä¸å¤ªä¼åºç°åæè¡ä¸é£ç§ãè·³è·æ§æç»´ãåãæ æ³ç¨è¯­è¨æ¥è¡¨è¿°çæè§ãä¹ç±»çåå®¹ãæä»¥åºæ¬ä¸ï¼åªè¦æä»¬ææ¡çæ§ææ¡å¥½ï¼å°±è½è¾åºç®åææçåå®¹ãå³ä½¿å®å¯è½æä¸ç¹ç¹æ¯ç¥ï¼ä½ä¼å¾æ¸æ°ãå¦æä½ è¿è½èªç¶çåµå ä¸ªç¬è¯è¿å»ï¼é£ä¹åºä»ææ¯è®²åº§å°±ç»°ç»°æä½äºã\n\nç¶é¢åï¼ä¸è½è¿ççæèåå¹å»ä¸å±ï¼å°å·¥ä½åæä¸å»\n\n> æèåå¹å»ä¸å±ï¼æ¯ä¸­å±ç®¡çèé¤ææ¯ä»¥å¤æéè¦çè½åä¹ä¸ï¼æä»¬è¦æç»­èç¨³å®çä¸ºå¬å¸æä¾ç åè½åï¼ç¡®ä¿è½æ¯æå¬å¸ç°å¨çä¸å¡ï¼å¹¶è½è·å¾ä¸æªæ¥çåå±ã\n> \n> æä»¥æä»¬å¿é¡»ææ¡ä¸æ´å¥çæ¹æ³ï¼åæ¬å¦ä½æèæ°äººãæèè¿æ¥ä»¥åå¦ä½å¹å»ãè¯ç¨æå¦ä½è¯å«ç§å­éæãè½¬æ­£åå¦ä½æå¤§çä¸ºå¬å¸è´¡ç®ä»·å¼ï¼è¿è¦çæä»ä»¬å¯¹å¬å¸çæ»¡æåº¦åãä¸ªäººçåå±ææ¿ååå±ç©ºé´ï¼ä»¥ååå¹å»åºæ¥å°±è·³æ§½äºä¹ç±»çã\n> \n> ææ¡ä¸å¥½è¿äºæè½ï¼å°±æ æ³æ¾å¤§èªå·±çè½åï¼ææçäºæé½åªå¥½äº²åäº²ä¸ºï¼å¤©å¤©å ç­ãä¸ºäºé¿åè¿ç§æ²æ¨æªæ¥ï¼æä»¬çè³ä»è¿å¥ç®¡ççº¿ä¹åï¼å°±åºè¯¥ææè¯çå»å¹å»è¿äºè½åãé¦åè¦å»æåææ¯åå®¢æèç¬è®°çä¹ æ¯ï¼ç¶åå¯ä»¥è¯è¯ææ¥å¸¸å·¥ä½ä¸­çç»éªåæè®­æ»ç»ä¸æ¥ï¼ä»¥ä¹¦ç±æè¯¾ç¨çæ¹å¼åäº«åºå»ï¼è¿æ ·é¤äºè½æåè½åï¼è¿å¯ä»¥æ£ç¹é¶è±é±ã\n\nç¶é¢äºï¼é¢å¯¹å¤§æææ¶å¤±å»æå¿ï¼è«ç¶æ æª\n\n> åè¿å¥ç®¡ççº¿ï¼æèçªç¶èæ¿ç»äºä½ ä¸ä¸ªé¾åº¦å¾å¤§çä»»å¡çæ¶åï¼é¢å¯¹åå¤´ä¸ç»ªçäºæï¼å¾å®¹æåèãè¿ç§æ¶åï¼é¦åè¦éå®ä¸æ¥ï¼ç¶åå°è¿ä¸ªä»»å¡æåæä¸ä¸ªä¸ä¸ªçå°ææï¼å»åæå¶ä¸­çé£é©ï¼ä»èå¶å®åºä¸ç³»åå®¹æè¾¾å°çå°ç®æ ã\n> \n> å½æä»¬ä¸æ­çå»å®æè¿äºé¾åº¦ä¸å¤§çå°ç®æ æ¶ï¼ä¼è·å¾æç»­çå°æåï¼è¿äºæåå ç§¯èµ·æ¥çä¿¡å¿ï¼æåä¼å¸®å©æä»¬è§£å³ææåçé£ä¸ªé¾é¢ãå ä¸ºå¨é¾é¢é¢åï¼æå¸¸è§çå¤±è´¥å°±æ¯å¤±å»ä¿¡å¿ãä½ é½ä¸ç¸ä¿¡èªå·±è½ååºæ¥çæ¶åï¼é£å½ç¶å°±åä¸åºæ¥äºã\n\nä¸ä¸ªå°å»ºè®®ï¼æ¥ä¸æ¬¡ãè¿·ä½ ææ¯åä¸ã\n\n> ç®¡çæ¯éå¸¸ä¾èµäºå®è·µçäºæï¼ä½ ççé£äºç®¡çå¤§å¸çå·¨èï¼ç¶åå¨èæµ·ä¸­æ¼ç»ï¼å¶å®æåä»ä¹ç¨é½æ²¡æçï¼åªæå®éç»åè¿ï¼æè½æåèº«åã\n> \n> å¥½å¨æä»¬æ¯ç¨åºåï¼å¯ä»¥ä»æ å°æçåå»ºä¸ä¸ªè½¯ä»¶ãæä»¥æä»¬å¯ä»¥å©ç¨ä¸ä½æ¶é´ï¼å»å¼åä¸ä¸ªåä¸è½¯ä»¶ï¼æè Lead ä¸ä¸ªå¼æºé¡¹ç®ãå½ä½ æ§å¶çä¸ä¸ªæä¸å¡å¨æµå¨çç»ç»çæ¶åï¼å°±è½æ¸æ°çæåå°åç§é®é¢ãç¶åæ³åºèªå·±çè§£å³æ¹æ¡ï¼å¹¶è½çå°è¿äºæ¹æ¡æç»çææã\n> \n> è¿æ ·åï¼ä¸ä½å¯ä»¥æ´æ·±å¥ççè§£äººåç»ç»ï¼ä¹å¯ä»¥æ´å¥½ççè§£åä¸ãäº§åå¦ä½è¢«è®¾è®¡ãè¢«å¶ä½ãè¢«éå®ãè¢«è¿è¥ï¼ç°éå¦ä½åæèµæºãååæååååæ´å¤çé±ãå½ä½ æç½äºè¿äºä¹åï¼å°±è½å¯¹èªå·±çå²ä½ææ°ççæ³ï¼ä¹è½åèæ¿ä»¬ææ´å¤çå±åè¯­è¨ã",normalizedContent:"ä¸ä¸ªç¨åºåå¼å¤å°é±\n\n\n\nç®åå°±æ¯æçä»·å¼ä¸»å¼ ï¼æå°å¬å¸æ¥ï¼æè½å®æè¿äºå·¥ä½ï¼ä¸ºå¬å¸å¸¦æ¥è¿æ ·çä»·å¼ï¼èæåªè¦è¿ä¸ç¹ç¹çèªæ°´ï¼æä»¥èµ¶ç´§éä½£æå§ã\n\nå¬å¸éä½£ä¸ä¸ªäººï¼å¹¶ä¸æ¯çä»æå¤çï¼èæ¯è½ç»å¬å¸å¸¦æ¥ä»ä¹ä»·å¼ãä¸ä¸ªäººæ¥æä¸ç³»åæè½ï¼å¨ä¸åå¬å¸åé çä»·å¼æ¯ä¸åçï¼äºæ¯æ¿å°çèªèµä¹ä¸ä¸æ ·ãé¤æ­¤ä¹å¤ï¼èªèµè¿åå¸åºä¾éï¼ä¿¡æ¯éæåº¦å½±åã\n\nåå·¥çä»·å¼ä¸è¬æ¯å¨ä¹åçå·¥ä½ç»ååä¸ç»©åºç¡ä¸æ¥ä¼°ç®ã\n\n\n# ä¾éå³ç³»\n\næ¯ä¸æ³¢æµªæ½®å¸¦æ¥çæ°å´å¸åºåé«å©æ¶¦è¡ä¸äº¤åçç»åå¸åºèä½å°±ä¼æ´ä¹åä¸äºã\n\nä¸æ³¨ç»åå¸åºï¼ååå®½åº¦æ¥æåæ·±åº¦çæ±èç­ç¥ã\n\næåæ¥è¦çæ´ä¸ªå¸åºçç»åï¼ç¨å°ä¸å°åä¸ï¼è®©æå¨è¿ä¸ªç»åé¢ååå¾æ¯å«äººæ´å¥½ãå¨ææç»åé½æå¥å°ç»åå¸åºä¹åï¼è¦èéè¿ä¸ªç»åå¸åºçå¤§å°ååå±ã\n\nä¸æ³¨æ°å´å¸åºï¼å©ç¨ææ¯è¾¹ççåå¨æ¥æå¹³ç»éªå·®è·çæ±èç­ç¥ã\n\nå½ä¸ä¸ªæ°ææ¯åºæ¥çæ¶åï¼åæ¥ä¸è½åçäºæåå¾è½åäºï¼åæ¥çä¸äºè§ååç»éªåå¾ä¸å¥½ç¨äºï¼è¿æ¯ä¸ä¸ªéå¸¸å¥½çæ°äººåå¥æºä¼ï¼ä¾å¦iosååºæ¥ãæç®åå¤æ­ä¸ä¸ªæ°å´å¸åºæ¯å¦é è°±ï¼çèµæ¬çæµå¥éåº¦ï¼æèµæ¬æ¶å¥ï¼å°±ä¼å¬çå¤§éå¬å¸ï¼å°±ä¼å¤§éæäººï¼ç¶èä¾åºç«¯ä¹è¿å°ãäºè®¡ç®ãç§»å¨å¼åãç´æ­ãåºåé¾ãäººå·¥æºè½ã\n\néååæ\n\næèç½ç«çæèå¯äºä¸­åå«äºå¤§éçä¿¡æ¯ï¼éè¿ç¬è«å¯ä»¥è·åæèä½æéè¦çæè½ãä½æ¯æ°æ®éå¾å¤§ï¼ç¨ç»è®¡å¼æ¥ä¼°è®¡ä¸çå®èªå·±ä¼æå¾å¤§è¯¯å·®ãæä»¥æå¥½çæ¹å¼ï¼æ¯éä¸æ®µæ¶é´å»é¢è¯ççï¼çå®äºè§£éæ±ï¼ä»¥åèªèµï¼è¿ä¸ªæ¯çéç½é¶çã\n\n\n# æ¸ é\n\nåæ¨ä¸è¬é½æé¢è¯æºä¼ãæ­£å¥½æä¸ªçè¯çæåå¨è¿å®¶å¬å¸ï¼æ¢å¯ä»¥äºè§£è¿ä¸ªå¢éæ¯å¦å¥½ç¸å¤ï¼æ¯å¦å ç­ï¼èæ¿æ¯å¦é è°±ç­ï¼åæ¶åå·¥ä¸è¬åæ¨ä¹ä¼æå¥å±ï¼æä»¥ä¸è¬åå·¥é½ä¹æå¹²åæ¨è¿ä»¶äºã\n\n\n# èä¸è·¯çº¿\n\n\n\n\n# èä¸ç»å¸\n\n\n\n\n# æ°æå¿«éèµ·æ­¥\n\nåçµæ\n\nè¿æ¯æ°äººçæ¶åï¼å¹¶ä¸æ¯ä¸è¿æ¥å°±è½ç»å¬å¸è´¡ç®ä»·å¼ï¼èå¬å¸è¿è¦æ¯ä»æçå·¥èµï¼æä»¥æéè¦çå°±æ¯ï¼å°½å¿«åæ»¡çµï¼è±ç¦»è¿ä¸ªç¶æã\n\næ¾çµå¨\n\næ¶é´ä¹äºåç°èªå·±å¨ææ¯ä¸åä¹æ²¡ææé¿ç©ºé´äºï¼å¦æè¿æ¯ä¸ä¸ªåä¸­çº§å¼åèï¼é£å°±è¦çæäºãç¦»èäºåæ¥çåäºè¿æ¯å¯ä»¥åææåçï¼ç¦»èå¤äºå°±ä¹ æ¯äºï¼ä¹å°±ä¸ä¼çº ç»äººæ......\n\n\n# èä¸èæ\n\nè°å¯¹è°éæ²¡ææä¹ï¼æ²¡äººç¯éæææä¹ã\n\nå¬å¸ä¸è½å¹å»èªå·±ï¼è¦å­¦ä¼èªå·±å¹å»èªå·±ã\n\nè§åå¥½æçèä¸ï¼åªå¹´é½ä¸ä¼æå±æºã\n\n\n# ç¶é¢\n\nç¶é¢ä¸ï¼ä¸æç½äººåæºå¨çåºå«\n\n> ä¸æ¦è¿å¥ç®¡ççº¿ï¼æä»¬ä¼éå¸¸ææ¾çæåå°åä»¥åçä¸åãå ä¸ºä¹åä¸»è¦é½æ¯åæºå¨æäº¤éï¼çº¯é»è¾çäºååçç©ï¼éæ­¤å³å½¼ï¼éå¸¸å¥½ç¸å¤ã\n> \n> ä½æ¯ä»ç®¡ççº¿å¼å§å¢ï¼æä»¬å°±è¦å¼å§åäººæäº¤éäºãè¿äºäººå¯è½æ¯ä½ çä¸å±ãä¹å¯è½æ¯å¬å¸å¶ä»é¨é¨çåäºï¼æ¯å¦æä»¬ãæ·±æ¶çç»ãçäº§åç»çãæµè¯é¨é¨ãhré¨é¨ï¼ æèé¢è¯ ï¼ç­ç­ãåç§åæ ·çäººé½ä¼è¿å¥å°ä½ çå·¥ä½ä¸­æ¥ï¼äººåï¼é½æ¯æç»ªåçå¨ç©ï¼åæºå¨æ¯å®å¨ä¸åçãæä»¥æä»¬å¨è¿å¥ç®¡ççº¿çæ¶åï¼è¦å°½å¿«éåºåä»ä»¬æäº¤éçæ¹æ³ã\n\nç¶é¢äºï¼ä¸çè§£è§åçæä¹ï¼å´å°èªç±ä¸»ä¹\n\n> å½ç¨åºåçæ¶åï¼å¾å¾æ¯åæªå¹é©¬è§£å³é®é¢ï¼å¾å¤ä¸è¥¿èªå·±æ³æä¹æ¥å°±æä¹æ¥ãä½å½ä½ èµ°ä¸ç®¡çå²ä½ä»¥åï¼äººä¸å¤å°±ä¼åç°ï¼ä¸è½ç±çæ¯ä¸ªäººæèªå·±çæ³æ³æ¥ï¼ä¸ç¶è¿ä¸ªç¨åºåç¨ php ï¼æè¾¹é£ä¸ªç¨ python ï¼ä»£ç åºæ ¼å¼ç¾è±é½æ¾ï¼å®å¨æ²¡æ³çã\n> \n> æä»¥è§åæ¯ä¸ºäºæåæ´ä½ççäº§æçï¼æåçä¸äºå¦¥åãä¸è¦æè§è§åï¼ç°å¨ä½ å¯ä»¥ä¸å®ç¨åº¦çåä¸è§åçå¶å®äºï¼å°è¯å¥½å¥½çæ¹è¿å®åå©ç¨å®ã\n\nç¶é¢ä¸ï¼ç¼ºä¹è¯å¥½çæ²éåè¡¨è¾¾è½å\n\n> å¨å¼åå²æ¶ï¼è½ç¶ä¹éè¦ä¸å®çæ²éåè¡¨è¾¾è½åï¼ä½å¶å®åºæ¬ä¹å°±åææ¡£ãååå·¥ä½æ±æ¥æ¶ä¼ç¨å°ï¼ä½å¨ç®¡çå²ä¸ï¼å°±ä¸ä¸æ ·äºã\n> \n> è¿æ¯ä¸ä¸ªæ¿ä¸å¯ä¸çå²ä½ï¼ä¸æ¹é¢ä½ éè¦çè§£é¢å¯¼çæå¾ï¼å°å¶è½¬åä¸ºå¯¹åºçè§£å³æ¹æ¡ï¼åæäº¤é¢å¯¼å®¡éï¼æ³åæ³è¯´æé¢å¯¼æ¯æä½ çæ¹æ¡ï¼å¦ä¸æ¹é¢ä½ åè¦å¹å»æ°äººï¼ç¡®ä¿ä»ä»¬æç½èªå·±è¦åçå·¥ä½ï¼ä¹ å¾å¯¹åºçæè½ï¼è½ææ¶æéçå®æå¼åå·¥ä½ãå¨è¿ç§å²ä½ï¼ä¸æ¦å¨æ²éåè¡¨è¾¾ä¸­åºç°é®é¢ï¼å°±ä¼è¢«æåçæ¾å¤§ã\n> \n> è¿ç§è½åéè¦è±æ¶é´å»å¹å»ï¼å¾é¾ä¸è¹´èå°±ãä½å¥½å¨æä»¬è½ç¶æ¯ç®¡çå²ï¼ä½å®ä¾ç¶æ¯ææ¯ç¸å³çï¼å®æè¿°çä¾ç¶æ¯éå¸¸çæ§çä¸è¥¿ï¼ä¸å¤ªä¼åºç°åæè¡ä¸é£ç§ãè·³è·æ§æç»´ãåãæ æ³ç¨è¯­è¨æ¥è¡¨è¿°çæè§ãä¹ç±»çåå®¹ãæä»¥åºæ¬ä¸ï¼åªè¦æä»¬ææ¡çæ§ææ¡å¥½ï¼å°±è½è¾åºç®åææçåå®¹ãå³ä½¿å®å¯è½æä¸ç¹ç¹æ¯ç¥ï¼ä½ä¼å¾æ¸æ°ãå¦æä½ è¿è½èªç¶çåµå ä¸ªç¬è¯è¿å»ï¼é£ä¹åºä»ææ¯è®²åº§å°±ç»°ç»°æä½äºã\n\nç¶é¢åï¼ä¸è½è¿ççæèåå¹å»ä¸å±ï¼å°å·¥ä½åæä¸å»\n\n> æèåå¹å»ä¸å±ï¼æ¯ä¸­å±ç®¡çèé¤ææ¯ä»¥å¤æéè¦çè½åä¹ä¸ï¼æä»¬è¦æç»­èç¨³å®çä¸ºå¬å¸æä¾ç åè½åï¼ç¡®ä¿è½æ¯æå¬å¸ç°å¨çä¸å¡ï¼å¹¶è½è·å¾ä¸æªæ¥çåå±ã\n> \n> æä»¥æä»¬å¿é¡»ææ¡ä¸æ´å¥çæ¹æ³ï¼åæ¬å¦ä½æèæ°äººãæèè¿æ¥ä»¥åå¦ä½å¹å»ãè¯ç¨æå¦ä½è¯å«ç§å­éæãè½¬æ­£åå¦ä½æå¤§çä¸ºå¬å¸è´¡ç®ä»·å¼ï¼è¿è¦çæä»ä»¬å¯¹å¬å¸çæ»¡æåº¦åãä¸ªäººçåå±ææ¿ååå±ç©ºé´ï¼ä»¥ååå¹å»åºæ¥å°±è·³æ§½äºä¹ç±»çã\n> \n> ææ¡ä¸å¥½è¿äºæè½ï¼å°±æ æ³æ¾å¤§èªå·±çè½åï¼ææçäºæé½åªå¥½äº²åäº²ä¸ºï¼å¤©å¤©å ç­ãä¸ºäºé¿åè¿ç§æ²æ¨æªæ¥ï¼æä»¬çè³ä»è¿å¥ç®¡ççº¿ä¹åï¼å°±åºè¯¥ææè¯çå»å¹å»è¿äºè½åãé¦åè¦å»æåææ¯åå®¢æèç¬è®°çä¹ æ¯ï¼ç¶åå¯ä»¥è¯è¯ææ¥å¸¸å·¥ä½ä¸­çç»éªåæè®­æ»ç»ä¸æ¥ï¼ä»¥ä¹¦ç±æè¯¾ç¨çæ¹å¼åäº«åºå»ï¼è¿æ ·é¤äºè½æåè½åï¼è¿å¯ä»¥æ£ç¹é¶è±é±ã\n\nç¶é¢äºï¼é¢å¯¹å¤§æææ¶å¤±å»æå¿ï¼è«ç¶æ æª\n\n> åè¿å¥ç®¡ççº¿ï¼æèçªç¶èæ¿ç»äºä½ ä¸ä¸ªé¾åº¦å¾å¤§çä»»å¡çæ¶åï¼é¢å¯¹åå¤´ä¸ç»ªçäºæï¼å¾å®¹æåèãè¿ç§æ¶åï¼é¦åè¦éå®ä¸æ¥ï¼ç¶åå°è¿ä¸ªä»»å¡æåæä¸ä¸ªä¸ä¸ªçå°ææï¼å»åæå¶ä¸­çé£é©ï¼ä»èå¶å®åºä¸ç³»åå®¹æè¾¾å°çå°ç®æ ã\n> \n> å½æä»¬ä¸æ­çå»å®æè¿äºé¾åº¦ä¸å¤§çå°ç®æ æ¶ï¼ä¼è·å¾æç»­çå°æåï¼è¿äºæåå ç§¯èµ·æ¥çä¿¡å¿ï¼æåä¼å¸®å©æä»¬è§£å³ææåçé£ä¸ªé¾é¢ãå ä¸ºå¨é¾é¢é¢åï¼æå¸¸è§çå¤±è´¥å°±æ¯å¤±å»ä¿¡å¿ãä½ é½ä¸ç¸ä¿¡èªå·±è½ååºæ¥çæ¶åï¼é£å½ç¶å°±åä¸åºæ¥äºã\n\nä¸ä¸ªå°å»ºè®®ï¼æ¥ä¸æ¬¡ãè¿·ä½ ææ¯åä¸ã\n\n> ç®¡çæ¯éå¸¸ä¾èµäºå®è·µçäºæï¼ä½ ççé£äºç®¡çå¤§å¸çå·¨èï¼ç¶åå¨èæµ·ä¸­æ¼ç»ï¼å¶å®æåä»ä¹ç¨é½æ²¡æçï¼åªæå®éç»åè¿ï¼æè½æåèº«åã\n> \n> å¥½å¨æä»¬æ¯ç¨åºåï¼å¯ä»¥ä»æ å°æçåå»ºä¸ä¸ªè½¯ä»¶ãæä»¥æä»¬å¯ä»¥å©ç¨ä¸ä½æ¶é´ï¼å»å¼åä¸ä¸ªåä¸è½¯ä»¶ï¼æè lead ä¸ä¸ªå¼æºé¡¹ç®ãå½ä½ æ§å¶çä¸ä¸ªæä¸å¡å¨æµå¨çç»ç»çæ¶åï¼å°±è½æ¸æ°çæåå°åç§é®é¢ãç¶åæ³åºèªå·±çè§£å³æ¹æ¡ï¼å¹¶è½çå°è¿äºæ¹æ¡æç»çææã\n> \n> è¿æ ·åï¼ä¸ä½å¯ä»¥æ´æ·±å¥ççè§£äººåç»ç»ï¼ä¹å¯ä»¥æ´å¥½ççè§£åä¸ãäº§åå¦ä½è¢«è®¾è®¡ãè¢«å¶ä½ãè¢«éå®ãè¢«è¿è¥ï¼ç°éå¦ä½åæèµæºãååæååååæ´å¤çé±ãå½ä½ æç½äºè¿äºä¹åï¼å°±è½å¯¹èªå·±çå²ä½ææ°ççæ³ï¼ä¹è½åèæ¿ä»¬ææ´å¤çå±åè¯­è¨ã",charsets:{cjk:!0}},{title:"ä¸äºæå",frontmatter:{title:"ä¸äºæå",date:"2023-06-06T09:00:30.000Z",permalink:"/pages/c8b13e/"},regularPath:"/02.%E7%A7%91%E7%A0%94/03.%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C/66.sci.html",relativePath:"02.ç§ç /03.æçå·¥ä½/66.sci.md",key:"v-5fc224a0",path:"/pages/c8b13e/",headersStr:null,content:"IEEE Geoscience and Remote Sensing Letters (GRSL)\n\nInternational Journal of Remote Sensing\n\nIEEE Sensors Journal\n\nPattern Recognition Letters",normalizedContent:"ieee geoscience and remote sensing letters (grsl)\n\ninternational journal of remote sensing\n\nieee sensors journal\n\npattern recognition letters",charsets:{}},{title:"ç±æè§åè¿",frontmatter:{title:"ç±æè§åè¿",date:"2023-06-21T13:53:13.000Z",permalink:"/pages/4dc62f/"},regularPath:"/03.%E7%94%9F%E6%B4%BB/09.%E7%88%B1%E6%83%85%E8%A7%82%E5%8F%98%E8%BF%81.html",relativePath:"03.çæ´»/09.ç±æè§åè¿.md",key:"v-373c2e99",path:"/pages/4dc62f/",headers:[{level:2,title:"âå¯¹æå¥½âçå«ä¹åå",slug:"å¯¹æå¥½-çå«ä¹åå",normalizedTitle:"âå¯¹æå¥½âçå«ä¹åå",charIndex:2},{level:3,title:"åå¥½ä½ åºè¯¥åçäº",slug:"åå¥½ä½ åºè¯¥åçäº",normalizedTitle:"åå¥½ä½ åºè¯¥åçäº",charIndex:17},{level:3,title:"æ»¡è¶³æçéæ±",slug:"æ»¡è¶³æçéæ±",normalizedTitle:"æ»¡è¶³æçéæ±",charIndex:109},{level:3,title:"è®¤åæçä¸å",slug:"è®¤åæçä¸å",normalizedTitle:"è®¤åæçä¸å",charIndex:197},{level:3,title:"å°å¢",slug:"å°å¢",normalizedTitle:"å°å¢",charIndex:307},{level:3,title:"ç»è®º",slug:"ç»è®º",normalizedTitle:"ç»è®º",charIndex:384}],headersStr:"âå¯¹æå¥½âçå«ä¹åå åå¥½ä½ åºè¯¥åçäº æ»¡è¶³æçéæ± è®¤åæçä¸å å°å¢ ç»è®º",content:"# âå¯¹æå¥½âçå«ä¹åå\n\n\n# åå¥½ä½ åºè¯¥åçäº\n\nå¼ºè°é¨å½æ·å¯¹åææè¡¨æ¼åå¶åº¦ï¼ç¥è¡åä¸ãç»è¥å¤«å¦»å³ç³»çè¿ç¨ï¼ç·ä¸»å¤ï¼å¥³ä¸»åï¼æ¯ä¸ªäººåå¥½èªå·±çè§è²ã\n\nå¨ä¼ ç»çå©å§»éï¼å¯¹æå¥½ï¼å°±æ¯ä½ åºè¯¥åå°ä½ è¦åçè§è²ã\n\n\n# æ»¡è¶³æçéæ±\n\næµªæ¼«ç±æå´èµ·ï¼å¼ºè°ä¸ªä½çèªä¸»éæ©ãç·æ§ä¿æ¤åå® ç±å¥³æ§ï¼å¥³æ§å´æåè¯å®ç·æ§ï¼ä¹åæè·¨è¶é¶çº§çä¸ç§éå¾ï¼è¿æç±æå¯è§åï¼å±åæé¿ï¼ä¹å°±æ¯æ»¡è¶³èªå·±çéæ±ï¼ã\n\n\n# è®¤åæçä¸å\n\nèªæçç¡®å®æ§ï¼å å¥æç½è½è®©äººæè±ä½ä¸ºä¸èµ·ç¼çå¡äººçæè§ï¼æåèªæä»·å¼æï¼æç»ªä»·å¼çå´èµ·ï¼æ¿è¯ºä¸ä¼åäºææãä¸æ¶çç±æåªä»£è¡¨é£å½ä¸çï¼æç»ªä¼ååï¼æä»¥æ¿è¯ºåå¾ä¸å¯é ï¼æä»¥éè¦æ æ¶æ å»å¾å°ç±çéªè¯ã\n\n\n# å°å¢\n\nå¨å½åç¤¾ä¼å¿«éåå±ï¼ç¨å åå¹´å°±è¾¾æäºä¸ç§çæ¼åãä»¥è³äºç¤¾ä¼ä¸å­å¨ä¸åçç¾¤ä½ï¼ææ¶åä¼å°ä¸è¿°ä¸ç§å³ç³»æåå¨ä¸èµ·ï¼è¿ä¸ç§å³ç³»æ¬èº«å°±æ¯çç¾çã\n\n\n# ç»è®º\n\nå½ç±ææ æ³å®ç°èªç±ãå¹³ç­åææçæ»¡è¶³æ¶åï¼äººä»¬å°±ææ¶æèªç±ï¼æèâä¸éæ©âä½ä¸ºäºæç»çéæ©ãç±ææ¯ä¸¤ä¸ªç¬ç«ä¸ªä½çè¿æ¥ï¼å¦ä½æ»¡è¶³åæ¹éæ±çå¹³è¡¡ï¼å¦ä½ä¿æè®¤åä¸ç¬ç«æå¿çå¹³è¡¡ãç±ææ¯å­¦ä¹ çï¼å¹¸ç¦æ¯è¦ç»ä¹ çã",normalizedContent:"# âå¯¹æå¥½âçå«ä¹åå\n\n\n# åå¥½ä½ åºè¯¥åçäº\n\nå¼ºè°é¨å½æ·å¯¹åææè¡¨æ¼åå¶åº¦ï¼ç¥è¡åä¸ãç»è¥å¤«å¦»å³ç³»çè¿ç¨ï¼ç·ä¸»å¤ï¼å¥³ä¸»åï¼æ¯ä¸ªäººåå¥½èªå·±çè§è²ã\n\nå¨ä¼ ç»çå©å§»éï¼å¯¹æå¥½ï¼å°±æ¯ä½ åºè¯¥åå°ä½ è¦åçè§è²ã\n\n\n# æ»¡è¶³æçéæ±\n\næµªæ¼«ç±æå´èµ·ï¼å¼ºè°ä¸ªä½çèªä¸»éæ©ãç·æ§ä¿æ¤åå® ç±å¥³æ§ï¼å¥³æ§å´æåè¯å®ç·æ§ï¼ä¹åæè·¨è¶é¶çº§çä¸ç§éå¾ï¼è¿æç±æå¯è§åï¼å±åæé¿ï¼ä¹å°±æ¯æ»¡è¶³èªå·±çéæ±ï¼ã\n\n\n# è®¤åæçä¸å\n\nèªæçç¡®å®æ§ï¼å å¥æç½è½è®©äººæè±ä½ä¸ºä¸èµ·ç¼çå¡äººçæè§ï¼æåèªæä»·å¼æï¼æç»ªä»·å¼çå´èµ·ï¼æ¿è¯ºä¸ä¼åäºææãä¸æ¶çç±æåªä»£è¡¨é£å½ä¸çï¼æç»ªä¼ååï¼æä»¥æ¿è¯ºåå¾ä¸å¯é ï¼æä»¥éè¦æ æ¶æ å»å¾å°ç±çéªè¯ã\n\n\n# å°å¢\n\nå¨å½åç¤¾ä¼å¿«éåå±ï¼ç¨å åå¹´å°±è¾¾æäºä¸ç§çæ¼åãä»¥è³äºç¤¾ä¼ä¸å­å¨ä¸åçç¾¤ä½ï¼ææ¶åä¼å°ä¸è¿°ä¸ç§å³ç³»æåå¨ä¸èµ·ï¼è¿ä¸ç§å³ç³»æ¬èº«å°±æ¯çç¾çã\n\n\n# ç»è®º\n\nå½ç±ææ æ³å®ç°èªç±ãå¹³ç­åææçæ»¡è¶³æ¶åï¼äººä»¬å°±ææ¶æèªç±ï¼æèâä¸éæ©âä½ä¸ºäºæç»çéæ©ãç±ææ¯ä¸¤ä¸ªç¬ç«ä¸ªä½çè¿æ¥ï¼å¦ä½æ»¡è¶³åæ¹éæ±çå¹³è¡¡ï¼å¦ä½ä¿æè®¤åä¸ç¬ç«æå¿çå¹³è¡¡ãç±ææ¯å­¦ä¹ çï¼å¹¸ç¦æ¯è¦ç»ä¹ çã",charsets:{cjk:!0}},{title:"ææ¯äººçæ±èæå",frontmatter:{title:"ææ¯äººçæ±èæå",date:"2023-06-16T21:07:57.000Z",permalink:"/pages/c1356f/"},regularPath:"/03.%E7%94%9F%E6%B4%BB/08.%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%9A%84%E6%B1%82%E8%81%8C%E6%8C%87%E5%8D%97.html",relativePath:"03.çæ´»/08.ææ¯äººçæ±èæå.md",key:"v-78f813a7",path:"/pages/c1356f/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-a2a48808",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Home",frontmatter:{home:!0,heroImage:"/img/tiger.png",heroText:"åå¥æ é±¼",tagline:"ðå°èèå®¶çæå¿å°å¹´",actionText:"å¼å§éè¯» â",actionLink:"/pages/8e69ed/",bannerBg:"none",features:[{title:"Java",details:"å´è¶£ä½¿ç¶ï¼è®©èªæå¨ç¥è´¯æ³¨ï¼å¨èº«å¿æå¥",link:"/pages/8e69ed/"},{title:"ç§ç ",details:"æè¡¡ï¼å§æ²æ±å¨ï¼è®©èªææ´å¨é¢",link:"/pages/aa9650/"},{title:"çæ´»",details:"å¤æåæï¼ä½æç»ªç¨³å®",link:"/pages/db78e2/"}],postList:"simple"},regularPath:"/",relativePath:"index.md",key:"v-05363355",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"è½¯æ",frontmatter:{title:"è½¯æ",date:"2023-04-06T10:39:42.000Z",permalink:"/pages/a7f8a5/"},regularPath:"/03.%E7%94%9F%E6%B4%BB/02.%E8%BD%AF%E6%8C%91%E6%AF%94%E8%B5%9B.html",relativePath:"03.çæ´»/02.è½¯ææ¯èµ.md",key:"v-7887f0dc",path:"/pages/a7f8a5/",headers:[{level:3,title:"readMapOK",slug:"readmapok",normalizedTitle:"readmapok",charIndex:18},{level:3,title:"work->init()",slug:"work-init",normalizedTitle:"work-&gt;init()",charIndex:null},{level:3,title:"readFrameOK",slug:"readframeok",normalizedTitle:"readframeok",charIndex:93},{level:3,title:"schedulingRobot",slug:"schedulingrobot",normalizedTitle:"schedulingrobot",charIndex:136},{level:3,title:"work->schedulingRobot()",slug:"work-schedulingrobot",normalizedTitle:"work-&gt;schedulingrobot()",charIndex:null},{level:3,title:"findWorkbenchBuy()ï¼ findWorkbenchSell()",slug:"findworkbenchbuy-findworkbenchsell",normalizedTitle:"findworkbenchbuy()ï¼ findworkbenchsell()",charIndex:906},{level:3,title:"robot->pathMove(), æ§å¶æºå¨äººè¿å¨",slug:"robot-pathmove-æ§å¶æºå¨äººè¿å¨",normalizedTitle:"robot-&gt;pathmove(), æ§å¶æºå¨äººè¿å¨",charIndex:null}],headersStr:"readMapOK work->init() readFrameOK schedulingRobot work->schedulingRobot() findWorkbenchBuy()ï¼ findWorkbenchSell() robot->pathMove(), æ§å¶æºå¨äººè¿å¨",content:"ä¸»å½æ°æä¸ªWorkå¯¹è±¡\n\n\n\n\n# readMapOK\n\nè¯»åå¤é¢å¨åéè¿æ¥çå°å¾æ°æ®ï¼æ°æ®æ ¼å¼åèä»»å¡ä¹¦\n\n\n# work->init()\n\næ¿å°å°å¾æ°æ®åè¿è¡ä¸äºåå§åå·¥ä½\n\n\n# readFrameOK\n\nè¯»åå¤é¢å¨åéè¿æ¥çæ¯ä¸å¸§æ°æ®ï¼æ°æ®æ ¼å¼åèä»»å¡ä¹¦\n\n\n# schedulingRobot\n\nè°åº¦æºå¨äººï¼è¿åéè¦çæä»¤ orders\n\næåå° orders printfç»å¤é¢å¨ã\n\nä»¥ä¸æææä½é½æ¯å¨workå¯¹è±¡æ¥æä½çã\n\n\n# work->schedulingRobot()\n\nvector<string> schedulingRobot(int frameId) {\n    // è¿éæ¯è¦è¿åçæºå¨äººæ§å¶æä»¤orders\n    vector<string> orders;\n\n    // æä½åä¸ªæºå¨äºº\n    for (const auto &robot: robots) {\n        // 1. å¦ææºå¨äººæ²¡æç®æ å·¥ä½å°ï¼ç»æºå¨äººè®¾ç«ä¸ä¸ªç®æ å·¥ä½å°. è°ç¨2,æ3\n        // 2.  findWorkBenchService->findWorkbenchBuy();\n        // 3.  findWorkBenchService->findWorkbenchSell();\n\n        // 4. æäºç®æ å·¥ä½å°,å¤æ­æºå¨äººæ¯å¦å·²ç»å°è¾¾å·¥ä½å°, è°ç¨5 æ6\n        // 5. ä¹°, pushä¹°çæä»¤, å¹¶ä¸åæ¶è®¾ç«ç®æ å·¥ä½å° è°ç¨3\n        // 6. å, pushåçæä»¤, å¹¶ä¸åæ¶è®¾ç«ç®æ å·¥ä½å° è°ç¨2\n\n        // 7. æºå¨äººæç®æ , è®©æºå¨äººæç§è·¯å¾èµ°,è°ç¨\n        // 8. robot->pathMove(), è¿åè¿å¨æ§å¶æä»¤\n    }\n    // 9. è¿éåç¢°ææ£æµ, è°ç¨\n    // 10. collisionService->avoid(),è¿åè¿å¨æ§å¶æä»¤,ä¼è¦ç8çæ§å¶æä»¤\n\n    // è¿åè¿ä¸å¸§æææä»¤\n    return orders;\n}\n\n\n\n# findWorkbenchBuy()ï¼ findWorkbenchSell()\n\nå¦æå¯ä»¥ç»æºå¨äººè®¾å®ä¸ä¸ªç®æ å·¥ä½å°ï¼é£ä¹å½æ°çæåä¼ç»æºå¨äººè®¾ç½®targetå·¥ä½å°ï¼å¹¶ä¸ä¼ç»ä»è·¯å¾\n\nauto &workbench = item.first;\n// è¿éæä¸¤æ¡è·¯å¾ï¼ä¸æ¡æ¯åå§çè·¯å¾ï¼optimPathæ¯ç­éåºå³é®ç¹åçè·¯å¾\nvector<vector<double>> path, optimPath;\nbool succeed = findPath(*robot, *workbench, path, optimPath);\nif (succeed) {\n    int workbenchId = workbench->getWorkbenchId();\n    // ç»æºå¨äººè·¯å¾\n    robot->setPath(optimPath);\n    robot->setTargetWorkBenchId(workbenchId);\n    robot->pidClear();\n}\n\n\nå½æ°çå¶ä»é¨åæ¯å¦ä½ç»æºå¨äººååå·¥ä½å°çé®é¢ï¼ä¸ç¨ç®¡ã\n\n\n# robot->pathMove(), æ§å¶æºå¨äººè¿å¨\n\n// æºå¨äººä¼æ¿å°ä¸ä¸ª pathè·¯å¾, æºå¨äººè®°å½å½åè·¯å¾ä¸­çåªä¸æ­¥\nvector<string> pathMove() {\n    vector<string> res;\n    // éåè·¯å¾ä¸­çæ¯ä¸æ­¥\n    for (; path_step < path.size(); ++path_step) {\n        // æ¿å°è·¯å¾ä¸­æä¸æ­¥çåæ (x,y)\n        double targetX = path[path_step][0];\n        double targetY = path[path_step][1];\n        // è®©æºå¨äººè¿å¨å°(x,y)\n\t\t// æ ¹æ®æºå¨äººå½åçä½ç½®,è®¡ç®è¿å¨å°(x,y)éè¦çéåº¦åè§éåº¦\n        // æåpush éåº¦æä»¤åè§éåº¦æä»¤å° resä¸­ï¼æåè¿å\n        return res;\n    }\n    return res;\n\n}\n",normalizedContent:"ä¸»å½æ°æä¸ªworkå¯¹è±¡\n\n\n\n\n# readmapok\n\nè¯»åå¤é¢å¨åéè¿æ¥çå°å¾æ°æ®ï¼æ°æ®æ ¼å¼åèä»»å¡ä¹¦\n\n\n# work->init()\n\næ¿å°å°å¾æ°æ®åè¿è¡ä¸äºåå§åå·¥ä½\n\n\n# readframeok\n\nè¯»åå¤é¢å¨åéè¿æ¥çæ¯ä¸å¸§æ°æ®ï¼æ°æ®æ ¼å¼åèä»»å¡ä¹¦\n\n\n# schedulingrobot\n\nè°åº¦æºå¨äººï¼è¿åéè¦çæä»¤ orders\n\næåå° orders printfç»å¤é¢å¨ã\n\nä»¥ä¸æææä½é½æ¯å¨workå¯¹è±¡æ¥æä½çã\n\n\n# work->schedulingrobot()\n\nvector<string> schedulingrobot(int frameid) {\n    // è¿éæ¯è¦è¿åçæºå¨äººæ§å¶æä»¤orders\n    vector<string> orders;\n\n    // æä½åä¸ªæºå¨äºº\n    for (const auto &robot: robots) {\n        // 1. å¦ææºå¨äººæ²¡æç®æ å·¥ä½å°ï¼ç»æºå¨äººè®¾ç«ä¸ä¸ªç®æ å·¥ä½å°. è°ç¨2,æ3\n        // 2.  findworkbenchservice->findworkbenchbuy();\n        // 3.  findworkbenchservice->findworkbenchsell();\n\n        // 4. æäºç®æ å·¥ä½å°,å¤æ­æºå¨äººæ¯å¦å·²ç»å°è¾¾å·¥ä½å°, è°ç¨5 æ6\n        // 5. ä¹°, pushä¹°çæä»¤, å¹¶ä¸åæ¶è®¾ç«ç®æ å·¥ä½å° è°ç¨3\n        // 6. å, pushåçæä»¤, å¹¶ä¸åæ¶è®¾ç«ç®æ å·¥ä½å° è°ç¨2\n\n        // 7. æºå¨äººæç®æ , è®©æºå¨äººæç§è·¯å¾èµ°,è°ç¨\n        // 8. robot->pathmove(), è¿åè¿å¨æ§å¶æä»¤\n    }\n    // 9. è¿éåç¢°ææ£æµ, è°ç¨\n    // 10. collisionservice->avoid(),è¿åè¿å¨æ§å¶æä»¤,ä¼è¦ç8çæ§å¶æä»¤\n\n    // è¿åè¿ä¸å¸§æææä»¤\n    return orders;\n}\n\n\n\n# findworkbenchbuy()ï¼ findworkbenchsell()\n\nå¦æå¯ä»¥ç»æºå¨äººè®¾å®ä¸ä¸ªç®æ å·¥ä½å°ï¼é£ä¹å½æ°çæåä¼ç»æºå¨äººè®¾ç½®targetå·¥ä½å°ï¼å¹¶ä¸ä¼ç»ä»è·¯å¾\n\nauto &workbench = item.first;\n// è¿éæä¸¤æ¡è·¯å¾ï¼ä¸æ¡æ¯åå§çè·¯å¾ï¼optimpathæ¯ç­éåºå³é®ç¹åçè·¯å¾\nvector<vector<double>> path, optimpath;\nbool succeed = findpath(*robot, *workbench, path, optimpath);\nif (succeed) {\n    int workbenchid = workbench->getworkbenchid();\n    // ç»æºå¨äººè·¯å¾\n    robot->setpath(optimpath);\n    robot->settargetworkbenchid(workbenchid);\n    robot->pidclear();\n}\n\n\nå½æ°çå¶ä»é¨åæ¯å¦ä½ç»æºå¨äººååå·¥ä½å°çé®é¢ï¼ä¸ç¨ç®¡ã\n\n\n# robot->pathmove(), æ§å¶æºå¨äººè¿å¨\n\n// æºå¨äººä¼æ¿å°ä¸ä¸ª pathè·¯å¾, æºå¨äººè®°å½å½åè·¯å¾ä¸­çåªä¸æ­¥\nvector<string> pathmove() {\n    vector<string> res;\n    // éåè·¯å¾ä¸­çæ¯ä¸æ­¥\n    for (; path_step < path.size(); ++path_step) {\n        // æ¿å°è·¯å¾ä¸­æä¸æ­¥çåæ (x,y)\n        double targetx = path[path_step][0];\n        double targety = path[path_step][1];\n        // è®©æºå¨äººè¿å¨å°(x,y)\n\t\t// æ ¹æ®æºå¨äººå½åçä½ç½®,è®¡ç®è¿å¨å°(x,y)éè¦çéåº¦åè§éåº¦\n        // æåpush éåº¦æä»¤åè§éåº¦æä»¤å° resä¸­ï¼æåè¿å\n        return res;\n    }\n    return res;\n\n}\n",charsets:{cjk:!0}}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"Java",link:"/pages/e0425d/"},{text:"ç§ç ",link:"/pages/7387ee/"},{text:"çæ´»",link:"/pages/db78e2/"},{text:"C++",link:"/pages/4df89e/"},{text:"å½æ¡£",link:"/archives/"}],sidebarDepth:2,logo:"/img/tiger.png",repo:"xugaoyi/vuepress-theme-vdoing",searchMaxSuggestions:10,sidebar:{"/01.Java/":[{title:"Javaåºç¡",collapsable:!0,children:[["01.Javaåºç¡/01.Javaéåæ¡æ¶.md","Javaéåæ¡æ¶","/pages/8e69ed/"],["01.Javaåºç¡/02.HashMap.md","Hashmap","/pages/ce6e6c/"],["01.Javaåºç¡/03.Javaå·é¢.md","Javaå¸¸ç¨api","/pages/672ba8/"],["01.Javaåºç¡/05.æµæä½.md","æµæä½","/pages/4b289e/"],["01.Javaåºç¡/06.çº¿ç¨æ± .md","çº¿ç¨æ± ","/pages/d47d28/"]]},{title:"ä¸­é´ä»¶",collapsable:!0,children:[["02.ä¸­é´ä»¶/00.æ¶æ¯éå.md","æ¶æ¯éå","/pages/9749fb/"],["02.ä¸­é´ä»¶/01.ZooKeeper.md","ZooKeeper","/pages/467ce0/"],["02.ä¸­é´ä»¶/02.Kafka.md","Kafka","/pages/11f4c8/"],["02.ä¸­é´ä»¶/03.RabbitMQ.md","RabbitMQ","/pages/2ca146/"]]},{title:"å¾®æå¡",collapsable:!0,children:[["03.å¾®æå¡/01.Sentinel.md","éæµ","/pages/526796/"],["03.å¾®æå¡/02.Seata.md","åå¸å¼äºå¡","/pages/7c79c1/"],["03.å¾®æå¡/03.Redis.md","åå¸å¼ç¼å­","/pages/566e96/"],["03.å¾®æå¡/04.Canal.md","ç¼å­åæ­¥","/pages/663ad9/"],["03.å¾®æå¡/05.å¸¸è§é¢è¯é¢.md","å¸¸è§é¢è¯é¢","/pages/78eabe/"]]},{title:"æ¡æ¶",collapsable:!0,children:[["04.æ¡æ¶/01.spring.md","Spring","/pages/23ed38/"],["04.æ¡æ¶/02.springboot.md","Spring Boot èªå¨è£é","/pages/071fc0/"],["04.æ¡æ¶/03.springbooteasy.md","Spring Boot èªå¨è£éç®æçè§£","/pages/418390/"],["04.æ¡æ¶/04.Controller.md","Controlleræ¥æ¶è¯·æ±æ¹å¼","/pages/4ce008/"],["04.æ¡æ¶/10.NIO.md","NIO","/pages/533bbc/"],["04.æ¡æ¶/11.Netty.md","Netty","/pages/20bd69/"]]},{title:"æ°æ®åº",collapsable:!0,children:[["05.æ°æ®åº/01.MySQLåºç¡.md","MySQLåºç¡","/pages/c7801c/"],["05.æ°æ®åº/02.MySQLæ¯æä¹è¿è¡ç.md","ãMySQLæ¯æä¹è¿è¡çã","/pages/e0425d/"],["05.æ°æ®åº/03.MySQLå½æ°.md","MySQLå½æ°","/pages/e60c12/"],["05.æ°æ®åº/04.MySQLæå¿ç¹.md","MySQLæå¿ç¹","/pages/c38f55/"],["05.æ°æ®åº/07.MySQLé.md","é","/pages/8d8ba3/"]]},{title:"é¡¹ç®è®°å½",collapsable:!0,children:[["06.é¡¹ç®è®°å½/01.statistics.md","å¨Ubuntuä¸ç»è®¡è½¯ä»¶ä½¿ç¨æ¶é¿","/pages/361d44/"],["06.é¡¹ç®è®°å½/10.nowcode.md","è®ºå","/pages/b95b70/"],["06.é¡¹ç®è®°å½/20.comunity.md","èªå¾ç¤¾åº","/pages/532cfb/"],["06.é¡¹ç®è®°å½/30.raft.md","åå¸å¼å±è¯Raftç®æ³","/pages/20b125/"],["06.é¡¹ç®è®°å½/40.doubao.md","çªèæ¶é´ç¤¾åº","/pages/b3c8f6/"]]},{title:"ç§æ",collapsable:!0,children:[["99.ç§æ/11.Redis.md","Redis","/pages/729f52/"],["99.ç§æ/12.framework.md","Spring","/pages/d76f3c/"],["99.ç§æ/13.cloud.md","å¾®æå¡","/pages/b0a322/"],["99.ç§æ/14.message.md","æ¶æ¯éå","/pages/a20dff/"],["99.ç§æ/15.juc.md","å¹¶åç¼ç¨","/pages/15ac4e/"],["99.ç§æ/16.jvm.md","Java èææº","/pages/f1bf72/"],["99.ç§æ/17.è®¾è®¡æ¨¡å¼.md","è®¾è®¡æ¨¡å¼","/pages/33bbc8/"],["99.ç§æ/18.ä¸äºåºæ¯.md","åºæ¯è®¾è®¡","/pages/46dd43/"],["99.ç§æ/33.test.md","test","/pages/545d12/"],["99.ç§æ/99.ä¸äºçé®.md","çé®","/pages/69d257/"]]}],catalogue:{},"/02.ç§ç /":[{title:"å®¤åå®æ¶ä¸ç»´éå»º",collapsable:!0,children:[["01.å®¤åå®æ¶ä¸ç»´éå»º/01.kinectFusion.md","kinectFusion","/pages/aa9650/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/02.EFè®ºæçè§£.md","EFè®ºæçè§£","/pages/c6a110/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/03.Surfel Meshing .md","Surfel Meshing","/pages/7bbbf3/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/06.BAD_SLAM.md","BAD_SLAM","/pages/24a5f4/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/07.FlashFusionè®ºæéè¯».md","FlashFusionè®ºæéè¯»","/pages/a2be9b/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/08.intrinsic3dè®ºæéè¯».md","intrinsic3dè®ºæéè¯»","/pages/c06e38/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/09.factor.md","factor","/pages/0af3d9/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/10.CLD_MVS.md","CLD_MVS","/pages/3a8868/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/11.TextureMe.md","TextureMe","/pages/49bbb9/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/13.orbslamè®ºæéè¯»ç¬è®°.md","orbslamè®ºæéè¯»ç¬è®°","/pages/ed705b/"],["01.å®¤åå®æ¶ä¸ç»´éå»º/14.ORB_SLAM2åçãä»£ç æµç¨ææ¡£.md","ORB_SLAM2åçãä»£ç æµç¨ææ¡£","/pages/cc3afe/"]]},{title:"å¤§è§æ¨¡ä¸ç»´éå»º",collapsable:!0,children:[["02.å¤§è§æ¨¡ä¸ç»´éå»º/01.MVS.md","MVS","/pages/98600a/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/02.åºäºä¿¡æ¯è®ºèªä¸»æ¢ç´¢.md","åºäºä¿¡æ¯è®ºèªä¸»æ¢ç´¢","/pages/8487b5/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/03.TheiaSfMä»£ç éè¯».md","TheiaSfMä»£ç éè¯»","/pages/299ec4/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/04.åºäºæç¥¨çå¢ééå»º.md","åºäºæç¥¨çå¢ééå»º","/pages/9af622/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/05.å¤ç¹å»é¤.md","å¤ç¹å»é¤","/pages/7453b3/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/06.å­¦ä¹ opengl.md","å­¦ä¹ opengl","/pages/cc38e6/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/07.å¯éå¹é.md","å¯éå¹é","/pages/8a4bae/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/08.é·è¾¾å¢å¼ºsfm.md","é·è¾¾å¢å¼ºsfm","/pages/270f1d/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/09.è®ºæéè®°.md","è®ºæéè®°","/pages/4a64fa/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/10.èªææè¿°.md","èªææè¿°","/pages/fc7936/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/11.theiaSfMä»£ç .md","theiaSfMä»£ç ","/pages/169752/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/12.ææéè¯»è®ºæ1.md","An Efficient and Robust Hybrid SfM Method for Large-Scale Scenes","/pages/24dfc7/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/13. ææéè¯»è®ºæ2.md","A Simple and Efficient Merge of Two Sparse 3D Models with Overlapped Images","/pages/7387ee/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/14. ææéè¯»è®ºæ3.md","EC-SfM, Efficient Covisibility-based Structure-from-Motion for Both Sequential and Unordered Images","/pages/f9d90b/"],["02.å¤§è§æ¨¡ä¸ç»´éå»º/15. ææéè¯»è®ºæ4.md","Graph-based parallel large scale structure from motion","/pages/696f8f/"]]},{title:"æçå·¥ä½",collapsable:!0,children:[["03.æçå·¥ä½/01.one.md","hierarchical","/pages/c06b1c/"],["03.æçå·¥ä½/02.code.md","ä»£ç åæ","/pages/3d257e/"],["03.æçå·¥ä½/03.å®ç°æµç¨.md","å®ç°æµç¨","/pages/0c2f17/"],["03.æçå·¥ä½/10.hybrid.md","Hybrid SfM","/pages/8f3964/"],["03.æçå·¥ä½/15.å®éª.md","å®éªé¨å","/pages/a2edb6/"],["03.æçå·¥ä½/20.EC.md","EC-SfM","/pages/f12e80/"],["03.æçå·¥ä½/30.two.md","KeyFrame","/pages/03900a/"],["03.æçå·¥ä½/32.keyfram2.md","keyframe2","/pages/bcf6cd/"],["03.æçå·¥ä½/35.colmapå¢é.md","colmapå¢éä»£ç ","/pages/0a2951/"],["03.æçå·¥ä½/36.keyframe3.md","Keyframe3","/pages/a0d165/"],["03.æçå·¥ä½/38.è¦é¾.md","ä¸æ¶è¦é¾","/pages/149c7c/"],["03.æçå·¥ä½/66.sci.md","ä¸äºæå","/pages/c8b13e/"]]}],"/03.çæ´»/":[["01.éç¬.md","è¯»ä¹¦éç¬","/pages/db78e2"],["02.è½¯ææ¯èµ.md","è½¯æ","/pages/a7f8a5/"],["05.é¥è¿çæä¸ä¸».md","ãé¥è¿çæä¸ä¸»ã","/pages/7cc66a/"],["06.game.md","ä¸ç¾¤æ¸¸æå¤©æ","/pages/76e940/"],["07.ç¨åºåçææªåçº§.md","ç¨åºåçææªåçº§","/pages/f5ba2a/"],["08.ææ¯äººçæ±èæå.md","ææ¯äººçæ±èæå","/pages/c1356f/"],["09.ç±æè§åè¿.md","ç±æè§åè¿","/pages/4dc62f/"]]},updateBar:{showToArticle:!0,moreArticle:"/archives"},pageStyle:"line",category:!1,tag:!1,archive:!0,author:{name:"Wenli",href:"https://github.com/lzxiaohuihui"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:895827938@qq.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/lzxiaohuihui"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://music.163.com/#/playlist?id=782007907"}]},footer:{createYear:2023,copyrightInfo:"Evan Xu | MIT License"},htmlModules:{}}};var Sl=t(96),Tl=t(97),Al=t(12);var Il={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(Al.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(Al.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(Al.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let r=0,a=n.length;r<a;r++){const{frontmatter:{categories:a,tags:i}}=n[r];"array"===Object(Al.n)(a)&&a.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(Al.n)(i)&&i.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Ht.component(Sl.default),Ht.component(Tl.default);function Cl(n){return n.toString().padStart(2,"0")}t(247);Ht.component("Badge",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,428))),Ht.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,96))),Ht.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,97)));t(248);var zl={name:"Demo",props:{collapse:{type:Boolean,default:!1}},data:()=>({showCode:!1,copied:!1,codeNavIndex:0,codeNavConfigs:[]}),created(){this.showCode=this.collapse,this.makeCodeNavConfigs()},methods:{toggleCode(){this.showCode=!this.showCode},copyCode(){const n=this.$el.querySelectorAll("pre")[this.codeNavIndex];n.setAttribute("contenteditable","true"),n.focus(),document.execCommand("selectAll",!1,null),this.copied=document.execCommand("copy"),n.removeAttribute("contenteditable"),setTimeout(()=>{this.copied=!1},1e3)},codeNavBtnHandler(n){this.codeNavIndex=n},makeCodeNavConfigs(){const n=this.$slots,e=[];let t;for(const r in n)0==r.indexOf("code-")&&(t=r.replace("code-","").replace(/^\S/,n=>n.toUpperCase()),e.push({title:t,slotName:r}));this.codeNavConfigs=e}}},Bl=(t(249),Object(xl.a)(zl,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"demo-wrap"},[e("div",{staticClass:"demo-nav"},[e("i",{staticClass:"demo-nav-btn",on:{click:n.toggleCode}},[e("svg",{staticClass:"icon",attrs:{t:"1572515960134",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1097",width:"20",height:"20"}},[e("path",{attrs:{d:"M888 64H136q-30.016 0-51.008 20.992T64 136v752.992q0 28.992 20.992 50.496t51.008 21.504h752.992q28.992 0 50.496-21.504t21.504-50.496V136q0-30.016-21.504-51.008T888 64zM228.992 548.992q-15.008 0-25.504-10.496t-10.496-25.504 10.016-26.016l115.008-115.008-115.008-116.992q-10.016-11.008-10.016-25.504t10.496-24.992 25.504-10.496 24.992 10.016l140.992 142.016q10.016 11.008 10.016 26.016t-11.008 24.992l-140 140.992q-10.016 11.008-24.992 11.008z m389.024 0l-199.008-0.992q-15.008 0-25.504-10.496T383.008 512t10.496-25.504 25.504-10.496l199.008 0.992q15.008 0 25.504 10.496t10.496 25.504-11.008 25.504-24.992 10.496z","p-id":"1098"}})])]),n._v(" "),e("i",{class:n.showCode?"demo-icon-arrow active":"demo-icon-arrow"},[e("svg",{staticClass:"icon",attrs:{t:"1572587847226",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3297",width:"16",height:"16"}},[e("path",{attrs:{d:"M830.687738 603.071182c0 9.614985-3.933589 17.949814-11.799744 25.007557-7.867178 7.05672-17.222243 10.56052-28.065196 10.512425L232.716714 638.591163c-10.789741 0-20.144806-3.5038-28.064172-10.512425-7.919367-7.009647-11.852956-15.344476-11.799744-25.007557 0.053212-9.660011 3.986801-17.996886 11.799744-25.00551l279.05253-248.641917c7.867178-7.009647 17.22122-10.513448 28.065196-10.513448 10.842952 0 20.196994 3.504824 28.064172 10.513448l279.05253 248.641917C826.754149 585.074296 830.687738 593.411171 830.687738 603.071182z","p-id":"3298"}})])])]),n._v(" "),e("transition",{attrs:{name:"code-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:n.showCode,expression:"showCode"}],staticClass:"demo-code"},[e("div",{staticClass:"demo-code-nav"},n._l(n.codeNavConfigs,(function(t,r){return e("button",{key:r,class:["demo-code-btn",n.codeNavIndex===r?"active":""],on:{click:function(e){return n.codeNavBtnHandler(r)}}},[n._v(n._s(t.title))])})),0),n._v(" "),e("div",{staticClass:"demo-code-content"},[n._l(n.codeNavConfigs,(function(t,r){return e("div",{directives:[{name:"show",rawName:"v-show",value:n.codeNavIndex===r,expression:"codeNavIndex === index"}],key:r,staticClass:"demo-code-item"},[n._t(t.slotName)],2)})),n._v(" "),e("i",{staticClass:"demo-code-content-copy",on:{click:n.copyCode}},[e("svg",{staticClass:"icon",staticStyle:{fill:"#fff"},attrs:{t:"1572585974849",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1695",width:"20",height:"20"}},[e("path",{attrs:{d:"M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z","p-id":"1696"}})])]),n._v(" "),e("transition",{attrs:{name:"slide-fade"}},[n.copied?e("span",{staticClass:"demo-code-content-copied"},[n._v("Copied")]):n._e()])],2)])]),n._v(" "),e("div",{staticClass:"demo-main"},[n.$slots.demo?e("div",{staticClass:"demo-component-wrap"},[n._t("demo")],2):n._e()])],1)}),[],!1,null,null,null).exports);function Rl(n){const e=document.documentElement.getBoundingClientRect(),t=n.getBoundingClientRect();return{x:t.left-e.left,y:t.top-e.top}}var Ml=[({Vue:n,options:e,router:t,siteData:r,isServer:a})=>{a||t.afterEach(()=>{var n;n=function(){setTimeout((function(){void 0===window._AdBlockInit&&function(){const n=document.getElementsByClassName("wwads-cn"),e=document.querySelector(".wwads-content");n[0]&&!e&&(n[0].innerHTML="<style>.wwads-horizontal,.wwads-vertical{background-color:#f4f8fa;padding:5px;min-height:120px;margin-top:20px;box-sizing:border-box;border-radius:3px;font-family:sans-serif;display:flex;min-width:150px;position:relative;overflow:hidden;}.wwads-horizontal{flex-wrap:wrap;justify-content:center}.wwads-vertical{flex-direction:column;align-items:center;padding-bottom:32px}.wwads-horizontal a,.wwads-vertical a{text-decoration:none}.wwads-horizontal .wwads-img,.wwads-vertical .wwads-img{margin:5px}.wwads-horizontal .wwads-content,.wwads-vertical .wwads-content{margin:5px}.wwads-horizontal .wwads-content{flex:130px}.wwads-vertical .wwads-content{margin-top:10px}.wwads-horizontal .wwads-text,.wwads-content .wwads-text{font-size:14px;line-height:1.4;color:#0e1011;-webkit-font-smoothing:antialiased}.wwads-horizontal .wwads-poweredby,.wwads-vertical .wwads-poweredby{display:block;font-size:11px;color:#a6b7bf;margin-top:1em}.wwads-vertical .wwads-poweredby{position:absolute;left:10px;bottom:10px}.wwads-horizontal .wwads-poweredby span,.wwads-vertical .wwads-poweredby span{transition:all 0.2s ease-in-out;margin-left:-1em}.wwads-horizontal .wwads-poweredby span:first-child,.wwads-vertical .wwads-poweredby span:first-child{opacity:0}.wwads-horizontal:hover .wwads-poweredby span,.wwads-vertical:hover .wwads-poweredby span{opacity:1;margin-left:0}.wwads-horizontal .wwads-hide,.wwads-vertical .wwads-hide{position:absolute;right:-23px;bottom:-23px;width:46px;height:46px;border-radius:23px;transition:all 0.3s ease-in-out;cursor:pointer;}.wwads-horizontal .wwads-hide:hover,.wwads-vertical .wwads-hide:hover{background:rgb(0 0 0 /0.05)}.wwads-horizontal .wwads-hide svg,.wwads-vertical .wwads-hide svg{position:absolute;left:10px;top:10px;fill:#a6b7bf}.wwads-horizontal .wwads-hide:hover svg,.wwads-vertical .wwads-hide:hover svg{fill:#3E4546}</style><a href='https://wwads.cn/page/whitelist-wwads' class='wwads-img' target='_blank' rel='nofollow'><img src='https://fastly.jsdelivr.net/gh/xugaoyi/image_store@master/blog/wwads.2a3pidhlh4ys.webp' width='130'></a><div class='wwads-content'><a href='https://wwads.cn/page/whitelist-wwads' class='wwads-text' target='_blank' rel='nofollow'>ä¸ºäºæ¬ç«çé¿æè¿è¥ï¼è¯·å°æä»¬çç½ç«å å¥å¹¿åæ¦æªå¨çç½ååï¼æè°¢æ¨çæ¯æï¼<span style='color: #11a8cd'>å¦ä½æ·»å ç½åå?</span></a><a href='https://wwads.cn/page/end-user-privacy' class='wwads-poweredby' title='ä¸ç»´å¹¿å ï½ è®©å¹¿åæ´ä¼éï¼ä¸æç¨' target='_blank'><span>å¹¿å</span></a></div><a class='wwads-hide' onclick='parentNode.remove()' title='éèå¹¿å'><svg xmlns='http://www.w3.org/2000/svg' width='6' height='7'><path d='M.879.672L3 2.793 5.121.672a.5.5 0 11.707.707L3.708 3.5l2.12 2.121a.5.5 0 11-.707.707l-2.12-2.12-2.122 2.12a.5.5 0 11-.707-.707l2.121-2.12L.172 1.378A.5.5 0 01.879.672z'></path></svg></a>")}()}),3e3)},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(n,1):document.addEventListener("DOMContentLoaded",n),setTimeout(()=>{const n=document.querySelector(".page-wwads");if(!n)return;const e=n.querySelector(".wwads-hide");e&&(e.onclick=()=>{n.style.display="none"}),"none"===n.style.display&&(n.style.display="flex")},900)})},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${Cl(n.getUTCMonth()+1)}-${Cl(n.getUTCDate())} ${Cl(n.getUTCHours())}:${Cl(n.getUTCMinutes())}:${Cl(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(Il)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},({Vue:n})=>{n.component("RecoDemo",Bl)},({Vue:n,router:e})=>{e.options.scrollBehavior=(e,t,r)=>{if(r)return window.scrollTo({top:r.y,behavior:"smooth"});if(!e.hash)return window.scrollTo({top:0,behavior:"smooth"});{if(n.$vuepress.$get("disableScrollBehavior"))return;const t=e.hash.slice(1),r=document.getElementById(t)||document.querySelector(`[name='${t}']`);if(r)return window.scrollTo({top:Rl(r).y,behavior:"smooth"})}}},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?01293bffa6c3962016c08ba685c79d78";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))}],Ll=[];class Pl extends class{constructor(){this.store=new Ht({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Ht.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(Pl.prototype,{getPageAsyncComponent:os,getLayoutAsyncComponent:ss,getAsyncComponent:ls,getVueComponent:cs});var Ol={install(n){const e=new Pl;n.$vuepress=e,n.prototype.$vuepress=e}};function Dl(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var jl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return us("pageKey",e),Ht.component(e)||Ht.component(e,os(e)),Ht.component(e)?n(e):n("")}},Nl={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Fl={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},ql=(t(250),t(251),Object(xl.a)(Fl,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Kl={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Ht.config.productionTip=!1,Ht.use($o),Ht.use(Ol),Ht.mixin(function(n,e,t=Ht){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),a=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),i={};return Object.keys(a).reduce((n,e)=>(e.startsWith("$")&&(n[e]=a[e].get),n),i),{computed:i}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},El)),Ht.component("Content",jl),Ht.component("ContentSlotsDistributor",Nl),Ht.component("OutboundLink",ql),Ht.component("ClientOnly",Kl),Ht.component("Layout",ss("Layout")),Ht.component("NotFound",ss("NotFound")),Ht.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.2",hash:"ed3b802"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:El.routerBase||El.base,t=new $o({base:e,mode:"history",fallback:!1,routes:wl,scrollBehavior:(n,e,t)=>t||(n.hash?!Ht.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Dl(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Dl(n,t)?r(t):r()}else r();else{const t=e.path+"/",a=e.path+".html";Dl(n,a)?r(a):Dl(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(Ml.filter(n=>"function"==typeof n).map(e=>e({Vue:Ht,options:r,router:t,siteData:El,isServer:n})))}catch(n){console.error(n)}return{app:new Ht(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Ll.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);